(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const ms=!1,ps=(e,t)=>e===t,ue=Symbol("solid-proxy"),Xr=typeof Proxy=="function",yn=Symbol("solid-track"),Ot={equals:ps};let Wr=ti;const Ee=1,Lt=2,Kr={owned:null,cleanups:null,context:null,owner:null};var F=null;let ln=null,ws=null,U=null,G=null,_e=null,en=0;function ot(e,t){const n=U,r=F,i=e.length===0,o=t===void 0?r:t,s=i?Kr:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=i?e:()=>e(()=>se(()=>ct(s)));F=s,U=null;try{return Ne(a,!0)}finally{U=n,F=r}}function M(e,t){t=t?Object.assign({},Ot,t):Ot;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),ei(n,i));return[Ir.bind(n),r]}function P(e,t,n){const r=Bn(e,t,!1,Ee);yt(r)}function I(e,t,n){Wr=xs;const r=Bn(e,t,!1,Ee);r.user=!0,_e?_e.push(r):yt(r)}function z(e,t,n){n=n?Object.assign({},Ot,n):Ot;const r=Bn(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,yt(r),Ir.bind(r)}function Gr(e){return Ne(e,!1)}function se(e){if(U===null)return e();const t=U;U=null;try{return e()}finally{U=t}}function Ln(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return s=>{let a;if(r){a=Array(e.length);for(let c=0;c<e.length;c++)a[c]=e[c]()}else a=e();if(o)return o=!1,s;const l=se(()=>t(a,i,s));return i=a,l}}function Dn(e){I(()=>se(e))}function fe(e){return F===null||(F.cleanups===null?F.cleanups=[e]:F.cleanups.push(e)),e}function bn(){return U}function Jr(){return F}function Zr(e,t){const n=F,r=U;F=e,U=null;try{return Ne(t,!0)}catch(i){Un(i)}finally{F=n,U=r}}function ys(e){const t=U,n=F;return Promise.resolve().then(()=>{U=t,F=n;let r;return Ne(e,!1),U=F=null,r?r.done:void 0})}const[dh,hh]=M(!1);function tn(e,t){const n=Symbol("context");return{id:n,Provider:$s(n),defaultValue:e}}function wt(e){let t;return F&&F.context&&(t=F.context[e.id])!==void 0?t:e.defaultValue}function Fn(e){const t=z(e),n=z(()=>vn(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Ir(){if(this.sources&&this.state)if(this.state===Ee)yt(this);else{const e=G;G=null,Ne(()=>Ft(this),!1),G=e}if(U){const e=this.observers?this.observers.length:0;U.sources?(U.sources.push(this),U.sourceSlots.push(e)):(U.sources=[this],U.sourceSlots=[e]),this.observers?(this.observers.push(U),this.observerSlots.push(U.sources.length-1)):(this.observers=[U],this.observerSlots=[U.sources.length-1])}return this.value}function ei(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Ne(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],s=ln&&ln.running;s&&ln.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?G.push(o):_e.push(o),o.observers&&ni(o)),s||(o.state=Ee)}if(G.length>1e6)throw G=[],new Error},!1)),t}function yt(e){if(!e.fn)return;ct(e);const t=en;bs(e,e.value,t)}function bs(e,t,n){let r;const i=F,o=U;U=F=e;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=Ee,e.owned&&e.owned.forEach(ct),e.owned=null),e.updatedAt=n+1,Un(s)}finally{U=o,F=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ei(e,r):e.value=r,e.updatedAt=n)}function Bn(e,t,n,r=Ee,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:F,context:F?F.context:null,pure:n};return F===null||F!==Kr&&(F.owned?F.owned.push(o):F.owned=[o]),o}function Dt(e){if(e.state===0)return;if(e.state===Lt)return Ft(e);if(e.suspense&&se(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<en);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Ee)yt(e);else if(e.state===Lt){const r=G;G=null,Ne(()=>Ft(e,t[0]),!1),G=r}}function Ne(e,t){if(G)return e();let n=!1;t||(G=[]),_e?n=!0:_e=[],en++;try{const r=e();return vs(n),r}catch(r){n||(_e=null),G=null,Un(r)}}function vs(e){if(G&&(ti(G),G=null),e)return;const t=_e;_e=null,t.length&&Ne(()=>Wr(t),!1)}function ti(e){for(let t=0;t<e.length;t++)Dt(e[t])}function xs(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Dt(r)}for(t=0;t<n;t++)Dt(e[t])}function Ft(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===Ee?r!==t&&(!r.updatedAt||r.updatedAt<en)&&Dt(r):i===Lt&&Ft(r,t)}}}function ni(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Lt,n.pure?G.push(n):_e.push(n),n.observers&&ni(n))}}function ct(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ct(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ct(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function _s(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Un(e,t=F){throw _s(e)}function vn(e){if(typeof e=="function"&&!e.length)return vn(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=vn(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function $s(e,t){return function(r){let i;return P(()=>i=se(()=>(F.context={...F.context,[e]:r.value},Fn(()=>r.children))),void 0),i}}const ks=Symbol("fallback");function lr(e){for(let t=0;t<e.length;t++)e[t]()}function Ss(e,t,n={}){let r=[],i=[],o=[],s=0,a=t.length>1?[]:null;return fe(()=>lr(o)),()=>{let l=e()||[],c=l.length,u,d;return l[yn],se(()=>{let h,g,m,w,v,b,_,C,S;if(c===0)s!==0&&(lr(o),o=[],r=[],i=[],s=0,a&&(a=[])),n.fallback&&(r=[ks],i[0]=ot(R=>(o[0]=R,n.fallback())),s=1);else if(s===0){for(i=new Array(c),d=0;d<c;d++)r[d]=l[d],i[d]=ot(f);s=c}else{for(m=new Array(c),w=new Array(c),a&&(v=new Array(c)),b=0,_=Math.min(s,c);b<_&&r[b]===l[b];b++);for(_=s-1,C=c-1;_>=b&&C>=b&&r[_]===l[C];_--,C--)m[C]=i[_],w[C]=o[_],a&&(v[C]=a[_]);for(h=new Map,g=new Array(C+1),d=C;d>=b;d--)S=l[d],u=h.get(S),g[d]=u===void 0?-1:u,h.set(S,d);for(u=b;u<=_;u++)S=r[u],d=h.get(S),d!==void 0&&d!==-1?(m[d]=i[u],w[d]=o[u],a&&(v[d]=a[u]),d=g[d],h.set(S,d)):o[u]();for(d=b;d<c;d++)d in m?(i[d]=m[d],o[d]=w[d],a&&(a[d]=v[d],a[d](d))):i[d]=ot(f);i=i.slice(0,s=c),r=l.slice(0)}return i});function f(h){if(o[d]=h,a){const[g,m]=M(d);return a[d]=m,t(l[d],g)}return t(l[d])}}}function A(e,t){return se(()=>e(t||{}))}function St(){return!0}const xn={get(e,t,n){return t===ue?n:e.get(t)},has(e,t){return t===ue?!0:e.has(t)},set:St,deleteProperty:St,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:St,deleteProperty:St}},ownKeys(e){return e.keys()}};function cn(e){return(e=typeof e=="function"?e():e)?e:{}}function Cs(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function ne(...e){let t=!1;for(let s=0;s<e.length;s++){const a=e[s];t=t||!!a&&ue in a,e[s]=typeof a=="function"?(t=!0,z(a)):a}if(Xr&&t)return new Proxy({get(s){for(let a=e.length-1;a>=0;a--){const l=cn(e[a])[s];if(l!==void 0)return l}},has(s){for(let a=e.length-1;a>=0;a--)if(s in cn(e[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<e.length;a++)s.push(...Object.keys(cn(e[a])));return[...new Set(s)]}},xn);const n={},r=Object.create(null);for(let s=e.length-1;s>=0;s--){const a=e[s];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,u);if(!r[u])r[u]=d.get?{enumerable:!0,configurable:!0,get:Cs.bind(n[u]=[d.get.bind(a)])}:d.value!==void 0?d:void 0;else{const f=n[u];f&&(d.get?f.push(d.get.bind(a)):d.value!==void 0&&f.push(()=>d.value))}}}const i={},o=Object.keys(r);for(let s=o.length-1;s>=0;s--){const a=o[s],l=r[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function ri(e,...t){if(Xr&&ue in e){const i=new Set(t.length>1?t.flat():t[0]),o=t.map(s=>new Proxy({get(a){return s.includes(a)?e[a]:void 0},has(a){return s.includes(a)&&a in e},keys(){return s.filter(a=>a in e)}},xn));return o.push(new Proxy({get(s){return i.has(s)?void 0:e[s]},has(s){return i.has(s)?!1:s in e},keys(){return Object.keys(e).filter(s=>!i.has(s))}},xn)),o}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,i),s=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,l=0;for(const c of t)c.includes(i)&&(a=!0,s?r[l][i]=o.value:Object.defineProperty(r[l],i,o)),++l;a||(s?n[i]=o.value:Object.defineProperty(n,i,o))}return[...r,n]}let As=0;function Ps(){return`cl-${As++}`}const Es=e=>`Stale read from <${e}>.`;function ii(e){const t="fallback"in e&&{fallback:()=>e.fallback};return z(Ss(()=>e.each,e.children,t||void 0))}function ce(e){const t=e.keyed,n=z(()=>e.when,void 0,void 0),r=t?n:z(n,void 0,{equals:(i,o)=>!i==!o});return z(()=>{const i=r();if(i){const o=e.children;return typeof o=="function"&&o.length>0?se(()=>o(t?i:()=>{if(!se(r))throw Es("Show");return n()})):o}return e.fallback},void 0,void 0)}const Ns=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],Rs=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...Ns]),Ms=new Set(["innerHTML","textContent","innerText","children"]),qs=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),js=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Ts(e,t){const n=js[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Os=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ls={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},K=e=>z(()=>e());function Ds(e,t,n){let r=n.length,i=t.length,o=r,s=0,a=0,l=t[i-1].nextSibling,c=null;for(;s<i||a<o;){if(t[s]===n[a]){s++,a++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===s){const u=o<r?a?n[a-1].nextSibling:n[o-a]:l;for(;a<o;)e.insertBefore(n[a++],u)}else if(o===a)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[o-1]&&n[a]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[a++],t[s++].nextSibling),e.insertBefore(n[--o],u),t[i]=n[o]}else{if(!c){c=new Map;let d=a;for(;d<o;)c.set(n[d],d++)}const u=c.get(t[s]);if(u!=null)if(a<u&&u<o){let d=s,f=1,h;for(;++d<i&&d<o&&!((h=c.get(t[d]))==null||h!==u+f);)f++;if(f>u-a){const g=t[s];for(;a<u;)e.insertBefore(n[a++],g)}else e.replaceChild(n[a++],t[s++])}else s++;else t[s++].remove()}}}const cr="_$DX_DELEGATE";function Fs(e,t,n,r={}){let i;return ot(o=>{i=o,t===document?e():p(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function N(e,t,n,r){let i;const o=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},s=()=>(i||(i=o())).cloneNode(!0);return s.cloneNode=s,s}function ee(e,t=window.document){const n=t[cr]||(t[cr]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Hs))}}function j(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Bs(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function Us(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function ae(e,t){t==null?e.removeAttribute("class"):e.className=t}function Ae(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n,typeof n!="function"&&n)}function zs(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||t[a]||(fr(e,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){const a=r[o],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(fr(e,a,!0),n[a]=l)}return n}function nn(e,t,n){if(!t)return n?j(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function ur(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function Ce(e,t={},n,r){const i={};return r||P(()=>i.children=ft(e,t.children,i.children)),P(()=>typeof t.ref=="function"&&ut(t.ref,e)),P(()=>Ys(e,t,n,!0,i,!0)),i}function ut(e,t,n){return se(()=>e(t,n))}function p(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return ft(e,t,r,n);P(i=>ft(e,t(),i,n),r)}function Ys(e,t,n,r,i={},o=!1){t||(t={});for(const s in i)if(!(s in t)){if(s==="children")continue;i[s]=dr(e,s,null,i[s],n,o,t)}for(const s in t){if(s==="children")continue;const a=t[s];i[s]=dr(e,s,a,i[s],n,o,t)}}function Vs(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function fr(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function dr(e,t,n,r,i,o,s){let a,l,c,u,d;if(t==="style")return nn(e,n,r);if(t==="classList")return zs(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);r&&e.removeEventListener(f,r,typeof r!="function"&&r),n&&e.addEventListener(f,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);r&&e.removeEventListener(f,r,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),h=Os.has(f);if(!h&&r){const g=Array.isArray(r)?r[0]:r;e.removeEventListener(f,g)}(h||n)&&(Ae(e,f,n,h),h&&ee([f]))}else if(t.slice(0,5)==="attr:")j(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")Us(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(c=Ms.has(t))||!i&&((u=Ts(t,e.tagName))||(l=Rs.has(t)))||(a=e.nodeName.includes("-")||"is"in s))d&&(t=t.slice(5),l=!0),t==="class"||t==="className"?ae(e,n):a&&!l&&!c?e[Vs(t)]=n:e[u||t]=n;else{const f=i&&t.indexOf(":")>-1&&Ls[t.split(":")[0]];f?Bs(e,f,t,n):j(e,qs[t]||t,n)}return n}function Hs(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,o=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),s=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},a=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();o(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!s());c++){if(t._$host){t=t._$host,a();break}if(t.parentNode===i)break}}else a();o(r)}function ft(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(s){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=Ue(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=Ue(e,n,r);else{if(o==="function")return P(()=>{let a=t();for(;typeof a=="function";)a=a();n=ft(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(_n(a,t,n,i))return P(()=>n=ft(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=Ue(e,n,r),s)return n}else l?n.length===0?hr(e,a,r):Ds(e,n,a):(n&&Ue(e),hr(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=Ue(e,n,r,t);Ue(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function _n(e,t,n,r){let i=!1;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=n&&n[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=_n(e,a,l)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=_n(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else e.push(a),i=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return i}function hr(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function Ue(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(i!==a){const l=a.parentNode===e;!o&&!s?l?e.replaceChild(i,a):e.insertBefore(i,n):l&&a.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const si=!1;function oi(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,o){if(n)return!(n=!1);const s={to:i,options:o,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const a of e)a.listener({...s,from:a.location,retry:l=>{l&&(n=!0),a.navigate(i,{...o,resolve:!1})}});return!s.defaultPrevented}return{subscribe:t,confirm:r}}let $n;function zn(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),$n=window.history.state._depth}zn();function Qs(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function Xs(e,t){let n=!1;return()=>{const r=$n;zn();const i=r==null?null:$n-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const Ws=/^(?:[a-z0-9]+:)?\/\//i,Ks=/^\/+|(\/)\/+$/g,ai="http://sr";function Oe(e,t=!1){const n=e.replace(Ks,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Nt(e,t,n){if(Ws.test(t))return;const r=Oe(e),i=n&&Oe(n);let o="";return!i||t.startsWith("/")?o=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?o=r+i:o=i,(o||"/")+Oe(t,!o)}function Gs(e,t){if(e==null)throw new Error(t);return e}function Js(e,t){return Oe(e).replace(/\/*(\*.*)?$/g,"")+Oe(t)}function li(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function Zs(e,t,n){const[r,i]=e.split("/*",2),o=r.split("/").filter(Boolean),s=o.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-s;if(c<0||c>0&&i===void 0&&!t)return null;const u={path:s?"":"/",params:{}},d=f=>n===void 0?void 0:n[f];for(let f=0;f<s;f++){const h=o[f],g=h[0]===":",m=g?l[f]:l[f].toLowerCase(),w=g?h.slice(1):h.toLowerCase();if(g&&un(m,d(w)))u.params[w]=m;else if(g||!un(m,w))return null;u.path+=`/${m}`}if(i){const f=c?l.slice(-c).join("/"):"";if(un(f,d(i)))u.params[i]=f;else return null}return u}}function un(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Is(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,o)=>i+(o.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function ci(e){const t=new Map,n=Jr();return new Proxy({},{get(r,i){return t.has(i)||Zr(n,()=>t.set(i,z(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function ui(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return ui(r).reduce((o,s)=>[...o,...i.map(a=>a+s)],[])}const eo=100,fi=tn(),Yn=tn(),bt=()=>Gs(wt(fi),"<A> and 'use' router primitives can be only used inside a Route."),to=()=>wt(Yn)||bt().base,no=e=>{const t=to();return z(()=>t.resolvePath(e()))},ro=e=>{const t=bt();return z(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},vt=()=>bt().navigatorFactory(),io=()=>bt().location,di=()=>bt().params;function so(e,t=""){const{component:n,preload:r,load:i,children:o,info:s}=e,a=!o||Array.isArray(o)&&!o.length,l={key:e,component:n,preload:r||i,info:s};return hi(e.path).reduce((c,u)=>{for(const d of ui(u)){const f=Js(t,d);let h=a?f:f.split("/*",1)[0];h=h.split("/").map(g=>g.startsWith(":")||g.startsWith("*")?g:encodeURIComponent(g)).join("/"),c.push({...l,originalPath:u,pattern:h,matcher:Zs(h,!a,e.matchFilters)})}return c},[])}function oo(e,t=0){return{routes:e,score:Is(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const o=e[i],s=o.matcher(n);if(!s)return null;r.unshift({...s,route:o})}return r}}}function hi(e){return Array.isArray(e)?e:[e]}function gi(e,t="",n=[],r=[]){const i=hi(e);for(let o=0,s=i.length;o<s;o++){const a=i[o];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=so(a,t);for(const c of l){n.push(c);const u=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!u)gi(a.children,c.pattern,n,r);else{const d=oo([...n],r.length);r.push(d)}n.pop()}}}return n.length?r:r.sort((o,s)=>s.score-o.score)}function fn(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function ao(e,t,n){const r=new URL(ai),i=z(u=>{const d=e();try{return new URL(d,r)}catch{return console.error(`Invalid path ${d}`),u}},r,{equals:(u,d)=>u.href===d.href}),o=z(()=>i().pathname),s=z(()=>i().search,!0),a=z(()=>i().hash),l=()=>"",c=Ln(s,()=>li(i()));return{get pathname(){return o()},get search(){return s()},get hash(){return a()},get state(){return t()},get key(){return l()},query:n?n(c):ci(c)}}let qe;function lo(){return qe}function co(e,t,n,r={}){const{signal:[i,o],utils:s={}}=e,a=s.parsePath||(q=>q),l=s.renderPath||(q=>q),c=s.beforeLeave||oi(),u=Nt("",r.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!i().value&&o({value:u,replace:!0,scroll:!1});const[d,f]=M(!1);let h;const g=(q,O)=>{O.value===m()&&O.state===v()||(h===void 0&&f(!0),qe=q,h=O,ys(()=>{h===O&&(w(h.value),b(h.state),S[1](D=>D.filter(B=>B.pending)))}).finally(()=>{h===O&&Gr(()=>{qe=void 0,q==="navigate"&&k(h),f(!1),h=void 0})}))},[m,w]=M(i().value),[v,b]=M(i().state),_=ao(m,v,s.queryWrapper),C=[],S=M([]),R=z(()=>typeof r.transformUrl=="function"?fn(t(),r.transformUrl(_.pathname)):fn(t(),_.pathname)),L=()=>{const q=R(),O={};for(let D=0;D<q.length;D++)Object.assign(O,q[D].params);return O},$=s.paramsWrapper?s.paramsWrapper(L,t):ci(L),x={pattern:u,path:()=>u,outlet:()=>null,resolvePath(q){return Nt(u,q)}};return P(Ln(i,q=>g("native",q),{defer:!0})),{base:x,location:_,params:$,isRouting:d,renderPath:l,parsePath:a,navigatorFactory:y,matches:R,beforeLeave:c,preloadRoute:T,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:S};function E(q,O,D){se(()=>{if(typeof O=="number"){O&&(s.go?s.go(O):console.warn("Router integration does not support relative routing"));return}const B=!O||O[0]==="?",{replace:V,resolve:Y,scroll:Se,state:ie}={replace:!1,resolve:!B,scroll:!0,...D},ye=Y?q.resolvePath(O):Nt(B&&_.pathname||"",O);if(ye===void 0)throw new Error(`Path '${O}' is not a routable path`);if(C.length>=eo)throw new Error("Too many redirects");const Me=m();(ye!==Me||ie!==v())&&(si||c.confirm(ye,D)&&(C.push({value:Me,replace:V,scroll:Se,state:v()}),g("navigate",{value:ye,state:ie})))})}function y(q){return q=q||wt(Yn)||x,(O,D)=>E(q,O,D)}function k(q){const O=C[0];O&&(o({...q,replace:O.replace,scroll:O.scroll}),C.length=0)}function T(q,O){const D=fn(t(),q.pathname),B=qe;qe="preload";for(let V in D){const{route:Y,params:Se}=D[V];Y.component&&Y.component.preload&&Y.component.preload();const{preload:ie}=Y;O&&ie&&Zr(n(),()=>ie({params:Se,location:{pathname:q.pathname,search:q.search,hash:q.hash,query:li(q),state:null,key:""},intent:"preload"}))}qe=B}}function uo(e,t,n,r){const{base:i,location:o,params:s}=e,{pattern:a,component:l,preload:c}=r().route,u=z(()=>r().path);l&&l.preload&&l.preload();const d=c?c({params:s,location:o,intent:qe||"initial"}):void 0;return{parent:t,pattern:a,path:u,outlet:()=>l?A(l,{params:s,location:o,data:d,get children(){return n()}}):n(),resolvePath(h){return Nt(i.path(),h,u())}}}const fo=e=>t=>{const{base:n}=t,r=Fn(()=>t.children),i=z(()=>gi(r(),t.base||""));let o;const s=co(e,i,()=>o,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(s),A(fi.Provider,{value:s,get children(){return A(ho,{routerState:s,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[K(()=>(o=Jr())&&null),A(go,{routerState:s,get branches(){return i()}})]}})}})};function ho(e){const t=e.routerState.location,n=e.routerState.params,r=z(()=>e.preload&&se(()=>{e.preload({params:n,location:t,intent:lo()||"initial"})}));return A(ce,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>A(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function go(e){const t=[];let n;const r=z(Ln(e.routerState.matches,(i,o,s)=>{let a=o&&i.length===o.length;const l=[];for(let c=0,u=i.length;c<u;c++){const d=o&&o[c],f=i[c];s&&d&&f.route.key===d.route.key?l[c]=s[c]:(a=!1,t[c]&&t[c](),ot(h=>{t[c]=h,l[c]=uo(e.routerState,l[c-1]||e.routerState.base,gr(()=>r()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(i.length).forEach(c=>c()),s&&a?s:(n=l[0],l)}));return gr(()=>r()&&n)()}const gr=e=>()=>A(ce,{get when(){return e()},keyed:!0,children:t=>A(Yn.Provider,{value:t,get children(){return t.outlet()}})}),be=e=>{const t=Fn(()=>e.children);return ne(e,{get children(){return t()}})};function mo([e,t],n,r){return[e,r?i=>t(r(i)):t]}function po(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=mo(M(n(e.get()),{equals:(i,o)=>i.value===o.value&&i.state===o.state}),void 0,i=>(!t&&e.set(i),i));return e.init&&fe(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),fo({signal:r,create:e.create,utils:e.utils})}function wo(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function yo(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const bo=new Map;function vo(e=!0,t=!1,n="/_server",r){return i=>{const o=i.base.path(),s=i.navigatorFactory(i.base);let a,l;function c(m){return m.namespaceURI==="http://www.w3.org/2000/svg"}function u(m){if(m.defaultPrevented||m.button!==0||m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)return;const w=m.composedPath().find(R=>R instanceof Node&&R.nodeName.toUpperCase()==="A");if(!w||t&&!w.hasAttribute("link"))return;const v=c(w),b=v?w.href.baseVal:w.href;if((v?w.target.baseVal:w.target)||!b&&!w.hasAttribute("state"))return;const C=(w.getAttribute("rel")||"").split(/\s+/);if(w.hasAttribute("download")||C&&C.includes("external"))return;const S=v?new URL(b,document.baseURI):new URL(b);if(!(S.origin!==window.location.origin||o&&S.pathname&&!S.pathname.toLowerCase().startsWith(o.toLowerCase())))return[w,S]}function d(m){const w=u(m);if(!w)return;const[v,b]=w,_=i.parsePath(b.pathname+b.search+b.hash),C=v.getAttribute("state");m.preventDefault(),s(_,{resolve:!1,replace:v.hasAttribute("replace"),scroll:!v.hasAttribute("noscroll"),state:C?JSON.parse(C):void 0})}function f(m){const w=u(m);if(!w)return;const[v,b]=w;r&&(b.pathname=r(b.pathname)),i.preloadRoute(b,v.getAttribute("preload")!=="false")}function h(m){clearTimeout(a);const w=u(m);if(!w)return l=null;const[v,b]=w;l!==v&&(r&&(b.pathname=r(b.pathname)),a=setTimeout(()=>{i.preloadRoute(b,v.getAttribute("preload")!=="false"),l=v},20))}function g(m){if(m.defaultPrevented)return;let w=m.submitter&&m.submitter.hasAttribute("formaction")?m.submitter.getAttribute("formaction"):m.target.getAttribute("action");if(!w)return;if(!w.startsWith("https://action/")){const b=new URL(w,ai);if(w=i.parsePath(b.pathname+b.search),!w.startsWith(n))return}if(m.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const v=bo.get(w);if(v){m.preventDefault();const b=new FormData(m.target,m.submitter);v.call({r:i,f:m.target},m.target.enctype==="multipart/form-data"?b:new URLSearchParams(b))}}ee(["click","submit"]),document.addEventListener("click",d),e&&(document.addEventListener("mousemove",h,{passive:!0}),document.addEventListener("focusin",f,{passive:!0}),document.addEventListener("touchstart",f,{passive:!0})),document.addEventListener("submit",g),fe(()=>{document.removeEventListener("click",d),e&&(document.removeEventListener("mousemove",h),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",g)})}}function xo(e){const t=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,i=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:i}},n=oi();return po({get:t,set({value:r,replace:i,scroll:o,state:s}){i?window.history.replaceState(Qs(s),"",r):window.history.pushState(s,"",r),yo(decodeURIComponent(window.location.hash.slice(1)),o),zn()},init:r=>wo(window,"popstate",Xs(r,i=>{if(i&&i<0)return!n.confirm(i);{const o=t();return!n.confirm(o.value,{state:o.state})}})),create:vo(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}var _o=N("<a>");function je(e){e=ne({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=ri(e,["href","state","class","activeClass","inactiveClass","end"]),n=no(()=>e.href),r=ro(n),i=io(),o=z(()=>{const s=n();if(s===void 0)return[!1,!1];const a=Oe(s.split(/[?#]/,1)[0]).toLowerCase(),l=decodeURI(Oe(i.pathname).toLowerCase());return[e.end?a===l:l.startsWith(a+"/")||l===a,a===l]});return(()=>{var s=_o();return Ce(s,ne(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!o()[0],[e.activeClass]:o()[0],...t.classList}},link:"",get"aria-current"(){return o()[1]?"page":void 0}}),!1,!1),s})()}const kn=Symbol("store-raw"),Qe=Symbol("store-node"),xe=Symbol("store-has"),mi=Symbol("store-self");function pi(e){let t=e[ue];if(!t&&(Object.defineProperty(e,ue,{value:t=new Proxy(e,So)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const s=n[i];r[s].get&&Object.defineProperty(e,s,{enumerable:r[s].enumerable,get:r[s].get.bind(t)})}}return t}function Bt(e){let t;return e!=null&&typeof e=="object"&&(e[ue]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function dt(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[kn])return n;if(!Bt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,a=e.length;s<a;s++)i=e[s],(r=dt(i,t))!==i&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,c=s.length;l<c;l++)o=s[l],!a[o].get&&(i=e[o],(r=dt(i,t))!==i&&(e[o]=r))}return e}function Ut(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ht(e,t,n){if(e[t])return e[t];const[r,i]=M(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function $o(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===ue||t===Qe||(delete n.value,delete n.writable,n.get=()=>e[ue][t]),n}function wi(e){bn()&&ht(Ut(e,Qe),mi)()}function ko(e){return wi(e),Reflect.ownKeys(e)}const So={get(e,t,n){if(t===kn)return e;if(t===ue)return n;if(t===yn)return wi(e),n;const r=Ut(e,Qe),i=r[t];let o=i?i():e[t];if(t===Qe||t===xe||t==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,t);bn()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(o=ht(r,t,o)())}return Bt(o)?pi(o):o},has(e,t){return t===kn||t===ue||t===yn||t===Qe||t===xe||t==="__proto__"?!0:(bn()&&ht(Ut(e,xe),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:ko,getOwnPropertyDescriptor:$o};function zt(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?(delete e[t],e[xe]&&e[xe][t]&&i!==void 0&&e[xe][t].$()):(e[t]=n,e[xe]&&e[xe][t]&&i===void 0&&e[xe][t].$());let s=Ut(e,Qe),a;if((a=ht(s,t,i))&&a.$(()=>n),Array.isArray(e)&&e.length!==o){for(let l=e.length;l<o;l++)(a=s[l])&&a.$();(a=ht(s,"length",o))&&a.$(e.length)}(a=s[mi])&&a.$()}function yi(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];zt(e,i,t[i])}}function Co(e,t){if(typeof t=="function"&&(t=t(e)),t=dt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&zt(e,n,i)}zt(e,"length",r)}else yi(e,t)}function et(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const s=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)et(e,[r[l]].concat(t),n);return}else if(a&&s==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&et(e,[l].concat(t),n);return}else if(a&&s==="object"){const{from:l=0,to:c=e.length-1,by:u=1}=r;for(let d=l;d<=c;d+=u)et(e,[d].concat(t),n);return}else if(t.length>1){et(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=dt(o),r===void 0||Bt(i)&&Bt(o)&&!Array.isArray(o)?yi(i,o):zt(e,r,o))}function Ao(...[e,t]){const n=dt(e||{}),r=Array.isArray(n),i=pi(n);function o(...s){Gr(()=>{r&&s.length===1?Co(n,s[0]):et(n,s)})}return[i,o]}var Po=N('<main class="flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4"><div class="max-w-xl w-full text-center py-12"><h1 class="text-4xl font-bold mb-4 text-blue-700">CoRATES</h1><p class="text-lg text-gray-700 mb-6">Collaborative Research Appraisal Tool for Evidence Synthesis</p><p class="mb-8 text-gray-600">Interactively fill out and score AMSTAR 2 checklists for systematic reviews.<br>Works fully offline, saves your work automatically, and helps you visualize results.</p><div class="flex flex-col gap-4"></div><div class="mt-10 text-xs text-gray-400"><a href=https://github.com/InfinityBowman/amstar2-checklist-scoring-app target=_blank rel=noopener>View on GitHub');function Eo(){return(()=>{var e=Po(),t=e.firstChild,n=t.firstChild,r=n.nextSibling,i=r.nextSibling,o=i.nextSibling;return p(o,A(je,{href:"/dashboard",class:"bg-blue-600 text-white py-3 px-6 rounded shadow hover:bg-blue-700 transition",children:"Go to Dashboard"}),null),p(o,A(je,{href:"/signin",class:"bg-white border border-blue-600 text-blue-700 py-3 px-6 rounded shadow hover:bg-blue-50 transition",children:"Sign In"}),null),p(o,A(je,{href:"/signup",class:"bg-white border border-green-600 text-green-700 py-3 px-6 rounded shadow hover:bg-green-50 transition",children:"Create Account"}),null),e})()}const Q={q1:{text:"1. Did the research questions and inclusion criteria for the review include the components of PICO?",columns:[{label:"For Yes:",options:["Population","Intervention","Comparator group","Outcome"]},{label:"Optional (recommended):",options:["Timeframe for follow-up"]},{label:"",options:["Yes","No"]}]},q2:{text:"2. Did the report of the review contain an explicit statement that the review methods were established prior to the conduct of the review and did the report justify any significant deviations from the protocol?",columns:[{label:"For Partial Yes:",description:"The authors state that they had a written protocol or guide that included ALL the following:",options:["review question(s)","a search strategy","inclusion/exclusion criteria","risk of bias assessment"]},{label:"For Yes:",description:"As for Partial Yes, plus the protocol should be registered and should also have specified:",options:["a meta-analysis/synthesis plan, if appropriate, and","a plan for investigating causes of heterogeneity","a plan for investigating causes of heterogeneity"]},{label:"",description:"",options:["Yes","Partial Yes","No"]}]},q3:{text:"3. Did the review authors explain their selection of the study designs for inclusion in the review?",columns:[{label:"For Yes, the review should satisfy ONE of the following:",options:["Explanation for including only RCTs ","OR Explanation for including only NRSI","OR Explanation for including both RCTs and NRSI"]},{label:"",options:["Yes","No"]}]},q4:{text:"4. Did the review authors use a comprehensive literature search strategy? ",columns:[{label:"For Partial Yes (all the following):",options:["searched at least 2 databases (relevant to research question)","provided key word and/or search strategy","justified publication restrictions (e.g. language)"]},{label:"For Yes, should also have (all the following):",options:["searched the reference lists / bibliographies of included studies","searched trial/study registries","included/consulted content experts in the field","where relevant, searched for grey literature","conducted search within 24 months of completion of the review"]},{label:"",options:["Yes","Partial Yes","No"]}]},q5:{text:"5. Did the review authors perform study selection in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q6:{text:"6. Did the review authors perform data extraction in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q7:{text:"7. Did the review authors provide a list of excluded studies and justify the exclusions?",columns:[{label:"For Partial Yes:",options:["provided a list of all potentially relevant studies that were read in full-text form but excluded from the review"]},{label:"For Yes, must also have:",options:["Justified the exclusion from the review of each potentially relevant study"]},{label:"",options:["Yes","Partial Yes","No"]}]},q8:{text:"8. Did the review authors describe the included studies in adequate detail?",columns:[{label:"For Partial Yes (ALL the following):",options:["described populations","described interventions","described comparators","described outcomes","described research designs"]},{label:"For Yes, should also have ALL the following:",options:["described population in detail","described comparator in detail (including doses where relevant)","described study’s setting in detail","timeframe for follow-up"]},{label:"",options:["Yes","Partial Yes","No"]}]},q9:{text:"9. Did the review authors use a satisfactory technique for assessing the risk of bias (RoB) in individual studies that were included in the review?",subtitle:"RCTs",columns:[{label:"For Partial Yes, must have assessed RoB from",options:["unconcealed allocation, and","lack of blinding of patients and assessors when assessing outcomes (unnecessary for objective outcomes such as all-cause mortality)"]},{label:"For Yes, must also have assessed RoB from:",options:["allocation sequence that was not truly random, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",description:"",options:["Yes","Partial Yes","No"," Includes only NRSI"]}],subtitle2:"NRSI",columns2:[{label:"For Partial Yes, must have assessed RoB:",options:["from confounding, and","from selection bias"]},{label:"For Yes, must also have assessed RoB:",options:["methods used to ascertain exposures and outcomes, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",options:["Yes","Partial Yes","No","Includes only RCTs"]}]},q10:{text:"10. Did the review authors report on the sources of funding for the studies included in the review?",columns:[{label:"For Yes:",options:["Must have reported on the sources of funding for individual studies included in the review. Note: Reporting that the reviewers looked for this information but it was not reported by study authors also qualifies"]},{label:"",options:["Yes","No"]}]},q11:{text:"11. If meta-analysis was performed did the review authors use appropriate methods for statistical combination of results?",subtitle:"RCTs",columns:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results and adjusted for heterogeneity if present.","AND investigated the causes of any heterogeneity"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}],subtitle2:"NRSI",columns2:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results, adjusting for heterogeneity if present","AND they statistically combined effect estimates from NRSI that were adjusted for confounding, rather than combining raw data, or justified combining raw data when adjusted effect estimates were not available","AND they reported separate summary estimates for RCTs and NRSI separately when both were included in the review"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q12:{text:"12. If meta-analysis was performed, did the review authors assess the potential impact of RoB in individual studies on the results of the meta-analysis or other evidence synthesis?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if the pooled estimate was based on RCTs and/or NRSI at variable RoB, the authors performed analyses to investigate possible impact of RoB on summary estimates of effect."]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q13:{text:"13. Did the review authors account for RoB in individual studies when interpreting/ discussing the results of the review?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if RCTs with moderate or high RoB, or NRSI were included the review provided a discussion of the likely impact of RoB on the results"]},{label:"",options:["Yes","No"]}]},q14:{text:"14. Did the review authors provide a satisfactory explanation for, and discussion of, any heterogeneity observed in the results of the review?",columns:[{label:"For Yes:",options:["There was no significant heterogeneity in the results","OR if heterogeneity was present the authors performed an investigation of sources of any heterogeneity in the results and discussed the impact of this on the results of the review"]},{label:"",options:["Yes","No"]}]},q15:{text:"15. If they performed quantitative synthesis did the review authors carry out an adequate investigation of publication bias (small study bias) and discuss its likely impact on the results of the review?",columns:[{label:"For Yes:",options:["performed graphical or statistical tests for publication bias and discussed the likelihood and magnitude of impact of publication bias"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q16:{text:"16. Did the review authors report any potential sources of conflict of interest, including any funding they received for conducting the review?",options:["Yes","Partial Yes","No"],columns:[{label:"For Yes:",options:["The authors reported no competing interests OR","The authors described their funding sources and how they managed potential conflicts of interest"]},{label:"",options:["Yes","No"]}]}},No="corates-app-db",ge="checklists",me="projects",Ro=1;function at(e){return JSON.parse(JSON.stringify(e))}function Re(){return new Promise((e,t)=>{const n=indexedDB.open(No,Ro);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(ge)||r.createObjectStore(ge,{keyPath:"id"}),r.objectStoreNames.contains(me)||r.createObjectStore(me,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function Sn(e){const t=await Re();return e=at(e),new Promise((n,r)=>{const i=t.transaction(ge,"readwrite");i.objectStore(ge).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function Mo(){const e=await Re();return new Promise((t,n)=>{const o=e.transaction(ge,"readonly").objectStore(ge).getAll();o.onsuccess=()=>t(o.result),o.onerror=()=>n(o.error)})}async function qo(e){const t=await Re();return new Promise((n,r)=>{const i=t.transaction(ge,"readwrite");i.objectStore(ge).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function jo(){const e=await Re();return new Promise((t,n)=>{const o=e.transaction(ge,"readwrite").objectStore(ge).clear();o.onsuccess=()=>t(),o.onerror=()=>n(o.error)})}async function rn(e){const t=await Re();return e=at(e),new Promise((n,r)=>{const i=t.transaction(me,"readwrite");i.objectStore(me).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function bi(e){const t=await Re();return new Promise((n,r)=>{const o=t.transaction(me,"readonly").objectStore(me).get(e);o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error)})}async function To(){const e=await Re();return new Promise((t,n)=>{const o=e.transaction(me,"readonly").objectStore(me).getAll();o.onsuccess=()=>t(o.result),o.onerror=()=>n(o.error)})}async function Oo(e,t){try{const n=await bi(e);if(!n)throw new Error(`Project with ID ${e} not found`);return n.checklists=n.checklists.filter(r=>r.id!==t),await rn(n),!0}catch(n){throw console.error("Error deleting checklist from project:",n),n}}async function mr(e,t){try{await Sn(t);const n=await bi(e);if(!n)throw new Error(`Project with ID ${e} not found`);const r=n.checklists.findIndex(i=>i.id===t.id);return r>=0?n.checklists[r]=at(t):(console.log("Adding new checklist to project",at(t)),n.checklists.push(at(t))),await rn(n),n}catch(n){throw console.error("Error saving checklist to project:",n),n}}async function Lo(e){const t=await Re();return new Promise((n,r)=>{const i=t.transaction(me,"readwrite");i.objectStore(me).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}function Cn(){return crypto.randomUUID()}const vi=tn();function Do(e){const[t,n]=Ao({projects:[],currentProject:null,currentChecklist:null,loading:!0,checklists:[]});async function r(){try{n("loading",!0);const f=await To();f.sort((g,m)=>(g.createdAt||0)-(m.createdAt||0)),n("projects",f);const h=await Mo();n("checklists",h)}catch(f){throw console.error("Error loading IndexedDB data:",f),f}finally{n("loading",!1)}}async function i(f){try{return await rn(f),n("projects",h=>[...h,f]),f}catch(h){throw console.error("Error adding project:",h),h}}async function o(f){try{return await Lo(f),n("projects",h=>h.filter(g=>g.id!==f)),t.currentProject?.id===f&&(n("currentProject",null),n("currentChecklist",null)),!0}catch(h){throw console.error("Error deleting project:",h),h}}function s(f){n("projects",f)}function a(f){let h=null;if(typeof f=="object"&&f!==null){if("project"in f&&f.project)h={...f.project};else if("id"in f)h=t.projects.find(g=>g.id===f.id);else if("name"in f){const g=t.projects.filter(m=>m.name===f.name);h=g[f.index??0]?{...g[f.index??0]}:null}}else typeof f=="string"&&(h=t.projects.find(g=>g.id===f),h||(h=t.projects.find(g=>g.name===f)),h=h?{...h}:null);n("currentProject",h),n("currentChecklist",{...h?.checklists?.[0]??null})}function l(f){let h=null;if(typeof f=="string"){for(const g of t.projects){const m=g.checklists.find(w=>w.id===f);if(m){h={...m};break}}if(!h){const g=t.checklists.find(m=>m.id===f);g&&(h={...g})}if(!h){console.warn(`setCurrentChecklist: Checklist with ID "${f}" not found.`),n("currentChecklist",null);return}}else if(typeof f=="object")h={...f};else{n("currentChecklist",null);return}n("currentChecklist",h)}async function c(f,h){if(f===null)try{return await Sn(h),n("checklists",g=>[...g,h]),h}catch(g){throw console.error("Error adding checklist without project:",g),g}try{const g=await mr(f,h),m=t.projects.findIndex(w=>w.id===f);return m!==-1&&n("projects",m,g),h}catch(g){throw console.error("Error adding checklist:",g),g}}async function u(f){try{const h=t.projects.findIndex(g=>g.checklists.some(m=>m.id===f.id));if(h>=0){const g=t.projects[h].id;return await mr(g,f),n("projects",h,"checklists",m=>{const w=m.findIndex(v=>v.id===f.id);return w>=0?[...m.slice(0,w),{...f},...m.slice(w+1)]:m}),t.currentChecklist?.id===f.id&&n("currentChecklist",{...f}),f}else{const g=t.checklists.findIndex(m=>m.id===f.id);if(g>=0)return await Sn(f),n("checklists",g,{...f}),t.currentChecklist?.id===f.id&&n("currentChecklist",{...f}),f;throw console.warn("Could not find checklist:",f.id),new Error(`Could not find checklist: ${f.id}`)}}catch(h){throw console.error("Error updating checklist:",h),h}}async function d(f,h){if(f===null)try{return await qo(h),n("checklists",g=>g.filter(m=>m.id!==h)),t.currentChecklist?.id===h&&n("currentChecklist",null),!0}catch(g){return console.error("Error adding checklist without project:",g),!1}try{await Oo(f,h);const g=t.projects.findIndex(m=>m.id===f);if(g>=0&&(n("projects",g,"checklists",m=>m.filter(w=>w.id!==h)),t.currentChecklist?.id===h)){const m=t.projects[g];n("currentChecklist",m.checklists.length>0?m.checklists[0]:null)}return!0}catch(g){return console.error("Error removing checklist:",g),!1}}return A(vi.Provider,{value:{projects:()=>t.projects,currentProject:()=>t.currentProject,currentChecklist:()=>t.currentChecklist,loading:()=>t.loading,checklists:()=>t.checklists,loadData:r,setProjects:s,addProject:i,deleteProject:o,setCurrentProject:a,setCurrentChecklist:l,addChecklist:c,updateChecklist:u,deleteChecklist:d},get children(){return e.children}})}function Ze(){return wt(vi)}var te=N('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="flex gap-6">'),De=N('<div><div class="font-medium text-gray-800 mb-2 h-6"></div><div class="flex flex-col gap-2">'),X=N('<label class="flex items-center space-x-2"><input type=checkbox class="w-4 h-4 shrink-0 text-blue-600 border-gray-300 focus:ring-blue-500"><span class=text-gray-700>'),Fo=N('<div><div class="font-medium text-gray-800 mb-2 h-6"></div><div class="font-light text-gray-800 mb-4 h-12"></div><div class="flex flex-col gap-2">'),pe=N('<div><div class="font-medium text-gray-800 h-8"></div><div class="flex flex-col gap-2">'),xi=N('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6"></div><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6">'),Bo=N("<div class=space-y-6>"),Uo=N('<div class="min-h-screen bg-linear-to-br from-blue-50 to-indigo-100"><div class="container mx-auto px-4 py-8 max-w-7xl"><div class="bg-white rounded-lg shadow-lg p-8 mb-8"><h1 class="text-3xl font-bold text-gray-900 mb-2">AMSTAR 2 Checklist</h1><p class="text-gray-600 mb-6">App description here</p><div class="grid md:grid-cols-3 gap-4 mb-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Title</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter review title"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Reviewer Name</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter your name"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Date</label><input type=date class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">'),zo=N("<div>Loading...");function Yo(e){const t=()=>e.checklistState().q1.answers,n=Q.q1;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].every(Boolean);s[2][0]=l,s[2][1]=!l}i===2&&(o===0&&s[2][0]&&(s[2][1]=!1),o===1&&s[2][1]&&(s[2][0]=!1));const a={...e.checklistState().q1,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=De(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Vo(e){const t=()=>e.checklistState().q2.answers,n=Q.q2;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q2,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Fo(),u=c.firstChild,d=u.nextSibling,f=d.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.description),p(f,()=>a.options.map((h,g)=>(()=>{var m=X(),w=m.firstChild,v=w.nextSibling;return j(m,"key",g),w.addEventListener("change",()=>r(l,g)),p(v,h),P(()=>w.checked=t()[l][g]),m})())),P(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Ho(e){const t=()=>e.checklistState().q3.answers,n=Q.q3;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q3,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=pe(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Qo(e){const t=()=>e.checklistState().q4.answers,n=Q.q4;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q4,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=De(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Xo(e){const t=()=>e.checklistState().q5.answers,n=Q.q5;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q5,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=De(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Wo(e){const t=()=>e.checklistState().q6.answers,n=Q.q6;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q6,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=pe(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Ko(e){const t=()=>e.checklistState().q7.answers,n=Q.q7;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q7,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=De(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Go(e){const t=()=>e.checklistState().q8.answers,n=Q.q8;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q8,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=De(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Jo(e){const t=()=>e.checklistState().q9a.answers,n=()=>e.checklistState().q9b.answers,r=Q.q9;function i(s,a){const l=t().map(u=>[...u]);if(l[s][a]=!t()[s][a],s===0||s===1){const u=l[0].every(Boolean),d=u&&l[1].every(Boolean);l[2][0]=d,l[2][1]=!d&&u,l[2][2]=!d&&!u,l[2][3]=!1}s===2&&(l[2]=l[2].map((u,d)=>d===a?!t()[2][a]:!1));const c={...e.checklistState().q9a,answers:l};e.onUpdatea(c)}function o(s,a){const l=n().map(u=>[...u]);if(l[s][a]=!n()[s][a],s===0||s===1){const u=l[0].every(Boolean),d=u&&l[1].every(Boolean);l[2][0]=d,l[2][1]=!d&&u,l[2][2]=!d&&!u,l[2][3]=!1}s===2&&(l[2]=l[2].map((u,d)=>d===a?!n()[2][a]:!1));const c={...e.checklistState().q9b,answers:l};e.onUpdateb(c)}return(()=>{var s=xi(),a=s.firstChild,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling,d=u.nextSibling;return p(a,()=>r.text),p(l,()=>r.subtitle),p(c,()=>r.columns.map((f,h)=>(()=>{var g=De(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),p(m,()=>f.label),p(w,()=>f.options.map((v,b)=>(()=>{var _=X(),C=_.firstChild,S=C.nextSibling;return j(_,"key",b),C.addEventListener("change",()=>i(h,b)),p(S,v),P(()=>C.checked=t()[h][b]),_})())),P(()=>g.className=h===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),g})())),p(u,()=>r.subtitle2),p(d,()=>r.columns2.map((f,h)=>(()=>{var g=De(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),p(m,()=>f.label),p(w,()=>f.options.map((v,b)=>(()=>{var _=X(),C=_.firstChild,S=C.nextSibling;return j(_,"key",b),C.addEventListener("change",()=>o(h,b)),p(S,v),P(()=>C.checked=n()[h][b]),_})())),P(()=>g.className=h===r.columns2.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),g})())),s})()}function Zo(e){const t=()=>e.checklistState().q10.answers,n=Q.q10;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q10,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=pe(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Io(e){const t=()=>e.checklistState().q11a.answers,n=()=>e.checklistState().q11b.answers,r=Q.q11;function i(s,a){const l=t().map(u=>[...u]);if(l[s][a]=!t()[s][a],s===0){const u=l[0].every(Boolean);l[1][0]=u,l[1][1]=!u,l[1][2]=!1}s===1&&(l[1]=l[1].map((u,d)=>d===a?!t()[1][a]:!1));const c={...e.checklistState().q11a,answers:l};e.onUpdatea(c)}function o(s,a){const l=n().map(u=>[...u]);if(l[s][a]=!n()[s][a],s===0){const u=l[0].every(Boolean);l[1][0]=u,l[1][1]=!u,l[1][2]=!1}s===1&&(l[1]=l[1].map((u,d)=>d===a?!n()[1][a]:!1));const c={...e.checklistState().q11b,answers:l};e.onUpdateb(c)}return(()=>{var s=xi(),a=s.firstChild,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling,d=u.nextSibling;return p(a,()=>r.text),p(l,()=>r.subtitle),p(c,()=>r.columns.map((f,h)=>(()=>{var g=pe(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),p(m,()=>f.label),p(w,()=>f.options.map((v,b)=>(()=>{var _=X(),C=_.firstChild,S=C.nextSibling;return j(_,"key",b),C.addEventListener("change",()=>i(h,b)),p(S,v),P(()=>C.checked=t()[h][b]),_})())),P(()=>g.className=h===r.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),g})())),p(u,()=>r.subtitle2),p(d,()=>r.columns2.map((f,h)=>(()=>{var g=pe(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),p(m,()=>f.label),p(w,()=>f.options.map((v,b)=>(()=>{var _=X(),C=_.firstChild,S=C.nextSibling;return j(_,"key",b),C.addEventListener("change",()=>o(h,b)),p(S,v),P(()=>C.checked=n()[h][b]),_})())),P(()=>g.className=h===r.columns2.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),g})())),s})()}function ea(e){const t=()=>e.checklistState().q12.answers,n=Q.q12;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l,s[1][2]=!1}i===1&&(s[1]=s[1].map((l,c)=>c===o?!t()[1][o]:!1));const a={...e.checklistState().q12,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=pe(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function ta(e){const t=()=>e.checklistState().q13.answers,n=Q.q13;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q13,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=pe(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function na(e){const t=()=>e.checklistState().q14.answers,n=Q.q14;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q14,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=pe(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function ra(e){const t=()=>e.checklistState().q15.answers,n=Q.q15;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l,s[1][2]=!1}i===1&&(s[1]=s[1].map((l,c)=>c===o?!t()[1][o]:!1));const a={...e.checklistState().q15,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=pe(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function ia(e){const t=()=>e.checklistState().q16.answers,n=Q.q16;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q16,answers:s};e.onUpdate(a)}return(()=>{var i=te(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=pe(),u=c.firstChild,d=u.nextSibling;return j(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=X(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,f),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function sa(){const[e,t]=M(""),[n,r]=M(""),[i,o]=M(""),{currentChecklist:s,setCurrentChecklist:a,updateChecklist:l,loading:c}=Ze(),u=di();I(()=>{u.id&&u.id!==s()?.id&&a(u.id),s()||(console.warn("AMSTAR2Checklist: No current checklist found for id",u.id),navigate("/dashboard"))}),I(()=>{s()&&(t(s().name||s().title||""),r(s().reviewerName||""),o(s().reviewDate||""))});const d=f=>{const h={...s(),...f};l(h)};return(()=>{var f=Uo(),h=f.firstChild,g=h.firstChild,m=g.firstChild,w=m.nextSibling,v=w.nextSibling,b=v.firstChild,_=b.firstChild,C=_.nextSibling,S=b.nextSibling,R=S.firstChild,L=R.nextSibling,$=S.nextSibling,x=$.firstChild,E=x.nextSibling;return C.addEventListener("change",y=>{t(y.target.value),d({title:y.target.value})}),L.addEventListener("change",y=>{r(y.target.value),d({reviewerName:y.target.value})}),E.addEventListener("change",y=>{o(y.target.value),d({reviewDate:y.target.value})}),p(h,A(ce,{get when(){return K(()=>!c())()&&s()},get fallback(){return zo()},get children(){var y=Bo();return p(y,A(Yo,{onUpdate:k=>d({q1:k}),checklistState:s}),null),p(y,A(Vo,{onUpdate:k=>d({q2:k}),checklistState:s}),null),p(y,A(Ho,{onUpdate:k=>d({q3:k}),checklistState:s}),null),p(y,A(Qo,{onUpdate:k=>d({q4:k}),checklistState:s}),null),p(y,A(Xo,{onUpdate:k=>d({q5:k}),checklistState:s}),null),p(y,A(Wo,{onUpdate:k=>d({q6:k}),checklistState:s}),null),p(y,A(Ko,{onUpdate:k=>d({q7:k}),checklistState:s}),null),p(y,A(Go,{onUpdate:k=>d({q8:k}),checklistState:s}),null),p(y,A(Jo,{onUpdatea:k=>d({q9a:k}),onUpdateb:k=>d({q9b:k}),checklistState:s}),null),p(y,A(Zo,{onUpdate:k=>d({q10:k}),checklistState:s}),null),p(y,A(Io,{onUpdatea:k=>d({q11a:k}),onUpdateb:k=>d({q11b:k}),checklistState:s}),null),p(y,A(ea,{onUpdate:k=>d({q12:k}),checklistState:s}),null),p(y,A(ta,{onUpdate:k=>d({q13:k}),checklistState:s}),null),p(y,A(na,{onUpdate:k=>d({q14:k}),checklistState:s}),null),p(y,A(ra,{onUpdate:k=>d({q15:k}),checklistState:s}),null),p(y,A(ia,{onUpdate:k=>d({q16:k}),checklistState:s}),null),y}}),null),P(()=>C.value=e()),P(()=>L.value=n()),P(()=>E.value=i()),f})()}function Rt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function oa(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _i(e){let t,n,r;e.length!==2?(t=Rt,n=(a,l)=>Rt(e(a),l),r=(a,l)=>e(a)-l):(t=e===Rt||e===oa?e:aa,n=e,r=e);function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function aa(){return 0}function la(e){return e===null?NaN:+e}const ca=_i(Rt),ua=ca.right;_i(la).center;class pr extends Map{constructor(t,n=ha){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(wr(this,t))}has(t){return super.has(wr(this,t))}set(t,n){return super.set(fa(this,t),n)}delete(t){return super.delete(da(this,t))}}function wr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function fa({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function da({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ha(e){return e!==null&&typeof e=="object"?e.valueOf():e}const ga=Math.sqrt(50),ma=Math.sqrt(10),pa=Math.sqrt(2);function Yt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=ga?10:o>=ma?5:o>=pa?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Yt(e,t,n*2):[a,l,c]}function wa(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?Yt(t,e,n):Yt(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function An(e,t,n){return t=+t,e=+e,n=+n,Yt(e,t,n)[2]}function ya(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?An(t,e,n):An(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function $i(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function ba(e){return e}var va=3,yr=1e-6;function xa(e){return"translate("+e+",0)"}function _a(e){return t=>+e(t)}function $a(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function ka(){return!this.__axis}function Sa(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,u="y",d=xa;function f(h){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):ba),w=Math.max(o,0)+a,v=t.range(),b=+v[0]+l,_=+v[v.length-1]+l,C=(t.bandwidth?$a:_a)(t.copy(),l),S=h.selection?h.selection():h,R=S.selectAll(".domain").data([null]),L=S.selectAll(".tick").data(g,t).order(),$=L.exit(),x=L.enter().append("g").attr("class","tick"),E=L.select("line"),y=L.select("text");R=R.merge(R.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),L=L.merge(x),E=E.merge(x.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),y=y.merge(x.append("text").attr("fill","currentColor").attr(u,c*w).attr("dy","0.71em")),h!==S&&(R=R.transition(h),L=L.transition(h),E=E.transition(h),y=y.transition(h),$=$.transition(h).attr("opacity",yr).attr("transform",function(k){return isFinite(k=C(k))?d(k+l):this.getAttribute("transform")}),x.attr("opacity",yr).attr("transform",function(k){var T=this.parentNode.__axis;return d((T&&isFinite(T=T(k))?T:C(k))+l)})),$.remove(),R.attr("d",s?"M"+b+","+c*s+"V"+l+"H"+_+"V"+c*s:"M"+b+","+l+"H"+_),L.attr("opacity",1).attr("transform",function(k){return d(C(k)+l)}),E.attr(u+"2",c*o),y.attr(u,c*w).text(m),S.filter(ka).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),S.each(function(){this.__axis=C})}return f.scale=function(h){return arguments.length?(t=h,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),f):n.slice()},f.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),f):r&&r.slice()},f.tickFormat=function(h){return arguments.length?(i=h,f):i},f.tickSize=function(h){return arguments.length?(o=s=+h,f):o},f.tickSizeInner=function(h){return arguments.length?(o=+h,f):o},f.tickSizeOuter=function(h){return arguments.length?(s=+h,f):s},f.tickPadding=function(h){return arguments.length?(a=+h,f):a},f.offset=function(h){return arguments.length?(l=+h,f):l},f}function Ca(e){return Sa(va,e)}var Aa={value:()=>{}};function ki(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Mt(n)}function Mt(e){this._=e}function Pa(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Mt.prototype=ki.prototype={constructor:Mt,on:function(e,t){var n=this._,r=Pa(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Ea(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=br(n[i],e.name,t);else if(t==null)for(i in n)n[i]=br(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Mt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Ea(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function br(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Aa,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Pn="http://www.w3.org/1999/xhtml";const vr={svg:"http://www.w3.org/2000/svg",xhtml:Pn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function sn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vr.hasOwnProperty(t)?{space:vr[t],local:e}:e}function Na(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Pn&&t.documentElement.namespaceURI===Pn?t.createElement(e):t.createElementNS(n,e)}}function Ra(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Si(e){var t=sn(e);return(t.local?Ra:Na)(t)}function Ma(){}function Vn(e){return e==null?Ma:function(){return this.querySelector(e)}}function qa(e){typeof e!="function"&&(e=Vn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new re(r,this._parents)}function ja(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ta(){return[]}function Ci(e){return e==null?Ta:function(){return this.querySelectorAll(e)}}function Oa(e){return function(){return ja(e.apply(this,arguments))}}function La(e){typeof e=="function"?e=Oa(e):e=Ci(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new re(r,i)}function Ai(e){return function(){return this.matches(e)}}function Pi(e){return function(t){return t.matches(e)}}var Da=Array.prototype.find;function Fa(e){return function(){return Da.call(this.children,e)}}function Ba(){return this.firstElementChild}function Ua(e){return this.select(e==null?Ba:Fa(typeof e=="function"?e:Pi(e)))}var za=Array.prototype.filter;function Ya(){return Array.from(this.children)}function Va(e){return function(){return za.call(this.children,e)}}function Ha(e){return this.selectAll(e==null?Ya:Va(typeof e=="function"?e:Pi(e)))}function Qa(e){typeof e!="function"&&(e=Ai(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new re(r,this._parents)}function Ei(e){return new Array(e.length)}function Xa(){return new re(this._enter||this._groups.map(Ei),this._parents)}function Vt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Vt.prototype={constructor:Vt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Wa(e){return function(){return e}}function Ka(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new Vt(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Ga(e,t,n,r,i,o,s){var a,l,c=new Map,u=t.length,d=o.length,f=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(f[a]=h=s.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(l=c.get(h))?(r[a]=l,l.__data__=o[a],c.delete(h)):n[a]=new Vt(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function Ja(e){return e.__data__}function Za(e,t){if(!arguments.length)return Array.from(this,Ja);var n=t?Ga:Ka,r=this._parents,i=this._groups;typeof e!="function"&&(e=Wa(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],f=d.length,h=Ia(e.call(u,u&&u.__data__,c,r)),g=h.length,m=a[c]=new Array(g),w=s[c]=new Array(g),v=l[c]=new Array(f);n(u,d,m,w,v,h,t);for(var b=0,_=0,C,S;b<g;++b)if(C=m[b]){for(b>=_&&(_=b+1);!(S=w[_])&&++_<g;);C._next=S||null}}return s=new re(s,r),s._enter=a,s._exit=l,s}function Ia(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function el(){return new re(this._exit||this._groups.map(Ei),this._parents)}function tl(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function nl(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),h,g=0;g<d;++g)(h=c[g]||u[g])&&(f[g]=h);for(;l<i;++l)a[l]=n[l];return new re(a,this._parents)}function rl(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function il(e){e||(e=sl);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new re(i,this._parents).order()}function sl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ol(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function al(){return Array.from(this)}function ll(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function cl(){let e=0;for(const t of this)++e;return e}function ul(){return!this.node()}function fl(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function dl(e){return function(){this.removeAttribute(e)}}function hl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gl(e,t){return function(){this.setAttribute(e,t)}}function ml(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function wl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function yl(e,t){var n=sn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?hl:dl:typeof t=="function"?n.local?wl:pl:n.local?ml:gl)(n,t))}function Ni(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bl(e){return function(){this.style.removeProperty(e)}}function vl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function xl(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function _l(e,t,n){return arguments.length>1?this.each((t==null?bl:typeof t=="function"?xl:vl)(e,t,n??"")):We(this.node(),e)}function We(e,t){return e.style.getPropertyValue(t)||Ni(e).getComputedStyle(e,null).getPropertyValue(t)}function $l(e){return function(){delete this[e]}}function kl(e,t){return function(){this[e]=t}}function Sl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Cl(e,t){return arguments.length>1?this.each((t==null?$l:typeof t=="function"?Sl:kl)(e,t)):this.node()[e]}function Ri(e){return e.trim().split(/^|\s+/)}function Hn(e){return e.classList||new Mi(e)}function Mi(e){this._node=e,this._names=Ri(e.getAttribute("class")||"")}Mi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function qi(e,t){for(var n=Hn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ji(e,t){for(var n=Hn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Al(e){return function(){qi(this,e)}}function Pl(e){return function(){ji(this,e)}}function El(e,t){return function(){(t.apply(this,arguments)?qi:ji)(this,e)}}function Nl(e,t){var n=Ri(e+"");if(arguments.length<2){for(var r=Hn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?El:t?Al:Pl)(n,t))}function Rl(){this.textContent=""}function Ml(e){return function(){this.textContent=e}}function ql(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function jl(e){return arguments.length?this.each(e==null?Rl:(typeof e=="function"?ql:Ml)(e)):this.node().textContent}function Tl(){this.innerHTML=""}function Ol(e){return function(){this.innerHTML=e}}function Ll(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Dl(e){return arguments.length?this.each(e==null?Tl:(typeof e=="function"?Ll:Ol)(e)):this.node().innerHTML}function Fl(){this.nextSibling&&this.parentNode.appendChild(this)}function Bl(){return this.each(Fl)}function Ul(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zl(){return this.each(Ul)}function Yl(e){var t=typeof e=="function"?e:Si(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Vl(){return null}function Hl(e,t){var n=typeof e=="function"?e:Si(e),r=t==null?Vl:typeof t=="function"?t:Vn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ql(){var e=this.parentNode;e&&e.removeChild(this)}function Xl(){return this.each(Ql)}function Wl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kl(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Gl(e){return this.select(e?Kl:Wl)}function Jl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Zl(e){return function(t){e.call(this,t,this.__data__)}}function Il(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ec(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function tc(e,t,n){return function(){var r=this.__on,i,o=Zl(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function nc(e,t,n){var r=Il(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?tc:ec,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function Ti(e,t,n){var r=Ni(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function rc(e,t){return function(){return Ti(this,e,t)}}function ic(e,t){return function(){return Ti(this,e,t.apply(this,arguments))}}function sc(e,t){return this.each((typeof t=="function"?ic:rc)(e,t))}function*oc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Oi=[null];function re(e,t){this._groups=e,this._parents=t}function xt(){return new re([[document.documentElement]],Oi)}function ac(){return this}re.prototype=xt.prototype={constructor:re,select:qa,selectAll:La,selectChild:Ua,selectChildren:Ha,filter:Qa,data:Za,enter:Xa,exit:el,join:tl,merge:nl,selection:ac,order:rl,sort:il,call:ol,nodes:al,node:ll,size:cl,empty:ul,each:fl,attr:yl,style:_l,property:Cl,classed:Nl,text:jl,html:Dl,raise:Bl,lower:zl,append:Yl,insert:Hl,remove:Xl,clone:Gl,datum:Jl,on:nc,dispatch:sc,[Symbol.iterator]:oc};function Li(e){return typeof e=="string"?new re([[document.querySelector(e)]],[document.documentElement]):new re([[e]],Oi)}function Qn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Di(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function _t(){}var gt=.7,Ht=1/gt,Xe="\\s*([+-]?\\d+)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",he="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",lc=/^#([0-9a-f]{3,8})$/,cc=new RegExp(`^rgb\\(${Xe},${Xe},${Xe}\\)$`),uc=new RegExp(`^rgb\\(${he},${he},${he}\\)$`),fc=new RegExp(`^rgba\\(${Xe},${Xe},${Xe},${mt}\\)$`),dc=new RegExp(`^rgba\\(${he},${he},${he},${mt}\\)$`),hc=new RegExp(`^hsl\\(${mt},${he},${he}\\)$`),gc=new RegExp(`^hsla\\(${mt},${he},${he},${mt}\\)$`),xr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Qn(_t,Fe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_r,formatHex:_r,formatHex8:mc,formatHsl:pc,formatRgb:$r,toString:$r});function _r(){return this.rgb().formatHex()}function mc(){return this.rgb().formatHex8()}function pc(){return Fi(this).formatHsl()}function $r(){return this.rgb().formatRgb()}function Fe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=lc.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kr(t):n===3?new Z(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ct(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ct(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=cc.exec(e))?new Z(t[1],t[2],t[3],1):(t=uc.exec(e))?new Z(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fc.exec(e))?Ct(t[1],t[2],t[3],t[4]):(t=dc.exec(e))?Ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=hc.exec(e))?Ar(t[1],t[2]/100,t[3]/100,1):(t=gc.exec(e))?Ar(t[1],t[2]/100,t[3]/100,t[4]):xr.hasOwnProperty(e)?kr(xr[e]):e==="transparent"?new Z(NaN,NaN,NaN,0):null}function kr(e){return new Z(e>>16&255,e>>8&255,e&255,1)}function Ct(e,t,n,r){return r<=0&&(e=t=n=NaN),new Z(e,t,n,r)}function wc(e){return e instanceof _t||(e=Fe(e)),e?(e=e.rgb(),new Z(e.r,e.g,e.b,e.opacity)):new Z}function En(e,t,n,r){return arguments.length===1?wc(e):new Z(e,t,n,r??1)}function Z(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Qn(Z,En,Di(_t,{brighter(e){return e=e==null?Ht:Math.pow(Ht,e),new Z(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new Z(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Z(Le(this.r),Le(this.g),Le(this.b),Qt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sr,formatHex:Sr,formatHex8:yc,formatRgb:Cr,toString:Cr}));function Sr(){return`#${Te(this.r)}${Te(this.g)}${Te(this.b)}`}function yc(){return`#${Te(this.r)}${Te(this.g)}${Te(this.b)}${Te((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cr(){const e=Qt(this.opacity);return`${e===1?"rgb(":"rgba("}${Le(this.r)}, ${Le(this.g)}, ${Le(this.b)}${e===1?")":`, ${e})`}`}function Qt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Le(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Te(e){return e=Le(e),(e<16?"0":"")+e.toString(16)}function Ar(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new le(e,t,n,r)}function Fi(e){if(e instanceof le)return new le(e.h,e.s,e.l,e.opacity);if(e instanceof _t||(e=Fe(e)),!e)return new le;if(e instanceof le)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new le(s,a,l,e.opacity)}function bc(e,t,n,r){return arguments.length===1?Fi(e):new le(e,t,n,r??1)}function le(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Qn(le,bc,Di(_t,{brighter(e){return e=e==null?Ht:Math.pow(Ht,e),new le(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new le(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Z(dn(e>=240?e-240:e+120,i,r),dn(e,i,r),dn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new le(Pr(this.h),At(this.s),At(this.l),Qt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Qt(this.opacity);return`${e===1?"hsl(":"hsla("}${Pr(this.h)}, ${At(this.s)*100}%, ${At(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pr(e){return e=(e||0)%360,e<0?e+360:e}function At(e){return Math.max(0,Math.min(1,e||0))}function dn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Xn=e=>()=>e;function vc(e,t){return function(n){return e+n*t}}function xc(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function _c(e){return(e=+e)==1?Bi:function(t,n){return n-t?xc(t,n,e):Xn(isNaN(t)?n:t)}}function Bi(e,t){var n=t-e;return n?vc(e,n):Xn(isNaN(e)?t:e)}const Xt=(function e(t){var n=_c(t);function r(i,o){var s=n((i=En(i)).r,(o=En(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=Bi(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r})(1);function $c(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function kc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Sc(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Wn(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Cc(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function oe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Ac(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Wn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Nn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hn=new RegExp(Nn.source,"g");function Pc(e){return function(){return e}}function Ec(e){return function(t){return e(t)+""}}function Ui(e,t){var n=Nn.lastIndex=hn.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Nn.exec(e))&&(i=hn.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:oe(r,i)})),n=hn.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Ec(l[0].x):Pc(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Wn(e,t){var n=typeof t,r;return t==null||n==="boolean"?Xn(t):(n==="number"?oe:n==="string"?(r=Fe(t))?(t=r,Xt):Ui:t instanceof Fe?Xt:t instanceof Date?Cc:kc(t)?$c:Array.isArray(t)?Sc:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Ac:oe)(e,t)}function Nc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Er=180/Math.PI,Rn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zi(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Er,skewX:Math.atan(l)*Er,scaleX:s,scaleY:a}}var Pt;function Rc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Rn:zi(t.a,t.b,t.c,t.d,t.e,t.f)}function Mc(e){return e==null||(Pt||(Pt=document.createElementNS("http://www.w3.org/2000/svg","g")),Pt.setAttribute("transform",e),!(e=Pt.transform.baseVal.consolidate()))?Rn:(e=e.matrix,zi(e.a,e.b,e.c,e.d,e.e,e.f))}function Yi(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,d,f,h,g){if(c!==d||u!==f){var m=h.push("translate(",null,t,null,n);g.push({i:m-4,x:oe(c,d)},{i:m-2,x:oe(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:oe(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:oe(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,f,h,g){if(c!==d||u!==f){var m=h.push(i(h)+"scale(",null,",",null,")");g.push({i:m-4,x:oe(c,d)},{i:m-2,x:oe(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,d,f),s(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var g=-1,m=f.length,w;++g<m;)d[(w=f[g]).i]=w.x(h);return d.join("")}}}var qc=Yi(Rc,"px, ","px)","deg)"),jc=Yi(Mc,", ",")",")"),Ke=0,tt=0,Ie=0,Vi=1e3,Wt,nt,Kt=0,Be=0,on=0,pt=typeof performance=="object"&&performance.now?performance:Date,Hi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Kn(){return Be||(Hi(Tc),Be=pt.now()+on)}function Tc(){Be=0}function Gt(){this._call=this._time=this._next=null}Gt.prototype=Qi.prototype={constructor:Gt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Kn():+n)+(t==null?0:+t),!this._next&&nt!==this&&(nt?nt._next=this:Wt=this,nt=this),this._call=e,this._time=n,Mn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mn())}};function Qi(e,t,n){var r=new Gt;return r.restart(e,t,n),r}function Oc(){Kn(),++Ke;for(var e=Wt,t;e;)(t=Be-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ke}function Nr(){Be=(Kt=pt.now())+on,Ke=tt=0;try{Oc()}finally{Ke=0,Dc(),Be=0}}function Lc(){var e=pt.now(),t=e-Kt;t>Vi&&(on-=t,Kt=e)}function Dc(){for(var e,t=Wt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Wt=n);nt=e,Mn(r)}function Mn(e){if(!Ke){tt&&(tt=clearTimeout(tt));var t=e-Be;t>24?(e<1/0&&(tt=setTimeout(Nr,e-pt.now()-on)),Ie&&(Ie=clearInterval(Ie))):(Ie||(Kt=pt.now(),Ie=setInterval(Lc,Vi)),Ke=1,Hi(Nr))}}function Rr(e,t,n){var r=new Gt;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Fc=ki("start","end","cancel","interrupt"),Bc=[],Xi=0,Mr=1,qn=2,qt=3,qr=4,jn=5,jt=6;function an(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Uc(e,n,{name:t,index:r,group:i,on:Fc,tween:Bc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Xi})}function Gn(e,t){var n=de(e,t);if(n.state>Xi)throw new Error("too late; already scheduled");return n}function we(e,t){var n=de(e,t);if(n.state>qt)throw new Error("too late; already running");return n}function de(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Uc(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Qi(o,0,n.time);function o(c){n.state=Mr,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,f,h;if(n.state!==Mr)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===qt)return Rr(s);h.state===qr?(h.state=jt,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=jt,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Rr(function(){n.state===qt&&(n.state=qr,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=qn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===qn){for(n.state=qt,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=jn,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===jn&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=jt,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function zc(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>qn&&r.state<jn,r.state=jt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Yc(e){return this.each(function(){zc(this,e)})}function Vc(e,t){var n,r;return function(){var i=we(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Hc(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=we(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Qc(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=de(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Vc:Hc)(n,e,t))}function Jn(e,t,n){var r=e._id;return e.each(function(){var i=we(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return de(i,r).value[t]}}function Wi(e,t){var n;return(typeof t=="number"?oe:t instanceof Fe?Xt:(n=Fe(t))?(t=n,Xt):Ui)(e,t)}function Xc(e){return function(){this.removeAttribute(e)}}function Wc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Kc(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function Gc(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Jc(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function Zc(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function Ic(e,t){var n=sn(e),r=n==="transform"?jc:Wi;return this.attrTween(e,typeof t=="function"?(n.local?Zc:Jc)(n,r,Jn(this,"attr."+e,t)):t==null?(n.local?Wc:Xc)(n):(n.local?Gc:Kc)(n,r,t))}function eu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function tu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function nu(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&tu(e,o)),n}return i._value=t,i}function ru(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&eu(e,o)),n}return i._value=t,i}function iu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=sn(e);return this.tween(n,(r.local?nu:ru)(r,t))}function su(e,t){return function(){Gn(this,e).delay=+t.apply(this,arguments)}}function ou(e,t){return t=+t,function(){Gn(this,e).delay=t}}function au(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?su:ou)(t,e)):de(this.node(),t).delay}function lu(e,t){return function(){we(this,e).duration=+t.apply(this,arguments)}}function cu(e,t){return t=+t,function(){we(this,e).duration=t}}function uu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?lu:cu)(t,e)):de(this.node(),t).duration}function fu(e,t){if(typeof t!="function")throw new Error;return function(){we(this,e).ease=t}}function du(e){var t=this._id;return arguments.length?this.each(fu(t,e)):de(this.node(),t).ease}function hu(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;we(this,e).ease=n}}function gu(e){if(typeof e!="function")throw new Error;return this.each(hu(this._id,e))}function mu(e){typeof e!="function"&&(e=Ai(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new ke(r,this._parents,this._name,this._id)}function pu(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,d=s[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<r;++a)s[a]=t[a];return new ke(s,this._parents,this._name,this._id)}function wu(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function yu(e,t,n){var r,i,o=wu(t)?Gn:we;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function bu(e,t){var n=this._id;return arguments.length<2?de(this.node(),n).on.on(e):this.each(yu(n,e,t))}function vu(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function xu(){return this.on("end.remove",vu(this._id))}function _u(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vn(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,an(c[f],t,n,f,c,de(u,n)));return new ke(o,this._parents,t,n)}function $u(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ci(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),h,g=de(u,n),m=0,w=f.length;m<w;++m)(h=f[m])&&an(h,t,n,m,f,g);o.push(f),s.push(u)}return new ke(o,s,t,n)}var ku=xt.prototype.constructor;function Su(){return new ku(this._groups,this._parents)}function Cu(e,t){var n,r,i;return function(){var o=We(this,e),s=(this.style.removeProperty(e),We(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Ki(e){return function(){this.style.removeProperty(e)}}function Au(e,t,n){var r,i=n+"",o;return function(){var s=We(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Pu(e,t,n){var r,i,o;return function(){var s=We(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),We(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function Eu(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=we(this,e),c=l.on,u=l.value[o]==null?a||(a=Ki(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function Nu(e,t,n){var r=(e+="")=="transform"?qc:Wi;return t==null?this.styleTween(e,Cu(e,r)).on("end.style."+e,Ki(e)):typeof t=="function"?this.styleTween(e,Pu(e,r,Jn(this,"style."+e,t))).each(Eu(this._id,e)):this.styleTween(e,Au(e,r,t),n).on("end.style."+e,null)}function Ru(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Mu(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Ru(e,s,n)),r}return o._value=t,o}function qu(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Mu(e,t,n??""))}function ju(e){return function(){this.textContent=e}}function Tu(e){return function(){var t=e(this);this.textContent=t??""}}function Ou(e){return this.tween("text",typeof e=="function"?Tu(Jn(this,"text",e)):ju(e==null?"":e+""))}function Lu(e){return function(t){this.textContent=e.call(this,t)}}function Du(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Lu(i)),t}return r._value=e,r}function Fu(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Du(e))}function Bu(){for(var e=this._name,t=this._id,n=Gi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=de(l,t);an(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new ke(r,this._parents,e,n)}function Uu(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=we(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var zu=0;function ke(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Gi(){return++zu}var ve=xt.prototype;ke.prototype={constructor:ke,select:_u,selectAll:$u,selectChild:ve.selectChild,selectChildren:ve.selectChildren,filter:mu,merge:pu,selection:Su,transition:Bu,call:ve.call,nodes:ve.nodes,node:ve.node,size:ve.size,empty:ve.empty,each:ve.each,on:bu,attr:Ic,attrTween:iu,style:Nu,styleTween:qu,text:Ou,textTween:Fu,remove:xu,tween:Qc,delay:au,duration:uu,ease:du,easeVarying:gu,end:Uu,[Symbol.iterator]:ve[Symbol.iterator]};function Yu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Vu={time:null,delay:0,duration:250,ease:Yu};function Hu(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Qu(e){var t,n;e instanceof ke?(t=e._id,e=e._name):(t=Gi(),(n=Vu).time=Kn(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&an(l,e,t,c,s,n||Hu(l,t));return new ke(r,this._parents,e,t)}xt.prototype.interrupt=Yc;xt.prototype.transition=Qu;function Xu(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ge(e){return e=Jt(Math.abs(e)),e?e[1]:NaN}function Wu(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Ku(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Gu=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zt(e){if(!(t=Gu.exec(e)))throw new Error("invalid format: "+e);var t;return new Zn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zt.prototype=Zn.prototype;function Zn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Zn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Ju(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ji;function Zu(e,t){var n=Jt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Ji=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Jt(e,Math.max(0,t+o-1))[0]}function jr(e,t){var n=Jt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Tr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Xu,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jr(e*100,t),r:jr,s:Zu,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Or(e){return e}var Lr=Array.prototype.map,Dr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Iu(e){var t=e.grouping===void 0||e.thousands===void 0?Or:Wu(Lr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Or:Ku(Lr.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Zt(d);var f=d.fill,h=d.align,g=d.sign,m=d.symbol,w=d.zero,v=d.width,b=d.comma,_=d.precision,C=d.trim,S=d.type;S==="n"?(b=!0,S="g"):Tr[S]||(_===void 0&&(_=12),C=!0,S="g"),(w||f==="0"&&h==="=")&&(w=!0,f="0",h="=");var R=m==="$"?n:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",L=m==="$"?r:/[%p]/.test(S)?s:"",$=Tr[S],x=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function E(y){var k=R,T=L,q,O,D;if(S==="c")T=$(y)+T,y="";else{y=+y;var B=y<0||1/y<0;if(y=isNaN(y)?l:$(Math.abs(y),_),C&&(y=Ju(y)),B&&+y==0&&g!=="+"&&(B=!1),k=(B?g==="("?g:a:g==="-"||g==="("?"":g)+k,T=(S==="s"?Dr[8+Ji/3]:"")+T+(B&&g==="("?")":""),x){for(q=-1,O=y.length;++q<O;)if(D=y.charCodeAt(q),48>D||D>57){T=(D===46?i+y.slice(q+1):y.slice(q))+T,y=y.slice(0,q);break}}}b&&!w&&(y=t(y,1/0));var V=k.length+y.length+T.length,Y=V<v?new Array(v-V+1).join(f):"";switch(b&&w&&(y=t(Y+y,Y.length?v-T.length:1/0),Y=""),h){case"<":y=k+y+T+Y;break;case"=":y=k+Y+y+T;break;case"^":y=Y.slice(0,V=Y.length>>1)+k+y+T+Y.slice(V);break;default:y=Y+k+y+T;break}return o(y)}return E.toString=function(){return d+""},E}function u(d,f){var h=c((d=Zt(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Ge(f)/3)))*3,m=Math.pow(10,-g),w=Dr[8+g/3];return function(v){return h(m*v)+w}}return{format:c,formatPrefix:u}}var Et,Zi,Ii;ef({thousands:",",grouping:[3],currency:["$",""]});function ef(e){return Et=Iu(e),Zi=Et.format,Ii=Et.formatPrefix,Et}function tf(e){return Math.max(0,-Ge(Math.abs(e)))}function nf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ge(t)/3)))*3-Ge(Math.abs(e)))}function rf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ge(t)-Ge(e))+1}function In(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Fr=Symbol("implicit");function es(){var e=new pr,t=[],n=[],r=Fr;function i(o){let s=e.get(o);if(s===void 0){if(r!==Fr)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new pr;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return es(t,n).unknown(r)},In.apply(i,arguments),i}function ts(){var e=es().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,h=i<r,g=h?i:r,m=h?r:i;o=(m-g)/Math.max(1,f-l+c*2),a&&(o=Math.floor(o)),g+=(m-g-o*(f-l))*u,s=o*(1-l),a&&(g=Math.round(g),s=Math.round(s));var w=$i(f).map(function(v){return g+o*v});return n(h?w.reverse():w)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return ts(t(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},In.apply(d(),arguments)}function sf(e){return function(){return e}}function of(e){return+e}var Br=[0,1];function He(e){return e}function Tn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:sf(isNaN(t)?NaN:.5)}function af(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function lf(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Tn(i,r),o=n(s,o)):(r=Tn(r,i),o=n(o,s)),function(a){return o(r(a))}}function cf(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Tn(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=ua(e,a,1,r)-1;return o[l](i[l](a))}}function uf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ff(){var e=Br,t=Br,n=Wn,r,i,o,s=He,a,l,c;function u(){var f=Math.min(e.length,t.length);return s!==He&&(s=af(e[0],e[f-1])),a=f>2?cf:lf,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((c||(c=a(t,e.map(r),oe)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,of),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=Nc,u()},d.clamp=function(f){return arguments.length?(s=f?!0:He,u()):s!==He},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,u()}}function df(){return ff()(He,He)}function hf(e,t,n,r){var i=ya(e,t,n),o;switch(r=Zt(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=nf(i,s))&&(r.precision=o),Ii(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=rf(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=tf(i))&&(r.precision=o-(r.type==="%")*2);break}}return Zi(r)}function gf(e){var t=e.domain;return e.ticks=function(n){var r=t();return wa(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return hf(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=An(s,a,n),c===l)return r[i]=s,r[o]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function ns(){var e=df();return e.copy=function(){return uf(e,ns())},In.apply(e,arguments),gf(e)}function rt(e,t,n){this.k=e,this.x=t,this.y=n}rt.prototype={constructor:rt,scale:function(e){return e===1?this:new rt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new rt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};rt.prototype;var mf=N('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function pf(e){let t;const[n,r]=M({width:900,height:600});I(()=>{function b(){if(t&&t.parentElement){const _=t.parentElement.getBoundingClientRect();r({width:Math.max(_.width,600),height:Math.max(_.height,400)})}}b(),window.addEventListener("resize",b),fe(()=>window.removeEventListener("resize",b))});const i=()=>e.data??[],o=16,s=()=>e.width??n().width,a=()=>e.height??n().height,l=()=>e.title??"AMSTAR-2 Quality Assessment",c={top:60,right:170,bottom:60,left:120},u=()=>(s()-c.left-c.right)/o,d=()=>(a()-c.top-c.bottom)/i().length,f=()=>Math.min(u(),d()),h=()=>f()*o,g=()=>f()*i().length,m=()=>c.left+h()+c.right,w=()=>c.top+g()+c.bottom,v={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return I(()=>{const b=Li(t).attr("width",m()).attr("height",w()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');b.selectAll("*").remove(),b.append("g").attr("class","grid"),b.append("g").attr("class","footer").selectAll("text").data($i(1,o+1)).enter().append("text").attr("x",(x,E)=>c.left+E*f()+f()/2).attr("y",c.top+g()+20).attr("text-anchor","middle").attr("font-size",Math.max(10,f()*.4)).attr("font-weight","600").attr("fill","#374151").text(x=>`Q${x}`),b.append("g").attr("class","rows").selectAll("text").data(i()).enter().append("text").attr("x",c.left-15).attr("y",(x,E)=>c.top+E*f()+f()/2).attr("text-anchor","end").attr("font-size",Math.max(10,f()*.45)).attr("font-weight","500").attr("fill","#374151").attr("dominant-baseline","middle").text(x=>x.label);const S=b.append("g").attr("class","cells");i().forEach((x,E)=>{for(let y=0;y<o;y++){const k=x.questions[y]?.toLowerCase?.()??"",T=v[k]??"#e5e7eb";S.append("rect").attr("x",c.left+y*f()+2).attr("y",c.top+E*f()+2).attr("width",f()-4).attr("height",f()-4).attr("fill",T).attr("stroke","#ffffff").attr("stroke-width",1).attr("rx",Math.max(2,f()*.12)).style("filter","drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))")}});const R=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],$=b.append("g").attr("class","legend").attr("transform",`translate(${m()-c.right+20}, ${c.top+20})`).selectAll(".legend-item").data(R).enter().append("g").attr("class","legend-item").attr("transform",(x,E)=>`translate(0, ${E*25})`);$.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",x=>v[x.key]).attr("stroke","#ffffff").attr("stroke-width",1),$.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(x=>x.label),b.append("text").attr("x",m()/2).attr("y",40).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),fe(()=>{b.selectAll("*").remove()})}),(()=>{var b=mf(),_=b.firstChild,C=t;return typeof C=="function"?ut(C,_):t=_,P(S=>nn(_,`width: 100%; height: ${w()}px; max-width: 100%; display: block;`,S)),b})()}var wf=N('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function yf(e){let t,n;const r=()=>e.data??[],[i,o]=M({width:900,height:600});Dn(()=>{const h=()=>{if(n){const g=n.getBoundingClientRect();o({width:Math.max(g.width,400),height:Math.max(g.height,400)})}};h(),window.addEventListener("resize",h),fe(()=>window.removeEventListener("resize",h))}),I(()=>{if(n){const h=n.getBoundingClientRect();o({width:Math.max(h.width,400),height:Math.max(h.height,400)})}});const s=()=>e.width??i().width,a=()=>e.height??i().width/1.5,l=()=>e.title??"Distribution of AMSTAR Ratings on Each Item Across Included Reviews",c={top:50,right:150,bottom:60,left:80},u=()=>s()-c.left-c.right,d=()=>a()-c.top-c.bottom,f={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return I(()=>{if(!r().length)return;const h=Li(t).attr("width",s()).attr("height",a()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');h.selectAll("*").remove();const g=[],m=Math.max(...r().map($=>$.questions?.length||0)),w=r().length;for(let $=0;$<m;$++){const x={question:$+1,label:`Q${$+1}`,counts:{yes:0,"partial yes":0,no:0,"no ma":0}};r().forEach(E=>{const y=E.questions[$]?.toLowerCase?.()??"no ma";x.counts.hasOwnProperty(y)&&x.counts[y]++}),x.percentages={},Object.keys(x.counts).forEach(E=>{x.percentages[E]=x.counts[E]/w*100}),g.push(x)}const v=ts().domain(g.map($=>$.label)).range([0,d()]).padding(.1),b=ns().domain([0,100]).range([0,u()]),_=h.append("g").attr("transform",`translate(${c.left}, ${c.top})`);h.append("text").attr("x",s()/2).attr("y",30).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),g.forEach($=>{let x=0;const E=v.bandwidth(),y=v($.label);["yes","partial yes","no ma","no"].forEach(k=>{const T=$.percentages[k],q=b(T);T>0&&(_.append("rect").attr("x",b(x)).attr("y",y).attr("width",q).attr("height",E).attr("fill",f[k]).attr("stroke","#ffffff").attr("stroke-width",1),T>=5&&_.append("text").attr("x",b(x)+q/2).attr("y",y+E/2).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","12px").attr("font-weight","600").attr("fill",k==="partial yes"?"#000000":"#ffffff").text(`${T.toFixed(1)}`)),x+=T})}),_.selectAll(".y-label").data(g).enter().append("text").attr("class","y-label").attr("x",-10).attr("y",$=>v($.label)+v.bandwidth()/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label);const C=Ca(b).tickFormat($=>`${$}`).ticks(5);_.append("g").attr("class","x-axis").attr("transform",`translate(0, ${d()})`).call(C).selectAll("text").attr("font-size","12px").attr("fill","#374151"),_.append("text").attr("x",u()/2).attr("y",d()+50).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text(`Percentage of SRs (%), N=${w}`),h.append("text").attr("transform","rotate(-90)").attr("x",-a()/2).attr("y",20).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text("Items of AMSTAR-2");const S=h.append("g").attr("class","legend").attr("transform",`translate(${s()-c.right+20}, ${c.top+20})`),R=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],L=S.selectAll(".legend-item").data(R).enter().append("g").attr("class","legend-item").attr("transform",($,x)=>`translate(0, ${x*25})`);L.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",$=>f[$.key]).attr("stroke","#ffffff").attr("stroke-width",1),L.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label),fe(()=>{h.selectAll("*").remove()})}),(()=>{var h=wf(),g=h.firstChild,m=n;typeof m=="function"?ut(m,h):n=h;var w=t;return typeof w=="function"?ut(w,g):t=g,P(v=>nn(g,`width: 100%; height: ${a()}px; max-width: 100%; display: block;`,v)),h})()}class $e{static CreateChecklist({name:t=null,id:n=null,createdAt:r=Date.now(),reviewerName:i=""}={}){if(!n||typeof n!="string"||!n.trim())throw new Error("AMSTAR2Checklist requires a non-empty string id.");if(!t||typeof t!="string"||!t.trim())throw new Error("AMSTAR2Checklist requires a non-empty string name.");return{name:t,reviewerName:i||"",createdAt:r,id:n,q1:{answers:[[!1,!1,!1,!1],[!1],[!1,!0]],critical:!1},q2:{answers:[[!1,!1,!1,!1],[!1,!1,!1],[!1,!1,!0]],critical:!0},q3:{answers:[[!1,!1,!1],[!1,!0]],critical:!1},q4:{answers:[[!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!0]],critical:!0},q5:{answers:[[!1,!1],[!1,!0]],critical:!1},q6:{answers:[[!1,!1],[!1,!0]],critical:!1},q7:{answers:[[!1],[!1],[!1,!1,!0]],critical:!0},q8:{answers:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!0]],critical:!1},q9a:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q9b:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q10:{answers:[[!1],[!1,!0]],critical:!1},q11a:{answers:[[!1,!1,!1],[!1,!0,!1]],critical:!0},q11b:{answers:[[!1,!1,!1,!1],[!1,!0,!1]],critical:!0},q12:{answers:[[!1,!1],[!1,!0,!1]],critical:!1},q13:{answers:[[!1,!1],[!1,!0]],critical:!0},q14:{answers:[[!1,!1],[!1,!0]],critical:!1},q15:{answers:[[!1],[!1,!0,!1]],critical:!0},q16:{answers:[[!1,!1],[!1,!0]],critical:!1}}}static scoreChecklist(t){if(!t||typeof t!="object")return"Error";let n=0,r=0;return Object.entries(t).forEach(([i,o])=>{if(!/^q\d+[a-z]*$/i.test(i)||!o||!Array.isArray(o.answers))return;$e.getSelectedAnswer(o.answers,i)!=="Yes"&&(o.critical?n++:r++)}),n>1?"Critically Low":n===1?"Low":r>1?"Moderate":"High"}static getSelectedAnswer(t,n){const r=["q11a","q11b","q12","q15"],i=["Yes","Partial Yes","No","No MA"],o=["Yes","No","No MA"];if(!Array.isArray(t)||t.length===0)return null;const s=t[t.length-1];if(!Array.isArray(s))return null;const a=s.findIndex(l=>l===!0);return a===-1?null:r.includes(n)?o[a]||null:s.length===2?a===0?"Yes":"No":s.length>=3&&i[a]||null}static getAnswers(t){if(!t||typeof t!="object")return null;const n={};return Object.entries(t).forEach(([r,i])=>{if(!/^q\d+[a-z]*$/i.test(r)||!i||!Array.isArray(i.answers))return;const o=$e.getSelectedAnswer(i.answers,r);n[r]=o}),n}static exportChecklistsToCSV(t){const n=Array.isArray(t)?t:[t],r=Object.keys(Q),i=["Checklist Name","Reviewer","Created At","Checklist ID"],o=r.map(u=>Q[u]?.text?.replace(/\s+/g," ").trim()||u),s=[...i,...o],a=n.map(u=>{const d=$e.getAnswers(u);return[u.name||"",u.reviewerName||"",u.createdAt?new Date(u.createdAt).toISOString():"",u.id||"",...r.map(f=>d[f]||"")]}),l=u=>`"${String(u).replace(/"/g,'""').replace(/\n/g," ")}"`;return s.map(l).join(",")+`
`+a.map(u=>u.map(l).join(",")).join(`
`)}}var bf=N('<div class=p-8><h2 class="text-2xl font-bold mb-4"> Dashboard</h2><button class="bg-red-500 text-white px-4 py-2 rounded">Delete Project</button><div class="mb-4 text-gray-600">Created: </div><div class=mb-6><strong>Total Checklists:</strong> </div><div class=mb-6><h3 class="text-xl font-semibold mb-2">Add New Checklist</h3><div class="flex gap-2 items-center"><input type=text class="px-3 py-2 border rounded w-64"placeholder="Checklist name"><button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">+ Add Checklist</button></div></div><div><h3 class="text-xl font-semibold mb-2">Checklists</h3><ul class="list-disc pl-6">'),vf=N("<div class=p-8>Project not found."),xf=N("<li>");function _f(){const{currentProject:e,setCurrentProject:t,addChecklist:n,deleteProject:r}=Ze(),i=di(),o=vt(),[s,a]=M(""),[l,c]=M([]);I(()=>{if(i.name&&i.index!==void 0){const d=decodeURIComponent(i.name),f=Number(i.index);t({name:d,index:f})}e()||(console.warn("ProjectDashboard: No current project found for",i.name,i.index),o("/dashboard"))});const u=async()=>{if(!s().trim())return;const d=$e.CreateChecklist({name:s(),id:crypto.randomUUID(),createdAt:Date.now()});await n(e().id,d),a("")};return I(()=>{const d=(e()?.checklists||[]).map(f=>{const h=$e.getAnswers(f);return{label:f.name||f.title||f.id,questions:Object.values(h||{})}});c(d)}),A(ce,{get when(){return e()},get fallback(){return vf()},get children(){var d=bf(),f=d.firstChild,h=f.firstChild,g=f.nextSibling,m=g.nextSibling;m.firstChild;var w=m.nextSibling,v=w.firstChild;v.nextSibling;var b=w.nextSibling,_=b.firstChild,C=_.nextSibling,S=C.firstChild,R=S.nextSibling,L=b.nextSibling,$=L.firstChild,x=$.nextSibling;return p(f,()=>e().name,h),g.$$click=()=>r(e().id),p(m,()=>new Date(e().createdAt).toLocaleDateString(),null),p(w,()=>e().checklists?.length||0,null),S.$$input=E=>a(E.target.value),R.$$click=u,p(x,()=>(e().checklists||[]).map(E=>(()=>{var y=xf();return p(y,()=>E.name||E.title||E.id),P(()=>j(y,"key",E.id)),y})())),p(d,A(pf,{get data(){return l()},width:900,height:600}),null),p(d,A(yf,{get data(){return l()},width:900,height:600}),null),P(()=>R.disabled=!s().trim()),P(()=>S.value=s()),d}})}ee(["click","input"]);function rs({id:e,name:t,createdAt:n=Date.now(),checklists:r=[]}={}){if(t===null)throw new Error("Project name cannot be null");return{id:e,name:t,createdAt:n,checklists:r}}async function $f(){const e=["Review 1","Review 2","Review 3","Review 4","Review 5"];let t=[];for(const r of e){const i=$e.CreateChecklist({name:r,id:Cn(),createdAt:Date.now()});t.push(i)}const n=rs({id:Cn(),name:"Example Project",createdAt:Date.now(),checklists:t});await rn(n)}var kf=N('<div class=p-6><h2 class="text-2xl font-bold mb-4">Your Projects</h2><div class="mt-6 flex items-center gap-2"><input type=text class="px-3 py-2 border rounded w-64"placeholder="Project name"><button class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition">+ Add New Project</button></div><div class=mt-6><button class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition">Load Example Project'),Sf=N("<div>No projects found."),Cf=N("<ul class=space-y-2>"),Af=N('<li><div class=font-semibold></div><div class="text-sm text-gray-600"></div><div class="text-xs text-gray-400">Created: </div><button class="ml-4 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition">Delete');function Pf(){const{projects:e,currentProject:t,addProject:n,deleteProject:r}=Ze(),i=vt(),[o,s]=M(""),a=u=>{const f=e().filter(h=>h.name===u.name).findIndex(h=>h.id===u.id);i(`/project/${encodeURIComponent(u.name)}/${f}`)},l=async()=>{if(!o().trim())return;const u=await n(rs({id:Cn(),name:o().trim(),createdAt:Date.now(),checklists:[]}));s(""),i(`/project/${u.id}`)},c=async u=>{window.confirm("Are you sure you want to delete this project?")&&await r(u)};return(()=>{var u=kf(),d=u.firstChild,f=d.nextSibling,h=f.firstChild,g=h.nextSibling,m=f.nextSibling,w=m.firstChild;return p(u,(()=>{var v=K(()=>e().length===0);return()=>v()?Sf():(()=>{var b=Cf();return p(b,()=>e().map(_=>(()=>{var C=Af(),S=C.firstChild,R=S.nextSibling,L=R.nextSibling;L.firstChild;var $=L.nextSibling;return C.$$click=()=>a(_),p(S,()=>_.name),p(R,()=>_.description),p(L,()=>new Date(_.createdAt).toLocaleDateString(),null),$.$$click=()=>c(_.id),P(x=>{var E=_.id,y=`p-4 border rounded cursor-pointer transition ${t()&&t().id===_.id?"bg-blue-100 border-blue-400":"hover:bg-gray-100"}`;return E!==x.e&&j(C,"key",x.e=E),y!==x.t&&ae(C,x.t=y),x},{e:void 0,t:void 0}),C})())),b})()})(),f),h.$$input=v=>s(v.target.value),g.$$click=l,w.$$click=async()=>{const v=await $f();console.log("Loaded example project:",v),window.location.reload()},P(()=>g.disabled=!o().trim()),P(()=>h.value=o()),u})()}ee(["input","click"]);async function Ef(e,t,n){const r=await fetch("http://localhost:8000/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n})});if(!r.ok){const i=await r.text();throw console.error("Signup error:",i),new Error(i||"Signup failed")}}let Je=null;async function Nf(e,t){const n=await fetch("http://localhost:8000/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t})});if(!n.ok){const i=await n.text();throw console.error("Sign in failed:",i),new Error(i||"Sign in failed")}Je=(await n.json()).accessToken}async function Ur(){const e=await is("http://localhost:8000/users/me");if(!e.ok){const t=await e.text();throw console.error("Failed to fetch user:",t),new Error(t||"Failed to fetch user")}return await e.json()}async function is(e,t={}){t.headers={...t.headers||{},Authorization:`Bearer ${Je}`};let n=await fetch(e,t);if(n.status===401||n.status===403)try{await ss(),t.headers.Authorization=`Bearer ${Je}`,n=await fetch(e,t)}catch{throw await os(),new Error("Session expired. Please log in again.")}return n}async function ss(){const e=await fetch("http://localhost:8000/auth/refresh",{method:"POST",credentials:"include"});if(!e.ok){const n=await e.text();throw console.error("Refresh failed:",n),new Error(n||"Refresh failed")}Je=(await e.json()).accessToken,console.log("Refreshed access token:",Je)}async function os(){await fetch("http://localhost:8000/auth/signout",{method:"POST",credentials:"include"}),Je=null}const as=tn();function Rf(e){const[t,n]=M(!1),[r,i]=M(null);async function o(d,f,h){await Ef(d,f,h)}async function s(d,f){await Nf(d,f),n(!0),i(await Ur())}async function a(){await os(),n(!1),i(null)}async function l(){const d=await Ur();return i(d),d}async function c(){await ss()}async function u(d,f={}){return await is(d,f)}return A(as.Provider,{value:{isLoggedIn:t,user:r,signup:o,signin:s,signout:a,getCurrentUser:l,refreshAccessToken:c,authFetch:u},get children(){return e.children}})}function er(){return wt(as)}var Mf=N("<div>");function lt(e){const[t,n]=M(!1),[r,i]=M(!1);let o,s;const a=()=>e.duration??300,l=()=>e.timingFunction??"ease-in-out";return I(()=>{e.when?(i(!0),requestAnimationFrame(()=>{n(!0)})):(n(!1),clearTimeout(s),s=setTimeout(()=>{i(!1)},a()))}),fe(()=>{clearTimeout(s)}),[K(()=>K(()=>!!r())()&&(()=>{var c=Mf(),u=o;return typeof u=="function"?ut(u,c):o=c,p(c,()=>e.children),P(d=>{var f=t()?1:0,h=`opacity ${a()}ms ${l()}`,g=e.ariaLive||"polite",m=e.role||"alert";return f!==d.e&&ur(c,"opacity",d.e=f),h!==d.t&&ur(c,"transition",d.t=h),g!==d.a&&j(c,"aria-live",d.a=g),m!==d.o&&j(c,"role",d.o=m),d},{e:void 0,t:void 0,a:void 0,o:void 0}),c})()),K(()=>K(()=>!e.when)()&&e.fallback)]}var it=(e,t=[])=>({parts:(...n)=>{if(qf(t))return it(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>it(e,[...t,...n]),omit:(...n)=>it(e,t.filter(r=>!n.includes(r))),rename:n=>it(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${ze(e)}"][data-part="${ze(r)}"]`,`& [data-scope="${ze(e)}"][data-part="${ze(r)}"]`].join(", "),attrs:{"data-scope":ze(e),"data-part":ze(r)}}}),{})}),ze=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),qf=e=>e.length===0,ls=e=>typeof e=="object"&&e!==null,H=e=>e?"":void 0,jf=e=>e?"true":void 0,Tf=9,Of=e=>ls(e)&&e.nodeType===Tf,Lf=e=>ls(e)&&e===e.window;function Df(e){if(!e)return!1;const t=e.getRootNode();return cs(t)===e}function Ff(e){return Of(e)?e:Lf(e)?e.document:e?.ownerDocument??document}function cs(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}var Bf=e=>e.button===0;function Uf(e){return e==null?[]:Array.isArray(e)?e:[e]}var zr=e=>e?.constructor.name==="Array",zf=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0},tr=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(zr(e)&&zr(t))return zf(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(e,n[i]))return!1;for(let i=0;i<r;i++){const o=n[i];if(!tr(e[o],t[o]))return!1}return!0},Yf=e=>Array.isArray(e),us=e=>e!=null&&typeof e=="object",Vf=e=>us(e)&&!Yf(e),Hf=e=>typeof e=="number"&&!Number.isNaN(e),nr=e=>typeof e=="string",Pe=e=>typeof e=="function",Qf=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Xf=e=>Object.prototype.toString.call(e),fs=Function.prototype.toString,Wf=fs.call(Object),Kf=e=>{if(!us(e)||Xf(e)!="[object Object]"||Zf(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Qf(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&fs.call(n)==Wf},Gf=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Jf=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Zf=e=>Gf(e)||Jf(e),If=(()=>{let e=0;return()=>(e++,e.toString(36))})();function ds(e){if(!Kf(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const i=e[r];i!==void 0&&(n[r]=ds(i))}return n}function Yr(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function ed(e,t){if(e==null)throw new Error(t())}var Ve=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(Ve||{}),gn="__init__";function td(e){const t=()=>e.getRootNode?.()??document,n=()=>Ff(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>cs(t()),isActiveElement:Df,getById:s=>t().getElementById(s)}}function nd(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var rd=()=>e=>Array.from(new Set(e)),id=it("password-input").parts("root","input","label","control","indicator","visibilityTrigger"),Ye=id.build(),Tt=e=>e.ids?.input??`p-input-${e.id}-input`,On=e=>e.getById(Tt(e));function sd(e,t){const{scope:n,prop:r,context:i}=e,o=i.get("visible"),s=!!r("disabled"),a=!!r("invalid"),l=!!r("readOnly"),c=!!r("required"),u=!(l||s),d=r("translations");return{visible:o,disabled:s,invalid:a,focus(){On(n)?.focus()},setVisible(f){e.send({type:"VISIBILITY.SET",value:f})},toggleVisible(){e.send({type:"VISIBILITY.SET",value:!o})},getRootProps(){return t.element({...Ye.root.attrs,dir:r("dir"),"data-disabled":H(s),"data-invalid":H(a),"data-readonly":H(l)})},getLabelProps(){return t.label({...Ye.label.attrs,htmlFor:Tt(n),"data-disabled":H(s),"data-invalid":H(a),"data-readonly":H(l),"data-required":H(c)})},getInputProps(){return t.input({...Ye.input.attrs,id:Tt(n),autoCapitalize:"off",name:r("name"),required:r("required"),autoComplete:r("autoComplete"),spellCheck:!1,readOnly:l,disabled:s,type:o?"text":"password","data-state":o?"visible":"hidden","aria-invalid":jf(a),"data-disabled":H(s),"data-invalid":H(a),"data-readonly":H(l),...r("ignorePasswordManagers")?od:{}})},getVisibilityTriggerProps(){return t.button({...Ye.visibilityTrigger.attrs,type:"button",tabIndex:-1,"aria-controls":Tt(n),"aria-expanded":o,"data-readonly":H(l),disabled:s,"data-disabled":H(s),"data-state":o?"visible":"hidden","aria-label":d?.visibilityTrigger?.(o),onPointerDown(f){Bf(f)&&u&&(f.preventDefault(),e.send({type:"TRIGGER.CLICK"}))}})},getIndicatorProps(){return t.element({...Ye.indicator.attrs,"aria-hidden":!0,"data-state":o?"visible":"hidden","data-disabled":H(s),"data-invalid":H(a),"data-readonly":H(l)})},getControlProps(){return t.element({...Ye.control.attrs,"data-disabled":H(s),"data-invalid":H(a),"data-readonly":H(l)})}}}var od={"data-1p-ignore":"","data-lpignore":"true","data-bwignore":"true","data-form-type":"other","data-protonpass-ignore":"true"},ad={props({props:e}){return{id:If(),defaultVisible:!1,autoComplete:"current-password",ignorePasswordManagers:!1,...e,translations:{visibilityTrigger(t){return t?"Hide password":"Show password"},...e.translations}}},context({prop:e,bindable:t}){return{visible:t(()=>({value:e("visible"),defaultValue:e("defaultVisible"),onChange(n){e("onVisibilityChange")?.({visible:n})}}))}},initialState(){return"idle"},effects:["trackFormEvents"],states:{idle:{on:{"VISIBILITY.SET":{actions:["setVisibility"]},"TRIGGER.CLICK":{actions:["toggleVisibility","focusInputEl"]}}}},implementations:{actions:{setVisibility({context:e,event:t}){e.set("visible",t.value)},toggleVisibility({context:e}){e.set("visible",t=>!t)},focusInputEl({scope:e}){On(e)?.focus()}},effects:{trackFormEvents({scope:e,send:t}){const r=On(e)?.form;if(!r)return;const i=e.getWin(),o=new i.AbortController;return r.addEventListener("reset",s=>{s.defaultPrevented||t({type:"VISIBILITY.SET",value:!1})},{signal:o.signal}),r.addEventListener("submit",()=>{t({type:"VISIBILITY.SET",value:!1})},{signal:o.signal}),()=>o.abort()}}}};rd()(["defaultVisible","dir","id","onVisibilityChange","visible","ids","getRootNode","disabled","invalid","required","readOnly","translations","ignorePasswordManagers","autoComplete","name"]);function It(e){const t=e().value??e().defaultValue,n=e().isEqual??Object.is,[r,i]=M(t),o=z(()=>e().value!=null),s={current:r()},a={current:void 0};I(()=>{const u=o()?e().value:r();a.current=u,s.current=u});const l=u=>{const d=a.current,f=Pe(u)?u(s.current):u;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:f,prev:d}),o()||i(f),n(f,d)||e().onChange?.(f,d)};function c(){const u=o()?e().value:r;return Pe(u)?u():u}return{initial:t,ref:s,get:c,set:l,invoke(u,d){e().onChange?.(u,d)},hash(u){return e().hash?.(u)??String(u)}}}It.cleanup=e=>{fe(()=>e())};It.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function ld(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}function mn(e){return Pe(e)?e():e}var cd=(e,t)=>{let n=[],r=!0;I(()=>{if(r){n=e.map(o=>mn(o)),r=!1;return}let i=!1;for(let o=0;o<e.length;o++)if(!tr(n[o],mn(e[o]))){i=!0;break}i&&(n=e.map(o=>mn(o)),t())})};function ud(e,t={}){const n=z(()=>{const{id:$,ids:x,getRootNode:E}=pn(t);return td({id:$,ids:x,getRootNode:E})}),r=(...$)=>{e.debug&&console.log(...$)},i=z(()=>e.props?.({props:ds(pn(t)),scope:n()})??pn(t)),o=fd(i),s=e.context?.({prop:o,bindable:It,get scope(){return n()},flush:Vr,getContext(){return a},getComputed(){return C},getRefs(){return g},getEvent(){return f()}}),a={get($){return s?.[$].get()},set($,x){s?.[$].set(x)},initial($){return s?.[$].initial},hash($){const x=s?.[$].get();return s?.[$].hash(x)}},l={current:new Map},c={current:null},u={current:null},d={current:{type:""}},f=()=>ne(d.current,{current(){return d.current},previous(){return u.current}}),h=()=>ne(S,{matches(...$){const x=S.get();return $.includes(x)},hasTag($){const x=S.get();return!!e.states[x]?.tags?.includes($)}}),g=ld(e.refs?.({prop:o,context:a})??{}),m=()=>({state:h(),context:a,event:f(),prop:o,send:L,action:w,guard:v,track:cd,refs:g,computed:C,flush:Vr,get scope(){return n()},choose:_}),w=$=>{const x=Pe($)?$(m()):$;if(!x)return;const E=x.map(y=>{const k=e.implementations?.actions?.[y];return k||Yr(`[zag-js] No implementation found for action "${JSON.stringify(y)}"`),k});for(const y of E)y?.(m())},v=$=>Pe($)?$(m()):e.implementations?.guards?.[$](m()),b=$=>{const x=Pe($)?$(m()):$;if(!x)return;const E=x.map(k=>{const T=e.implementations?.effects?.[k];return T||Yr(`[zag-js] No implementation found for effect "${JSON.stringify(k)}"`),T}),y=[];for(const k of E){const T=k?.(m());T&&y.push(T)}return()=>y.forEach(k=>k?.())},_=$=>Uf($).find(x=>{let E=!x.guard;return nr(x.guard)?E=!!v(x.guard):Pe(x.guard)&&(E=x.guard(m())),E}),C=$=>{ed(e.computed,()=>"[zag-js] No computed object found on machine");const x=e.computed[$];return x({context:a,event:d.current,prop:o,refs:g,scope:n(),computed:C})},S=It(()=>({defaultValue:e.initialState({prop:o}),onChange($,x){x&&(l.current.get(x)?.(),l.current.delete(x)),x&&w(e.states[x]?.exit),w(c.current?.actions);const E=b(e.states[$]?.effects);if(E&&l.current.set($,E),x===gn){w(e.entry);const y=b(e.effects);y&&l.current.set(gn,y)}w(e.states[$]?.entry)}}));let R=Ve.NotStarted;Dn(()=>{const $=R===Ve.Started;R=Ve.Started,r($?"rehydrating...":"initializing..."),S.invoke(S.initial,gn)}),fe(()=>{r("unmounting..."),R=Ve.Stopped,l.current.forEach(x=>x?.()),l.current=new Map,c.current=null,w(e.exit)});const L=$=>{if(R!==Ve.Started)return;u.current=d.current,d.current=$;let x=S.get();const E=e.states[x].on?.[$.type]??e.on?.[$.type],y=_(E);if(!y)return;c.current=y;const k=y.target??x;r("transition",$.type,y.target||x,`(${y.actions})`);const T=k!==x;T?S.set(k):y.reenter&&!T?S.invoke(x,x):w(y.actions)};return e.watch?.(m()),{state:h(),send:L,context:a,prop:o,get scope(){return n()},refs:g,computed:C,event:f(),getStatus:()=>R}}function Vr(e){e()}function pn(e){return Pe(e)?e():e}function fd(e){return function(n){return e()[n]}}var Hr={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"},dd=e=>e.startsWith("--")?e:bd(e);function hd(e){return e in Hr?Hr[e]:e}var gd=nd(e=>{const t={};for(const n in e){const r=e[n];if(!(n==="readOnly"&&r===!1)){if(n==="style"&&Vf(r)){t.style=md(r);continue}if(n==="children"){nr(r)&&(t.textContent=r);continue}t[hd(n)]=r}}return t});function md(e){let t={};for(const n in e){const r=e[n];!nr(r)&&!Hf(r)||(t[dd(n)]=r)}return t}var pd=/[A-Z]/g,wd=/^ms-/;function yd(e){return"-"+e.toLowerCase()}var wn={};function bd(e){if(wn.hasOwnProperty(e))return wn[e];var t=e.replace(pd,yd);return wn[e]=wd.test(t)?"-"+t:t}var vd=N("<svg stroke-width=0>");function rr(e,t){const n=ne(e.a,t),[r,i]=ri(n,["src"]),[o,s]=M(""),a=z(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return I(()=>s(a())),fe(()=>{s("")}),(()=>{var l=vd();return Ce(l,ne({get stroke(){return e.a?.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},i,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return o()}}),!0,!0),p(l,()=>si),l})()}function xd(e){return rr({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><path d="M1 1 23 23"/>'},e)}function _d(e){return rr({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><path d="M12 9A3 3 0 1 0 12 15 3 3 0 1 0 12 9z"/>'},e)}var $d=N("<div><label>Password</label><div><input><button><span>");function hs(e){const t=ud(ad,{id:Ps(),autoComplete:e.autoComplete||"new-password",value:e.password||"",required:e.required||!1}),n=z(()=>sd(t,gd)),r=e.inputClass||"w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder",i=e.iconSize||22;return(()=>{var o=$d(),s=o.firstChild,a=s.nextSibling,l=a.firstChild,c=l.nextSibling,u=c.firstChild;return Ce(o,ne(()=>n().getRootProps(),{get class(){return e.class}}),!1,!0),Ce(s,ne(()=>n().getLabelProps(),{class:"block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"}),!1,!0),Ce(a,ne(()=>n().getControlProps(),{class:"relative"}),!1,!0),Ce(l,ne(()=>n().getInputProps(),{class:r,onInput:d=>e.onPasswordChange?.(d.target.value),placeholder:"••••••••"}),!1,!1),Ce(c,ne(()=>n().getVisibilityTriggerProps(),{class:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-gray-400"}),!1,!0),Ce(u,ne(()=>n().getIndicatorProps()),!1,!0),p(u,A(ce,{get when(){return n().visible},get fallback(){return A(xd,{size:i-2})},get children(){return A(_d,{size:i})}})),o})()}function gs(e){return rr({a:{viewBox:"0 0 1024 1024"},c:'<path d="M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"/>'},e)}var kd=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">'),Sd=N('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-2 sm:px-4 py-6 sm:py-12"><form aria-labelledby=signin-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-16 space-y-6 sm:space-y-8 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=signin-heading>Welcome Back</h2><p class="text-gray-500 text-base sm:text-lg">Sign in to your account.</p></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div><div></div><button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Don&apos;t have an account? <a href=/signup class="text-indigo-600 hover:underline font-semibold">Sign Up');function Cd(){const[e,t]=M(""),[n,r]=M(""),[i,o]=M(""),[s,a]=M(!1),l=vt(),{signin:c}=er();async function u(d){if(d.preventDefault(),o(""),!e()||!n()){o("Please enter email and password");return}try{a(!0),await c(e(),n()),l("/dashboard",{replace:!0})}catch{o("Invalid credentials")}finally{a(!1)}}return(()=>{var d=Sd(),f=d.firstChild,h=f.firstChild,g=h.nextSibling,m=g.firstChild,w=m.nextSibling,v=g.nextSibling,b=v.nextSibling,_=b.nextSibling,C=_.firstChild,S=C.nextSibling;return f.addEventListener("submit",u),w.$$input=R=>t(R.target.value),p(v,A(hs,{get password(){return n()},onPasswordChange:r,autoComplete:"current-password",required:!0}),null),p(v,A(lt,{get when(){return!!i()},get children(){var R=kd();return p(R,i),R}}),null),p(b,A(lt,{get when(){return s()},get children(){return A(gs,{class:"animate-spin mr-2",size:22})}}),null),p(b,()=>s()?"Signing In...":"Sign In",null),S.$$click=R=>{R.preventDefault(),l("/signup")},P(()=>b.disabled=s()),P(()=>w.value=e()),d})()}ee(["input","click"]);var Ad=N('<div class="w-full mt-3 sm:mt-4"><div class="text-sm sm:text-base text-gray-700"id=password-requirements aria-live=polite><ul class="pace-y-0.5 sm:space-y-1">'),Pd=N('<li class="flex items-center gap-2"><span aria-hidden=true></span><span>'),Ed=N('<svg class="w-2 h-2 sm:w-3 sm:h-3"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M4 8l3 3 5-5">');const st=[{label:"8 characters or more",test:e=>e.length>=8,error:"at least 8 characters"},{label:"Uppercase letter",test:e=>/[A-Z]/.test(e),error:"an uppercase letter"},{label:"Lowercase letter",test:e=>/[a-z]/.test(e),error:"a lowercase letter"},{label:"Number",test:e=>/\d/.test(e),error:"a number"},{label:"Special character (e.g. !?<>@#$%)",test:e=>/[^A-Za-z0-9]/.test(e),error:"a symbol"}];function Nd(e){if(!e)return{met:[],unmet:st.map(i=>i.label)};const t=st.filter(i=>i.test(e)).map(i=>i.label),n=st.filter(i=>!i.test(e)).map(i=>i.label),r=st.filter(i=>!i.test(e)).map(i=>i.error);return{met:t,unmet:n,errors:r}}function Rd(e){const t=z(()=>Nd(e.password||""));return I(()=>{e.onUnmet?.(t().errors)}),(()=>{var n=Ad(),r=n.firstChild,i=r.firstChild;return p(i,()=>st.map(o=>{const s=t().met.includes(o.label);return(()=>{var a=Pd(),l=a.firstChild,c=l.nextSibling;return ae(l,`w-3 h-3 sm:w-4 sm:h-4 ml-1 rounded-full flex items-center justify-center ${s?"bg-green-500 text-white":"border-gray-500 border"}`),p(l,s?Ed():null),ae(c,s?"text-gray-900":"text-gray-500"),p(c,()=>o.label),a})()})),n})()}var Md=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">Password must include '),qd=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">'),jd=N('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-2 sm:px-4 py-6 sm:py-12"><form aria-labelledby=signup-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-16 space-y-6 sm:space-y-8 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=signup-heading>Get Started</h2><p class="text-gray-500 text-base sm:text-lg">Create a new account.</p></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=name-input>Name</label><div class=relative><input type=text autocomplete=name autocapitalize=words spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=name-input placeholder="What should we call you?"></div></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><div class=relative><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div></div><div></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=confirm-password-input>Confirm Password</label><div class=relative><input type=password autocomplete=new-password autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder"required id=confirm-password-input placeholder=••••••••></div></div><button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Already have an account? <a href=/signin class="text-indigo-600 hover:underline font-semibold">Sign In');function Td(){const[e,t]=M(""),[n,r]=M(""),[i,o]=M(""),[s,a]=M(""),[l,c]=M(""),[u,d]=M(""),[f,h]=M(!1),[g,m]=M([]),[w,v]=M(!1),b=vt(),{signup:_}=er();async function C(S){if(S.preventDefault(),h(!0),c(""),d(""),!e()||!n()||!i()||!s()){c("Please fill out all fields");return}if(i()!==s()){c("Passwords do not match");return}if(!(g().length>0)){v(!0);try{await _(n(),i(),e()),d("Account created! You can now sign in."),setTimeout(()=>b("/signin",{replace:!0}),1200)}catch(R){c(R.message||"Sign up failed")}finally{v(!1)}}}return(()=>{var S=jd(),R=S.firstChild,L=R.firstChild,$=L.nextSibling,x=$.firstChild,E=x.nextSibling,y=E.firstChild,k=$.nextSibling,T=k.firstChild,q=T.nextSibling,O=q.firstChild,D=k.nextSibling,B=D.nextSibling,V=B.firstChild,Y=V.nextSibling,Se=Y.firstChild,ie=B.nextSibling,ye=ie.nextSibling,Me=ye.firstChild,$t=Me.nextSibling;return R.addEventListener("submit",C),y.$$input=W=>t(W.target.value),O.$$input=W=>r(W.target.value),p(D,A(hs,{get password(){return i()},onPasswordChange:o,autoComplete:"new-password",required:!0}),null),p(D,A(lt,{get when(){return K(()=>!!f())()&&g().length>0},get children(){var W=Md();return W.firstChild,p(W,()=>g()?.[0],null),W}}),null),p(D,A(Rd,{get password(){return i()},onUnmet:m}),null),Se.$$input=W=>a(W.target.value),p(B,A(lt,{get when(){return!!l()},get children(){var W=qd();return p(W,l),W}}),null),p(ie,A(lt,{get when(){return w()},get children(){return A(gs,{class:"animate-spin mr-2",size:22})}}),null),p(ie,()=>w()?"Signing Up...":"Sign Up",null),$t.$$click=W=>{W.preventDefault(),b("/signin")},P(()=>ie.disabled=w()),P(()=>y.value=e()),P(()=>O.value=n()),P(()=>Se.value=s()),S})()}ee(["input","click"]);var Od=N('<form class="max-w-sm mx-auto mt-8 p-4 border rounded shadow"><h2 class="text-xl mb-4">Verify Email</h2><div class=mb-2><label class="block mb-1">Verification Code</label><input type=text class="w-full p-2 border rounded"required></div><button type=submit class="w-full bg-purple-600 text-white py-2 rounded">Verify'),Ld=N('<div class="text-red-600 mb-2">'),Dd=N('<div class="text-green-600 mb-2">');function Fd({onVerify:e}){const[t,n]=M(""),[r,i]=M(""),[o,s]=M("");async function a(c){if(c.preventDefault(),i(""),s(""),!t()){i("Please enter the verification code");return}try{await l(t()),s("Email verified! You can now sign in."),e&&e(t())}catch{i("Invalid verification code")}}function l(c){return new Promise((u,d)=>{setTimeout(()=>{c==="123456"?u():d()},500)})}return(()=>{var c=Od(),u=c.firstChild,d=u.nextSibling,f=d.firstChild,h=f.nextSibling,g=d.nextSibling;return c.addEventListener("submit",a),h.$$input=m=>n(m.target.value),p(c,(()=>{var m=K(()=>!!r());return()=>m()&&(()=>{var w=Ld();return p(w,r),w})()})(),g),p(c,(()=>{var m=K(()=>!!o());return()=>m()&&(()=>{var w=Dd();return p(w,o),w})()})(),g),P(()=>h.value=t()),c})()}ee(["input"]);var Bd=N('<form class="max-w-sm mx-auto mt-8 p-4 border rounded shadow"><h2 class="text-xl mb-4">Reset Password</h2><div class=mb-2><label class="block mb-1">Email</label><input type=email class="w-full p-2 border rounded"required></div><div class=mb-2><label class="block mb-1">New Password</label><input type=password class="w-full p-2 border rounded"required></div><div class=mb-2><label class="block mb-1">Confirm New Password</label><input type=password class="w-full p-2 border rounded"required></div><button type=submit class="w-full bg-yellow-600 text-white py-2 rounded">Reset Password'),Ud=N('<div class="text-red-600 mb-2">'),zd=N('<div class="text-green-600 mb-2">');function Yd({onReset:e}){const[t,n]=M(""),[r,i]=M(""),[o,s]=M(""),[a,l]=M(""),[c,u]=M("");async function d(h){if(h.preventDefault(),l(""),u(""),!t()||!r()||!o()){l("Please fill out all fields");return}if(r()!==o()){l("Passwords do not match");return}try{await f(t(),r()),u("Password reset successful! You can now sign in."),e&&e(t())}catch{l("Password reset failed")}}function f(h,g){return new Promise((m,w)=>{setTimeout(()=>{h&&g?m():w()},500)})}return(()=>{var h=Bd(),g=h.firstChild,m=g.nextSibling,w=m.firstChild,v=w.nextSibling,b=m.nextSibling,_=b.firstChild,C=_.nextSibling,S=b.nextSibling,R=S.firstChild,L=R.nextSibling,$=S.nextSibling;return h.addEventListener("submit",d),v.$$input=x=>n(x.target.value),C.$$input=x=>i(x.target.value),L.$$input=x=>s(x.target.value),p(h,(()=>{var x=K(()=>!!a());return()=>x()&&(()=>{var E=Ud();return p(E,a),E})()})(),$),p(h,(()=>{var x=K(()=>!!c());return()=>x()&&(()=>{var E=zd();return p(E,c),E})()})(),$),P(()=>v.value=t()),P(()=>C.value=r()),P(()=>L.value=o()),h})()}ee(["input"]);var Vd=N('<div class="ml-1 border-l border-gray-100 pl-2 mt-1 space-y-1">'),Hd=N('<div class=mb-2><div class="flex items-center justify-between cursor-pointer select-none rounded-lg transition-colors px-2 py-2 font-semibold text-gray-800 hover:bg-gray-100"tabindex=0 role=button><span class=truncate></span><button class="ml-2 flex items-center justify-center w-8 h-8 rounded hover:bg-gray-200 transition-colors"tabindex=0 type=button><svg fill=none stroke=currentColor stroke-width=2.2 viewBox="0 0 20 20"><polyline points="6 8 10 12 14 8"fill=none stroke-linecap=round stroke-linejoin=round>');function Qd(e){const[t,n]=M({}),{projects:r}=Ze(),i=()=>r().find(a=>a.id===e.projectId),o=()=>i()&&t()[i().id],s=a=>{a.stopPropagation(),n(l=>({...l,[i().id]:!l[i().id]}))};return(()=>{var a=Hd(),l=a.firstChild,c=l.firstChild,u=c.nextSibling,d=u.firstChild;return l.$$click=()=>e.onSelect?.({project:i()}),p(c,()=>i().name||i().id),u.$$click=s,p(a,A(ce,{get when(){return K(()=>!!o())()&&i().checklists?.length>0},get children(){var f=Vd();return p(f,A(ii,{get each(){return i().checklists},children:h=>e.children(h)})),f}}),null),P(f=>{var h=o()?"Collapse project":"Expand project",g=`transition-transform duration-200 w-5 h-5 text-gray-500 ${o()?"rotate-90":""}`;return h!==f.e&&j(u,"aria-label",f.e=h),g!==f.t&&j(d,"class",f.t=g),f},{e:void 0,t:void 0}),a})()}ee(["click"]);var Xd=N('<div style=max-width:100vw><div><div class="flex-1 overflow-y-auto sidebar-scrollbar"><div class=p-4><div class=mb-4><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Projects</h3></div><div class=space-y-2><button class="w-full bg-gray-900 hover:bg-gray-800 text-white px-4 py-3 rounded-lg transition-colors duration-200 flex items-center gap-3 text-base font-medium"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2.5 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>New Project</button></div></div><div class=px-4><div class=mb-4><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Checklists</h3></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Actions</h3></div><div class=space-y-1><button class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Export CSV</button><label class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>Import CSV<input type=file accept=.csv,text/csv class=hidden></label><button class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF URL</button><label class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-3 text-base cursor-pointer"><svg class="w-5 h-5 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF File<input type=file accept=application/pdf class=hidden></label></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Settings</h3></div><div class=space-y-1><button class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-red-600 hover:bg-red-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-red-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear all data</button><div class=mt-20>'),Wd=N('<div class="text-center py-12 px-4"><div class="w-12 h-12 bg-gray-100 rounded-lg mx-auto mb-4 flex items-center justify-center"><svg class="w-6 h-6 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-base text-gray-500 font-medium">No projects yet'),Kd=N('<div style=flex:1><button class="flex-1 flex items-center gap-3 px-3 py-2.5 text-left focus:outline-none"tabindex=0><svg class="w-5 h-5 text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><div class="flex-1 min-w-0"><div class="flex gap-3 items-center"><div class="text-base font-medium truncate"></div><span></span></div><div class="text-sm text-gray-500 mt-1"></div></div></button><button aria-label="Delete checklist"tabindex=-1><svg class="w-5 h-5"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Gd=N('<span class="inline-block w-2 h-2 rounded-full"style=background:currentColor>');function Jd(e){const{projects:t,currentChecklist:n,checklists:r}=Ze(),i=vt();function o(){const a=window.prompt("Enter PDF URL:");a&&e.setPdfUrl(a)}function s(a){const l=a.target.files[0];if(l&&l.type==="application/pdf"){const c=URL.createObjectURL(l);e.setPdfUrl(c)}else alert("Please select a valid PDF file.")}return(()=>{var a=Xd(),l=a.firstChild,c=l.firstChild,u=c.firstChild,d=u.firstChild,f=d.nextSibling,h=f.firstChild,g=u.nextSibling,m=g.nextSibling,w=m.firstChild,v=w.nextSibling,b=v.firstChild,_=b.nextSibling,C=_.firstChild,S=C.nextSibling,R=S.nextSibling,L=_.nextSibling,$=L.nextSibling,x=$.firstChild,E=x.nextSibling,y=E.nextSibling,k=m.nextSibling,T=k.firstChild,q=T.nextSibling,O=q.firstChild;return Ae(h,"click",e.onAddProject,!0),p(f,A(ce,{get when(){return t()?.length>0},get fallback(){return Wd()},get children(){return A(ii,{get each(){return t()},children:D=>A(Qd,{get projectId(){return D.id},onSelect:()=>{const V=t().filter(Y=>Y.name===D.name).findIndex(Y=>Y.id===D.id);i(`/project/${encodeURIComponent(D.name)}/${V}`)},children:B=>(()=>{var V=Kd(),Y=V.firstChild,Se=Y.firstChild,ie=Se.nextSibling,ye=ie.firstChild,Me=ye.firstChild,$t=Me.nextSibling,W=ye.nextSibling,ir=Y.nextSibling;return Y.$$click=J=>{J.stopPropagation(),i(`/checklist/${B.id}`)},p(Me,()=>B.name),p($t,()=>{if(!B)return"Unknown";const J=$e.scoreChecklist(B);return J.length+(B.name?.length||0)<30?J:Gd()}),p(W,()=>new Date(B.createdAt).toLocaleDateString()),ir.$$click=J=>{J.stopPropagation(),e.onDeleteChecklist(D.id,B.id)},P(J=>{var sr=`
            flex items-center group rounded-lg transition-colors
            ${n()&&B.id===n().id?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}
          `,or=`
                                text-xs font-semibold px-2 py-0.5 rounded
                                ${(()=>{const kt=$e.scoreChecklist(B);return kt==="High"?"bg-green-100 text-green-800":kt==="Moderate"?"bg-yellow-100 text-yellow-800":kt==="Low"?"bg-orange-100 text-orange-800":kt==="Critically Low"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"})()}
                              `,ar=`
                          p-2 mr-2 rounded transition-colors text-gray-400 hover:text-red-600 hover:bg-red-50
                          ${n()&&B.id!==n().id?"opacity-0 group-hover:opacity-100":""}
                        `;return sr!==J.e&&ae(V,J.e=sr),or!==J.t&&ae($t,J.t=or),ar!==J.a&&ae(ir,J.a=ar),J},{e:void 0,t:void 0,a:void 0}),V})()})})}}),null),Ae(b,"click",e.onExportCSV,!0),Ae(R,"change",e.onImportCSV),L.$$click=o,y.addEventListener("change",s),Ae(O,"click",e.onDeleteAll,!0),P(D=>{var B=`
        transition-all duration-200 ease-in-out
        bg-white border-r border-gray-200 h-screen overflow-x-hidden
        ${e.open?"w-90":"w-0"}
        
        /* Mobile: Fixed overlay */
        md:relative
        ${e.open?"":"md:w-0"}
        
        /* Mobile overlay behavior */
        fixed top-0 left-0 z-30 md:static md:z-auto
        ${e.open?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,V=`
          flex flex-col h-full
          transition-opacity duration-100
          ${e.open?"duration-500 opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
        `;return B!==D.e&&ae(a,D.e=B),V!==D.t&&ae(l,D.t=V),D},{e:void 0,t:void 0}),a})()}ee(["click"]);var Zd=N('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 mx-2 animate-fade-in"><div class=mb-4><h2 class="text-lg font-semibold text-gray-900"></h2></div><div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"autofocus>Cancel</button><button class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors">'),Id=N('<p class="mt-2 text-gray-600">');function Qr(e){return A(ce,{get when(){return e.open},get children(){var t=Zd(),n=t.firstChild,r=n.firstChild,i=r.firstChild,o=r.nextSibling,s=o.firstChild,a=s.nextSibling;return p(i,()=>e.title||"Are you sure?"),p(r,(()=>{var l=K(()=>!!e.description);return()=>l()&&(()=>{var c=Id();return p(c,()=>e.description),c})()})(),null),Ae(s,"click",e.onCancel,!0),Ae(a,"click",e.onConfirm,!0),p(a,()=>e.confirmText||"Delete"),t}})}ee(["click"]);var eh=N('<div><div class="w-full h-full overflow-auto"></div><div role=separator tabindex=0 style=touch-action:none>');function th(e){const t=e.direction||"horizontal",n=t==="horizontal"?"right":"bottom",r=e.position||n,i=e.min??200,o=e.max??800,s=e.initial??400,[a,l]=M(s);let c=!1,u=0,d=0,f=null;const h=v=>{c=!0,f=v.pointerId,u=t==="horizontal"?v.clientX:v.clientY,d=a(),document.body.style.userSelect="none",v.target.setPointerCapture(f),window.addEventListener("pointermove",g),window.addEventListener("pointerup",m)},g=v=>{if(!c)return;let b=t==="horizontal"?v.clientX-u:v.clientY-u;(r==="left"||r==="top")&&(b=-b);let _=d+b;_=Math.max(i,Math.min(o,_)),l(_)},m=v=>{if(c=!1,document.body.style.userSelect="",v.target.releasePointerCapture&&f!==null)try{v.target.releasePointerCapture(f)}catch{}window.removeEventListener("pointermove",g),window.removeEventListener("pointerup",m),f=null};let w="";return t==="horizontal"?w=r==="right"?"top-0 right-0 h-full w-2 cursor-col-resize":"top-0 left-0 h-full w-2 cursor-col-resize":w=r==="bottom"?"left-0 bottom-0 w-full h-2 cursor-row-resize":"left-0 top-0 w-full h-2 cursor-row-resize",(()=>{var v=eh(),b=v.firstChild,_=b.nextSibling;return ae(v,`relative ${t==="horizontal"?"h-full":"w-full"}`),p(b,()=>e.children),_.$$pointerdown=h,ae(_,`absolute ${w} bg-gray-200 hover:bg-gray-300 transition-colors z-10`),j(_,"aria-orientation",t),P(C=>nn(v,t==="horizontal"?`width: ${a()}px; min-width:0;`:`height: ${a()}px; min-height:0;`,C)),v})()}ee(["pointerdown"]);var nh=N('<nav class="flex items-center justify-between bg-gradient-to-r from-blue-700 to-blue-500 text-white px-8 py-4 shadow-lg"><div class="flex items-center space-x-4"><button class="ml-[-12px] bg-white/80 text-blue-700 p-2 rounded-full shadow hover:bg-white hover:scale-105 transition-all duration-150 border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"aria-label="Toggle sidebar open or closed"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16"></path></svg></button><span class="font-extrabold text-2xl tracking-tight drop-shadow">CoRATES</span></div><div class="flex space-x-6 items-center">'),rh=N("<span class=font-medium>Hello, "),ih=N('<button class="hover:bg-blue-600 px-3 py-2 rounded transition font-medium">Sign Out');function sh(e){const{user:t,signout:n}=er();return(()=>{var r=nh(),i=r.firstChild,o=i.firstChild,s=i.nextSibling;return Ae(o,"click",e.toggleSidebar,!0),p(s,A(je,{href:"/",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Home"}),null),p(s,A(je,{href:"/dashboard",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Dashboard"}),null),p(s,(()=>{var a=K(()=>!!t());return()=>a()&&[(()=>{var l=rh();return l.firstChild,p(l,()=>t().name,null),l})(),(()=>{var l=ih();return l.$$click=async()=>{await n()},l})()]})(),null),p(s,(()=>{var a=K(()=>!t());return()=>a()&&[A(je,{href:"/signin",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Sign In"}),A(je,{href:"/signup",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Sign Up"})]})(),null),r})()}ee(["click"]);var oh=N('<div class="sm:hidden fixed inset-0 bg-black/50 z-20 transition-opacity duration-300">'),ah=N('<div class="h-full border-l border-gray-200 bg-white flex flex-col"><iframe class="w-full h-full"title="PDF Viewer"style=min-width:300px>'),lh=N('<div class="flex flex-col h-screen overflow-y-hidden"><div class="flex flex-1 h-0 min-h-0"><div></div><div class="flex-1 min-h-0 overflow-y-auto">'),ch=N('<div class="p-8 text-center">Loading projects...');function uh(e){const[t,n]=M(!1),[r,i]=M(!1),[o,s]=M(!1),[a,l]=M(null),[c,u]=M(null),{projects:d,loading:f,loadData:h,setProjects:g,currentProject:m,addProject:w,deleteChecklist:v,currentChecklist:b,setCurrentChecklist:_,updateChecklist:C}=Ze();Dn(async()=>{try{await h()}catch(y){console.error("Error loading projects:",y)}});const S=async()=>{try{await jo(),_(null),alert("All checklists deleted!")}catch(y){console.error("Error removing all checklists:",y),alert("Error deleting checklists!")}finally{i(!1)}},R=()=>{let y="this checklist";const k=a();if(k&&k.projectId&&k.checklistId){const T=d().find(q=>q.id===k.projectId);if(T){const q=T.checklists.find(O=>O.id===k.checklistId);q&&(y=q.title||q.name||"Untitled Checklist")}}return`Are you sure you want to delete ${y}? This action cannot be undone.`},L=()=>i(!1),$=(y,k)=>{console.log("Request to delete checklist id:",k,"from project:",y),l({projectId:y,checklistId:k}),s(!0)},x=async()=>{const y=a();if(!(!y||!y.projectId||!y.checklistId))try{console.log("Deleting checklist id:",y.checklistId,"from project:",y.projectId),await v(y.projectId,y.checklistId)}catch(k){console.error("Error deleting checklist:",k),alert("Error deleting checklist!")}finally{s(!1),l(null)}},E=()=>{s(!1),l(null)};return(()=>{var y=lh(),k=y.firstChild,T=k.firstChild,q=T.nextSibling;return p(y,A(sh,{toggleSidebar:()=>n(O=>!O),get open(){return t()}}),k),p(T,A(Jd,{get open(){return t()},onClose:()=>n(!1),setPdfUrl:u,onDeleteChecklist:$})),p(q,A(ce,{get when(){return!f()},get fallback(){return ch()},get children(){return e.children}})),p(k,A(ce,{get when(){return t()},get children(){var O=oh();return O.$$click=()=>n(!1),O}}),null),p(k,A(ce,{get when(){return c()},get children(){return A(th,{direction:"horizontal",min:250,max:1600,initial:500,position:"left",get children(){var O=ah(),D=O.firstChild;return P(()=>j(D,"src",c())),O}})}}),null),p(y,A(Qr,{get open(){return o()},title:"Delete checklist?",get description(){return R()},confirmText:"Delete",onCancel:E,onConfirm:x}),null),p(y,A(Qr,{get open(){return r()},title:"Delete all checklists?",description:"Are you sure you want to delete all saved checklists? This action cannot be undone.",confirmText:"Delete all",onCancel:L,onConfirm:S}),null),y})()}ee(["click"]);function fh(){return A(xo,{base:"/amstar2-checklist-scoring-app",get children(){return[A(be,{path:"/",component:Eo}),A(be,{path:"/",component:uh,get children(){return[A(be,{path:"/dashboard",component:Pf}),A(be,{path:"/project/:name/:index",component:_f}),A(be,{path:"/checklist/:id",component:sa}),A(be,{path:"/signin",component:Cd}),A(be,{path:"/signup",component:Td})]}}),A(be,{path:"/verify-email",component:Fd}),A(be,{path:"/reset-password",component:Yd})]}})}Fs(()=>A(Do,{get children(){return A(Rf,{get children(){return A(fh,{})}})}}),document.getElementById("root"));
