(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Eo=!1,Po=(e,t)=>e===t,Le=Symbol("solid-proxy"),Ji=typeof Proxy=="function",dr=Symbol("solid-track"),xn={equals:Po};let Zi=is;const rt=1,_n=2,es={owned:null,cleanups:null,context:null,owner:null};var X=null;let Zn=null,Ro=null,ie=null,ye=null,We=null,Un=0;function xt(e,t){const n=ie,r=X,i=e.length===0,s=t===void 0?r:t,o=i?es:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=i?e:()=>e(()=>Pe(()=>Ft(o)));X=o,ie=null;try{return it(a,!0)}finally{ie=n,X=r}}function D(e,t){t=t?Object.assign({},xn,t):xn;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),rs(n,i));return[ns.bind(n),r]}function H(e,t,n){const r=Or(e,t,!1,rt);Jt(r)}function ue(e,t,n){Zi=qo;const r=Or(e,t,!1,rt);(!n||!n.render)&&(r.user=!0),We?We.push(r):Jt(r)}function ee(e,t,n){n=n?Object.assign({},xn,n):xn;const r=Or(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Jt(r),ns.bind(r)}function ts(e){return it(e,!1)}function Pe(e){if(ie===null)return e();const t=ie;ie=null;try{return e()}finally{ie=t}}function Nr(e,t,n){const r=Array.isArray(e);let i,s=n&&n.defer;return o=>{let a;if(r){a=Array(e.length);for(let c=0;c<e.length;c++)a[c]=e[c]()}else a=e();if(s)return s=!1,o;const l=Pe(()=>t(a,i,o));return i=a,l}}function Gt(e){ue(()=>Pe(e))}function Re(e){return X===null||(X.cleanups===null?X.cleanups=[e]:X.cleanups.push(e)),e}function hr(){return ie}function Ir(){return X}function Tr(e,t){const n=X,r=ie;X=e,ie=null;try{return it(t,!0)}catch(i){Lr(i)}finally{X=n,ie=r}}function No(e){const t=ie,n=X;return Promise.resolve().then(()=>{ie=t,X=n;let r;return it(e,!1),ie=X=null,r?r.done:void 0})}const[Vp,Bp]=D(!1);function Vn(e,t){const n=Symbol("context");return{id:n,Provider:Lo(n),defaultValue:e}}function Xt(e){let t;return X&&X.context&&(t=X.context[e.id])!==void 0?t:e.defaultValue}function qr(e){const t=ee(e),n=ee(()=>gr(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function ns(){if(this.sources&&this.state)if(this.state===rt)Jt(this);else{const e=ye;ye=null,it(()=>$n(this),!1),ye=e}if(ie){const e=this.observers?this.observers.length:0;ie.sources?(ie.sources.push(this),ie.sourceSlots.push(e)):(ie.sources=[this],ie.sourceSlots=[e]),this.observers?(this.observers.push(ie),this.observerSlots.push(ie.sources.length-1)):(this.observers=[ie],this.observerSlots=[ie.sources.length-1])}return this.value}function rs(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&it(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],o=Zn&&Zn.running;o&&Zn.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?ye.push(s):We.push(s),s.observers&&ss(s)),o||(s.state=rt)}if(ye.length>1e6)throw ye=[],new Error},!1)),t}function Jt(e){if(!e.fn)return;Ft(e);const t=Un;Io(e,e.value,t)}function Io(e,t,n){let r;const i=X,s=ie;ie=X=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=rt,e.owned&&e.owned.forEach(Ft),e.owned=null),e.updatedAt=n+1,Lr(o)}finally{ie=s,X=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?rs(e,r):e.value=r,e.updatedAt=n)}function Or(e,t,n,r=rt,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:X,context:X?X.context:null,pure:n};return X===null||X!==es&&(X.owned?X.owned.push(s):X.owned=[s]),s}function kn(e){if(e.state===0)return;if(e.state===_n)return $n(e);if(e.suspense&&Pe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Un);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===rt)Jt(e);else if(e.state===_n){const r=ye;ye=null,it(()=>$n(e,t[0]),!1),ye=r}}function it(e,t){if(ye)return e();let n=!1;t||(ye=[]),We?n=!0:We=[],Un++;try{const r=e();return To(n),r}catch(r){n||(We=null),ye=null,Lr(r)}}function To(e){if(ye&&(is(ye),ye=null),e)return;const t=We;We=null,t.length&&it(()=>Zi(t),!1)}function is(e){for(let t=0;t<e.length;t++)kn(e[t])}function qo(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:kn(r)}for(t=0;t<n;t++)kn(e[t])}function $n(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===rt?r!==t&&(!r.updatedAt||r.updatedAt<Un)&&kn(r):i===_n&&$n(r,t)}}}function ss(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=_n,n.pure?ye.push(n):We.push(n),n.observers&&ss(n))}}function Ft(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),o=n.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Ft(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ft(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Oo(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Lr(e,t=X){throw Oo(e)}function gr(e){if(typeof e=="function"&&!e.length)return gr(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=gr(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Lo(e,t){return function(r){let i;return H(()=>i=Pe(()=>(X.context={...X.context,[e]:r.value},qr(()=>r.children))),void 0),i}}const Mo=Symbol("fallback");function ti(e){for(let t=0;t<e.length;t++)e[t]()}function jo(e,t,n={}){let r=[],i=[],s=[],o=0,a=t.length>1?[]:null;return Re(()=>ti(s)),()=>{let l=e()||[],c=l.length,u,f;return l[dr],Pe(()=>{let m,$,S,E,R,p,v,y,k;if(c===0)o!==0&&(ti(s),s=[],r=[],i=[],o=0,a&&(a=[])),n.fallback&&(r=[Mo],i[0]=xt(C=>(s[0]=C,n.fallback())),o=1);else if(o===0){for(i=new Array(c),f=0;f<c;f++)r[f]=l[f],i[f]=xt(d);o=c}else{for(S=new Array(c),E=new Array(c),a&&(R=new Array(c)),p=0,v=Math.min(o,c);p<v&&r[p]===l[p];p++);for(v=o-1,y=c-1;v>=p&&y>=p&&r[v]===l[y];v--,y--)S[y]=i[v],E[y]=s[v],a&&(R[y]=a[v]);for(m=new Map,$=new Array(y+1),f=y;f>=p;f--)k=l[f],u=m.get(k),$[f]=u===void 0?-1:u,m.set(k,f);for(u=p;u<=v;u++)k=r[u],f=m.get(k),f!==void 0&&f!==-1?(S[f]=i[u],E[f]=s[u],a&&(R[f]=a[u]),f=$[f],m.set(k,f)):s[u]();for(f=p;f<c;f++)f in S?(i[f]=S[f],s[f]=E[f],a&&(a[f]=R[f],a[f](f))):i[f]=xt(d);i=i.slice(0,o=c),r=l.slice(0)}return i});function d(m){if(s[f]=m,a){const[$,S]=D(f);return a[f]=S,t(l[f],$)}return t(l[f])}}}function A(e,t){return Pe(()=>e(t||{}))}function rn(){return!0}const pr={get(e,t,n){return t===Le?n:e.get(t)},has(e,t){return t===Le?!0:e.has(t)},set:rn,deleteProperty:rn,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:rn,deleteProperty:rn}},ownKeys(e){return e.keys()}};function er(e){return(e=typeof e=="function"?e():e)?e:{}}function Do(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Q(...e){let t=!1;for(let o=0;o<e.length;o++){const a=e[o];t=t||!!a&&Le in a,e[o]=typeof a=="function"?(t=!0,ee(a)):a}if(Ji&&t)return new Proxy({get(o){for(let a=e.length-1;a>=0;a--){const l=er(e[a])[o];if(l!==void 0)return l}},has(o){for(let a=e.length-1;a>=0;a--)if(o in er(e[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<e.length;a++)o.push(...Object.keys(er(e[a])));return[...new Set(o)]}},pr);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const a=e[o];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const f=Object.getOwnPropertyDescriptor(a,u);if(!r[u])r[u]=f.get?{enumerable:!0,configurable:!0,get:Do.bind(n[u]=[f.get.bind(a)])}:f.value!==void 0?f:void 0;else{const d=n[u];d&&(f.get?d.push(f.get.bind(a)):f.value!==void 0&&d.push(()=>f.value))}}}const i={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const a=s[o],l=r[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function os(e,...t){if(Ji&&Le in e){const i=new Set(t.length>1?t.flat():t[0]),s=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},pr));return s.push(new Proxy({get(o){return i.has(o)?void 0:e[o]},has(o){return i.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!i.has(o))}},pr)),s}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let a=!1,l=0;for(const c of t)c.includes(i)&&(a=!0,o?r[l][i]=s.value:Object.defineProperty(r[l],i,s)),++l;a||(o?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}let Fo=0;function as(){return`cl-${Fo++}`}const Uo=e=>`Stale read from <${e}>.`;function tt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return ee(jo(()=>e.each,e.children,t||void 0))}function ge(e){const t=e.keyed,n=ee(()=>e.when,void 0,void 0),r=t?n:ee(n,void 0,{equals:(i,s)=>!i==!s});return ee(()=>{const i=r();if(i){const s=e.children;return typeof s=="function"&&s.length>0?Pe(()=>s(t?i:()=>{if(!Pe(r))throw Uo("Show");return n()})):s}return e.fallback},void 0,void 0)}const Vo=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],Bo=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...Vo]),zo=new Set(["innerHTML","textContent","innerText","children"]),Ho=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Yo=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Wo(e,t){const n=Yo[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Qo=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ko={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Ke=e=>ee(()=>e());function Go(e,t,n){let r=n.length,i=t.length,s=r,o=0,a=0,l=t[i-1].nextSibling,c=null;for(;o<i||a<s;){if(t[o]===n[a]){o++,a++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===o){const u=s<r?a?n[a-1].nextSibling:n[s-a]:l;for(;a<s;)e.insertBefore(n[a++],u)}else if(s===a)for(;o<i;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[s-1]&&n[a]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--s],u),t[i]=n[s]}else{if(!c){c=new Map;let f=a;for(;f<s;)c.set(n[f],f++)}const u=c.get(t[o]);if(u!=null)if(a<u&&u<s){let f=o,d=1,m;for(;++f<i&&f<s&&!((m=c.get(t[f]))==null||m!==u+d);)d++;if(d>u-a){const $=t[o];for(;a<u;)e.insertBefore(n[a++],$)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const ni="_$DX_DELEGATE";function Xo(e,t,n,r={}){let i;return xt(s=>{i=s,t===document?e():P(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function I(e,t,n,r){let i;const s=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},o=()=>(i||(i=s())).cloneNode(!0);return o.cloneNode=o,o}function ke(e,t=window.document){const n=t[ni]||(t[ni]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,ra))}}function _e(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Jo(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function Zo(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function me(e,t){t==null?e.removeAttribute("class"):e.className=t}function Fe(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=s=>i.call(e,n[1],s))}else e.addEventListener(t,n,typeof n!="function"&&n)}function ea(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let s,o;for(s=0,o=i.length;s<o;s++){const a=i[s];!a||a==="undefined"||t[a]||(ri(e,a,!1),delete n[a])}for(s=0,o=r.length;s<o;s++){const a=r[s],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(ri(e,a,!0),n[a]=l)}return n}function Bn(e,t,n){if(!t)return n?_e(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function jt(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function xe(e,t={},n,r){const i={};return r||H(()=>i.children=Vt(e,t.children,i.children)),H(()=>typeof t.ref=="function"&&Ut(t.ref,e)),H(()=>ta(e,t,n,!0,i,!0)),i}function Ut(e,t,n){return Pe(()=>e(t,n))}function P(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return Vt(e,t,r,n);H(i=>Vt(e,t(),i,n),r)}function ta(e,t,n,r,i={},s=!1){t||(t={});for(const o in i)if(!(o in t)){if(o==="children")continue;i[o]=ii(e,o,null,i[o],n,s,t)}for(const o in t){if(o==="children")continue;const a=t[o];i[o]=ii(e,o,a,i[o],n,s,t)}}function na(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function ri(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function ii(e,t,n,r,i,s,o){let a,l,c,u,f;if(t==="style")return Bn(e,n,r);if(t==="classList")return ea(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);r&&e.removeEventListener(d,r,typeof r!="function"&&r),n&&e.addEventListener(d,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);r&&e.removeEventListener(d,r,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),m=Qo.has(d);if(!m&&r){const $=Array.isArray(r)?r[0]:r;e.removeEventListener(d,$)}(m||n)&&(Fe(e,d,n,m),m&&ke([d]))}else if(t.slice(0,5)==="attr:")_e(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")Zo(e,t.slice(5),n);else if((f=t.slice(0,5)==="prop:")||(c=zo.has(t))||!i&&((u=Wo(t,e.tagName))||(l=Bo.has(t)))||(a=e.nodeName.includes("-")||"is"in o))f&&(t=t.slice(5),l=!0),t==="class"||t==="className"?me(e,n):a&&!l&&!c?e[na(t)]=n:e[u||t]=n;else{const d=i&&t.indexOf(":")>-1&&Ko[t.split(":")[0]];d?Jo(e,d,t,n):_e(e,Ho[t]||t,n)}return n}function ra(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,s=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),o=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},a=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();s(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!o());c++){if(t._$host){t=t._$host,a();break}if(t.parentNode===i)break}}else a();s(r)}function Vt(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===n))return n;if(o){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=pt(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean")n=pt(e,n,r);else{if(s==="function")return H(()=>{let a=t();for(;typeof a=="function";)a=a();n=Vt(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(mr(a,t,n,i))return H(()=>n=Vt(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=pt(e,n,r),o)return n}else l?n.length===0?si(e,a,r):Go(e,n,a):(n&&pt(e),si(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=pt(e,n,r,t);pt(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function mr(e,t,n,r){let i=!1;for(let s=0,o=t.length;s<o;s++){let a=t[s],l=n&&n[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=mr(e,a,l)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=mr(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else e.push(a),i=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return i}function si(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function pt(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let s=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(i!==a){const l=a.parentNode===e;!s&&!o?l?e.replaceChild(i,a):e.insertBefore(i,n):l&&a.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}const ls=!1,ia="http://www.w3.org/2000/svg";function sa(e,t=!1,n=void 0){return t?document.createElementNS(ia,e):document.createElement(e,{is:n})}function oa(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,i=Ir();let s;return ue(()=>{s||(s=Tr(i,()=>ee(()=>e.children)));const o=r();if(o instanceof HTMLHeadElement){const[a,l]=D(!1),c=()=>l(!0);xt(u=>P(o,()=>a()?u():s(),null)),Re(c)}else{const a=sa(e.isSVG?"g":"div",e.isSVG),l=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return n.parentNode},configurable:!0}),P(l,s),o.appendChild(a),e.ref&&e.ref(a),Re(()=>o.removeChild(a))}},void 0,{render:!0}),n}function cs(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,s){if(n)return!(n=!1);const o={to:i,options:s,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of e)a.listener({...o,from:a.location,retry:l=>{l&&(n=!0),a.navigate(i,{...s,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}let wr;function Mr(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),wr=window.history.state._depth}Mr();function aa(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function la(e,t){let n=!1;return()=>{const r=wr;Mr();const i=r==null?null:wr-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const ca=/^(?:[a-z0-9]+:)?\/\//i,ua=/^\/+|(\/)\/+$/g,us="http://sr";function lt(e,t=!1){const n=e.replace(ua,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function gn(e,t,n){if(ca.test(t))return;const r=lt(e),i=n&&lt(n);let s="";return!i||t.startsWith("/")?s=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?s=r+i:s=i,(s||"/")+lt(t,!s)}function fa(e,t){if(e==null)throw new Error(t);return e}function da(e,t){return lt(e).replace(/\/*(\*.*)?$/g,"")+lt(t)}function fs(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function ha(e,t,n){const[r,i]=e.split("/*",2),s=r.split("/").filter(Boolean),o=s.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-o;if(c<0||c>0&&i===void 0&&!t)return null;const u={path:o?"":"/",params:{}},f=d=>n===void 0?void 0:n[d];for(let d=0;d<o;d++){const m=s[d],$=m[0]===":",S=$?l[d]:l[d].toLowerCase(),E=$?m.slice(1):m.toLowerCase();if($&&tr(S,f(E)))u.params[E]=S;else if($||!tr(S,E))return null;u.path+=`/${S}`}if(i){const d=c?l.slice(-c).join("/"):"";if(tr(d,f(i)))u.params[i]=d;else return null}return u}}function tr(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function ga(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,s)=>i+(s.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function ds(e){const t=new Map,n=Ir();return new Proxy({},{get(r,i){return t.has(i)||Tr(n,()=>t.set(i,ee(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function pa(e,t){const n=new URLSearchParams(e);Object.entries(t).forEach(([i,s])=>{s==null||s===""||s instanceof Array&&!s.length?n.delete(i):s instanceof Array?(n.delete(i),s.forEach(o=>{n.append(i,String(o))})):n.set(i,String(s))});const r=n.toString();return r?`?${r}`:""}function hs(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return hs(r).reduce((s,o)=>[...s,...i.map(a=>a+o)],[])}const ma=100,gs=Vn(),jr=Vn(),Zt=()=>fa(Xt(gs),"<A> and 'use' router primitives can be only used inside a Route."),wa=()=>Xt(jr)||Zt().base,ya=e=>{const t=wa();return ee(()=>t.resolvePath(e()))},va=e=>{const t=Zt();return ee(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},Xe=()=>Zt().navigatorFactory(),Dr=()=>Zt().location,zn=()=>Zt().params,ba=()=>{const e=Dr(),t=Xe(),n=(r,i)=>{const s=Pe(()=>pa(e.search,r)+e.hash);t(s,{scroll:!1,resolve:!1,...i})};return[e.query,n]};function xa(e,t=""){const{component:n,preload:r,load:i,children:s,info:o}=e,a=!s||Array.isArray(s)&&!s.length,l={key:e,component:n,preload:r||i,info:o};return ps(e.path).reduce((c,u)=>{for(const f of hs(u)){const d=da(t,f);let m=a?d:d.split("/*",1)[0];m=m.split("/").map($=>$.startsWith(":")||$.startsWith("*")?$:encodeURIComponent($)).join("/"),c.push({...l,originalPath:u,pattern:m,matcher:ha(m,!a,e.matchFilters)})}return c},[])}function _a(e,t=0){return{routes:e,score:ga(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],o=s.matcher(n);if(!o)return null;r.unshift({...o,route:s})}return r}}}function ps(e){return Array.isArray(e)?e:[e]}function ms(e,t="",n=[],r=[]){const i=ps(e);for(let s=0,o=i.length;s<o;s++){const a=i[s];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=xa(a,t);for(const c of l){n.push(c);const u=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!u)ms(a.children,c.pattern,n,r);else{const f=_a([...n],r.length);r.push(f)}n.pop()}}}return n.length?r:r.sort((s,o)=>o.score-s.score)}function nr(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function ka(e,t,n){const r=new URL(us),i=ee(u=>{const f=e();try{return new URL(f,r)}catch{return console.error(`Invalid path ${f}`),u}},r,{equals:(u,f)=>u.href===f.href}),s=ee(()=>i().pathname),o=ee(()=>i().search,!0),a=ee(()=>i().hash),l=()=>"",c=Nr(o,()=>fs(i()));return{get pathname(){return s()},get search(){return o()},get hash(){return a()},get state(){return t()},get key(){return l()},query:n?n(c):ds(c)}}let ot;function $a(){return ot}function Sa(e,t,n,r={}){const{signal:[i,s],utils:o={}}=e,a=o.parsePath||(T=>T),l=o.renderPath||(T=>T),c=o.beforeLeave||cs(),u=gn("",r.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!i().value&&s({value:u,replace:!0,scroll:!1});const[f,d]=D(!1);let m;const $=(T,j)=>{j.value===S()&&j.state===R()||(m===void 0&&d(!0),ot=T,m=j,No(()=>{m===j&&(E(m.value),p(m.state),k[1](M=>M.filter(O=>O.pending)))}).finally(()=>{m===j&&ts(()=>{ot=void 0,T==="navigate"&&_(m),d(!1),m=void 0})}))},[S,E]=D(i().value),[R,p]=D(i().state),v=ka(S,R,o.queryWrapper),y=[],k=D([]),C=ee(()=>typeof r.transformUrl=="function"?nr(t(),r.transformUrl(v.pathname)):nr(t(),v.pathname)),x=()=>{const T=C(),j={};for(let M=0;M<T.length;M++)Object.assign(j,T[M].params);return j},h=o.paramsWrapper?o.paramsWrapper(x,t):ds(x),g={pattern:u,path:()=>u,outlet:()=>null,resolvePath(T){return gn(u,T)}};return H(Nr(i,T=>$("native",T),{defer:!0})),{base:g,location:v,params:h,isRouting:f,renderPath:l,parsePath:a,navigatorFactory:w,matches:C,beforeLeave:c,preloadRoute:N,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:k};function b(T,j,M){Pe(()=>{if(typeof j=="number"){j&&(o.go?o.go(j):console.warn("Router integration does not support relative routing"));return}const O=!j||j[0]==="?",{replace:B,resolve:q,scroll:ne,state:F}={replace:!1,resolve:!O,scroll:!0,...M},V=q?T.resolvePath(j):gn(O&&v.pathname||"",j);if(V===void 0)throw new Error(`Path '${j}' is not a routable path`);if(y.length>=ma)throw new Error("Too many redirects");const L=S();(V!==L||F!==R())&&(ls||c.confirm(V,M)&&(y.push({value:L,replace:B,scroll:ne,state:R()}),$("navigate",{value:V,state:F})))})}function w(T){return T=T||Xt(jr)||g,(j,M)=>b(T,j,M)}function _(T){const j=y[0];j&&(s({...T,replace:j.replace,scroll:j.scroll}),y.length=0)}function N(T,j){const M=nr(t(),T.pathname),O=ot;ot="preload";for(let B in M){const{route:q,params:ne}=M[B];q.component&&q.component.preload&&q.component.preload();const{preload:F}=q;j&&F&&Tr(n(),()=>F({params:ne,location:{pathname:T.pathname,search:T.search,hash:T.hash,query:fs(T),state:null,key:""},intent:"preload"}))}ot=O}}function Ca(e,t,n,r){const{base:i,location:s,params:o}=e,{pattern:a,component:l,preload:c}=r().route,u=ee(()=>r().path);l&&l.preload&&l.preload();const f=c?c({params:o,location:s,intent:ot||"initial"}):void 0;return{parent:t,pattern:a,path:u,outlet:()=>l?A(l,{params:o,location:s,data:f,get children(){return n()}}):n(),resolvePath(m){return gn(i.path(),m,u())}}}const Aa=e=>t=>{const{base:n}=t,r=qr(()=>t.children),i=ee(()=>ms(r(),t.base||""));let s;const o=Sa(e,i,()=>s,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(o),A(gs.Provider,{value:o,get children(){return A(Ea,{routerState:o,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[Ke(()=>(s=Ir())&&null),A(Pa,{routerState:o,get branches(){return i()}})]}})}})};function Ea(e){const t=e.routerState.location,n=e.routerState.params,r=ee(()=>e.preload&&Pe(()=>{e.preload({params:n,location:t,intent:$a()||"initial"})}));return A(ge,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>A(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function Pa(e){const t=[];let n;const r=ee(Nr(e.routerState.matches,(i,s,o)=>{let a=s&&i.length===s.length;const l=[];for(let c=0,u=i.length;c<u;c++){const f=s&&s[c],d=i[c];o&&f&&d.route.key===f.route.key?l[c]=o[c]:(a=!1,t[c]&&t[c](),xt(m=>{t[c]=m,l[c]=Ca(e.routerState,l[c-1]||e.routerState.base,oi(()=>r()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(i.length).forEach(c=>c()),o&&a?o:(n=l[0],l)}));return oi(()=>r()&&n)()}const oi=e=>()=>A(ge,{get when(){return e()},keyed:!0,children:t=>A(jr.Provider,{value:t,get children(){return t.outlet()}})}),Ie=e=>{const t=qr(()=>e.children);return Q(e,{get children(){return t()}})};function Ra([e,t],n,r){return[e,r?i=>t(r(i)):t]}function Na(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=Ra(D(n(e.get()),{equals:(i,s)=>i.value===s.value&&i.state===s.state}),void 0,i=>(!t&&e.set(i),i));return e.init&&Re(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),Aa({signal:r,create:e.create,utils:e.utils})}function Ia(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Ta(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const qa=new Map;function Oa(e=!0,t=!1,n="/_server",r){return i=>{const s=i.base.path(),o=i.navigatorFactory(i.base);let a,l;function c(S){return S.namespaceURI==="http://www.w3.org/2000/svg"}function u(S){if(S.defaultPrevented||S.button!==0||S.metaKey||S.altKey||S.ctrlKey||S.shiftKey)return;const E=S.composedPath().find(C=>C instanceof Node&&C.nodeName.toUpperCase()==="A");if(!E||t&&!E.hasAttribute("link"))return;const R=c(E),p=R?E.href.baseVal:E.href;if((R?E.target.baseVal:E.target)||!p&&!E.hasAttribute("state"))return;const y=(E.getAttribute("rel")||"").split(/\s+/);if(E.hasAttribute("download")||y&&y.includes("external"))return;const k=R?new URL(p,document.baseURI):new URL(p);if(!(k.origin!==window.location.origin||s&&k.pathname&&!k.pathname.toLowerCase().startsWith(s.toLowerCase())))return[E,k]}function f(S){const E=u(S);if(!E)return;const[R,p]=E,v=i.parsePath(p.pathname+p.search+p.hash),y=R.getAttribute("state");S.preventDefault(),o(v,{resolve:!1,replace:R.hasAttribute("replace"),scroll:!R.hasAttribute("noscroll"),state:y?JSON.parse(y):void 0})}function d(S){const E=u(S);if(!E)return;const[R,p]=E;r&&(p.pathname=r(p.pathname)),i.preloadRoute(p,R.getAttribute("preload")!=="false")}function m(S){clearTimeout(a);const E=u(S);if(!E)return l=null;const[R,p]=E;l!==R&&(r&&(p.pathname=r(p.pathname)),a=setTimeout(()=>{i.preloadRoute(p,R.getAttribute("preload")!=="false"),l=R},20))}function $(S){if(S.defaultPrevented)return;let E=S.submitter&&S.submitter.hasAttribute("formaction")?S.submitter.getAttribute("formaction"):S.target.getAttribute("action");if(!E)return;if(!E.startsWith("https://action/")){const p=new URL(E,us);if(E=i.parsePath(p.pathname+p.search),!E.startsWith(n))return}if(S.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const R=qa.get(E);if(R){S.preventDefault();const p=new FormData(S.target,S.submitter);R.call({r:i,f:S.target},S.target.enctype==="multipart/form-data"?p:new URLSearchParams(p))}}ke(["click","submit"]),document.addEventListener("click",f),e&&(document.addEventListener("mousemove",m,{passive:!0}),document.addEventListener("focusin",d,{passive:!0}),document.addEventListener("touchstart",d,{passive:!0})),document.addEventListener("submit",$),Re(()=>{document.removeEventListener("click",f),e&&(document.removeEventListener("mousemove",m),document.removeEventListener("focusin",d),document.removeEventListener("touchstart",d)),document.removeEventListener("submit",$)})}}function La(e){const t=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,i=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:i}},n=cs();return Na({get:t,set({value:r,replace:i,scroll:s,state:o}){i?window.history.replaceState(aa(o),"",r):window.history.pushState(o,"",r),Ta(decodeURIComponent(window.location.hash.slice(1)),s),Mr()},init:r=>Ia(window,"popstate",la(r,i=>{if(i&&i<0)return!n.confirm(i);{const s=t();return!n.confirm(s.value,{state:s.state})}})),create:Oa(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}var Ma=I("<a>");function sn(e){e=Q({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=os(e,["href","state","class","activeClass","inactiveClass","end"]),n=ya(()=>e.href),r=va(n),i=Dr(),s=ee(()=>{const o=n();if(o===void 0)return[!1,!1];const a=lt(o.split(/[?#]/,1)[0]).toLowerCase(),l=decodeURI(lt(i.pathname).toLowerCase());return[e.end?a===l:l.startsWith(a+"/")||l===a,a===l]});return(()=>{var o=Ma();return xe(o,Q(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!s()[0],[e.activeClass]:s()[0],...t.classList}},link:"",get"aria-current"(){return s()[1]?"page":void 0}}),!1,!1),o})()}const yr=Symbol("store-raw"),_t=Symbol("store-node"),Ye=Symbol("store-has"),ws=Symbol("store-self");function ys(e){let t=e[Le];if(!t&&(Object.defineProperty(e,Le,{value:t=new Proxy(e,Fa)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,s=n.length;i<s;i++){const o=n[i];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function Sn(e){let t;return e!=null&&typeof e=="object"&&(e[Le]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Bt(e,t=new Set){let n,r,i,s;if(n=e!=null&&e[yr])return n;if(!Sn(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,a=e.length;o<a;o++)i=e[o],(r=Bt(i,t))!==i&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,c=o.length;l<c;l++)s=o[l],!a[s].get&&(i=e[s],(r=Bt(i,t))!==i&&(e[s]=r))}return e}function Cn(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function zt(e,t,n){if(e[t])return e[t];const[r,i]=D(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function ja(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Le||t===_t||(delete n.value,delete n.writable,n.get=()=>e[Le][t]),n}function vs(e){hr()&&zt(Cn(e,_t),ws)()}function Da(e){return vs(e),Reflect.ownKeys(e)}const Fa={get(e,t,n){if(t===yr)return e;if(t===Le)return n;if(t===dr)return vs(e),n;const r=Cn(e,_t),i=r[t];let s=i?i():e[t];if(t===_t||t===Ye||t==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(e,t);hr()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(s=zt(r,t,s)())}return Sn(s)?ys(s):s},has(e,t){return t===yr||t===Le||t===dr||t===_t||t===Ye||t==="__proto__"?!0:(hr()&&zt(Cn(e,Ye),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Da,getOwnPropertyDescriptor:ja};function An(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],s=e.length;n===void 0?(delete e[t],e[Ye]&&e[Ye][t]&&i!==void 0&&e[Ye][t].$()):(e[t]=n,e[Ye]&&e[Ye][t]&&i===void 0&&e[Ye][t].$());let o=Cn(e,_t),a;if((a=zt(o,t,i))&&a.$(()=>n),Array.isArray(e)&&e.length!==s){for(let l=e.length;l<s;l++)(a=o[l])&&a.$();(a=zt(o,"length",s))&&a.$(e.length)}(a=o[ws])&&a.$()}function bs(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];An(e,i,t[i])}}function Ua(e,t){if(typeof t=="function"&&(t=t(e)),t=Bt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&An(e,n,i)}An(e,"length",r)}else bs(e,t)}function Tt(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const o=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Tt(e,[r[l]].concat(t),n);return}else if(a&&o==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&Tt(e,[l].concat(t),n);return}else if(a&&o==="object"){const{from:l=0,to:c=e.length-1,by:u=1}=r;for(let f=l;f<=c;f+=u)Tt(e,[f].concat(t),n);return}else if(t.length>1){Tt(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let s=t[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=Bt(s),r===void 0||Sn(i)&&Sn(s)&&!Array.isArray(s)?bs(i,s):An(e,r,s))}function Va(...[e,t]){const n=Bt(e||{}),r=Array.isArray(n),i=ys(n);function s(...o){ts(()=>{r&&o.length===1?Ua(n,o[0]):Tt(n,o)})}return[i,s]}var Ba=I('<main class="flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4"><div class="max-w-xl w-full text-center py-12"><h1 class="text-4xl font-bold mb-4 text-blue-700">CoRATES</h1><p class="text-lg text-gray-700 mb-6">Collaborative Research Appraisal Tool for Evidence Synthesis</p><p class="mb-8 text-gray-600">Interactively fill out and score AMSTAR 2 checklists for systematic reviews.<br>Works fully offline, saves your work automatically, and helps you visualize results.</p><div class="mt-10 text-xs text-gray-400"><a href=https://github.com/InfinityBowman/amstar2-checklist-scoring-app target=_blank rel=noopener>View on GitHub');function za(){return Ba()}const ve={q1:{text:"1. Did the research questions and inclusion criteria for the review include the components of PICO?",columns:[{label:"For Yes:",options:["Population","Intervention","Comparator group","Outcome"]},{label:"Optional (recommended):",options:["Timeframe for follow-up"]},{label:"",options:["Yes","No"]}]},q2:{text:"2. Did the report of the review contain an explicit statement that the review methods were established prior to the conduct of the review and did the report justify any significant deviations from the protocol?",columns:[{label:"For Partial Yes:",description:"The authors state that they had a written protocol or guide that included ALL the following:",options:["review question(s)","a search strategy","inclusion/exclusion criteria","risk of bias assessment"]},{label:"For Yes:",description:"As for Partial Yes, plus the protocol should be registered and should also have specified:",options:["a meta-analysis/synthesis plan, if appropriate, and","a plan for investigating causes of heterogeneity","a plan for investigating causes of heterogeneity"]},{label:"",description:"",options:["Yes","Partial Yes","No"]}]},q3:{text:"3. Did the review authors explain their selection of the study designs for inclusion in the review?",columns:[{label:"For Yes, the review should satisfy ONE of the following:",options:["Explanation for including only RCTs ","OR Explanation for including only NRSI","OR Explanation for including both RCTs and NRSI"]},{label:"",options:["Yes","No"]}]},q4:{text:"4. Did the review authors use a comprehensive literature search strategy? ",columns:[{label:"For Partial Yes (all the following):",options:["searched at least 2 databases (relevant to research question)","provided key word and/or search strategy","justified publication restrictions (e.g. language)"]},{label:"For Yes, should also have (all the following):",options:["searched the reference lists / bibliographies of included studies","searched trial/study registries","included/consulted content experts in the field","where relevant, searched for grey literature","conducted search within 24 months of completion of the review"]},{label:"",options:["Yes","Partial Yes","No"]}]},q5:{text:"5. Did the review authors perform study selection in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q6:{text:"6. Did the review authors perform data extraction in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q7:{text:"7. Did the review authors provide a list of excluded studies and justify the exclusions?",columns:[{label:"For Partial Yes:",options:["provided a list of all potentially relevant studies that were read in full-text form but excluded from the review"]},{label:"For Yes, must also have:",options:["Justified the exclusion from the review of each potentially relevant study"]},{label:"",options:["Yes","Partial Yes","No"]}]},q8:{text:"8. Did the review authors describe the included studies in adequate detail?",columns:[{label:"For Partial Yes (ALL the following):",options:["described populations","described interventions","described comparators","described outcomes","described research designs"]},{label:"For Yes, should also have ALL the following:",options:["described population in detail","described comparator in detail (including doses where relevant)","described study’s setting in detail","timeframe for follow-up"]},{label:"",options:["Yes","Partial Yes","No"]}]},q9:{text:"9. Did the review authors use a satisfactory technique for assessing the risk of bias (RoB) in individual studies that were included in the review?",subtitle:"RCTs",columns:[{label:"For Partial Yes, must have assessed RoB from",options:["unconcealed allocation, and","lack of blinding of patients and assessors when assessing outcomes (unnecessary for objective outcomes such as all-cause mortality)"]},{label:"For Yes, must also have assessed RoB from:",options:["allocation sequence that was not truly random, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",description:"",options:["Yes","Partial Yes","No"," Includes only NRSI"]}],subtitle2:"NRSI",columns2:[{label:"For Partial Yes, must have assessed RoB:",options:["from confounding, and","from selection bias"]},{label:"For Yes, must also have assessed RoB:",options:["methods used to ascertain exposures and outcomes, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",options:["Yes","Partial Yes","No","Includes only RCTs"]}]},q10:{text:"10. Did the review authors report on the sources of funding for the studies included in the review?",columns:[{label:"For Yes:",options:["Must have reported on the sources of funding for individual studies included in the review. Note: Reporting that the reviewers looked for this information but it was not reported by study authors also qualifies"]},{label:"",options:["Yes","No"]}]},q11:{text:"11. If meta-analysis was performed did the review authors use appropriate methods for statistical combination of results?",subtitle:"RCTs",columns:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results and adjusted for heterogeneity if present.","AND investigated the causes of any heterogeneity"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}],subtitle2:"NRSI",columns2:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results, adjusting for heterogeneity if present","AND they statistically combined effect estimates from NRSI that were adjusted for confounding, rather than combining raw data, or justified combining raw data when adjusted effect estimates were not available","AND they reported separate summary estimates for RCTs and NRSI separately when both were included in the review"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q12:{text:"12. If meta-analysis was performed, did the review authors assess the potential impact of RoB in individual studies on the results of the meta-analysis or other evidence synthesis?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if the pooled estimate was based on RCTs and/or NRSI at variable RoB, the authors performed analyses to investigate possible impact of RoB on summary estimates of effect."]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q13:{text:"13. Did the review authors account for RoB in individual studies when interpreting/ discussing the results of the review?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if RCTs with moderate or high RoB, or NRSI were included the review provided a discussion of the likely impact of RoB on the results"]},{label:"",options:["Yes","No"]}]},q14:{text:"14. Did the review authors provide a satisfactory explanation for, and discussion of, any heterogeneity observed in the results of the review?",columns:[{label:"For Yes:",options:["There was no significant heterogeneity in the results","OR if heterogeneity was present the authors performed an investigation of sources of any heterogeneity in the results and discussed the impact of this on the results of the review"]},{label:"",options:["Yes","No"]}]},q15:{text:"15. If they performed quantitative synthesis did the review authors carry out an adequate investigation of publication bias (small study bias) and discuss its likely impact on the results of the review?",columns:[{label:"For Yes:",options:["performed graphical or statistical tests for publication bias and discussed the likelihood and magnitude of impact of publication bias"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q16:{text:"16. Did the review authors report any potential sources of conflict of interest, including any funding they received for conducting the review?",options:["Yes","Partial Yes","No"],columns:[{label:"For Yes:",options:["The authors reported no competing interests OR","The authors described their funding sources and how they managed potential conflicts of interest"]},{label:"",options:["Yes","No"]}]}},Ha="corates-app-db",nt="checklists",Ve="projects",Ya=1;function St(e){return JSON.parse(JSON.stringify(e))}function dt(){return new Promise((e,t)=>{const n=indexedDB.open(Ha,Ya);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(nt)||r.createObjectStore(nt,{keyPath:"id"}),r.objectStoreNames.contains(Ve)||r.createObjectStore(Ve,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function ai(e){const t=await dt();return e=St(e),new Promise((n,r)=>{const i=t.transaction(nt,"readwrite");i.objectStore(nt).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function xs(){const e=await dt();return new Promise((t,n)=>{const s=e.transaction(nt,"readonly").objectStore(nt).getAll();s.onsuccess=()=>t(s.result),s.onerror=()=>n(s.error)})}async function Wa(e){const t=await dt();return new Promise((n,r)=>{const i=t.transaction(nt,"readwrite");i.objectStore(nt).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function Pt(e){const t=await dt();return e=St(e),new Promise((n,r)=>{const i=t.transaction(Ve,"readwrite");i.objectStore(Ve).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function Hn(e){const t=await dt();return new Promise((n,r)=>{const s=t.transaction(Ve,"readonly").objectStore(Ve).get(e);s.onsuccess=()=>n(s.result),s.onerror=()=>r(s.error)})}async function _s(){const e=await dt();return new Promise((t,n)=>{const s=e.transaction(Ve,"readonly").objectStore(Ve).getAll();s.onsuccess=()=>t(s.result),s.onerror=()=>n(s.error)})}async function li(e,t,n){try{const r=await Hn(e);if(!r)throw new Error(`Project with ID ${e} not found`);r.reviews||(r.reviews=[]);const i=r.reviews.findIndex(a=>a.id===t);if(i===-1)throw new Error(`Review with ID ${t} not found in project ${e}`);const s=r.reviews[i];s.checklists||(s.checklists=[]);const o=s.checklists.findIndex(a=>a.id===n.id);return o>=0?s.checklists[o]=St(n):s.checklists.push(St(n)),await Pt(r),r}catch(r){throw console.error("Error saving checklist to review:",r),r}}async function Qa(e,t,n){try{const r=await Hn(e);if(!r)throw new Error(`Project with ID ${e} not found`);r.reviews||(r.reviews=[]);const i=r.reviews.findIndex(a=>a.id===t);if(i===-1)throw new Error(`Review with ID ${t} not found in project ${e}`);const s=r.reviews[i];s.checklists||(s.checklists=[]);const o=s.checklists.length;return s.checklists=s.checklists.filter(a=>a.id!==n),s.checklists.length===o?!1:(await Pt(r),!0)}catch(r){throw console.error("Error deleting checklist from review:",r),r}}async function ci(e,t){try{const n=await Hn(e);if(!n)throw new Error(`Project with ID ${e} not found`);n.reviews||(n.reviews=[]);const r=n.reviews.findIndex(i=>i.id===t.id);return r>=0?n.reviews[r]=St(t):n.reviews.push(St(t)),await Pt(n),n}catch(n){console.error("Error saving review to project:",n)}}async function Ka(e,t){try{const n=await Hn(e);if(!n)throw new Error(`Project with ID ${e} not found`);n.reviews||(n.reviews=[]);const r=n.reviews.length;return n.reviews=n.reviews.filter(i=>i.id!==t),n.reviews.length===r?!1:(await Pt(n),!0)}catch(n){throw console.error("Error deleting review from project:",n),n}}async function Ga(e){const t=await dt();return new Promise((n,r)=>{const i=t.transaction(Ve,"readwrite");i.objectStore(Ve).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function kt(){const[e,t]=await Promise.all([_s(),xs()]),n=new Set;for(const i of e){n.add(i.id);for(const s of i.reviews||[]){n.add(s.id);for(const o of s.checklists||[])n.add(o.id)}}for(const i of t)n.add(i.id);let r;do r=crypto.randomUUID().split("-")[0];while(n.has(r));return r}const ks=Vn();function Xa(e){const[t,n]=Va({projects:[],currentProject:null,currentChecklist:null,dataLoading:!0,checklists:[]});Gt(async()=>{try{await r()}catch(p){console.error("Error loading data:",p)}finally{n("dataLoading",!1)}});async function r(){try{n("loading",!0);const p=await _s();p.sort((y,k)=>(y.createdAt||0)-(k.createdAt||0)),n("projects",p);const v=await xs();n("checklists",v)}catch(p){throw console.error("Error loading IndexedDB data:",p),p}finally{n("loading",!1)}}async function i(p){try{return await Pt(p),n("projects",v=>[...v,p]),p}catch(v){throw console.error("Error adding project:",v),v}}async function s(p){try{return await Ga(p),n("projects",v=>v.filter(y=>y.id!==p)),t.currentProject?.id===p&&(n("currentProject",null),n("currentChecklist",null)),!0}catch(v){throw console.error("Error deleting project:",v),v}}function o(p){n("projects",p)}function a(p){let v=null;if(typeof p=="object"&&p!==null){if("project"in p&&p.project)v={...p.project};else if("id"in p)v=t.projects.find(y=>y.id===p.id);else if("name"in p){const y=t.projects.filter(k=>k.name===p.name);v=y[p.index??0]?{...y[p.index??0]}:null}}else typeof p=="string"&&(v=t.projects.find(y=>y.id===p),v||(v=t.projects.find(y=>y.name===p)),v=v?{...v}:null);n("currentProject",v)}function l(p){if(p==null)return n("currentChecklist",null),!1;const v=d(p);return n("currentChecklist",v||null),!!v}async function c(p,v,y){if(!p||!v)try{return await ai(y),n("checklists",k=>[...k,y]),y}catch(k){throw console.error("Error adding checklist without project/review:",k),k}try{const k=await li(p,v,y),C=t.projects.findIndex(x=>x.id===p);if(C!==-1){const x=(t.projects[C].reviews||[]).findIndex(h=>h.id===v);x!==-1&&n("projects",C,"reviews",x,k.reviews[x])}return y}catch(k){throw console.error("Error adding checklist:",k),k}}async function u(p){const v=$(p.id);if(!v)throw console.warn("Could not find checklist to update:",p.id),new Error(`Could not find checklist to update: ${p.id}`);try{const{projectIndex:y,reviewIndex:k,checklistIndex:C,review:x,project:h}=v;if(y>=0)await li(h.id,x.id,p),n("projects",y,"reviews",k,"checklists",C,{...p});else{const g=t.checklists.findIndex(b=>b.id===p.id);if(g>=0)await ai(p),n("checklists",g,{...p});else throw console.warn("Could not find checklist:",p.id),new Error(`Could not find checklist: ${p.id}`)}return t.currentChecklist?.id===p.id&&n("currentChecklist",{...p}),p}catch(y){throw console.error("Error updating checklist:",y),y}}async function f(p,v,y){if(!p||!v)try{return await Wa(y),n("checklists",k=>k.filter(C=>C.id!==y)),t.currentChecklist?.id===y&&n("currentChecklist",null),!0}catch(k){return console.error("Error deleting checklist without project/review:",k),!1}try{await Qa(p,v,y);const k=t.projects.findIndex(C=>C.id===p);if(k!==-1){const C=(t.projects[k].reviews||[]).findIndex(x=>x.id===v);C!==-1&&n("projects",k,"reviews",C,"checklists",x=>x.filter(h=>h.id!==y))}return t.currentChecklist?.id===y&&n("currentChecklist",null),!0}catch(k){return console.error("Error deleting checklist:",k),!1}}function d(p){let v=$(p);return v?.checklist?{...v.checklist}:null}function m(p,v){let y=$(p);if(y&&typeof y.checklistIndex=="number")return y.checklistIndex;let k=-1;return p?k=t.checklists.findIndex(C=>C.id===p):v&&(k=t.checklists.findIndex(C=>C.name===v)),k}function $(p){if(typeof p=="object"&&p!==null){if("checklist"in p&&p.checklist)return $({id:p.checklist.id});if("id"in p)for(let v=0;v<t.projects.length;v++){const y=t.projects[v];for(let k=0;k<(y.reviews||[]).length;k++){const C=y.reviews[k],x=(C.checklists||[]).findIndex(h=>h.id===p.id);if(x!==-1)return{project:y,projectIndex:v,review:C,reviewIndex:k,checklist:C.checklists[x],checklistIndex:x}}}else if("name"in p){let v=[];for(let y=0;y<t.projects.length;y++){const k=t.projects[y];for(let C=0;C<(k.reviews||[]).length;C++){const x=k.reviews[C];(x.checklists||[]).forEach((h,g)=>{h.name===p.name&&v.push({project:k,projectIndex:y,review:x,reviewIndex:C,checklist:h,checklistIndex:g})})}}return v[p.index??0]||null}}else if(typeof p=="string"){for(let y=0;y<t.projects.length;y++){const k=t.projects[y];for(let C=0;C<(k.reviews||[]).length;C++){const x=k.reviews[C],h=(x.checklists||[]).findIndex(g=>g.id===p);if(h!==-1)return{project:k,projectIndex:y,review:x,reviewIndex:C,checklist:x.checklists[h],checklistIndex:h}}}let v=[];for(let y=0;y<t.projects.length;y++){const k=t.projects[y];for(let C=0;C<(k.reviews||[]).length;C++){const x=k.reviews[C];(x.checklists||[]).forEach((h,g)=>{h.name===p&&v.push({project:k,projectIndex:y,review:x,reviewIndex:C,checklist:h,checklistIndex:g})})}}return v[0]||null}return null}async function S(p,v){try{const y=t.projects.findIndex(C=>C.id===p);if(y===-1)throw new Error("Project not found");const k=await ci(p,v);return n("projects",y,k),v}catch(y){throw console.error("Error adding review:",y),y}}async function E(p,v){try{const y=t.projects.findIndex(C=>C.id===p);if(y===-1)throw new Error("Project not found");const k=await ci(p,v);return n("projects",y,k),v}catch(y){throw console.error("Error updating review:",y),y}}async function R(p,v){try{const y=t.projects.findIndex(C=>C.id===p);if(y===-1)throw new Error("Project not found");if(!await Ka(p,v))throw new Error("Review not found or could not be deleted");return n("projects",y,C=>({...C,reviews:(C.reviews||[]).filter(x=>x.id!==v)})),!0}catch(y){throw console.error("Error deleting review:",y),y}}return A(ks.Provider,{value:{projects:()=>t.projects,currentProject:()=>t.currentProject,currentChecklist:()=>t.currentChecklist,dataLoading:()=>t.dataLoading,checklists:()=>t.checklists,loadData:r,setProjects:o,addProject:i,deleteProject:s,setCurrentProject:a,setCurrentChecklist:l,addChecklist:c,updateChecklist:u,deleteChecklist:f,getChecklist:d,getChecklistIndex:m,addReview:S,updateReview:E,deleteReview:R},get children(){return e.children}})}function ht(){return Xt(ks)}var Ja=I('<div class="bg-white rounded-lg shadow-md p-8 text-sm"><div class=flex><h3 class="font-semibold text-gray-900"></h3></div><div class="font-semibold text-gray-900 h-4 mt-2 mb-1"></div><div class="font-semibold text-gray-900 h-4 mt-2">'),Za=I('<div class="bg-white rounded-lg shadow-md p-8 text-sm"><div class=flex><h3 class="font-semibold text-gray-900"></h3></div><div class="font-semibold text-gray-900 h-4 mt-2"></div><div class="font-semibold text-gray-900 h-4 mt-4">'),el=I('<div class="bg-white rounded-lg shadow-md p-7"><div class=flex><h3 class="font-semibold text-sm text-gray-900 mb-1">'),tl=I("<div class=ml-auto><button>"),nl=I('<div class="flex flex-col gap-4 sm:flex-row sm:gap-6">'),rl=I('<div><div class="font-semibold text-gray-800 text-xs break-words whitespace-normal min-w-0 w-full min-h-[2rem] flex items-center">'),il=I('<div class="flex flex-col gap-2 mt-1">'),sl=I('<label class="flex items-center space-x-2 text-xs"><input type=radio class="w-3.5 h-3.5 text-blue-600 border-gray-300 focus:ring-blue-500 cursor-pointer"><span class="text-gray-700 break-words">'),ol=I('<div class="flex flex-col gap-2">'),al=I('<label class="flex items-center space-x-2 text-xs"><input type=checkbox class="w-3 h-3 shrink-0 text-blue-600 border-gray-300 focus:ring-blue-500"><span class="text-gray-700 break-words">'),ll=I("<div class=space-y-6>"),cl=I('<div class="min-h-screen bg-linear-to-br from-blue-50 to-indigo-100"><div class="container mx-auto px-4 py-6 max-w-5xl"><div class="bg-white rounded-lg shadow-lg p-6 mb-8"><h1 class="text-2xl font-bold text-gray-900 mb-4">AMSTAR 2 Checklist</h1><div class="grid md:grid-cols-3 gap-4 text-xs"><div><label class="block font-medium text-gray-700 mb-2">Review Title</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs"placeholder="Enter review title"></div><div><label class="block font-medium text-gray-700 mb-2">Reviewer Name</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs"placeholder="Enter your name"></div><div><label class="block font-medium text-gray-700 mb-2">Review Date</label><input type=date class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs">'),ul=I("<div>Loading...");function fl(e){const t=()=>e.checklistState().q1,n=ve.q1;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0){const l=o[0].every(Boolean);o[2][0]=l,o[2][1]=!l}i===2&&(s===0&&o[2][0]&&(o[2][1]=!1),s===1&&o[2][1]&&(o[2][0]=!1));const a={...e.checklistState().q1,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function dl(e){const t=()=>e.checklistState().q2,n=ve.q2;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0||i===1){const l=o[0].every(Boolean),c=l&&o[1].every(Boolean);o[2][0]=c,o[2][1]=!c&&l,o[2][2]=!c&&!l}i===2&&(o[2]=o[2].map((l,c)=>c===s?!t().answers[2][s]:!1));const a={...e.checklistState().q2,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function hl(e){const t=()=>e.checklistState().q3,n=ve.q3;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}i===1&&(s===0&&o[1][0]&&(o[1][1]=!1),s===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q3,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function gl(e){const t=()=>e.checklistState().q4,n=ve.q4;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0||i===1){const l=o[0].every(Boolean),c=l&&o[1].every(Boolean);o[2][0]=c,o[2][1]=!c&&l,o[2][2]=!c&&!l}i===2&&(o[2]=o[2].map((l,c)=>c===s?!t().answers[2][s]:!1));const a={...e.checklistState().q4,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function pl(e){const t=()=>e.checklistState().q5,n=ve.q5;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}i===1&&(s===0&&o[1][0]&&(o[1][1]=!1),s===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q5,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function ml(e){const t=()=>e.checklistState().q6,n=ve.q6;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}i===1&&(s===0&&o[1][0]&&(o[1][1]=!1),s===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q6,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function wl(e){const t=()=>e.checklistState().q7,n=ve.q7;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0||i===1){const l=o[0].every(Boolean),c=l&&o[1].every(Boolean);o[2][0]=c,o[2][1]=!c&&l,o[2][2]=!c&&!l}i===2&&(o[2]=o[2].map((l,c)=>c===s?!t().answers[2][s]:!1));const a={...e.checklistState().q7,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function yl(e){const t=()=>e.checklistState().q8,n=ve.q8;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0||i===1){const l=o[0].every(Boolean),c=l&&o[1].every(Boolean);o[2][0]=c,o[2][1]=!c&&l,o[2][2]=!c&&!l}i===2&&(o[2]=o[2].map((l,c)=>c===s?!t().answers[2][s]:!1));const a={...e.checklistState().q8,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function vl(e){const t=()=>e.checklistState().q9a,n=()=>e.checklistState().q9b,r=ve.q9;function i(a,l){const c=t().answers.map(f=>[...f]);if(c[a][l]=!t().answers[a][l],a===0||a===1){const f=c[0].every(Boolean),d=f&&c[1].every(Boolean);c[2][0]=d,c[2][1]=!d&&f,c[2][2]=!d&&!f,c[2][3]=!1}a===2&&(c[2]=c[2].map((f,d)=>d===l?!t().answers[2][l]:!1));const u={...e.checklistState().q9a,answers:c};e.onUpdatea(u)}function s(a,l){const c=n().answers.map(f=>[...f]);if(c[a][l]=!n().answers[a][l],a===0||a===1){const f=c[0].every(Boolean),d=f&&c[1].every(Boolean);c[2][0]=d,c[2][1]=!d&&f,c[2][2]=!d&&!f,c[2][3]=!1}a===2&&(c[2]=c[2].map((f,d)=>d===l?!n().answers[2][l]:!1));const u={...e.checklistState().q9b,answers:c};console.log("Updating q9b to",u),e.onUpdateb(u)}function o(a){const l=a.critical,c={...t(),critical:l},u={...n(),critical:l};e.onUpdatea(c),setTimeout(()=>{e.onUpdateb(u)},10)}return(()=>{var a=Ja(),l=a.firstChild,c=l.firstChild,u=l.nextSibling,f=u.nextSibling;return P(c,()=>r.text),P(l,A(Fr,{state:t,onUpdate:o}),null),P(u,()=>r.subtitle),P(a,A(Ht,{state:t,question:{text:"q9a"},get columns(){return r.columns},handleChange:i}),f),P(f,()=>r.subtitle2),P(a,A(Ht,{state:n,question:{text:"q9b"},get columns(){return r.columns2},handleChange:s}),null),a})()}function bl(e){const t=()=>e.checklistState().q10,n=ve.q10;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}i===1&&(s===0&&o[1][0]&&(o[1][1]=!1),s===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q10,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function xl(e){const t=()=>e.checklistState().q11a,n=()=>e.checklistState().q11b,r=ve.q11;function i(a,l){const c=t().answers.map(f=>[...f]);if(c[a][l]=!t().answers[a][l],a===0){const f=c[0].every(Boolean);c[1][0]=f,c[1][1]=!f,c[1][2]=!1}a===1&&(c[1]=c[1].map((f,d)=>d===l?!t().answers[1][l]:!1));const u={...e.checklistState().q11a,answers:c};e.onUpdatea(u)}function s(a,l){const c=n().answers.map(f=>[...f]);if(c[a][l]=!n().answers[a][l],a===0){const f=c[0].every(Boolean);c[1][0]=f,c[1][1]=!f,c[1][2]=!1}a===1&&(c[1]=c[1].map((f,d)=>d===l?!n().answers[1][l]:!1));const u={...e.checklistState().q11b,answers:c};e.onUpdateb(u)}function o(a){const l=a.critical,c={...t(),critical:l},u={...n(),critical:l};e.onUpdatea(c),setTimeout(()=>{e.onUpdateb(u)},10)}return(()=>{var a=Za(),l=a.firstChild,c=l.firstChild,u=l.nextSibling,f=u.nextSibling;return P(c,()=>r.text),P(l,A(Fr,{state:t,onUpdate:o}),null),P(u,()=>r.subtitle),P(a,A(Ht,{state:t,question:{text:"q11a"},get columns(){return r.columns},handleChange:i,width:"w-48"}),f),P(f,()=>r.subtitle2),P(a,A(Ht,{state:n,question:{text:"q11b"},get columns(){return r.columns2},handleChange:s,width:"w-48"}),null),a})()}function _l(e){const t=()=>e.checklistState().q12,n=ve.q12;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l,o[1][2]=!1}i===1&&(o[1]=o[1].map((l,c)=>c===s?!t().answers[1][s]:!1));const a={...e.checklistState().q12,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e,{width:"w-48"}))}function kl(e){const t=()=>e.checklistState().q13,n=ve.q13;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}i===1&&(s===0&&o[1][0]&&(o[1][1]=!1),s===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q13,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function $l(e){const t=()=>e.checklistState().q14,n=ve.q14;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}i===1&&(s===0&&o[1][0]&&(o[1][1]=!1),s===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q14,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function Sl(e){const t=()=>e.checklistState().q15,n=ve.q15;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l,o[1][2]=!1}i===1&&(o[1]=o[1].map((l,c)=>c===s?!t().answers[1][s]:!1));const a={...e.checklistState().q15,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e,{width:"w-48"}))}function Cl(e){const t=()=>e.checklistState().q16,n=ve.q16;function r(i,s){const o=t().answers.map(l=>[...l]);if(o[i][s]=!t().answers[i][s],i===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}i===1&&(s===0&&o[1][0]&&(o[1][1]=!1),s===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q16,answers:o};e.onUpdate(a)}return A(Ae,Q({state:t,question:n,handleChange:r},e))}function Ae(e){return(()=>{var t=el(),n=t.firstChild,r=n.firstChild;return P(r,()=>e.question.text),P(n,A(Fr,{get state(){return e.state},get onUpdate(){return e.onUpdate}}),null),P(t,A(Ht,Q({get columns(){return e.question.columns}},e)),null),t})()}function Fr(e){function t(n){const r={...e.state(),critical:n};e.onUpdate(r)}return(()=>{var n=tl(),r=n.firstChild;return r.$$click=()=>t(!e.state().critical),P(r,()=>e.state().critical?"Critical":"Not Critical"),H(i=>{var s=`ml-2 px-3 h-6 rounded-full text-xs font-medium transition-colors text-nowrap
        ${e.state().critical?"bg-red-100 text-red-700 border border-red-300 hover:bg-red-200":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,o=e.state().critical;return s!==i.e&&me(r,i.e=s),o!==i.t&&_e(r,"aria-pressed",i.t=o),i},{e:void 0,t:void 0}),n})()}function Ht(e){return(()=>{var t=nl();return P(t,()=>e.columns.map((n,r)=>(()=>{var i=rl(),s=i.firstChild;return _e(i,"key",r),P(s,()=>n.label),P(i,(()=>{var o=Ke(()=>r===e.columns.length-1);return()=>o()?(()=>{var a=il();return P(a,()=>n.options.map((l,c)=>(()=>{var u=sl(),f=u.firstChild,d=f.nextSibling;return _e(u,"key",c),f.addEventListener("change",()=>e.handleChange(r,c)),P(d,l),H(()=>_e(f,"name",`col-${r}-${e.question?.text??""}`)),H(()=>f.checked=e.state().answers[r][c]),u})())),a})():(()=>{var a=ol();return P(a,()=>n.options.map((l,c)=>(()=>{var u=al(),f=u.firstChild,d=f.nextSibling;return _e(u,"key",c),f.addEventListener("change",()=>e.handleChange(r,c)),P(d,l),H(()=>f.checked=e.state().answers[r][c]),u})())),a})()})(),null),H(()=>me(i,r===e.columns.length-1?`${e.width??"w-32"} flex flex-col min-w-0`:"flex-1 flex flex-col min-w-0")),i})())),t})()}function ui(){const[e,t]=D(""),[n,r]=D(""),[i,s]=D(""),{currentChecklist:o,setCurrentChecklist:a,updateChecklist:l,dataLoading:c}=ht(),u=zn(),f=Xe();ue(()=>{if(u.checklistSlug!==void 0){const m=u.checklistSlug.lastIndexOf("-");let $=m!==-1?u.checklistSlug.slice(m+1):u.checklistSlug;a({id:$})}else c()||(console.warn("AMSTAR2Checklist: No current checklist found for",u.checklistSlug),f("/dashboard"))}),ue(()=>{o()&&(t(o().name||""),r(o().reviewerName||""),s(o().reviewDate||""))});const d=m=>{const $={...o(),...m};l($)};return(()=>{var m=cl(),$=m.firstChild,S=$.firstChild,E=S.firstChild,R=E.nextSibling,p=R.firstChild,v=p.firstChild,y=v.nextSibling,k=p.nextSibling,C=k.firstChild,x=C.nextSibling,h=k.nextSibling,g=h.firstChild,b=g.nextSibling;return y.addEventListener("change",w=>{if(t(w.target.value),d({name:w.target.value}),console.log("Review name changed to",w.target.value),u.projectSlug&&u.reviewSlug&&u.checklistSlug&&o()){const _=u.checklistSlug.lastIndexOf("-"),N=_!==-1?u.checklistSlug.slice(_+1):u.checklistSlug,T=Qe(w.target.value)+"-"+N;f(`/projects/${u.projectSlug}/reviews/${u.reviewSlug}/checklists/${T}`,{replace:!0})}}),x.addEventListener("change",w=>{r(w.target.value),d({reviewerName:w.target.value})}),b.addEventListener("change",w=>{s(w.target.value),d({reviewDate:w.target.value})}),P($,A(ge,{get when(){return Ke(()=>!c())()&&o()},get fallback(){return ul()},get children(){var w=ll();return P(w,A(fl,{onUpdate:_=>d({q1:_}),checklistState:o}),null),P(w,A(dl,{onUpdate:_=>d({q2:_}),checklistState:o}),null),P(w,A(hl,{onUpdate:_=>d({q3:_}),checklistState:o}),null),P(w,A(gl,{onUpdate:_=>d({q4:_}),checklistState:o}),null),P(w,A(pl,{onUpdate:_=>d({q5:_}),checklistState:o}),null),P(w,A(ml,{onUpdate:_=>d({q6:_}),checklistState:o}),null),P(w,A(wl,{onUpdate:_=>d({q7:_}),checklistState:o}),null),P(w,A(yl,{onUpdate:_=>d({q8:_}),checklistState:o}),null),P(w,A(vl,{onUpdatea:_=>d({q9a:_}),onUpdateb:_=>d({q9b:_}),checklistState:o}),null),P(w,A(bl,{onUpdate:_=>d({q10:_}),checklistState:o}),null),P(w,A(xl,{onUpdatea:_=>d({q11a:_}),onUpdateb:_=>d({q11b:_}),checklistState:o}),null),P(w,A(_l,{onUpdate:_=>d({q12:_}),checklistState:o}),null),P(w,A(kl,{onUpdate:_=>d({q13:_}),checklistState:o}),null),P(w,A($l,{onUpdate:_=>d({q14:_}),checklistState:o}),null),P(w,A(Sl,{onUpdate:_=>d({q15:_}),checklistState:o}),null),P(w,A(Cl,{onUpdate:_=>d({q16:_}),checklistState:o}),null),w}}),null),H(()=>y.value=e()),H(()=>x.value=n()),H(()=>b.value=i()),m})()}ke(["click"]);function pn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Al(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function $s(e){let t,n,r;e.length!==2?(t=pn,n=(a,l)=>pn(e(a),l),r=(a,l)=>e(a)-l):(t=e===pn||e===Al?e:El,n=e,r=e);function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const f=c+u>>>1;n(a[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function o(a,l,c=0,u=a.length){const f=i(a,l,c,u-1);return f>c&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:o,right:s}}function El(){return 0}function Pl(e){return e===null?NaN:+e}const Rl=$s(pn),Nl=Rl.right;$s(Pl).center;class fi extends Map{constructor(t,n=ql){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(di(this,t))}has(t){return super.has(di(this,t))}set(t,n){return super.set(Il(this,t),n)}delete(t){return super.delete(Tl(this,t))}}function di({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Il({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Tl({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function ql(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Ol=Math.sqrt(50),Ll=Math.sqrt(10),Ml=Math.sqrt(2);function En(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=Ol?10:s>=Ll?5:s>=Ml?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?En(e,t,n*2):[a,l,c]}function jl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,o]=r?En(t,e,n):En(e,t,n);if(!(s>=i))return[];const a=s-i+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(s-c)/-o;else for(let c=0;c<a;++c)l[c]=(s-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(i+c)/-o;else for(let c=0;c<a;++c)l[c]=(i+c)*o;return l}function vr(e,t,n){return t=+t,e=+e,n=+n,En(e,t,n)[2]}function Dl(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?vr(t,e,n):vr(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ss(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Fl(e){return e}var Ul=3,hi=1e-6;function Vl(e){return"translate("+e+",0)"}function Bl(e){return t=>+e(t)}function zl(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Hl(){return!this.__axis}function Yl(e,t){var n=[],r=null,i=null,s=6,o=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,u="y",f=Vl;function d(m){var $=r??(t.ticks?t.ticks.apply(t,n):t.domain()),S=i??(t.tickFormat?t.tickFormat.apply(t,n):Fl),E=Math.max(s,0)+a,R=t.range(),p=+R[0]+l,v=+R[R.length-1]+l,y=(t.bandwidth?zl:Bl)(t.copy(),l),k=m.selection?m.selection():m,C=k.selectAll(".domain").data([null]),x=k.selectAll(".tick").data($,t).order(),h=x.exit(),g=x.enter().append("g").attr("class","tick"),b=x.select("line"),w=x.select("text");C=C.merge(C.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(g),b=b.merge(g.append("line").attr("stroke","currentColor").attr(u+"2",c*s)),w=w.merge(g.append("text").attr("fill","currentColor").attr(u,c*E).attr("dy","0.71em")),m!==k&&(C=C.transition(m),x=x.transition(m),b=b.transition(m),w=w.transition(m),h=h.transition(m).attr("opacity",hi).attr("transform",function(_){return isFinite(_=y(_))?f(_+l):this.getAttribute("transform")}),g.attr("opacity",hi).attr("transform",function(_){var N=this.parentNode.__axis;return f((N&&isFinite(N=N(_))?N:y(_))+l)})),h.remove(),C.attr("d",o?"M"+p+","+c*o+"V"+l+"H"+v+"V"+c*o:"M"+p+","+l+"H"+v),x.attr("opacity",1).attr("transform",function(_){return f(y(_)+l)}),b.attr(u+"2",c*s),w.attr(u,c*E).text(S),k.filter(Hl).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),k.each(function(){this.__axis=y})}return d.scale=function(m){return arguments.length?(t=m,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),d):n.slice()},d.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),d):r&&r.slice()},d.tickFormat=function(m){return arguments.length?(i=m,d):i},d.tickSize=function(m){return arguments.length?(s=o=+m,d):s},d.tickSizeInner=function(m){return arguments.length?(s=+m,d):s},d.tickSizeOuter=function(m){return arguments.length?(o=+m,d):o},d.tickPadding=function(m){return arguments.length?(a=+m,d):a},d.offset=function(m){return arguments.length?(l=+m,d):l},d}function Wl(e){return Yl(Ul,e)}var Ql={value:()=>{}};function Cs(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mn(n)}function mn(e){this._=e}function Kl(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mn.prototype=Cs.prototype={constructor:mn,on:function(e,t){var n=this._,r=Kl(e+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(e=r[s]).type)&&(i=Gl(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<o;)if(i=(e=r[s]).type)n[i]=gi(n[i],e.name,t);else if(t==null)for(i in n)n[i]=gi(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new mn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Gl(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function gi(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ql,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var br="http://www.w3.org/1999/xhtml";const pi={svg:"http://www.w3.org/2000/svg",xhtml:br,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Yn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),pi.hasOwnProperty(t)?{space:pi[t],local:e}:e}function Xl(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===br&&t.documentElement.namespaceURI===br?t.createElement(e):t.createElementNS(n,e)}}function Jl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function As(e){var t=Yn(e);return(t.local?Jl:Xl)(t)}function Zl(){}function Ur(e){return e==null?Zl:function(){return this.querySelector(e)}}function ec(e){typeof e!="function"&&(e=Ur(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=new Array(o),l,c,u=0;u<o;++u)(l=s[u])&&(c=e.call(l,l.__data__,u,s))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new Ne(r,this._parents)}function tc(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function nc(){return[]}function Es(e){return e==null?nc:function(){return this.querySelectorAll(e)}}function rc(e){return function(){return tc(e.apply(this,arguments))}}function ic(e){typeof e=="function"?e=rc(e):e=Es(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o=t[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),i.push(l));return new Ne(r,i)}function Ps(e){return function(){return this.matches(e)}}function Rs(e){return function(t){return t.matches(e)}}var sc=Array.prototype.find;function oc(e){return function(){return sc.call(this.children,e)}}function ac(){return this.firstElementChild}function lc(e){return this.select(e==null?ac:oc(typeof e=="function"?e:Rs(e)))}var cc=Array.prototype.filter;function uc(){return Array.from(this.children)}function fc(e){return function(){return cc.call(this.children,e)}}function dc(e){return this.selectAll(e==null?uc:fc(typeof e=="function"?e:Rs(e)))}function hc(e){typeof e!="function"&&(e=Ps(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Ne(r,this._parents)}function Ns(e){return new Array(e.length)}function gc(){return new Ne(this._enter||this._groups.map(Ns),this._parents)}function Pn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Pn.prototype={constructor:Pn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function pc(e){return function(){return e}}function mc(e,t,n,r,i,s){for(var o=0,a,l=t.length,c=s.length;o<c;++o)(a=t[o])?(a.__data__=s[o],r[o]=a):n[o]=new Pn(e,s[o]);for(;o<l;++o)(a=t[o])&&(i[o]=a)}function wc(e,t,n,r,i,s,o){var a,l,c=new Map,u=t.length,f=s.length,d=new Array(u),m;for(a=0;a<u;++a)(l=t[a])&&(d[a]=m=o.call(l,l.__data__,a,t)+"",c.has(m)?i[a]=l:c.set(m,l));for(a=0;a<f;++a)m=o.call(e,s[a],a,s)+"",(l=c.get(m))?(r[a]=l,l.__data__=s[a],c.delete(m)):n[a]=new Pn(e,s[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(d[a])===l&&(i[a]=l)}function yc(e){return e.__data__}function vc(e,t){if(!arguments.length)return Array.from(this,yc);var n=t?wc:mc,r=this._parents,i=this._groups;typeof e!="function"&&(e=pc(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),c=0;c<s;++c){var u=r[c],f=i[c],d=f.length,m=bc(e.call(u,u&&u.__data__,c,r)),$=m.length,S=a[c]=new Array($),E=o[c]=new Array($),R=l[c]=new Array(d);n(u,f,S,E,R,m,t);for(var p=0,v=0,y,k;p<$;++p)if(y=S[p]){for(p>=v&&(v=p+1);!(k=E[v])&&++v<$;);y._next=k||null}}return o=new Ne(o,r),o._enter=a,o._exit=l,o}function bc(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function xc(){return new Ne(this._exit||this._groups.map(Ns),this._parents)}function _c(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function kc(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var c=n[l],u=r[l],f=c.length,d=a[l]=new Array(f),m,$=0;$<f;++$)(m=c[$]||u[$])&&(d[$]=m);for(;l<i;++l)a[l]=n[l];return new Ne(a,this._parents)}function $c(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Sc(e){e||(e=Cc);function t(f,d){return f&&d?e(f.__data__,d.__data__):!f-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,l=i[s]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new Ne(i,this._parents).order()}function Cc(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Ac(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Ec(){return Array.from(this)}function Pc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Rc(){let e=0;for(const t of this)++e;return e}function Nc(){return!this.node()}function Ic(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&e.call(a,a.__data__,s,i);return this}function Tc(e){return function(){this.removeAttribute(e)}}function qc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Oc(e,t){return function(){this.setAttribute(e,t)}}function Lc(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Mc(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function jc(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Dc(e,t){var n=Yn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?qc:Tc:typeof t=="function"?n.local?jc:Mc:n.local?Lc:Oc)(n,t))}function Is(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Fc(e){return function(){this.style.removeProperty(e)}}function Uc(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Vc(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Bc(e,t,n){return arguments.length>1?this.each((t==null?Fc:typeof t=="function"?Vc:Uc)(e,t,n??"")):Ct(this.node(),e)}function Ct(e,t){return e.style.getPropertyValue(t)||Is(e).getComputedStyle(e,null).getPropertyValue(t)}function zc(e){return function(){delete this[e]}}function Hc(e,t){return function(){this[e]=t}}function Yc(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Wc(e,t){return arguments.length>1?this.each((t==null?zc:typeof t=="function"?Yc:Hc)(e,t)):this.node()[e]}function Ts(e){return e.trim().split(/^|\s+/)}function Vr(e){return e.classList||new qs(e)}function qs(e){this._node=e,this._names=Ts(e.getAttribute("class")||"")}qs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Os(e,t){for(var n=Vr(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Ls(e,t){for(var n=Vr(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Qc(e){return function(){Os(this,e)}}function Kc(e){return function(){Ls(this,e)}}function Gc(e,t){return function(){(t.apply(this,arguments)?Os:Ls)(this,e)}}function Xc(e,t){var n=Ts(e+"");if(arguments.length<2){for(var r=Vr(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Gc:t?Qc:Kc)(n,t))}function Jc(){this.textContent=""}function Zc(e){return function(){this.textContent=e}}function eu(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function tu(e){return arguments.length?this.each(e==null?Jc:(typeof e=="function"?eu:Zc)(e)):this.node().textContent}function nu(){this.innerHTML=""}function ru(e){return function(){this.innerHTML=e}}function iu(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function su(e){return arguments.length?this.each(e==null?nu:(typeof e=="function"?iu:ru)(e)):this.node().innerHTML}function ou(){this.nextSibling&&this.parentNode.appendChild(this)}function au(){return this.each(ou)}function lu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cu(){return this.each(lu)}function uu(e){var t=typeof e=="function"?e:As(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function fu(){return null}function du(e,t){var n=typeof e=="function"?e:As(e),r=t==null?fu:typeof t=="function"?t:Ur(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function hu(){var e=this.parentNode;e&&e.removeChild(this)}function gu(){return this.each(hu)}function pu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function mu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function wu(e){return this.select(e?mu:pu)}function yu(e){return arguments.length?this.property("__data__",e):this.node().__data__}function vu(e){return function(t){e.call(this,t,this.__data__)}}function bu(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function xu(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function _u(e,t,n){return function(){var r=this.__on,i,s=vu(t);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function ku(e,t,n){var r=bu(e+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<s;++i)if((o=r[i]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?_u:xu,i=0;i<s;++i)this.each(a(r[i],t,n));return this}function Ms(e,t,n){var r=Is(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function $u(e,t){return function(){return Ms(this,e,t)}}function Su(e,t){return function(){return Ms(this,e,t.apply(this,arguments))}}function Cu(e,t){return this.each((typeof t=="function"?Su:$u)(e,t))}function*Au(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var js=[null];function Ne(e,t){this._groups=e,this._parents=t}function en(){return new Ne([[document.documentElement]],js)}function Eu(){return this}Ne.prototype=en.prototype={constructor:Ne,select:ec,selectAll:ic,selectChild:lc,selectChildren:dc,filter:hc,data:vc,enter:gc,exit:xc,join:_c,merge:kc,selection:Eu,order:$c,sort:Sc,call:Ac,nodes:Ec,node:Pc,size:Rc,empty:Nc,each:Ic,attr:Dc,style:Bc,property:Wc,classed:Xc,text:tu,html:su,raise:au,lower:cu,append:uu,insert:du,remove:gu,clone:wu,datum:yu,on:ku,dispatch:Cu,[Symbol.iterator]:Au};function Ds(e){return typeof e=="string"?new Ne([[document.querySelector(e)]],[document.documentElement]):new Ne([[e]],js)}function Br(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Fs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tn(){}var Yt=.7,Rn=1/Yt,$t="\\s*([+-]?\\d+)\\s*",Wt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ue="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Pu=/^#([0-9a-f]{3,8})$/,Ru=new RegExp(`^rgb\\(${$t},${$t},${$t}\\)$`),Nu=new RegExp(`^rgb\\(${Ue},${Ue},${Ue}\\)$`),Iu=new RegExp(`^rgba\\(${$t},${$t},${$t},${Wt}\\)$`),Tu=new RegExp(`^rgba\\(${Ue},${Ue},${Ue},${Wt}\\)$`),qu=new RegExp(`^hsl\\(${Wt},${Ue},${Ue}\\)$`),Ou=new RegExp(`^hsla\\(${Wt},${Ue},${Ue},${Wt}\\)$`),mi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Br(tn,ut,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:wi,formatHex:wi,formatHex8:Lu,formatHsl:Mu,formatRgb:yi,toString:yi});function wi(){return this.rgb().formatHex()}function Lu(){return this.rgb().formatHex8()}function Mu(){return Us(this).formatHsl()}function yi(){return this.rgb().formatRgb()}function ut(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Pu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?vi(t):n===3?new Ce(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?on(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?on(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ru.exec(e))?new Ce(t[1],t[2],t[3],1):(t=Nu.exec(e))?new Ce(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Iu.exec(e))?on(t[1],t[2],t[3],t[4]):(t=Tu.exec(e))?on(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=qu.exec(e))?_i(t[1],t[2]/100,t[3]/100,1):(t=Ou.exec(e))?_i(t[1],t[2]/100,t[3]/100,t[4]):mi.hasOwnProperty(e)?vi(mi[e]):e==="transparent"?new Ce(NaN,NaN,NaN,0):null}function vi(e){return new Ce(e>>16&255,e>>8&255,e&255,1)}function on(e,t,n,r){return r<=0&&(e=t=n=NaN),new Ce(e,t,n,r)}function ju(e){return e instanceof tn||(e=ut(e)),e?(e=e.rgb(),new Ce(e.r,e.g,e.b,e.opacity)):new Ce}function xr(e,t,n,r){return arguments.length===1?ju(e):new Ce(e,t,n,r??1)}function Ce(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Br(Ce,xr,Fs(tn,{brighter(e){return e=e==null?Rn:Math.pow(Rn,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Yt:Math.pow(Yt,e),new Ce(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ce(ct(this.r),ct(this.g),ct(this.b),Nn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bi,formatHex:bi,formatHex8:Du,formatRgb:xi,toString:xi}));function bi(){return`#${at(this.r)}${at(this.g)}${at(this.b)}`}function Du(){return`#${at(this.r)}${at(this.g)}${at(this.b)}${at((isNaN(this.opacity)?1:this.opacity)*255)}`}function xi(){const e=Nn(this.opacity);return`${e===1?"rgb(":"rgba("}${ct(this.r)}, ${ct(this.g)}, ${ct(this.b)}${e===1?")":`, ${e})`}`}function Nn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ct(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function at(e){return e=ct(e),(e<16?"0":"")+e.toString(16)}function _i(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Oe(e,t,n,r)}function Us(e){if(e instanceof Oe)return new Oe(e.h,e.s,e.l,e.opacity);if(e instanceof tn||(e=ut(e)),!e)return new Oe;if(e instanceof Oe)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(t===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new Oe(o,a,l,e.opacity)}function Fu(e,t,n,r){return arguments.length===1?Us(e):new Oe(e,t,n,r??1)}function Oe(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Br(Oe,Fu,Fs(tn,{brighter(e){return e=e==null?Rn:Math.pow(Rn,e),new Oe(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Yt:Math.pow(Yt,e),new Oe(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Ce(rr(e>=240?e-240:e+120,i,r),rr(e,i,r),rr(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Oe(ki(this.h),an(this.s),an(this.l),Nn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Nn(this.opacity);return`${e===1?"hsl(":"hsla("}${ki(this.h)}, ${an(this.s)*100}%, ${an(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ki(e){return e=(e||0)%360,e<0?e+360:e}function an(e){return Math.max(0,Math.min(1,e||0))}function rr(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const zr=e=>()=>e;function Uu(e,t){return function(n){return e+n*t}}function Vu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Bu(e){return(e=+e)==1?Vs:function(t,n){return n-t?Vu(t,n,e):zr(isNaN(t)?n:t)}}function Vs(e,t){var n=t-e;return n?Uu(e,n):zr(isNaN(e)?t:e)}const In=(function e(t){var n=Bu(t);function r(i,s){var o=n((i=xr(i)).r,(s=xr(s)).r),a=n(i.g,s.g),l=n(i.b,s.b),c=Vs(i.opacity,s.opacity);return function(u){return i.r=o(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r})(1);function zu(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function Hu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Yu(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),o;for(o=0;o<r;++o)i[o]=Hr(e[o],t[o]);for(;o<n;++o)s[o]=t[o];return function(a){for(o=0;o<r;++o)s[o]=i[o](a);return s}}function Wu(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function qe(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Qu(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Hr(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var _r=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,ir=new RegExp(_r.source,"g");function Ku(e){return function(){return e}}function Gu(e){return function(t){return e(t)+""}}function Bs(e,t){var n=_r.lastIndex=ir.lastIndex=0,r,i,s,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=_r.exec(e))&&(i=ir.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,l.push({i:o,x:qe(r,i)})),n=ir.lastIndex;return n<t.length&&(s=t.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?l[0]?Gu(l[0].x):Ku(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}function Hr(e,t){var n=typeof t,r;return t==null||n==="boolean"?zr(t):(n==="number"?qe:n==="string"?(r=ut(t))?(t=r,In):Bs:t instanceof ut?In:t instanceof Date?Wu:Hu(t)?zu:Array.isArray(t)?Yu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Qu:qe)(e,t)}function Xu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var $i=180/Math.PI,kr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zs(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*$i,skewX:Math.atan(l)*$i,scaleX:o,scaleY:a}}var ln;function Ju(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?kr:zs(t.a,t.b,t.c,t.d,t.e,t.f)}function Zu(e){return e==null||(ln||(ln=document.createElementNS("http://www.w3.org/2000/svg","g")),ln.setAttribute("transform",e),!(e=ln.transform.baseVal.consolidate()))?kr:(e=e.matrix,zs(e.a,e.b,e.c,e.d,e.e,e.f))}function Hs(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,u,f,d,m,$){if(c!==f||u!==d){var S=m.push("translate(",null,t,null,n);$.push({i:S-4,x:qe(c,f)},{i:S-2,x:qe(u,d)})}else(f||d)&&m.push("translate("+f+t+d+n)}function o(c,u,f,d){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),d.push({i:f.push(i(f)+"rotate(",null,r)-2,x:qe(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function a(c,u,f,d){c!==u?d.push({i:f.push(i(f)+"skewX(",null,r)-2,x:qe(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,d,m,$){if(c!==f||u!==d){var S=m.push(i(m)+"scale(",null,",",null,")");$.push({i:S-4,x:qe(c,f)},{i:S-2,x:qe(u,d)})}else(f!==1||d!==1)&&m.push(i(m)+"scale("+f+","+d+")")}return function(c,u){var f=[],d=[];return c=e(c),u=e(u),s(c.translateX,c.translateY,u.translateX,u.translateY,f,d),o(c.rotate,u.rotate,f,d),a(c.skewX,u.skewX,f,d),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,d),c=u=null,function(m){for(var $=-1,S=d.length,E;++$<S;)f[(E=d[$]).i]=E.x(m);return f.join("")}}}var ef=Hs(Ju,"px, ","px)","deg)"),tf=Hs(Zu,", ",")",")"),At=0,qt=0,Nt=0,Ys=1e3,Tn,Ot,qn=0,ft=0,Wn=0,Qt=typeof performance=="object"&&performance.now?performance:Date,Ws=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yr(){return ft||(Ws(nf),ft=Qt.now()+Wn)}function nf(){ft=0}function On(){this._call=this._time=this._next=null}On.prototype=Qs.prototype={constructor:On,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Yr():+n)+(t==null?0:+t),!this._next&&Ot!==this&&(Ot?Ot._next=this:Tn=this,Ot=this),this._call=e,this._time=n,$r()},stop:function(){this._call&&(this._call=null,this._time=1/0,$r())}};function Qs(e,t,n){var r=new On;return r.restart(e,t,n),r}function rf(){Yr(),++At;for(var e=Tn,t;e;)(t=ft-e._time)>=0&&e._call.call(void 0,t),e=e._next;--At}function Si(){ft=(qn=Qt.now())+Wn,At=qt=0;try{rf()}finally{At=0,of(),ft=0}}function sf(){var e=Qt.now(),t=e-qn;t>Ys&&(Wn-=t,qn=e)}function of(){for(var e,t=Tn,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Tn=n);Ot=e,$r(r)}function $r(e){if(!At){qt&&(qt=clearTimeout(qt));var t=e-ft;t>24?(e<1/0&&(qt=setTimeout(Si,e-Qt.now()-Wn)),Nt&&(Nt=clearInterval(Nt))):(Nt||(qn=Qt.now(),Nt=setInterval(sf,Ys)),At=1,Ws(Si))}}function Ci(e,t,n){var r=new On;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var af=Cs("start","end","cancel","interrupt"),lf=[],Ks=0,Ai=1,Sr=2,wn=3,Ei=4,Cr=5,yn=6;function Qn(e,t,n,r,i,s){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;cf(e,n,{name:t,index:r,group:i,on:af,tween:lf,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:Ks})}function Wr(e,t){var n=Me(e,t);if(n.state>Ks)throw new Error("too late; already scheduled");return n}function Be(e,t){var n=Me(e,t);if(n.state>wn)throw new Error("too late; already running");return n}function Me(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function cf(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Qs(s,0,n.time);function s(c){n.state=Ai,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,f,d,m;if(n.state!==Ai)return l();for(u in r)if(m=r[u],m.name===n.name){if(m.state===wn)return Ci(o);m.state===Ei?(m.state=yn,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[u]):+u<t&&(m.state=yn,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[u])}if(Ci(function(){n.state===wn&&(n.state=Ei,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Sr,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Sr){for(n.state=wn,i=new Array(d=n.tween.length),u=0,f=-1;u<d;++u)(m=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=m);i.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Cr,1),f=-1,d=i.length;++f<d;)i[f].call(e,u);n.state===Cr&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=yn,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function uf(e,t){var n=e.__transition,r,i,s=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){s=!1;continue}i=r.state>Sr&&r.state<Cr,r.state=yn,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}s&&delete e.__transition}}function ff(e){return this.each(function(){uf(this,e)})}function df(e,t){var n,r;return function(){var i=Be(this,e),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function hf(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=Be(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}s.tween=i}}function gf(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Me(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?df:hf)(n,e,t))}function Qr(e,t,n){var r=e._id;return e.each(function(){var i=Be(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Me(i,r).value[t]}}function Gs(e,t){var n;return(typeof t=="number"?qe:t instanceof ut?In:(n=ut(t))?(t=n,In):Bs)(e,t)}function pf(e){return function(){this.removeAttribute(e)}}function mf(e){return function(){this.removeAttributeNS(e.space,e.local)}}function wf(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttribute(e);return o===i?null:o===r?s:s=t(r=o,n)}}function yf(e,t,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?s:s=t(r=o,n)}}function vf(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function bf(e,t,n){var r,i,s;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a)))}}function xf(e,t){var n=Yn(e),r=n==="transform"?tf:Gs;return this.attrTween(e,typeof t=="function"?(n.local?bf:vf)(n,r,Qr(this,"attr."+e,t)):t==null?(n.local?mf:pf)(n):(n.local?yf:wf)(n,r,t))}function _f(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function kf(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function $f(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&kf(e,s)),n}return i._value=t,i}function Sf(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&_f(e,s)),n}return i._value=t,i}function Cf(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Yn(e);return this.tween(n,(r.local?$f:Sf)(r,t))}function Af(e,t){return function(){Wr(this,e).delay=+t.apply(this,arguments)}}function Ef(e,t){return t=+t,function(){Wr(this,e).delay=t}}function Pf(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Af:Ef)(t,e)):Me(this.node(),t).delay}function Rf(e,t){return function(){Be(this,e).duration=+t.apply(this,arguments)}}function Nf(e,t){return t=+t,function(){Be(this,e).duration=t}}function If(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Rf:Nf)(t,e)):Me(this.node(),t).duration}function Tf(e,t){if(typeof t!="function")throw new Error;return function(){Be(this,e).ease=t}}function qf(e){var t=this._id;return arguments.length?this.each(Tf(t,e)):Me(this.node(),t).ease}function Of(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Be(this,e).ease=n}}function Lf(e){if(typeof e!="function")throw new Error;return this.each(Of(this._id,e))}function Mf(e){typeof e!="function"&&(e=Ps(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],o=s.length,a=r[i]=[],l,c=0;c<o;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&a.push(l);return new Ge(r,this._parents,this._name,this._id)}function jf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l=t[a],c=n[a],u=l.length,f=o[a]=new Array(u),d,m=0;m<u;++m)(d=l[m]||c[m])&&(f[m]=d);for(;a<r;++a)o[a]=t[a];return new Ge(o,this._parents,this._name,this._id)}function Df(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Ff(e,t,n){var r,i,s=Df(t)?Wr:Be;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}function Uf(e,t){var n=this._id;return arguments.length<2?Me(this.node(),n).on.on(e):this.each(Ff(n,e,t))}function Vf(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Bf(){return this.on("end.remove",Vf(this._id))}function zf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ur(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],l=a.length,c=s[o]=new Array(l),u,f,d=0;d<l;++d)(u=a[d])&&(f=e.call(u,u.__data__,d,a))&&("__data__"in u&&(f.__data__=u.__data__),c[d]=f,Qn(c[d],t,n,d,c,Me(u,n)));return new Ge(s,this._parents,t,n)}function Hf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Es(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var d=e.call(u,u.__data__,f,l),m,$=Me(u,n),S=0,E=d.length;S<E;++S)(m=d[S])&&Qn(m,t,n,S,d,$);s.push(d),o.push(u)}return new Ge(s,o,t,n)}var Yf=en.prototype.constructor;function Wf(){return new Yf(this._groups,this._parents)}function Qf(e,t){var n,r,i;return function(){var s=Ct(this,e),o=(this.style.removeProperty(e),Ct(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}function Xs(e){return function(){this.style.removeProperty(e)}}function Kf(e,t,n){var r,i=n+"",s;return function(){var o=Ct(this,e);return o===i?null:o===r?s:s=t(r=o,n)}}function Gf(e,t,n){var r,i,s;return function(){var o=Ct(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Ct(this,e))),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}function Xf(e,t){var n,r,i,s="style."+t,o="end."+s,a;return function(){var l=Be(this,e),c=l.on,u=l.value[s]==null?a||(a=Xs(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(o,i=u),l.on=r}}function Jf(e,t,n){var r=(e+="")=="transform"?ef:Gs;return t==null?this.styleTween(e,Qf(e,r)).on("end.style."+e,Xs(e)):typeof t=="function"?this.styleTween(e,Gf(e,r,Qr(this,"style."+e,t))).each(Xf(this._id,e)):this.styleTween(e,Kf(e,r,t),n).on("end.style."+e,null)}function Zf(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ed(e,t,n){var r,i;function s(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&Zf(e,o,n)),r}return s._value=t,s}function td(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ed(e,t,n??""))}function nd(e){return function(){this.textContent=e}}function rd(e){return function(){var t=e(this);this.textContent=t??""}}function id(e){return this.tween("text",typeof e=="function"?rd(Qr(this,"text",e)):nd(e==null?"":e+""))}function sd(e){return function(t){this.textContent=e.call(this,t)}}function od(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&sd(i)),t}return r._value=e,r}function ad(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,od(e))}function ld(){for(var e=this._name,t=this._id,n=Js(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=Me(l,t);Qn(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ge(r,this._parents,e,n)}function cd(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){--i===0&&s()}};n.each(function(){var c=Be(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&s()})}var ud=0;function Ge(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Js(){return++ud}var He=en.prototype;Ge.prototype={constructor:Ge,select:zf,selectAll:Hf,selectChild:He.selectChild,selectChildren:He.selectChildren,filter:Mf,merge:jf,selection:Wf,transition:ld,call:He.call,nodes:He.nodes,node:He.node,size:He.size,empty:He.empty,each:He.each,on:Uf,attr:xf,attrTween:Cf,style:Jf,styleTween:td,text:id,textTween:ad,remove:Bf,tween:gf,delay:Pf,duration:If,ease:qf,easeVarying:Lf,end:cd,[Symbol.iterator]:He[Symbol.iterator]};function fd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var dd={time:null,delay:0,duration:250,ease:fd};function hd(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function gd(e){var t,n;e instanceof Ge?(t=e._id,e=e._name):(t=Js(),(n=dd).time=Yr(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Qn(l,e,t,c,o,n||hd(l,t));return new Ge(r,this._parents,e,t)}en.prototype.interrupt=ff;en.prototype.transition=gd;function pd(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ln(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Et(e){return e=Ln(Math.abs(e)),e?e[1]:NaN}function md(e,t){return function(n,r){for(var i=n.length,s=[],o=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),s.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return s.reverse().join(t)}}function wd(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var yd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Mn(e){if(!(t=yd.exec(e)))throw new Error("invalid format: "+e);var t;return new Kr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Mn.prototype=Kr.prototype;function Kr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Kr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function vd(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Zs;function bd(e,t){var n=Ln(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Zs=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Ln(e,Math.max(0,t+s-1))[0]}function Pi(e,t){var n=Ln(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ri={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:pd,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Pi(e*100,t),r:Pi,s:bd,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ni(e){return e}var Ii=Array.prototype.map,Ti=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function xd(e){var t=e.grouping===void 0||e.thousands===void 0?Ni:md(Ii.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?Ni:wd(Ii.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(f){f=Mn(f);var d=f.fill,m=f.align,$=f.sign,S=f.symbol,E=f.zero,R=f.width,p=f.comma,v=f.precision,y=f.trim,k=f.type;k==="n"?(p=!0,k="g"):Ri[k]||(v===void 0&&(v=12),y=!0,k="g"),(E||d==="0"&&m==="=")&&(E=!0,d="0",m="=");var C=S==="$"?n:S==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",x=S==="$"?r:/[%p]/.test(k)?o:"",h=Ri[k],g=/[defgprs%]/.test(k);v=v===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function b(w){var _=C,N=x,T,j,M;if(k==="c")N=h(w)+N,w="";else{w=+w;var O=w<0||1/w<0;if(w=isNaN(w)?l:h(Math.abs(w),v),y&&(w=vd(w)),O&&+w==0&&$!=="+"&&(O=!1),_=(O?$==="("?$:a:$==="-"||$==="("?"":$)+_,N=(k==="s"?Ti[8+Zs/3]:"")+N+(O&&$==="("?")":""),g){for(T=-1,j=w.length;++T<j;)if(M=w.charCodeAt(T),48>M||M>57){N=(M===46?i+w.slice(T+1):w.slice(T))+N,w=w.slice(0,T);break}}}p&&!E&&(w=t(w,1/0));var B=_.length+w.length+N.length,q=B<R?new Array(R-B+1).join(d):"";switch(p&&E&&(w=t(q+w,q.length?R-N.length:1/0),q=""),m){case"<":w=_+w+N+q;break;case"=":w=_+q+w+N;break;case"^":w=q.slice(0,B=q.length>>1)+_+w+N+q.slice(B);break;default:w=q+_+w+N;break}return s(w)}return b.toString=function(){return f+""},b}function u(f,d){var m=c((f=Mn(f),f.type="f",f)),$=Math.max(-8,Math.min(8,Math.floor(Et(d)/3)))*3,S=Math.pow(10,-$),E=Ti[8+$/3];return function(R){return m(S*R)+E}}return{format:c,formatPrefix:u}}var cn,eo,to;_d({thousands:",",grouping:[3],currency:["$",""]});function _d(e){return cn=xd(e),eo=cn.format,to=cn.formatPrefix,cn}function kd(e){return Math.max(0,-Et(Math.abs(e)))}function $d(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Et(t)/3)))*3-Et(Math.abs(e)))}function Sd(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Et(t)-Et(e))+1}function Gr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const qi=Symbol("implicit");function no(){var e=new fi,t=[],n=[],r=qi;function i(s){let o=e.get(s);if(o===void 0){if(r!==qi)return r;e.set(s,o=t.push(s)-1)}return n[o%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new fi;for(const o of s)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return no(t,n).unknown(r)},Gr.apply(i,arguments),i}function ro(){var e=no().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,o,a=!1,l=0,c=0,u=.5;delete e.unknown;function f(){var d=t().length,m=i<r,$=m?i:r,S=m?r:i;s=(S-$)/Math.max(1,d-l+c*2),a&&(s=Math.floor(s)),$+=(S-$-s*(d-l))*u,o=s*(1-l),a&&($=Math.round($),o=Math.round(o));var E=Ss(d).map(function(R){return $+s*R});return n(m?E.reverse():E)}return e.domain=function(d){return arguments.length?(t(d),f()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,a=!0,f()},e.bandwidth=function(){return o},e.step=function(){return s},e.round=function(d){return arguments.length?(a=!!d,f()):a},e.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},e.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},e.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},e.copy=function(){return ro(t(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},Gr.apply(f(),arguments)}function Cd(e){return function(){return e}}function Ad(e){return+e}var Oi=[0,1];function vt(e){return e}function Ar(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Cd(isNaN(t)?NaN:.5)}function Ed(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Pd(e,t,n){var r=e[0],i=e[1],s=t[0],o=t[1];return i<r?(r=Ar(i,r),s=n(o,s)):(r=Ar(r,i),s=n(s,o)),function(a){return s(r(a))}}function Rd(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Ar(e[o],e[o+1]),s[o]=n(t[o],t[o+1]);return function(a){var l=Nl(e,a,1,r)-1;return s[l](i[l](a))}}function Nd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Id(){var e=Oi,t=Oi,n=Hr,r,i,s,o=vt,a,l,c;function u(){var d=Math.min(e.length,t.length);return o!==vt&&(o=Ed(e[0],e[d-1])),a=d>2?Rd:Pd,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?s:(l||(l=a(e.map(r),t,n)))(r(o(d)))}return f.invert=function(d){return o(i((c||(c=a(t,e.map(r),qe)))(d)))},f.domain=function(d){return arguments.length?(e=Array.from(d,Ad),u()):e.slice()},f.range=function(d){return arguments.length?(t=Array.from(d),u()):t.slice()},f.rangeRound=function(d){return t=Array.from(d),n=Xu,u()},f.clamp=function(d){return arguments.length?(o=d?!0:vt,u()):o!==vt},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,m){return r=d,i=m,u()}}function Td(){return Id()(vt,vt)}function qd(e,t,n,r){var i=Dl(e,t,n),s;switch(r=Mn(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=$d(i,o))&&(r.precision=s),to(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=Sd(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=kd(i))&&(r.precision=s-(r.type==="%")*2);break}}return eo(r)}function Od(e){var t=e.domain;return e.ticks=function(n){var r=t();return jl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return qd(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,o=r[i],a=r[s],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=i,i=s,s=c);u-- >0;){if(c=vr(o,a,n),c===l)return r[i]=o,r[s]=a,t(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function io(){var e=Td();return e.copy=function(){return Nd(e,io())},Gr.apply(e,arguments),Od(e)}function Lt(e,t,n){this.k=e,this.x=t,this.y=n}Lt.prototype={constructor:Lt,scale:function(e){return e===1?this:new Lt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Lt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Lt.prototype;var Ld=I('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function Md(e){let t;const[n,r]=D({width:800,height:500});ue(()=>{function p(){if(t&&t.parentElement){const v=t.parentElement.getBoundingClientRect();r({width:Math.max(v.width,600),height:Math.max(v.height,400)})}}p(),window.addEventListener("resize",p),Re(()=>window.removeEventListener("resize",p))});const i=()=>e.data??[],s=16,o=()=>e.width??n().width,a=()=>e.height??n().height,l=()=>e.title??"AMSTAR-2 Quality Assessment",c={top:60,right:170,bottom:60,left:120},u=()=>(o()-c.left-c.right)/s,f=()=>(a()-c.top-c.bottom)/i().length,d=()=>Math.min(u(),f()),m=()=>d()*s,$=()=>d()*i().length,S=()=>c.left+m()+c.right,E=()=>c.top+$()+c.bottom,R={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return ue(()=>{const p=Ds(t).attr("width",S()).attr("height",E()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');p.selectAll("*").remove(),p.append("g").attr("class","footer").selectAll("text").data(Ss(1,s+1)).enter().append("text").attr("x",(g,b)=>c.left+b*d()+d()/2).attr("y",c.top+$()+20).attr("text-anchor","middle").attr("font-size",Math.max(10,d()*.4)).attr("font-weight","600").attr("fill","#374151").text(g=>`Q${g}`),p.append("g").attr("class","rows").selectAll("text").data(i()).enter().append("text").attr("x",c.left-15).attr("y",(g,b)=>c.top+b*d()+d()/2).attr("text-anchor","end").attr("font-size",Math.max(10,d()*.45)).attr("font-weight","500").attr("fill","#374151").attr("dominant-baseline","middle").text(g=>g.label);const k=p.append("g").attr("class","cells");i().forEach((g,b)=>{for(let w=0;w<s;w++){const _=g.questions[w]?.toLowerCase?.()??"",N=R[_]??"#e5e7eb";k.append("rect").attr("x",c.left+w*d()+2).attr("y",c.top+b*d()+2).attr("width",d()-4).attr("height",d()-4).attr("fill",N).attr("stroke","#ffffff").attr("stroke-width",1).attr("rx",Math.max(2,d()*.12)).style("filter","drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))")}});const C=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],h=p.append("g").attr("class","legend").attr("transform",`translate(${S()-c.right+20}, ${c.top+20})`).selectAll(".legend-item").data(C).enter().append("g").attr("class","legend-item").attr("transform",(g,b)=>`translate(0, ${b*25})`);h.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",g=>R[g.key]).attr("stroke","#ffffff").attr("stroke-width",1),h.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(g=>g.label),p.append("text").attr("x",S()/2).attr("y",40).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),Re(()=>{p.selectAll("*").remove()})}),(()=>{var p=Ld(),v=p.firstChild,y=t;return typeof y=="function"?Ut(y,v):t=v,H(k=>Bn(v,`width: 100%; height: ${E()}px; max-width: 100%; display: block;`,k)),p})()}var jd=I('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function Dd(e){let t,n;const r=()=>e.data??[],[i,s]=D({width:900,height:600});Gt(()=>{const $=()=>{if(n){const S=n.getBoundingClientRect();s({width:Math.max(S.width,400),height:Math.max(S.height,400)})}};$(),window.addEventListener("resize",$),Re(()=>window.removeEventListener("resize",$))}),ue(()=>{if(n){const $=n.getBoundingClientRect();s({width:Math.max($.width,400),height:Math.max($.height,400)})}});const o=()=>e.width??i().width,a=()=>e.height??i().width/1.5,l=()=>e.title??"Distribution of AMSTAR Ratings on Each Item Across Included Reviews",c={top:50,right:150,bottom:60,left:80},u=()=>o()-c.left-c.right,f=()=>a()-c.top-c.bottom,d=()=>Math.max(Math.round(o()/50),12)+1,m={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return ue(()=>{if(!r().length)return;const $=Ds(t).attr("width",o()).attr("height",a()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');$.selectAll("*").remove();const S=[],E=Math.max(...r().map(g=>g.questions?.length||0)),R=r().length;for(let g=0;g<E;g++){const b={question:g+1,label:`Q${g+1}`,counts:{yes:0,"partial yes":0,no:0,"no ma":0}};r().forEach(w=>{const _=w.questions[g]?.toLowerCase?.()??"no ma";b.counts.hasOwnProperty(_)&&b.counts[_]++}),b.percentages={},Object.keys(b.counts).forEach(w=>{b.percentages[w]=b.counts[w]/R*100}),S.push(b)}const p=ro().domain(S.map(g=>g.label)).range([0,f()]).padding(.1),v=io().domain([0,100]).range([0,u()]),y=$.append("g").attr("transform",`translate(${c.left}, ${c.top})`);$.append("text").attr("x",o()/2).attr("y",30).attr("text-anchor","middle").attr("font-size",d()+"px").attr("font-weight","600").attr("fill","#111827").text(l()),S.forEach(g=>{let b=0;const w=p.bandwidth(),_=p(g.label);["yes","partial yes","no ma","no"].forEach(N=>{const T=g.percentages[N],j=v(T);T>0&&(y.append("rect").attr("x",v(b)).attr("y",_).attr("width",j).attr("height",w).attr("fill",m[N]).attr("stroke","#ffffff").attr("stroke-width",1),T>=5&&y.append("text").attr("x",v(b)+j/2).attr("y",_+w/2).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","12px").attr("font-weight","600").attr("fill",N==="partial yes"?"#000000":"#ffffff").text(`${T.toFixed(1)}`)),b+=T})}),y.selectAll(".y-label").data(S).enter().append("text").attr("class","y-label").attr("x",-10).attr("y",g=>p(g.label)+p.bandwidth()/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(g=>g.label);const k=Wl(v).tickFormat(g=>`${g}`).ticks(5);y.append("g").attr("class","x-axis").attr("transform",`translate(0, ${f()})`).call(k).selectAll("text").attr("font-size","12px").attr("fill","#374151"),y.append("text").attr("x",u()/2).attr("y",f()+50).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text(`Percentage of SRs (%), N=${R}`),$.append("text").attr("transform","rotate(-90)").attr("x",-a()/2).attr("y",20).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text("Items of AMSTAR-2");const C=$.append("g").attr("class","legend").attr("transform",`translate(${o()-c.right+20}, ${c.top+20})`),x=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],h=C.selectAll(".legend-item").data(x).enter().append("g").attr("class","legend-item").attr("transform",(g,b)=>`translate(0, ${b*25})`);h.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",g=>m[g.key]).attr("stroke","#ffffff").attr("stroke-width",1),h.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(g=>g.label),Re(()=>{$.selectAll("*").remove()})}),(()=>{var $=jd(),S=$.firstChild,E=n;typeof E=="function"?Ut(E,$):n=$;var R=t;return typeof R=="function"?Ut(R,S):t=S,H(p=>Bn(S,`width: 100%; height: ${a()}px; max-width: 100%; display: block;`,p)),$})()}var vn={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Fd=vn.exports,Li;function Ud(){return Li||(Li=1,(function(e,t){((n,r)=>{e.exports=r()})(Fd,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},l=0,c={};function u(h){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(g){var b=k(g);b.chunkSize=parseInt(b.chunkSize),g.step||g.chunk||(b.chunkSize=null),this._handle=new S(b),(this._handle.streamer=this)._config=b}.call(this,h),this.parseChunk=function(g,b){var w=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<w){let N=this._config.newline;N||(_=this._config.quoteChar||'"',N=this._handle.guessLineEndings(g,_)),g=[...g.split(N).slice(w)].join(N)}this.isFirstChunk&&x(this._config.beforeFirstChunk)&&(_=this._config.beforeFirstChunk(g))!==void 0&&(g=_),this.isFirstChunk=!1,this._halted=!1;var w=this._partialLine+g,_=(this._partialLine="",this._handle.parse(w,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(g=_.meta.cursor,w=(this._finished||(this._partialLine=w.substring(g-this._baseIndex),this._baseIndex=g),_&&_.data&&(this._rowCount+=_.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:_,workerId:c.WORKER_ID,finished:w});else if(x(this._config.chunk)&&!b){if(this._config.chunk(_,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=_=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(_.data),this._completeResults.errors=this._completeResults.errors.concat(_.errors),this._completeResults.meta=_.meta),this._completed||!w||!x(this._config.complete)||_&&_.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),w||_&&_.meta.paused||this._nextChunk(),_}this._halted=!0},this._sendError=function(g){x(this._config.error)?this._config.error(g):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:g,finished:!1})}}function f(h){var g;(h=h||{}).chunkSize||(h.chunkSize=c.RemoteChunkSize),u.call(this,h),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(b){this._input=b,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(g=new XMLHttpRequest,this._config.withCredentials&&(g.withCredentials=this._config.withCredentials),s||(g.onload=C(this._chunkLoaded,this),g.onerror=C(this._chunkError,this)),g.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var b,w=this._config.downloadRequestHeaders;for(b in w)g.setRequestHeader(b,w[b])}var _;this._config.chunkSize&&(_=this._start+this._config.chunkSize-1,g.setRequestHeader("Range","bytes="+this._start+"-"+_));try{g.send(this._config.downloadRequestBody)}catch(N){this._chunkError(N.message)}s&&g.status===0&&this._chunkError()}},this._chunkLoaded=function(){g.readyState===4&&(g.status<200||400<=g.status?this._chunkError():(this._start+=this._config.chunkSize||g.responseText.length,this._finished=!this._config.chunkSize||this._start>=(b=>(b=b.getResponseHeader("Content-Range"))!==null?parseInt(b.substring(b.lastIndexOf("/")+1)):-1)(g),this.parseChunk(g.responseText)))},this._chunkError=function(b){b=g.statusText||b,this._sendError(new Error(b))}}function d(h){(h=h||{}).chunkSize||(h.chunkSize=c.LocalChunkSize),u.call(this,h);var g,b,w=typeof FileReader<"u";this.stream=function(_){this._input=_,b=_.slice||_.webkitSlice||_.mozSlice,w?((g=new FileReader).onload=C(this._chunkLoaded,this),g.onerror=C(this._chunkError,this)):g=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var _=this._input,N=(this._config.chunkSize&&(N=Math.min(this._start+this._config.chunkSize,this._input.size),_=b.call(_,this._start,N)),g.readAsText(_,this._config.encoding));w||this._chunkLoaded({target:{result:N}})},this._chunkLoaded=function(_){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(_.target.result)},this._chunkError=function(){this._sendError(g.error)}}function m(h){var g;u.call(this,h=h||{}),this.stream=function(b){return g=b,this._nextChunk()},this._nextChunk=function(){var b,w;if(!this._finished)return b=this._config.chunkSize,g=b?(w=g.substring(0,b),g.substring(b)):(w=g,""),this._finished=!g,this.parseChunk(w)}}function $(h){u.call(this,h=h||{});var g=[],b=!0,w=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(_){this._input=_,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){w&&g.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),g.length?this.parseChunk(g.shift()):b=!0},this._streamData=C(function(_){try{g.push(typeof _=="string"?_:_.toString(this._config.encoding)),b&&(b=!1,this._checkIsFinished(),this.parseChunk(g.shift()))}catch(N){this._streamError(N)}},this),this._streamError=C(function(_){this._streamCleanUp(),this._sendError(_)},this),this._streamEnd=C(function(){this._streamCleanUp(),w=!0,this._streamData("")},this),this._streamCleanUp=C(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function S(h){var g,b,w,_,N=Math.pow(2,53),T=-N,j=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,M=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,O=this,B=0,q=0,ne=!1,F=!1,V=[],L={data:[],errors:[],meta:{}};function z(U){return h.skipEmptyLines==="greedy"?U.join("").trim()==="":U.length===1&&U[0].length===0}function ae(){if(L&&w&&($e("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),w=!1),h.skipEmptyLines&&(L.data=L.data.filter(function(re){return!z(re)})),fe()){let re=function(ce,se){x(h.transformHeader)&&(ce=h.transformHeader(ce,se)),V.push(ce)};var Y=re;if(L)if(Array.isArray(L.data[0])){for(var U=0;fe()&&U<L.data.length;U++)L.data[U].forEach(re);L.data.splice(0,1)}else L.data.forEach(re)}function K(re,ce){for(var se=h.header?{}:[],J=0;J<re.length;J++){var W=J,de=re[J],de=((G,te)=>(le=>(h.dynamicTypingFunction&&h.dynamicTyping[le]===void 0&&(h.dynamicTyping[le]=h.dynamicTypingFunction(le)),(h.dynamicTyping[le]||h.dynamicTyping)===!0))(G)?te==="true"||te==="TRUE"||te!=="false"&&te!=="FALSE"&&((le=>{if(j.test(le)&&(le=parseFloat(le),T<le&&le<N))return 1})(te)?parseFloat(te):M.test(te)?new Date(te):te===""?null:te):te)(W=h.header?J>=V.length?"__parsed_extra":V[J]:W,de=h.transform?h.transform(de,W):de);W==="__parsed_extra"?(se[W]=se[W]||[],se[W].push(de)):se[W]=de}return h.header&&(J>V.length?$e("FieldMismatch","TooManyFields","Too many fields: expected "+V.length+" fields but parsed "+J,q+ce):J<V.length&&$e("FieldMismatch","TooFewFields","Too few fields: expected "+V.length+" fields but parsed "+J,q+ce)),se}var oe;L&&(h.header||h.dynamicTyping||h.transform)&&(oe=1,!L.data.length||Array.isArray(L.data[0])?(L.data=L.data.map(K),oe=L.data.length):L.data=K(L.data,0),h.header&&L.meta&&(L.meta.fields=V),q+=oe)}function fe(){return h.header&&V.length===0}function $e(U,K,oe,Y){U={type:U,code:K,message:oe},Y!==void 0&&(U.row=Y),L.errors.push(U)}x(h.step)&&(_=h.step,h.step=function(U){L=U,fe()?ae():(ae(),L.data.length!==0&&(B+=U.data.length,h.preview&&B>h.preview?b.abort():(L.data=L.data[0],_(L,O))))}),this.parse=function(U,K,oe){var Y=h.quoteChar||'"',Y=(h.newline||(h.newline=this.guessLineEndings(U,Y)),w=!1,h.delimiter?x(h.delimiter)&&(h.delimiter=h.delimiter(U),L.meta.delimiter=h.delimiter):((Y=((re,ce,se,J,W)=>{var de,G,te,le;W=W||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var be=0;be<W.length;be++){for(var Se,Ze=W[be],pe=0,Ee=0,he=0,we=(te=void 0,new R({comments:J,delimiter:Ze,newline:ce,preview:10}).parse(re)),ze=0;ze<we.data.length;ze++)se&&z(we.data[ze])?he++:(Se=we.data[ze].length,Ee+=Se,te===void 0?te=Se:0<Se&&(pe+=Math.abs(Se-te),te=Se));0<we.data.length&&(Ee/=we.data.length-he),(G===void 0||pe<=G)&&(le===void 0||le<Ee)&&1.99<Ee&&(G=pe,de=Ze,le=Ee)}return{successful:!!(h.delimiter=de),bestDelimiter:de}})(U,h.newline,h.skipEmptyLines,h.comments,h.delimitersToGuess)).successful?h.delimiter=Y.bestDelimiter:(w=!0,h.delimiter=c.DefaultDelimiter),L.meta.delimiter=h.delimiter),k(h));return h.preview&&h.header&&Y.preview++,g=U,b=new R(Y),L=b.parse(g,K,oe),ae(),ne?{meta:{paused:!0}}:L||{meta:{paused:!1}}},this.paused=function(){return ne},this.pause=function(){ne=!0,b.abort(),g=x(h.chunk)?"":g.substring(b.getCharIndex())},this.resume=function(){O.streamer._halted?(ne=!1,O.streamer.parseChunk(g,!0)):setTimeout(O.resume,3)},this.aborted=function(){return F},this.abort=function(){F=!0,b.abort(),L.meta.aborted=!0,x(h.complete)&&h.complete(L),g=""},this.guessLineEndings=function(re,Y){re=re.substring(0,1048576);var Y=new RegExp(E(Y)+"([^]*?)"+E(Y),"gm"),oe=(re=re.replace(Y,"")).split("\r"),Y=re.split(`
`),re=1<Y.length&&Y[0].length<oe[0].length;if(oe.length===1||re)return`
`;for(var ce=0,se=0;se<oe.length;se++)oe[se][0]===`
`&&ce++;return ce>=oe.length/2?`\r
`:"\r"}}function E(h){return h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(h){var g=(h=h||{}).delimiter,b=h.newline,w=h.comments,_=h.step,N=h.preview,T=h.fastMode,j=null,M=!1,O=h.quoteChar==null?'"':h.quoteChar,B=O;if(h.escapeChar!==void 0&&(B=h.escapeChar),(typeof g!="string"||-1<c.BAD_DELIMITERS.indexOf(g))&&(g=","),w===g)throw new Error("Comment character same as delimiter");w===!0?w="#":(typeof w!="string"||-1<c.BAD_DELIMITERS.indexOf(w))&&(w=!1),b!==`
`&&b!=="\r"&&b!==`\r
`&&(b=`
`);var q=0,ne=!1;this.parse=function(F,V,L){if(typeof F!="string")throw new Error("Input must be a string");var z=F.length,ae=g.length,fe=b.length,$e=w.length,U=x(_),K=[],oe=[],Y=[],re=q=0;if(!F)return pe();if(T||T!==!1&&F.indexOf(O)===-1){for(var ce=F.split(b),se=0;se<ce.length;se++){if(Y=ce[se],q+=Y.length,se!==ce.length-1)q+=b.length;else if(L)return pe();if(!w||Y.substring(0,$e)!==w){if(U){if(K=[],le(Y.split(g)),Ee(),ne)return pe()}else le(Y.split(g));if(N&&N<=se)return K=K.slice(0,N),pe(!0)}}return pe()}for(var J=F.indexOf(g,q),W=F.indexOf(b,q),de=new RegExp(E(B)+E(O),"g"),G=F.indexOf(O,q);;)if(F[q]===O)for(G=q,q++;;){if((G=F.indexOf(O,G+1))===-1)return L||oe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:K.length,index:q}),Se();if(G===z-1)return Se(F.substring(q,G).replace(de,O));if(O===B&&F[G+1]===B)G++;else if(O===B||G===0||F[G-1]!==B){J!==-1&&J<G+1&&(J=F.indexOf(g,G+1));var te=be((W=W!==-1&&W<G+1?F.indexOf(b,G+1):W)===-1?J:Math.min(J,W));if(F.substr(G+1+te,ae)===g){Y.push(F.substring(q,G).replace(de,O)),F[q=G+1+te+ae]!==O&&(G=F.indexOf(O,q)),J=F.indexOf(g,q),W=F.indexOf(b,q);break}if(te=be(W),F.substring(G+1+te,G+1+te+fe)===b){if(Y.push(F.substring(q,G).replace(de,O)),Ze(G+1+te+fe),J=F.indexOf(g,q),G=F.indexOf(O,q),U&&(Ee(),ne))return pe();if(N&&K.length>=N)return pe(!0);break}oe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:K.length,index:q}),G++}}else if(w&&Y.length===0&&F.substring(q,q+$e)===w){if(W===-1)return pe();q=W+fe,W=F.indexOf(b,q),J=F.indexOf(g,q)}else if(J!==-1&&(J<W||W===-1))Y.push(F.substring(q,J)),q=J+ae,J=F.indexOf(g,q);else{if(W===-1)break;if(Y.push(F.substring(q,W)),Ze(W+fe),U&&(Ee(),ne))return pe();if(N&&K.length>=N)return pe(!0)}return Se();function le(he){K.push(he),re=q}function be(he){var we=0;return we=he!==-1&&(he=F.substring(G+1,he))&&he.trim()===""?he.length:we}function Se(he){return L||(he===void 0&&(he=F.substring(q)),Y.push(he),q=z,le(Y),U&&Ee()),pe()}function Ze(he){q=he,le(Y),Y=[],W=F.indexOf(b,q)}function pe(he){if(h.header&&!V&&K.length&&!M){var we=K[0],ze=Object.create(null),Jn=new Set(we);let Zr=!1;for(let gt=0;gt<we.length;gt++){let je=we[gt];if(ze[je=x(h.transformHeader)?h.transformHeader(je,gt):je]){let Rt,ei=ze[je];for(;Rt=je+"_"+ei,ei++,Jn.has(Rt););Jn.add(Rt),we[gt]=Rt,ze[je]++,Zr=!0,(j=j===null?{}:j)[Rt]=je}else ze[je]=1,we[gt]=je;Jn.add(je)}Zr&&console.warn("Duplicate headers found and renamed."),M=!0}return{data:K,errors:oe,meta:{delimiter:g,linebreak:b,aborted:ne,truncated:!!he,cursor:re+(V||0),renamedHeaders:j}}}function Ee(){_(pe()),K=[],oe=[]}},this.abort=function(){ne=!0},this.getCharIndex=function(){return q}}function p(h){var g=h.data,b=a[g.workerId],w=!1;if(g.error)b.userError(g.error,g.file);else if(g.results&&g.results.data){var _={abort:function(){w=!0,v(g.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if(x(b.userStep)){for(var N=0;N<g.results.data.length&&(b.userStep({data:g.results.data[N],errors:g.results.errors,meta:g.results.meta},_),!w);N++);delete g.results}else x(b.userChunk)&&(b.userChunk(g.results,_,g.file),delete g.results)}g.finished&&!w&&v(g.workerId,g.results)}function v(h,g){var b=a[h];x(b.userComplete)&&b.userComplete(g),b.terminate(),delete a[h]}function y(){throw new Error("Not implemented.")}function k(h){if(typeof h!="object"||h===null)return h;var g,b=Array.isArray(h)?[]:{};for(g in h)b[g]=k(h[g]);return b}function C(h,g){return function(){h.apply(g,arguments)}}function x(h){return typeof h=="function"}return c.parse=function(h,g){var b=(g=g||{}).dynamicTyping||!1;if(x(b)&&(g.dynamicTypingFunction=b,b={}),g.dynamicTyping=b,g.transform=!!x(g.transform)&&g.transform,!g.worker||!c.WORKERS_SUPPORTED)return b=null,c.NODE_STREAM_INPUT,typeof h=="string"?(h=(w=>w.charCodeAt(0)!==65279?w:w.slice(1))(h),b=new(g.download?f:m)(g)):h.readable===!0&&x(h.read)&&x(h.on)?b=new $(g):(r.File&&h instanceof File||h instanceof Object)&&(b=new d(g)),b.stream(h);(b=(()=>{var w;return!!c.WORKERS_SUPPORTED&&(w=(()=>{var _=r.URL||r.webkitURL||null,N=n.toString();return c.BLOB_URL||(c.BLOB_URL=_.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",N,")();"],{type:"text/javascript"})))})(),(w=new r.Worker(w)).onmessage=p,w.id=l++,a[w.id]=w)})()).userStep=g.step,b.userChunk=g.chunk,b.userComplete=g.complete,b.userError=g.error,g.step=x(g.step),g.chunk=x(g.chunk),g.complete=x(g.complete),g.error=x(g.error),delete g.worker,b.postMessage({input:h,config:g,workerId:b.id})},c.unparse=function(h,g){var b=!1,w=!0,_=",",N=`\r
`,T='"',j=T+T,M=!1,O=null,B=!1,q=((()=>{if(typeof g=="object"){if(typeof g.delimiter!="string"||c.BAD_DELIMITERS.filter(function(V){return g.delimiter.indexOf(V)!==-1}).length||(_=g.delimiter),typeof g.quotes!="boolean"&&typeof g.quotes!="function"&&!Array.isArray(g.quotes)||(b=g.quotes),typeof g.skipEmptyLines!="boolean"&&typeof g.skipEmptyLines!="string"||(M=g.skipEmptyLines),typeof g.newline=="string"&&(N=g.newline),typeof g.quoteChar=="string"&&(T=g.quoteChar),typeof g.header=="boolean"&&(w=g.header),Array.isArray(g.columns)){if(g.columns.length===0)throw new Error("Option columns is empty");O=g.columns}g.escapeChar!==void 0&&(j=g.escapeChar+T),g.escapeFormulae instanceof RegExp?B=g.escapeFormulae:typeof g.escapeFormulae=="boolean"&&g.escapeFormulae&&(B=/^[=+\-@\t\r].*$/)}})(),new RegExp(E(T),"g"));if(typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(h)){if(!h.length||Array.isArray(h[0]))return ne(null,h,M);if(typeof h[0]=="object")return ne(O||Object.keys(h[0]),h,M)}else if(typeof h=="object")return typeof h.data=="string"&&(h.data=JSON.parse(h.data)),Array.isArray(h.data)&&(h.fields||(h.fields=h.meta&&h.meta.fields||O),h.fields||(h.fields=Array.isArray(h.data[0])?h.fields:typeof h.data[0]=="object"?Object.keys(h.data[0]):[]),Array.isArray(h.data[0])||typeof h.data[0]=="object"||(h.data=[h.data])),ne(h.fields||[],h.data||[],M);throw new Error("Unable to serialize unrecognized input");function ne(V,L,z){var ae="",fe=(typeof V=="string"&&(V=JSON.parse(V)),typeof L=="string"&&(L=JSON.parse(L)),Array.isArray(V)&&0<V.length),$e=!Array.isArray(L[0]);if(fe&&w){for(var U=0;U<V.length;U++)0<U&&(ae+=_),ae+=F(V[U],U);0<L.length&&(ae+=N)}for(var K=0;K<L.length;K++){var oe=(fe?V:L[K]).length,Y=!1,re=fe?Object.keys(L[K]).length===0:L[K].length===0;if(z&&!fe&&(Y=z==="greedy"?L[K].join("").trim()==="":L[K].length===1&&L[K][0].length===0),z==="greedy"&&fe){for(var ce=[],se=0;se<oe;se++){var J=$e?V[se]:se;ce.push(L[K][J])}Y=ce.join("").trim()===""}if(!Y){for(var W=0;W<oe;W++){0<W&&!re&&(ae+=_);var de=fe&&$e?V[W]:W;ae+=F(L[K][de],W)}K<L.length-1&&(!z||0<oe&&!re)&&(ae+=N)}}return ae}function F(V,L){var z,ae;return V==null?"":V.constructor===Date?JSON.stringify(V).slice(1,25):(ae=!1,B&&typeof V=="string"&&B.test(V)&&(V="'"+V,ae=!0),z=V.toString().replace(q,j),(ae=ae||b===!0||typeof b=="function"&&b(V,L)||Array.isArray(b)&&b[L]||((fe,$e)=>{for(var U=0;U<$e.length;U++)if(-1<fe.indexOf($e[U]))return!0;return!1})(z,c.BAD_DELIMITERS)||-1<z.indexOf(_)||z.charAt(0)===" "||z.charAt(z.length-1)===" ")?T+z+T:z)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=R,c.ParserHandle=S,c.NetworkStreamer=f,c.FileStreamer=d,c.StringStreamer=m,c.ReadableStreamStreamer=$,r.jQuery&&((i=r.jQuery).fn.parse=function(h){var g=h.config||{},b=[];return this.each(function(N){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var T=0;T<this.files.length;T++)b.push({file:this.files[T],inputElem:this,instanceConfig:i.extend({},g)})}),w(),this;function w(){if(b.length===0)x(h.complete)&&h.complete();else{var N,T,j,M,O=b[0];if(x(h.before)){var B=h.before(O.file,O.inputElem);if(typeof B=="object"){if(B.action==="abort")return N="AbortError",T=O.file,j=O.inputElem,M=B.reason,void(x(h.error)&&h.error({name:N},T,j,M));if(B.action==="skip")return void _();typeof B.config=="object"&&(O.instanceConfig=i.extend(O.instanceConfig,B.config))}else if(B==="skip")return void _()}var q=O.instanceConfig.complete;O.instanceConfig.complete=function(ne){x(q)&&q(ne,O.file,O.inputElem),_()},c.parse(O.file,O.instanceConfig)}}function _(){b.splice(0,1),w()}}),o&&(r.onmessage=function(h){h=h.data,c.WORKER_ID===void 0&&h&&(c.WORKER_ID=h.workerId),typeof h.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(h.input,h.config),finished:!0}):(r.File&&h.input instanceof File||h.input instanceof Object)&&(h=c.parse(h.input,h.config))&&r.postMessage({workerId:c.WORKER_ID,results:h,finished:!0})}),(f.prototype=Object.create(u.prototype)).constructor=f,(d.prototype=Object.create(u.prototype)).constructor=d,(m.prototype=Object.create(m.prototype)).constructor=m,($.prototype=Object.create(u.prototype)).constructor=$,c})})(vn)),vn.exports}Ud();function so({name:e=null,id:t=null,createdAt:n=Date.now(),reviewerName:r=""}){if(!t||typeof t!="string"||!t.trim())throw new Error("AMSTAR2Checklist requires a non-empty string id.");if(!e||typeof e!="string"||!e.trim())throw new Error("AMSTAR2Checklist requires a non-empty string name.");return{name:e,reviewerName:r||"",createdAt:n,id:t,q1:{answers:[[!1,!1,!1,!1],[!1],[!1,!0]],critical:!1},q2:{answers:[[!1,!1,!1,!1],[!1,!1,!1],[!1,!1,!0]],critical:!0},q3:{answers:[[!1,!1,!1],[!1,!0]],critical:!1},q4:{answers:[[!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!0]],critical:!0},q5:{answers:[[!1,!1],[!1,!0]],critical:!1},q6:{answers:[[!1,!1],[!1,!0]],critical:!1},q7:{answers:[[!1],[!1],[!1,!1,!0]],critical:!0},q8:{answers:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!0]],critical:!1},q9a:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q9b:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q10:{answers:[[!1],[!1,!0]],critical:!1},q11a:{answers:[[!1,!1,!1],[!1,!0,!1]],critical:!0},q11b:{answers:[[!1,!1,!1,!1],[!1,!0,!1]],critical:!0},q12:{answers:[[!1,!1],[!1,!0,!1]],critical:!1},q13:{answers:[[!1,!1],[!1,!0]],critical:!0},q14:{answers:[[!1,!1],[!1,!0]],critical:!1},q15:{answers:[[!1],[!1,!0,!1]],critical:!0},q16:{answers:[[!1,!1],[!1,!0]],critical:!1}}}function Mi(e){if(!e||typeof e!="object")return"Error";let t=0,n=0;return Object.entries(e).forEach(([r,i])=>{if(!/^q\d+[a-z]*$/i.test(r)||!i||!Array.isArray(i.answers))return;const s=oo(i.answers,r);(!s||s==="No")&&(i.critical?t++:n++)}),t>1?"Critically Low":t===1?"Low":n>1?"Moderate":"High"}function oo(e,t){const n=["q11a","q11b","q12","q15"],r=["Yes","No","No MA"],i=["Yes","Partial Yes","No","No MA"];if(!Array.isArray(e)||e.length===0)return null;const s=e[e.length-1];if(!Array.isArray(s))return null;const o=s.findIndex(a=>a===!0);return o===-1?null:n.includes(t)?r[o]||null:s.length===2?o===0?"Yes":"No":s.length>=3&&i[o]||null}function Vd(e){if(!e||typeof e!="object")return null;const t={};return Object.entries(e).forEach(([n,r])=>{if(!/^q\d+[a-z]*$/i.test(n)||!r||!Array.isArray(r.answers))return;const i=oo(r.answers,n);t[n]=i}),"q9a"in t&&"q9b"in t&&(t.q9a==="No"||t.q9b==="No"?t.q9="No":t.q9a==="No MA"&&t.q9b==="No MA"?t.q9="No MA":t.q9="Yes"),delete t.q9a,delete t.q9b,"q11a"in t&&"q11b"in t&&(t.q11a==="No"||t.q11b==="No"?t.q11="No":t.q11a==="No MA"&&t.q11b==="No MA"?t.q11="No MA":t.q11="Yes"),delete t.q11a,delete t.q11b,t}function ao({id:e,name:t,createdAt:n=Date.now(),checklists:r=[],pdfFileName:i=null}={}){if(!e)throw new Error("Review id is required");if(!t)throw new Error("Review name is required");return{id:e,name:t,createdAt:n,checklists:r,pdfFileName:i}}function Bd(e){return new Promise((t,n)=>{const r=indexedDB.open("fileStorageDB",1);r.onupgradeneeded=i=>{const s=i.target.result;s.objectStoreNames.contains("files")||s.createObjectStore("files",{keyPath:"name"})},r.onsuccess=i=>{const o=i.target.result.transaction("files","readwrite");o.objectStore("files").put({name:e.name,blob:e}),o.oncomplete=()=>t(e.name),o.onerror=n},r.onerror=n})}function zd(e){return new Promise((t,n)=>{const r=indexedDB.open("fileStorageDB",1);r.onsuccess=i=>{const l=i.target.result.transaction("files","readonly").objectStore("files").get(e);l.onsuccess=()=>t(l.result?.blob||null),l.onerror=n},r.onerror=n})}async function Hd(){let e;if(window.showOpenFilePicker){const[t]=await window.showOpenFilePicker();e=await t.getFile()}else console.warn("showOpenFilePicker not supported, falling back to manual file selection."),e=await new Promise(t=>{const n=document.createElement("input");n.type="file",n.onchange=()=>t(n.files[0]),n.click()});if(navigator.storage?.getDirectory){const r=await(await(await navigator.storage.getDirectory()).getFileHandle(e.name,{create:!0})).createWritable();return await r.write(await e.arrayBuffer()),await r.close(),e.name}else return console.warn("File System Access API getDirectory not supported, falling back to IndexedDB."),await Bd(e),e.name}async function ji(e){return navigator.storage?.getDirectory?await(await(await navigator.storage.getDirectory()).getFileHandle(e)).getFile():(console.warn("File System Access API getDirectory not supported, falling back to IndexedDB."),await zd(e))}var Yd=I('<div class="p-6 max-w-4xl mx-auto"><div class="flex flex-wrap items-center justify-between mb-4 gap-2"><h2 class="text-xl font-bold"> Dashboard</h2><button class="bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600 transition">Delete Project</button></div><div class="mb-2 text-xs text-gray-500">Created: </div><div class=mb-4><h3 class="text-base font-semibold mb-1">Add New Review</h3><div class="flex gap-2 items-center"><input type=text class="px-2 py-1 border rounded w-48 text-sm"placeholder="Review (study/article) name"><button class="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition text-sm">+ Add Review</button></div></div><div class=mb-4><h3 class="text-base font-semibold mb-1">Reviews &amp; Checklists</h3><ul class="divide-y divide-gray-100 border rounded bg-white shadow-sm"></ul></div><div class="mb-4 flex gap-2"><button class="px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Export Checklists CSV</button><button class="px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Upload file</button><button class="px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Download File</button><button class="px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Display File</button></div><div class=mb-6></div><div>'),Wd=I("<div class=p-8>Project not found."),Qd=I('<li class=p-3><div class="flex items-center justify-between"><div><span class=font-semibold></span><span class="ml-2 text-xs text-gray-400">Created: </span></div><button class="px-2 py-1 bg-red-400 text-white rounded hover:bg-red-500 text-xs">Delete Review</button></div><div class=mt-2><h4 class="text-sm font-medium mb-1">Checklists</h4><ul class=space-y-1></ul><div class="flex gap-2 mt-2"><input type=text class="px-2 py-1 border rounded w-40 text-xs"placeholder="Checklist name"><button class="px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs">+ Checklist'),Kd=I('<li class="flex items-center justify-between border rounded px-2 py-1 bg-white hover:bg-blue-50 cursor-pointer"><span><span class=font-semibold></span><span class="ml-2 text-xs text-gray-600">Reviewer: </span></span><button class="ml-2 px-2 py-0.5 bg-red-400 text-white rounded hover:bg-red-500 text-xs">Delete'),Gd=I('<span class="italic text-gray-400">Unassigned'),Xd=I('<li class="px-2 py-1 text-xs text-gray-400">No checklists yet.'),Jd=I('<li class="px-4 py-2 text-xs text-gray-400">No reviews yet.');function Zd(){const{currentProject:e,setCurrentProject:t,deleteProject:n,addReview:r,deleteReview:i,addChecklistToReview:s,deleteChecklistFromReview:o}=ht(),a=zn(),l=Xe(),[c,u]=D(""),[f,d]=D(""),[m,$]=D([]);function S(x){if(!x)return null;const h=x.lastIndexOf("-");return h!==-1?x.slice(h+1):x}ue(()=>{const x=S(a.projectSlug);x?t(x):(console.warn("ProjectDashboard: No project found for",x),l("/dashboard"))});const E=async()=>{if(!c().trim())return;const x=ao({id:await kt(),name:c(),createdAt:Date.now(),checklists:[]});await r(e().id,x),u("")},R=async x=>{if(!f().trim())return;const h=so({name:f(),id:await kt(),createdAt:Date.now(),reviewerName:"Unassigned"});await s(e().id,x,h),d("")},p=x=>{const h=Qe(x.name),g=Qe(e().name),b=(e().reviews||[]).find(_=>(_.checklists||[]).some(N=>N.id===x.id));if(!b){console.error("Review not found for checklist",x);return}const w=Qe(b.name);l(`/projects/${g}-${e().id}/reviews/${w}-${b.id}/checklists/${h}-${x.id}`)},v=()=>{let x=exportChecklistsToCSV(e().checklists);console.log(x)},y=["q1","q2","q3","q4","q5","q6","q7","q8","q9","q10","q11","q12","q13","q14","q15","q16"];ue(()=>{const x=(e()?.reviews||[]).flatMap(h=>(h.checklists||[]).map(g=>{const b=Vd(g);return{label:g.name||g.title||g.id,reviewer:g.reviewerName||"",reviewName:h.name,questions:y.map(w=>b[w])}}));$(x)});const k=async()=>{const x=prompt("Enter the name of the file to retrieve (including extension):");if(x)try{const h=await ji(x);if(!h){alert(`File "${x}" not found.`);return}const g=URL.createObjectURL(h),b=document.createElement("a");b.href=g,b.download=h.name||x,document.body.appendChild(b),b.click(),document.body.removeChild(b),URL.revokeObjectURL(g)}catch(h){console.error("Error retrieving file:",h),alert("Error retrieving file. See console for details.")}},C=async()=>{const x=prompt("Enter the name of the PDF file to display (including .pdf):");if(x)try{const h=await ji(x);if(!h){alert(`File "${x}" not found.`);return}if(h.type!=="application/pdf"&&!x.toLowerCase().endsWith(".pdf")){alert("Selected file is not a PDF.");return}const g=URL.createObjectURL(h);window.open(g,"_blank"),setTimeout(()=>URL.revokeObjectURL(g),6e4)}catch(h){console.error("Error displaying file:",h),alert("Error displaying file. See console for details.")}};return A(ge,{get when(){return e()},get fallback(){return Wd()},get children(){var x=Yd(),h=x.firstChild,g=h.firstChild,b=g.firstChild,w=g.nextSibling,_=h.nextSibling;_.firstChild;var N=_.nextSibling,T=N.firstChild,j=T.nextSibling,M=j.firstChild,O=M.nextSibling,B=N.nextSibling,q=B.firstChild,ne=q.nextSibling,F=B.nextSibling,V=F.firstChild,L=V.nextSibling,z=L.nextSibling,ae=z.nextSibling,fe=F.nextSibling,$e=fe.nextSibling;return P(g,()=>e().name,b),w.$$click=()=>n(e().id),P(_,()=>new Date(e().createdAt).toLocaleDateString(),null),M.$$input=U=>u(U.target.value),O.$$click=E,P(ne,A(tt,{get each(){return e().reviews||[]},children:U=>(()=>{var K=Qd(),oe=K.firstChild,Y=oe.firstChild,re=Y.firstChild,ce=re.nextSibling;ce.firstChild;var se=Y.nextSibling,J=oe.nextSibling,W=J.firstChild,de=W.nextSibling,G=de.nextSibling,te=G.firstChild,le=te.nextSibling;return P(re,()=>U.name),P(ce,()=>new Date(U.createdAt).toLocaleDateString(),null),se.$$click=()=>i(e().id,U.id),P(de,A(tt,{get each(){return U.checklists||[]},children:be=>(()=>{var Se=Kd(),Ze=Se.firstChild,pe=Ze.firstChild,Ee=pe.nextSibling;Ee.firstChild;var he=Ze.nextSibling;return Se.$$click=()=>p(be),P(pe,()=>be.name),P(Ee,()=>be.reviewerName||Gd(),null),he.$$click=we=>{we.stopPropagation(),o(e().id,U.id,be.id)},Se})()}),null),P(de,(()=>{var be=Ke(()=>!U.checklists||U.checklists.length===0);return()=>be()&&Xd()})(),null),te.$$input=be=>d(be.target.value),le.$$click=()=>R(U.id),H(()=>le.disabled=!f().trim()),H(()=>te.value=f()),K})()}),null),P(ne,(()=>{var U=Ke(()=>!e().reviews||e().reviews.length===0);return()=>U()&&Jd()})(),null),V.$$click=v,Fe(L,"click",Hd,!0),z.$$click=k,ae.$$click=C,P(fe,A(Md,{get data(){return m()}})),P($e,A(Dd,{get data(){return m()}})),H(()=>O.disabled=!c().trim()),H(()=>M.value=c()),x}})}ke(["click","input"]);function lo({id:e,name:t,createdAt:n=Date.now(),reviews:r=[]}={}){if(t===null)throw new Error("Project name cannot be null");return{id:e,name:t,createdAt:n,reviews:r}}function eh(e,t){return Object.keys(e).forEach(n=>{/^q\d+[a-z]*$/i.test(n)&&e[n]?.answers&&e[n].answers.forEach((r,i)=>{r.fill(!1),t%2===0?r[0]=!0:r[r.length-1]=!0})}),e}async function th(){const e=["Review 1","Review 2","Review 3"];let t=[];for(const[r,i]of e.entries()){const s=r%2===0?2:1;for(let o=0;o<s;o++){let a=so({name:`Checklist ${o+1}`,id:await kt(),createdAt:Date.now()});a=eh(a,r+o);const l=ao({id:await kt(),name:i,createdAt:Date.now(),checklists:[a]});t.push(l)}}const n=lo({id:await kt(),name:"Example Project",createdAt:Date.now(),reviews:t});await Pt(n)}const nh="http://localhost:8000",st="/api/v1";let Te=nh;Te.endsWith("/api/v1")&&(Te=Te.replace("/api/v1",""));const Je={SIGNUP:`${Te}${st}/auth/signup`,SIGNIN:`${Te}${st}/auth/signin`,SIGNOUT:`${Te}${st}/auth/signout`,REFRESH:`${Te}${st}/auth/refresh`,SEND_VERIFICATION:`${Te}${st}/auth/send-verification`,VERIFY_EMAIL:`${Te}${st}/auth/verify-email`,CURRENT_USER:`${Te}${st}/users/me`,HEALTH:`${Te}/healthz`,HEALTH_DB:`${Te}/healthz/db`};async function rh(e,t,n){const r=Intl.DateTimeFormat().resolvedOptions().timeZone,i=navigator.language,s=await fetch(Je.SIGNUP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n,timezone:r,locale:i})});if(!s.ok){const o=await s.text();throw console.error("Signup error:",o),new Error(o||"Signup failed")}}let Kt=null;async function ih(e,t){const n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=navigator.language,i=await fetch(Je.SIGNIN,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t,timezone:n,locale:r})});if(!i.ok){const o=await i.text();throw console.error("Sign in failed:",o),new Error(o||"Sign in failed")}Kt=(await i.json()).accessToken}async function sr(){const e=await co(Je.CURRENT_USER);if(!e.ok){const t=await e.text();throw console.error("Failed to fetch user:",t),new Error(t||"Failed to fetch user")}return await e.json()}async function co(e,t={}){t.headers={...t.headers||{},Authorization:`Bearer ${Kt}`},t.credentials="include";let n=await fetch(e,t);if(n.status===401||n.status===403)try{await Er(),t.headers.Authorization=`Bearer ${Kt}`,t.credentials="include",n=await fetch(e,t)}catch{throw await uo(),new Error("Session expired. Please log in again.")}return n}async function Er(){const e=await fetch(Je.REFRESH,{method:"POST",credentials:"include"});if(!e.ok){const n=await e.text();throw console.error("Refresh failed:",n),new Error(n||"Refresh failed")}Kt=(await e.json()).accessToken}async function uo(){await fetch(Je.SIGNOUT,{method:"POST",credentials:"include"}),Kt=null}async function sh(e){const t=await fetch(Je.SEND_VERIFICATION,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(console.log("Send verification response:",await t.text()),!t.ok){const n=await t.text();throw console.error("Send verification error:",n),new Error(n||"Failed to send verification email")}}async function oh(e,t){const n=await fetch(Je.VERIFY_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,code:t})});if(!n.ok){const r=await n.text();throw console.error("Verify email error:",r),new Error(r||"Email verification failed")}}async function ah(){const e=await fetch(Je.HEALTH,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}async function lh(){const e=await fetch(Je.HEALTH_DB,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health DB check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}var ch=I("<ul class=space-y-1>"),uh=I('<div class=p-4><h2 class="text-xl font-bold mb-3">Your Projects</h2><div class="mt-4 flex items-center gap-2"><input type=text class="px-2 py-1 border rounded w-48 text-sm"placeholder="Project name"><button class="px-3 py-1.5 bg-green-500 text-white rounded hover:bg-green-600 transition text-sm">+ Add New Project</button></div><div class="mt-4 flex flex-wrap gap-2"><button class="px-3 py-1.5 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Load Example Project</button><button class="px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition text-sm">Check Health</button><button class="px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition text-sm">Check Health DB'),fh=I('<div class="text-sm text-gray-500">No projects found.'),dh=I('<li><div><div class=font-medium></div><div class="text-xs text-gray-600"></div><div class="text-xs text-gray-400">Created: </div></div><button class="ml-0 sm:ml-4 mt-2 sm:mt-0 px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition text-xs">Delete');function hh(){const{projects:e,currentProject:t,addProject:n,deleteProject:r}=ht(),i=Xe(),[s,o]=D(""),a=u=>{const f=Qe(u.name);i(`/projects/${f}-${u.id}`)},l=async()=>{if(!s().trim())return;const u=await n(lo({id:await kt(),name:s().trim(),createdAt:Date.now()}));o(""),a(u)},c=async u=>{window.confirm("Are you sure you want to delete this project?")&&await r(u)};return(()=>{var u=uh(),f=u.firstChild,d=f.nextSibling,m=d.firstChild,$=m.nextSibling,S=d.nextSibling,E=S.firstChild,R=E.nextSibling,p=R.nextSibling;return P(u,A(ge,{get when(){return e().length!==0},get fallback(){return fh()},get children(){var v=ch();return P(v,A(tt,{get each(){return e()},children:y=>(()=>{var k=dh(),C=k.firstChild,x=C.firstChild,h=x.nextSibling,g=h.nextSibling;g.firstChild;var b=C.nextSibling;return k.$$click=()=>a(y),P(x,()=>y.name),P(h,()=>y.description),P(g,()=>new Date(y.createdAt).toLocaleDateString(),null),b.$$click=w=>{w.stopPropagation(),c(y.id)},H(w=>{var _=y.id,N=`p-2 border rounded cursor-pointer transition text-sm flex flex-col sm:flex-row sm:items-center sm:justify-between ${t()&&t().id===y.id?"bg-blue-50 border-blue-300":"hover:bg-gray-100"}`;return _!==w.e&&_e(k,"key",w.e=_),N!==w.t&&me(k,w.t=N),w},{e:void 0,t:void 0}),k})()})),v}}),d),m.$$input=v=>o(v.target.value),$.$$click=l,E.$$click=async()=>{const v=await th();console.log("Loaded example project:",v),window.location.reload()},Fe(R,"click",ah,!0),Fe(p,"click",lh,!0),H(()=>$.disabled=!s().trim()),H(()=>m.value=s()),u})()}ke(["input","click"]);const[gh,fo]=D(navigator.onLine);window.addEventListener("online",()=>{console.log("Went online"),fo(!0)});window.addEventListener("offline",()=>{console.log("Went offline"),fo(!1)});function ho(){return gh}const go=Vn();function ph(e){const[t,n]=D(!1),[r,i]=D(null),[s,o]=D(!0),a=ho();let l=a();Gt(()=>{if(!a()){o(!1);return}c()}),ue(()=>{a()&&!l&&!r()&&c(),l=a()});async function c(){o(!0);try{await Er();const v=await sr();i(v)}catch{i(null),n(!1)}finally{o(!1)}}async function u(v,y,k){await rh(v,y,k),localStorage.setItem("pendingEmail",v)}async function f(){await sh(localStorage.getItem("pendingEmail"))}async function d(v){await oh(localStorage.getItem("pendingEmail"),v),localStorage.removeItem("pendingEmail")}async function m(v,y){localStorage.setItem("pendingEmail",v),await ih(v,y),localStorage.removeItem("pendingEmail"),n(!0),i(await sr())}async function $(){await uo(),n(!1),i(null)}async function S(){const v=await sr();return i(v),v}async function E(){await Er()}async function R(v,y={}){return await co(v,y)}function p(){return localStorage.getItem("pendingEmail")}return A(go.Provider,{value:{isLoggedIn:t,user:r,signup:u,signin:m,signout:$,getCurrentUser:S,refreshAccessToken:E,authFetch:R,authLoading:s,sendEmailVerification:f,verifyEmail:d,getPendingEmail:p},get children(){return e.children}})}function nn(){return Xt(go)}var mh=I("<div>");function De(e){const[t,n]=D(!1),[r,i]=D(!1);let s,o;const a=()=>e.duration??300,l=()=>e.timingFunction??"ease-in-out",c=()=>e.when;return ue(()=>{c()?(clearTimeout(o),i(!0),requestAnimationFrame(()=>{n(!0)})):(n(!1),clearTimeout(o),o=setTimeout(()=>{i(!1)},a()))}),Re(()=>{clearTimeout(o)}),A(ge,{get when(){return r()},get fallback(){return e.fallback},get children(){var u=mh(),f=s;return typeof f=="function"?Ut(f,u):s=u,P(u,()=>e.children),H(d=>{var m=t()?1:0,$=`opacity ${a()}ms ${l()}`,S=e.ariaLive||"polite",E=e.role||"alert",R=e.class||"";return m!==d.e&&jt(u,"opacity",d.e=m),$!==d.t&&jt(u,"transition",d.t=$),S!==d.a&&_e(u,"aria-live",d.a=S),E!==d.o&&_e(u,"role",d.o=E),R!==d.i&&me(u,d.i=R),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),u}})}var bt=(e,t=[])=>({parts:(...n)=>{if(wh(t))return bt(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>bt(e,[...t,...n]),omit:(...n)=>bt(e,t.filter(r=>!n.includes(r))),rename:n=>bt(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${mt(e)}"][data-part="${mt(r)}"]`,`& [data-scope="${mt(e)}"][data-part="${mt(r)}"]`].join(", "),attrs:{"data-scope":mt(e),"data-part":mt(r)}}}),{})}),mt=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),wh=e=>e.length===0,Kn=e=>typeof e=="object"&&e!==null,Z=e=>e?"":void 0,po=e=>e?"true":void 0,yh=1,vh=9,bh=11,mo=e=>Kn(e)&&e.nodeType===yh&&typeof e.nodeName=="string",wo=e=>Kn(e)&&e.nodeType===vh,xh=e=>Kn(e)&&e===e.window,_h=e=>Kn(e)&&e.nodeType!==void 0,kh=e=>_h(e)&&e.nodeType===bh&&"host"in e;function $h(e){if(!e)return!1;const t=e.getRootNode();return yo(t)===e}function Sh(e){return wo(e)?e:xh(e)?e.document:e?.ownerDocument??document}function Xr(e){return kh(e)?Xr(e.host):wo(e)?e.defaultView??window:mo(e)?e.ownerDocument?.defaultView??window:window}function yo(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function Ch(e){const{selectionStart:t,selectionEnd:n,value:r}=e.currentTarget,i=e.data;return r.slice(0,t)+(i??"")+r.slice(n)}function Ah(e){return vo(e).isComposing||e.keyCode===229}var Eh=e=>e.button===0,Ph=e=>e.ctrlKey||e.altKey||e.metaKey,Rh={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Di={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Nh(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let i=e.key;return i=Rh[i]??i,n==="rtl"&&r==="horizontal"&&i in Di&&(i=Di[i]),i}function vo(e){return e.nativeEvent??e}function Ih(e,t){const{type:n="HTMLInputElement",property:r="value"}=t,i=Xr(e)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function Th(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function qh(e,t,n="value"){if(!e)return;const r=Th(e);r&&Ih(e,{type:r,property:n}).set?.call(e,t),e.setAttribute(n,t)}function Oh(e,t){const{value:n,bubbles:r=!0}=t;if(!e)return;const i=Xr(e);e instanceof i.HTMLInputElement&&(qh(e,`${n}`),e.dispatchEvent(new i.Event("input",{bubbles:r})))}function un(e){let t;const n=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(n),t?.()}}function Lh(e,t){return Array.from(e?.querySelectorAll(t)??[])}var Mh={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function jh(e){return e==null?[]:Array.isArray(e)?e:[e]}var Fi=e=>e?.constructor.name==="Array",Dh=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0},Gn=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(Fi(e)&&Fi(t))return Dh(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(e,n[i]))return!1;for(let i=0;i<r;i++){const s=n[i];if(!Gn(e[s],t[s]))return!1}return!0},Fh=e=>Array.isArray(e),bo=e=>e!=null&&typeof e=="object",Uh=e=>bo(e)&&!Fh(e),Vh=e=>typeof e=="number"&&!Number.isNaN(e),Jr=e=>typeof e=="string",et=e=>typeof e=="function",Bh=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),zh=e=>Object.prototype.toString.call(e),xo=Function.prototype.toString,Hh=xo.call(Object),Yh=e=>{if(!bo(e)||zh(e)!="[object Object]"||Kh(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Bh(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&xo.call(n)==Hh},Wh=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Qh=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Kh=e=>Wh(e)||Qh(e),Gh=(()=>{let e=0;return()=>(e++,e.toString(36))})(),or=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)];function _o(e){if(!Yh(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const i=e[r];i!==void 0&&(n[r]=_o(i))}return n}function Ui(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Xh(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Jh(e,t){if(e==null)throw new Error(t())}function Zh(){return{and:(...e)=>function(n){return e.every(r=>n.guard(r))},or:(...e)=>function(n){return e.some(r=>n.guard(r))},not:e=>function(n){return!n.guard(e)}}}function eg(){return{guards:Zh(),createMachine:e=>e,choose:e=>function({choose:n}){return n(e)?.actions}}}var yt=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(yt||{}),ar="__init__";function tg(e){const t=()=>e.getRootNode?.()??document,n=()=>Sh(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>yo(t()),isActiveElement:$h,getById:o=>t().getElementById(o)}}function ng(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var ko=()=>e=>Array.from(new Set(e)),rg=bt("password-input").parts("root","input","label","control","indicator","visibilityTrigger"),wt=rg.build(),bn=e=>e.ids?.input??`p-input-${e.id}-input`,Pr=e=>e.getById(bn(e));function ig(e,t){const{scope:n,prop:r,context:i}=e,s=i.get("visible"),o=!!r("disabled"),a=!!r("invalid"),l=!!r("readOnly"),c=!!r("required"),u=!(l||o),f=r("translations");return{visible:s,disabled:o,invalid:a,focus(){Pr(n)?.focus()},setVisible(d){e.send({type:"VISIBILITY.SET",value:d})},toggleVisible(){e.send({type:"VISIBILITY.SET",value:!s})},getRootProps(){return t.element({...wt.root.attrs,dir:r("dir"),"data-disabled":Z(o),"data-invalid":Z(a),"data-readonly":Z(l)})},getLabelProps(){return t.label({...wt.label.attrs,htmlFor:bn(n),"data-disabled":Z(o),"data-invalid":Z(a),"data-readonly":Z(l),"data-required":Z(c)})},getInputProps(){return t.input({...wt.input.attrs,id:bn(n),autoCapitalize:"off",name:r("name"),required:r("required"),autoComplete:r("autoComplete"),spellCheck:!1,readOnly:l,disabled:o,type:s?"text":"password","data-state":s?"visible":"hidden","aria-invalid":po(a),"data-disabled":Z(o),"data-invalid":Z(a),"data-readonly":Z(l),...r("ignorePasswordManagers")?sg:{}})},getVisibilityTriggerProps(){return t.button({...wt.visibilityTrigger.attrs,type:"button",tabIndex:-1,"aria-controls":bn(n),"aria-expanded":s,"data-readonly":Z(l),disabled:o,"data-disabled":Z(o),"data-state":s?"visible":"hidden","aria-label":f?.visibilityTrigger?.(s),onPointerDown(d){Eh(d)&&u&&(d.preventDefault(),e.send({type:"TRIGGER.CLICK"}))}})},getIndicatorProps(){return t.element({...wt.indicator.attrs,"aria-hidden":!0,"data-state":s?"visible":"hidden","data-disabled":Z(o),"data-invalid":Z(a),"data-readonly":Z(l)})},getControlProps(){return t.element({...wt.control.attrs,"data-disabled":Z(o),"data-invalid":Z(a),"data-readonly":Z(l)})}}}var sg={"data-1p-ignore":"","data-lpignore":"true","data-bwignore":"true","data-form-type":"other","data-protonpass-ignore":"true"},og={props({props:e}){return{id:Gh(),defaultVisible:!1,autoComplete:"current-password",ignorePasswordManagers:!1,...e,translations:{visibilityTrigger(t){return t?"Hide password":"Show password"},...e.translations}}},context({prop:e,bindable:t}){return{visible:t(()=>({value:e("visible"),defaultValue:e("defaultVisible"),onChange(n){e("onVisibilityChange")?.({visible:n})}}))}},initialState(){return"idle"},effects:["trackFormEvents"],states:{idle:{on:{"VISIBILITY.SET":{actions:["setVisibility"]},"TRIGGER.CLICK":{actions:["toggleVisibility","focusInputEl"]}}}},implementations:{actions:{setVisibility({context:e,event:t}){e.set("visible",t.value)},toggleVisibility({context:e}){e.set("visible",t=>!t)},focusInputEl({scope:e}){Pr(e)?.focus()}},effects:{trackFormEvents({scope:e,send:t}){const r=Pr(e)?.form;if(!r)return;const i=e.getWin(),s=new i.AbortController;return r.addEventListener("reset",o=>{o.defaultPrevented||t({type:"VISIBILITY.SET",value:!1})},{signal:s.signal}),r.addEventListener("submit",()=>{t({type:"VISIBILITY.SET",value:!1})},{signal:s.signal}),()=>s.abort()}}}};ko()(["defaultVisible","dir","id","onVisibilityChange","visible","ids","getRootNode","disabled","invalid","required","readOnly","translations","ignorePasswordManagers","autoComplete","name"]);function jn(e){const t=e().value??e().defaultValue,n=e().isEqual??Object.is,[r,i]=D(t),s=ee(()=>e().value!=null),o={current:r()},a={current:void 0};ue(()=>{const u=s()?e().value:r();a.current=u,o.current=u});const l=u=>{const f=a.current,d=et(u)?u(o.current):u;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:d,prev:f}),s()||i(d),n(d,f)||e().onChange?.(d,f)};function c(){const u=s()?e().value:r;return et(u)?u():u}return{initial:t,ref:o,get:c,set:l,invoke(u,f){e().onChange?.(u,f)},hash(u){return e().hash?.(u)??String(u)}}}jn.cleanup=e=>{Re(()=>e())};jn.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function ag(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}function lr(e){return et(e)?e():e}var lg=(e,t)=>{let n=[],r=!0;ue(()=>{if(r){n=e.map(s=>lr(s)),r=!1;return}let i=!1;for(let s=0;s<e.length;s++)if(!Gn(n[s],lr(e[s]))){i=!0;break}i&&(n=e.map(s=>lr(s)),t())})};function $o(e,t={}){const n=ee(()=>{const{id:h,ids:g,getRootNode:b}=cr(t);return tg({id:h,ids:g,getRootNode:b})}),r=(...h)=>{e.debug&&console.log(...h)},i=ee(()=>e.props?.({props:_o(cr(t)),scope:n()})??cr(t)),s=cg(i),o=e.context?.({prop:s,bindable:jn,get scope(){return n()},flush:Vi,getContext(){return a},getComputed(){return y},getRefs(){return $},getEvent(){return d()}}),a={get(h){return o?.[h].get()},set(h,g){o?.[h].set(g)},initial(h){return o?.[h].initial},hash(h){const g=o?.[h].get();return o?.[h].hash(g)}},l={current:new Map},c={current:null},u={current:null},f={current:{type:""}},d=()=>Q(f.current,{current(){return f.current},previous(){return u.current}}),m=()=>Q(k,{matches(...h){const g=k.get();return h.includes(g)},hasTag(h){const g=k.get();return!!e.states[g]?.tags?.includes(h)}}),$=ag(e.refs?.({prop:s,context:a})??{}),S=()=>({state:m(),context:a,event:d(),prop:s,send:x,action:E,guard:R,track:lg,refs:$,computed:y,flush:Vi,get scope(){return n()},choose:v}),E=h=>{const g=et(h)?h(S()):h;if(!g)return;const b=g.map(w=>{const _=e.implementations?.actions?.[w];return _||Ui(`[zag-js] No implementation found for action "${JSON.stringify(w)}"`),_});for(const w of b)w?.(S())},R=h=>et(h)?h(S()):e.implementations?.guards?.[h](S()),p=h=>{const g=et(h)?h(S()):h;if(!g)return;const b=g.map(_=>{const N=e.implementations?.effects?.[_];return N||Ui(`[zag-js] No implementation found for effect "${JSON.stringify(_)}"`),N}),w=[];for(const _ of b){const N=_?.(S());N&&w.push(N)}return()=>w.forEach(_=>_?.())},v=h=>jh(h).find(g=>{let b=!g.guard;return Jr(g.guard)?b=!!R(g.guard):et(g.guard)&&(b=g.guard(S())),b}),y=h=>{Jh(e.computed,()=>"[zag-js] No computed object found on machine");const g=e.computed[h];return g({context:a,event:f.current,prop:s,refs:$,scope:n(),computed:y})},k=jn(()=>({defaultValue:e.initialState({prop:s}),onChange(h,g){g&&(l.current.get(g)?.(),l.current.delete(g)),g&&E(e.states[g]?.exit),E(c.current?.actions);const b=p(e.states[h]?.effects);if(b&&l.current.set(h,b),g===ar){E(e.entry);const w=p(e.effects);w&&l.current.set(ar,w)}E(e.states[h]?.entry)}}));let C=yt.NotStarted;Gt(()=>{const h=C===yt.Started;C=yt.Started,r(h?"rehydrating...":"initializing..."),k.invoke(k.initial,ar)}),Re(()=>{r("unmounting..."),C=yt.Stopped,l.current.forEach(g=>g?.()),l.current=new Map,c.current=null,E(e.exit)});const x=h=>{if(C!==yt.Started)return;u.current=f.current,f.current=h;let g=k.get();const b=e.states[g].on?.[h.type]??e.on?.[h.type],w=v(b);if(!w)return;c.current=w;const _=w.target??g;r("transition",h.type,w.target||g,`(${w.actions})`);const N=_!==g;N?k.set(_):w.reenter&&!N?k.invoke(g,g):E(w.actions)};return e.watch?.(S()),{state:m(),send:x,context:a,prop:s,get scope(){return n()},refs:$,computed:y,event:d(),getStatus:()=>C}}function Vi(e){e()}function cr(e){return et(e)?e():e}function cg(e){return function(n){return e()[n]}}var Bi={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"},ug=e=>e.startsWith("--")?e:mg(e);function fg(e){return e in Bi?Bi[e]:e}var So=ng(e=>{const t={};for(const n in e){const r=e[n];if(!(n==="readOnly"&&r===!1)){if(n==="style"&&Uh(r)){t.style=dg(r);continue}if(n==="children"){Jr(r)&&(t.textContent=r);continue}t[fg(n)]=r}}return t});function dg(e){let t={};for(const n in e){const r=e[n];!Jr(r)&&!Vh(r)||(t[ug(n)]=r)}return t}var hg=/[A-Z]/g,gg=/^ms-/;function pg(e){return"-"+e.toLowerCase()}var ur={};function mg(e){if(ur.hasOwnProperty(e))return ur[e];var t=e.replace(hg,pg);return ur[e]=gg.test(t)?"-"+t:t}var wg=I("<svg stroke-width=0>");function Xn(e,t){const n=Q(e.a,t),[r,i]=os(n,["src"]),[s,o]=D(""),a=ee(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return ue(()=>o(a())),Re(()=>{o("")}),(()=>{var l=wg();return xe(l,Q({get stroke(){return e.a?.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},i,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return s()}}),!0,!0),P(l,()=>ls),l})()}function yg(e){return Xn({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><path d="M1 1 23 23"/>'},e)}function vg(e){return Xn({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><path d="M12 9A3 3 0 1 0 12 15 3 3 0 1 0 12 9z"/>'},e)}function bg(e){return Xn({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M3 12 21 12"/><path d="M3 6 21 6"/><path d="M3 18 21 18"/>'},e)}var xg=I("<div><label>Password</label><div><input><button><span>");function Co(e){const t=$o(og,{id:as(),autoComplete:e.autoComplete||"new-password",value:e.password||"",required:e.required||!1}),n=ee(()=>ig(t,So)),r=e.inputClass||"w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder",i=e.iconSize||20;return(()=>{var s=xg(),o=s.firstChild,a=o.nextSibling,l=a.firstChild,c=l.nextSibling,u=c.firstChild;return xe(s,Q(()=>n().getRootProps(),{get class(){return e.class}}),!1,!0),xe(o,Q(()=>n().getLabelProps(),{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"}),!1,!0),xe(a,Q(()=>n().getControlProps(),{class:"relative"}),!1,!0),xe(l,Q(()=>n().getInputProps(),{class:r,onInput:f=>e.onPasswordChange?.(f.target.value),placeholder:"••••••••"}),!1,!1),xe(c,Q(()=>n().getVisibilityTriggerProps(),{class:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-gray-400"}),!1,!0),xe(u,Q(()=>n().getIndicatorProps()),!1,!0),P(u,A(ge,{get when(){return n().visible},get fallback(){return A(yg,{size:i-2})},get children(){return A(vg,{size:i})}})),s})()}function Dn(e){return Xn({a:{viewBox:"0 0 1024 1024"},c:'<path d="M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"/>'},e)}var _g=I('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-xs sm:text-sm">'),kg=I('<div class="flex items-center">Signing In...'),$g=I('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-8 sm:py-12"><form aria-labelledby=signin-heading class="w-full max-w-md sm:max-w-xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-6 sm:p-12 space-y-4 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2"id=signin-heading>Welcome Back</h2><p class="text-gray-500 text-xs sm:text-sm">Sign in to your account.</p></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div><div></div><button type=submit class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-xs sm:text-sm text-gray-500 mt-2 sm:mt-4">Don&apos;t have an account? <a href=/signup class="text-indigo-600 hover:underline font-semibold">Sign Up');function Sg(){const[e,t]=D(""),[n,r]=D(""),[i,s]=D(""),[o,a]=D(!1),l=Xe(),{signin:c}=nn();async function u(){return new Promise((d,m)=>{setTimeout(async()=>{try{await c(e(),n()),d()}catch($){m($)}},200)})}async function f(d){if(d.preventDefault(),s(""),!e()||!n()){s("Please enter email and password");return}a(!0);try{await u(),l("/dashboard",{replace:!0}),a(!1)}catch(m){JSON.parse(m.message).detail.includes("Email not verified")?l("/verify-email",{replace:!0}):(a(!1),s("Incorrect email or password"))}}return(()=>{var d=$g(),m=d.firstChild,$=m.firstChild,S=$.nextSibling,E=S.firstChild,R=E.nextSibling,p=S.nextSibling,v=p.nextSibling,y=v.nextSibling,k=y.firstChild,C=k.nextSibling;return m.addEventListener("submit",f),R.$$input=x=>t(x.target.value),P(p,A(Co,{get password(){return n()},onPasswordChange:r,autoComplete:"current-password",required:!0}),null),P(p,A(De,{get when(){return!!i()},get children(){var x=_g();return P(x,i),x}}),null),P(v,A(De,{get when(){return o()},fallback:"Sign In",get children(){var x=kg(),h=x.firstChild;return P(x,A(Dn,{class:"animate-spin mr-2",size:22}),h),x}})),C.$$click=x=>{x.preventDefault(),l("/signup")},H(()=>v.disabled=o()),H(()=>R.value=e()),d})()}ke(["input","click"]);var Cg=I('<div class="w-full mt-2"><div class="text-xs text-gray-700"id=password-requirements aria-live=polite><ul class="pace-y-0.5 sm:space-y-1">'),Ag=I('<li class="flex items-center gap-2"><span aria-hidden=true></span><span>'),Eg=I('<svg class="w-3 h-3"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M4 8l3 3 5-5">'),Pg=I('<svg class="w-3 h-3"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M5 5l6 6M11 5l-6 6">');const Mt=[{label:"At least 8 characters",test:e=>e.length>=8,error:"at least 8 characters"},{label:"Uppercase letter (A-Z)",test:e=>/[A-Z]/.test(e),error:"an uppercase letter"},{label:"Lowercase letter (a-z)",test:e=>/[a-z]/.test(e),error:"a lowercase letter"},{label:"Number (0-9)",test:e=>/\d/.test(e),error:"a number"},{label:"Special character (e.g. !?<>@#$%)",test:e=>/[^A-Za-z0-9]/.test(e),error:"a special character"}];function Rg(e){if(!e)return{met:[],unmet:Mt.map(i=>i.label)};const t=Mt.filter(i=>i.test(e)).map(i=>i.label),n=Mt.filter(i=>!i.test(e)).map(i=>i.label),r=Mt.filter(i=>!i.test(e)).map(i=>i.error);return{met:t,unmet:n,errors:r}}function Ng(e){const t=ee(()=>Rg(e.password||""));return ue(()=>{e.onUnmet?.(t().errors)}),(()=>{var n=Cg(),r=n.firstChild,i=r.firstChild;return P(i,()=>Mt.map(s=>{const o=t().met.includes(s.label);return(()=>{var a=Ag(),l=a.firstChild,c=l.nextSibling;return me(l,`w-3.5 h-3.5 ml-1 rounded-full flex items-center justify-center ${o?"bg-white text-green-500 border-green-500 border-[1.5px]":"border-red-500 border-[1.5px] text-red-500"}`),P(l,o?Eg():Pg()),me(c,o?"text-green-500":"text-red-500"),P(c,()=>s.label),a})()})),n})()}var Ig=I('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-xs sm:text-sm">Password must include '),Tg=I('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-xs sm:text-sm">'),qg=I('<div class="flex items-center">Signing Up...'),Og=I('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-6 sm:py-12"><form aria-labelledby=signup-heading class="w-full max-w-md sm:max-w-xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-6 sm:p-12 space-y-4 border border-gray-100"autocomplete=off><div class="mb-2 text-center"><h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2"id=signup-heading>Get Started</h2><p class="text-gray-500 text-xs sm:text-sm">Create a new account.</p></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=name-input>Name</label><div class=relative><input type=text autocomplete=name autocapitalize=words spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=name-input placeholder="What should we call you?"></div></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><div class=relative><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div></div><div></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=confirm-password-input>Confirm Password</label><div class=relative><input type=password autocomplete=new-password autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder"required id=confirm-password-input placeholder=••••••••></div></div><button type=submit class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-xs sm:text-sm text-gray-500 mt-2 sm:mt-4">Already have an account? <a href=/signin class="text-indigo-600 hover:underline font-semibold">Sign In');function Lg(){const[e,t]=D(""),[n,r]=D(""),[i,s]=D(""),[o,a]=D(""),[l,c]=D(""),[u,f]=D(!1),[d,m]=D([]),[$,S]=D(!1),E=Xe(),{signup:R}=nn();async function p(){return new Promise((y,k)=>{setTimeout(async()=>{try{await R(n(),i(),e()),y()}catch(C){k(C)}},200)})}async function v(y){if(y.preventDefault(),f(!0),c(""),!e()||!n()||!i()||!o()){c("Please fill out all fields");return}if(i()!==o()){c("Passwords do not match");return}if(!(d().length>0)){S(!0);try{await p(),E("/verify-email",{replace:!0}),S(!1)}catch(k){console.error("Signup error:",k),JSON.parse(k.message).detail.includes("Email not verified")?E("/verify-email",{replace:!0}):(S(!1),c("Sign up failed"))}}}return ue(()=>{i()===o()&&c("")}),(()=>{var y=Og(),k=y.firstChild,C=k.firstChild,x=C.nextSibling,h=x.firstChild,g=h.nextSibling,b=g.firstChild,w=x.nextSibling,_=w.firstChild,N=_.nextSibling,T=N.firstChild,j=w.nextSibling,M=j.nextSibling,O=M.firstChild,B=O.nextSibling,q=B.firstChild,ne=M.nextSibling,F=ne.nextSibling,V=F.firstChild,L=V.nextSibling;return k.addEventListener("submit",v),b.$$input=z=>t(z.target.value),T.$$input=z=>r(z.target.value),P(j,A(Co,{get password(){return i()},onPasswordChange:s,autoComplete:"new-password",required:!0}),null),P(j,A(De,{get when(){return Ke(()=>!!u())()&&d().length>0},get children(){var z=Ig();return z.firstChild,P(z,()=>d()?.[0],null),z}}),null),P(j,A(Ng,{get password(){return i()},onUnmet:m}),null),q.$$input=z=>a(z.target.value),P(M,A(De,{get when(){return!!l()},get children(){var z=Tg();return P(z,l),z}}),null),P(ne,A(De,{get when(){return $()},fallback:"Sign Up",get children(){var z=qg(),ae=z.firstChild;return P(z,A(Dn,{class:"animate-spin mr-2",size:22}),ae),z}})),L.$$click=z=>{z.preventDefault(),E("/signin")},H(()=>ne.disabled=$()),H(()=>b.value=e()),H(()=>T.value=n()),H(()=>q.value=o()),y})()}ke(["input","click"]);var Mg=bt("pinInput").parts("root","label","input","control"),fn=Mg.build(),Dt=e=>e.ids?.root??`pin-input:${e.id}`,jg=(e,t)=>e.ids?.input?.(t)??`pin-input:${e.id}:${t}`,Rr=e=>e.ids?.hiddenInput??`pin-input:${e.id}:hidden`,Dg=e=>e.ids?.label??`pin-input:${e.id}:label`,Fg=e=>e.ids?.control??`pin-input:${e.id}:control`,Ug=e=>e.getById(Dt(e)),Fn=e=>{const n=`input[data-ownedby=${CSS.escape(Dt(e))}]`;return Lh(Ug(e),n)},It=(e,t)=>Fn(e)[t],Vg=e=>Fn(e)[0],zi=e=>e.getById(Rr(e)),fr=(e,t)=>{e.value=t,e.setAttribute("value",t)},Bg={numeric:/^[0-9]+$/,alphabetic:/^[A-Za-z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i};function zg(e,t){return e?!!Bg[e]?.test(t):!0}function Hg(e,t,n){return n?new RegExp(n,"g").test(e):zg(t,e)}function Yg(e,t){const{send:n,context:r,computed:i,prop:s,scope:o}=e,a=i("isValueComplete"),l=!!s("disabled"),c=!!s("readOnly"),u=!!s("invalid"),f=!!s("required"),d=s("translations"),m=r.get("focusedIndex");function $(){Vg(o)?.focus()}return{focus:$,count:r.get("count"),items:Array.from({length:r.get("count")}).map((S,E)=>E),value:r.get("value"),valueAsString:i("valueAsString"),complete:a,setValue(S){Array.isArray(S)||Xh("[pin-input/setValue] value must be an array"),n({type:"VALUE.SET",value:S})},clearValue(){n({type:"VALUE.CLEAR"})},setValueAtIndex(S,E){n({type:"VALUE.SET",value:E,index:S})},getRootProps(){return t.element({dir:s("dir"),...fn.root.attrs,id:Dt(o),"data-invalid":Z(u),"data-disabled":Z(l),"data-complete":Z(a),"data-readonly":Z(c)})},getLabelProps(){return t.label({...fn.label.attrs,dir:s("dir"),htmlFor:Rr(o),id:Dg(o),"data-invalid":Z(u),"data-disabled":Z(l),"data-complete":Z(a),"data-required":Z(f),"data-readonly":Z(c),onClick(S){S.preventDefault(),$()}})},getHiddenInputProps(){return t.input({"aria-hidden":!0,type:"text",tabIndex:-1,id:Rr(o),readOnly:c,disabled:l,required:f,name:s("name"),form:s("form"),style:Mh,maxLength:i("valueLength"),defaultValue:i("valueAsString")})},getControlProps(){return t.element({...fn.control.attrs,dir:s("dir"),id:Fg(o)})},getInputProps(S){const{index:E}=S,R=s("type")==="numeric"?"tel":"text";return t.input({...fn.input.attrs,dir:s("dir"),disabled:l,"data-disabled":Z(l),"data-complete":Z(a),id:jg(o,E.toString()),"data-index":E,"data-ownedby":Dt(o),"aria-label":d?.inputLabel?.(E,i("valueLength")),inputMode:s("otp")||s("type")==="numeric"?"numeric":"text","aria-invalid":po(u),"data-invalid":Z(u),type:s("mask")?"password":R,defaultValue:r.get("value")[E]||"",readOnly:c,autoCapitalize:"none",autoComplete:s("otp")?"one-time-code":"off",placeholder:m===E?"":s("placeholder"),onBeforeInput(p){try{const v=Ch(p);Hg(v,s("type"),s("pattern"))||(n({type:"VALUE.INVALID",value:v}),p.preventDefault()),v.length>2&&p.currentTarget.setSelectionRange(0,1,"forward")}catch{}},onChange(p){const v=vo(p),{value:y}=p.currentTarget;if(v.inputType==="insertFromPaste"||y.length>2){n({type:"INPUT.PASTE",value:y}),p.currentTarget.value=y[0],p.preventDefault();return}if(v.inputType==="deleteContentBackward"){n({type:"INPUT.BACKSPACE"});return}n({type:"INPUT.CHANGE",value:y,index:E})},onKeyDown(p){if(p.defaultPrevented||Ah(p)||Ph(p))return;const y={Backspace(){n({type:"INPUT.BACKSPACE"})},Delete(){n({type:"INPUT.DELETE"})},ArrowLeft(){n({type:"INPUT.ARROW_LEFT"})},ArrowRight(){n({type:"INPUT.ARROW_RIGHT"})},Enter(){n({type:"INPUT.ENTER"})}}[Nh(p,{dir:s("dir"),orientation:"horizontal"})];y&&(y(p),p.preventDefault())},onFocus(){n({type:"INPUT.FOCUS",index:E})},onBlur(p){const v=p.relatedTarget;mo(v)&&v.dataset.ownedby===Dt(o)||n({type:"INPUT.BLUR",index:E})}})}}}var{choose:Wg,createMachine:Qg}=eg(),Kg=Qg({props({props:e}){return{placeholder:"○",otp:!1,type:"numeric",defaultValue:e.count?dn([],e.count):[],...e,translations:{inputLabel:(t,n)=>`pin code ${t+1} of ${n}`,...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({value:e("value"),defaultValue:e("defaultValue"),isEqual:Gn,onChange(n){e("onValueChange")?.({value:n,valueAsString:n.join("")})}})),focusedIndex:t(()=>({sync:!0,defaultValue:-1})),count:t(()=>({defaultValue:e("count")}))}},computed:{_value:({context:e})=>dn(e.get("value"),e.get("count")),valueLength:({computed:e})=>e("_value").length,filledValueLength:({computed:e})=>e("_value").filter(t=>t?.trim()!=="").length,isValueComplete:({computed:e})=>e("valueLength")===e("filledValueLength"),valueAsString:({computed:e})=>e("_value").join(""),focusedValue:({computed:e,context:t})=>e("_value")[t.get("focusedIndex")]||""},entry:Wg([{guard:"autoFocus",actions:["setInputCount","setFocusIndexToFirst"]},{actions:["setInputCount"]}]),watch({action:e,track:t,context:n,computed:r}){t([()=>n.get("focusedIndex")],()=>{e(["focusInput","selectInputIfNeeded"])}),t([()=>n.get("value").join(",")],()=>{e(["syncInputElements","dispatchInputEvent"])}),t([()=>r("isValueComplete")],()=>{e(["invokeOnComplete","blurFocusedInputIfNeeded"])})},on:{"VALUE.SET":[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],"VALUE.CLEAR":{actions:["clearValue","setFocusIndexToFirst"]}},states:{idle:{on:{"INPUT.FOCUS":{target:"focused",actions:["setFocusedIndex"]}}},focused:{on:{"INPUT.CHANGE":{actions:["setFocusedValue","syncInputValue","setNextFocusedIndex"]},"INPUT.PASTE":{actions:["setPastedValue","setLastValueFocusIndex"]},"INPUT.FOCUS":{actions:["setFocusedIndex"]},"INPUT.BLUR":{target:"idle",actions:["clearFocusedIndex"]},"INPUT.DELETE":{guard:"hasValue",actions:["clearFocusedValue"]},"INPUT.ARROW_LEFT":{actions:["setPrevFocusedIndex"]},"INPUT.ARROW_RIGHT":{actions:["setNextFocusedIndex"]},"INPUT.BACKSPACE":[{guard:"hasValue",actions:["clearFocusedValue"]},{actions:["setPrevFocusedIndex","clearFocusedValue"]}],"INPUT.ENTER":{guard:"isValueComplete",actions:["requestFormSubmit"]},"VALUE.INVALID":{actions:["invokeOnInvalid"]}}}},implementations:{guards:{autoFocus:({prop:e})=>!!e("autoFocus"),hasValue:({context:e})=>e.get("value")[e.get("focusedIndex")]!=="",isValueComplete:({computed:e})=>e("isValueComplete"),hasIndex:({event:e})=>e.index!==void 0},actions:{dispatchInputEvent({computed:e,scope:t}){const n=zi(t);Oh(n,{value:e("valueAsString")})},setInputCount({scope:e,context:t,prop:n}){if(n("count"))return;const r=Fn(e);t.set("count",r.length)},focusInput({context:e,scope:t}){const n=e.get("focusedIndex");n!==-1&&It(t,n)?.focus({preventScroll:!0})},selectInputIfNeeded({context:e,prop:t,scope:n}){const r=e.get("focusedIndex");!t("selectOnFocus")||r===-1||un(()=>{It(n,r)?.select()})},invokeOnComplete({computed:e,prop:t}){e("isValueComplete")&&t("onValueComplete")?.({value:e("_value"),valueAsString:e("valueAsString")})},invokeOnInvalid({context:e,event:t,prop:n}){n("onValueInvalid")?.({value:t.value,index:e.get("focusedIndex")})},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},setValue({context:e,event:t}){const n=dn(t.value,e.get("count"));e.set("value",n)},setFocusedValue({context:e,event:t,computed:n,flush:r}){const i=n("focusedValue"),s=e.get("focusedIndex"),o=Hi(i,t.value);r(()=>{e.set("value",or(n("_value"),s,o))})},revertInputValue({context:e,computed:t,scope:n}){const r=It(n,e.get("focusedIndex"));fr(r,t("focusedValue"))},syncInputValue({context:e,event:t,scope:n}){const r=e.get("value"),i=It(n,t.index);fr(i,r[t.index])},syncInputElements({context:e,scope:t}){const n=Fn(t),r=e.get("value");n.forEach((i,s)=>{fr(i,r[s])})},setPastedValue({context:e,event:t,computed:n,flush:r}){un(()=>{const i=n("valueAsString"),s=e.get("focusedIndex"),o=n("valueLength"),a=n("filledValueLength"),l=Math.min(s,a),c=l>0?i.substring(0,s):"",u=t.value.substring(0,o-l),f=dn(`${c}${u}`.split(""),o);r(()=>{e.set("value",f)})})},setValueAtIndex({context:e,event:t,computed:n}){const r=Hi(n("focusedValue"),t.value);e.set("value",or(n("_value"),t.index,r))},clearValue({context:e}){const t=Array.from({length:e.get("count")}).fill("");queueMicrotask(()=>{e.set("value",t)})},clearFocusedValue({context:e,computed:t}){const n=e.get("focusedIndex");n!==-1&&e.set("value",or(t("_value"),n,""))},setFocusIndexToFirst({context:e}){e.set("focusedIndex",0)},setNextFocusedIndex({context:e,computed:t}){e.set("focusedIndex",Math.min(e.get("focusedIndex")+1,t("valueLength")-1))},setPrevFocusedIndex({context:e}){e.set("focusedIndex",Math.max(e.get("focusedIndex")-1,0))},setLastValueFocusIndex({context:e,computed:t}){un(()=>{e.set("focusedIndex",Math.min(t("filledValueLength"),t("valueLength")-1))})},blurFocusedInputIfNeeded({context:e,prop:t,scope:n}){t("blurOnComplete")&&un(()=>{It(n,e.get("focusedIndex"))?.blur()})},requestFormSubmit({computed:e,prop:t,scope:n}){if(!t("name")||!e("isValueComplete"))return;zi(n)?.form?.requestSubmit()}}}});function Hi(e,t){let n=t;e[0]===t[0]?n=t[1]:e[0]===t[1]&&(n=t[0]);const r=n.split("");return n=r[r.length-1],n??""}function dn(e,t){return Array.from({length:t}).fill("").map((n,r)=>e[r]||n)}ko()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var Gg=I('<div class="flex flex-col items-center"><div><input><input><input><input><input><input>');function Xg(e){const t=$o(Kg,{id:as(),required:e.required||!0,autoComplete:e.autoComplete||"one-time-code",otp:e.otp||!0,onValueChange(i){e.onInput&&e.onInput(i.valueAsString)}}),n=ee(()=>Yg(t,So)),r=()=>"w-10 h-12 sm:w-14 sm:h-14 rounded-lg border-2 "+(e.isError?"border-red-500 focus:border-red-600 focus:ring-red-400":"border-gray-300 focus:border-blue-500 focus:ring-blue-400")+" bg-gray-50 text-center text-xl font-semibold outline-none";return(()=>{var i=Gg(),s=i.firstChild,o=s.firstChild,a=o.nextSibling,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling,f=u.nextSibling;return xe(s,Q(()=>n().getRootProps(),{class:"flex justify-center gap-1 sm:gap-3 my-6"}),!1,!0),xe(o,Q({get required(){return e.required??!0}},()=>n().getInputProps({index:0}),{get class(){return r()}}),!1,!1),xe(a,Q({get required(){return e.required??!0}},()=>n().getInputProps({index:1}),{get class(){return r()}}),!1,!1),xe(l,Q({get required(){return e.required??!0}},()=>n().getInputProps({index:2}),{get class(){return r()}}),!1,!1),xe(c,Q({get required(){return e.required??!0}},()=>n().getInputProps({index:3}),{get class(){return r()}}),!1,!1),xe(u,Q({get required(){return e.required??!0}},()=>n().getInputProps({index:4}),{get class(){return r()}}),!1,!1),xe(f,Q({get required(){return e.required??!0}},()=>n().getInputProps({index:5}),{get class(){return r()}}),!1,!1),i})()}var Jg=I('<div class=text-center><p class="text-gray-500 text-sm sm:text-base">Enter the verification code sent to your email.'),Zg=I('<div class="flex items-center">Verifying...'),ep=I('<button type=submit class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center">'),tp=I(`<div class="text-center text-xs sm:text-sm text-gray-500 mt-2 sm:mt-4">Didn't get a code? <a href=# class="text-indigo-600 hover:underline font-semibold">Resend`),np=I('<p class=" text-red-600 text-xs sm:text-sm">'),rp=I('<p class="pt-2 sm:pt-3 px-2 text-green-600 text-xs sm:text-sm">Email verified! Ready to sign in...'),ip=I('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-12"><form aria-labelledby=verifyemail-heading class="w-full max-w-md sm:max-w-xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-12 space-y-2 border border-gray-100 relative"autocomplete=off><div class=text-center><h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2"id=verifyemail-heading>Verify Your Email'),sp=I('<div class="mb-6 sm:mb-8 text-center"><p class="text-gray-500 text-xs sm:text-sm">Send a code to verify your email.'),op=I('<div class="flex items-center">Sending...'),ap=I('<button class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"type=button>');function lp(){const[e,t]=D(""),[n,r]=D(!1),[i,s]=D(""),[o,a]=D(!1),[l,c]=D(!1),u=Xe(),[f,d]=ba(),{verifyEmail:m,sendEmailVerification:$,getPendingEmail:S}=nn();Gt(()=>{S()||u("/signin",{replace:!0})});async function E(y){return new Promise((k,C)=>{setTimeout(async()=>{try{await m(y),k()}catch(x){C(x)}},200)})}async function R(y){y.preventDefault(),s(""),a(!0);try{await E(e()),c(!0),u("/signin",{replace:!0}),a(!1)}catch(k){console.error("Verify email error:",k),a(!1),s("Invalid code. Please try again.")}}async function p(){return new Promise((y,k)=>{setTimeout(async()=>{try{await $(),y()}catch(C){k(C)}},200)})}async function v(){s(""),a(!0);try{await p(),a(!1),d({codeSent:"true"}),r(!0)}catch{a(!1),s("Error sending code. Please try again later.")}}return ue(async()=>{if(f.codeSent==="true"&&(r(!0),f.code))try{await m(f.code),c(!0),u("/signin",{replace:!0}),a(!1)}catch{a(!1),s("Invalid or expired link.")}}),ue(()=>{e()&&s("")}),(()=>{var y=ip(),k=y.firstChild;return k.firstChild,k.addEventListener("submit",R),P(k,A(ge,{get when(){return n()},get fallback(){return[sp(),(()=>{var C=ap();return C.$$click=()=>v(),P(C,A(De,{get when(){return o()},fallback:"Send Code",get children(){var x=op(),h=x.firstChild;return P(x,A(Dn,{class:"animate-spin mr-2",size:22}),h),x}})),H(()=>C.disabled=o()),C})()]},get children(){return[Jg(),A(Xg,{otp:!0,required:!0,autocomplete:!0,onInput:t,get isError(){return!!i()}}),(()=>{var C=ep();return P(C,A(De,{get when(){return o()},fallback:"Verify Email",get children(){var x=Zg(),h=x.firstChild;return P(x,A(Dn,{class:"animate-spin mr-2",size:22}),h),x}})),H(()=>C.disabled=o()),C})(),tp()]}}),null),P(k,A(De,{get when(){return!!i()},class:"absolute left-10 right-0 bottom-2 sm:bottom-6",get children(){var C=np();return P(C,i),C}}),null),P(k,A(De,{get when(){return l()},class:"absolute left-10 right-0 bottom-2 sm:bottom-6",get children(){return rp()}}),null),y})()}ke(["click"]);var cp=I("<div>Reset Password Page");function up(){return cp()}var fp=I('<div tabindex=0 role=button><span class=truncate></span><button class="flex items-center justify-center w-6 h-6 rounded hover:bg-gray-200 transition-colors"tabindex=0 type=button><svg fill=none stroke=currentColor stroke-width=2.2 viewBox="0 0 20 20"><polyline points="6 8 10 12 14 8"fill=none stroke-linecap=round stroke-linejoin=round>'),dp=I("<div class=overflow-y-scroll>");function hp(e){const[t,n]=D({}),{projects:r,currentProject:i}=ht(),s=()=>r().find(l=>l.id===e.projectId),o=()=>s()&&t()[s().id],a=l=>{l.stopPropagation(),n(c=>({...c,[s().id]:!c[s().id]}))};return[(()=>{var l=fp(),c=l.firstChild,u=c.nextSibling,f=u.firstChild;return l.$$click=()=>e.onSelect?.({project:s()}),P(c,()=>s().name||s().id),u.$$click=a,H(d=>{var m=`
          flex items-center justify-between cursor-pointer select-none rounded-md transition-colors
          px-2 py-1 font-medium text-xs text-gray-800 hover:bg-gray-100 ${i()?.id===s()?.id?"bg-gray-200":"bg-white"}
        `,$=o()?"Collapse project":"Expand project",S=`transition-transform duration-200 w-5 h-5 text-gray-500 ${o()?"rotate-90":""}`;return m!==d.e&&me(l,d.e=m),$!==d.t&&_e(u,"aria-label",d.t=$),S!==d.a&&_e(f,"class",d.a=S),d},{e:void 0,t:void 0,a:void 0}),l})(),A(ge,{get when(){return(s().reviews||[]).some(l=>(l.checklists||[]).length>0)},get children(){var l=dp();return jt(l,"transition","max-height 0.25s ease-in-out, opacity 0.25s ease-in-out"),P(l,A(tt,{get each(){return s().reviews||[]},children:c=>A(tt,{get each(){return c.checklists||[]},children:u=>e.children(u,c)})})),H(c=>{var u=o()?"600px":"0",f=o()?1:0;return u!==c.e&&jt(l,"max-height",c.e=u),f!==c.t&&jt(l,"opacity",c.t=f),c},{e:void 0,t:void 0}),l}})]}ke(["click"]);var gp=I('<ul class="list-disc space-y-1 text-xs">'),pp=I('<div style=max-width:100vw><div><div class="flex-1 overflow-y-auto sidebar-scrollbar space-y-6"><div class="mb-2 px-2 pt-4"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Projects</h3></div><div class="p-2 pb-0 space-y-1 border-t border-gray-100"></div><div class="mb-2 px-2"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Checklists</h3></div><div class="border-t border-gray-100 pt-1 mx-2"></div><div class="mb-2 px-2"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Actions</h3></div><div class="border-t border-gray-100 pt-1 space-y-1 mx-2"><button class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Export CSV</button><label class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>Import CSV<input type=file accept=.csv,text/csv class=hidden></label><button class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF URL</button><label class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-2 text-xs cursor-pointer"><svg class="w-4 h-4 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF File<input type=file accept=application/pdf class=hidden></label></div><div class="mb-2 px-2"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Settings</h3></div><div class="border-t border-gray-100 pt-1 space-y-1 mx-2"><button class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-red-600 hover:bg-red-50 flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-red-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear all data</button><div class=mt-10>'),mp=I('<div class="text-center py-2 px-2"><div class="w-8 h-8 bg-gray-100 rounded-lg mx-auto mb-2 flex items-center justify-center"><svg class="w-4 h-4 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-xs text-gray-500 font-medium">No projects yet'),wp=I('<div class="text-center py-2 px-2"><div class="w-8 h-8 bg-gray-100 rounded-lg mx-auto mb-2 flex items-center justify-center"><svg class="w-4 h-4 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-xs text-gray-500 font-medium">No checklists yet'),yp=I('<div style=flex:1><button class="flex-1 flex items-center gap-2 px-2 py-1.5 text-left focus:outline-none"tabindex=0><svg class="w-4 h-4 text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><div class="flex-1 min-w-0"><div class="flex gap-2 items-center"><div class="text-xs font-medium truncate"></div><span></span></div><div class="text-2xs text-gray-500 mt-0.5"></div></div></button><button aria-label="Delete checklist"tabindex=-1><svg class="w-4 h-4"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),vp=I('<span class="inline-block w-2 h-2 rounded-full"style=background:currentColor>');function bp(e){const{projects:t,checklists:n,getChecklist:r}=ht(),[i,s]=D(null),o=Xe(),a=zn();ue(()=>{if(a.name&&a.index!==void 0){const u=decodeURIComponent(a.name),f=Number(a.index);s(r({name:u,index:f}))}});function l(){const u=window.prompt("Enter PDF URL:");u&&e.setPdfUrl(u)}function c(u){const f=u.target.files[0];if(f&&f.type==="application/pdf"){const d=URL.createObjectURL(f);e.setPdfUrl(d)}else alert("Please select a valid PDF file.")}return(()=>{var u=pp(),f=u.firstChild,d=f.firstChild,m=d.firstChild,$=m.nextSibling,S=$.nextSibling,E=S.nextSibling,R=E.nextSibling,p=R.nextSibling,v=p.firstChild,y=v.nextSibling,k=y.firstChild,C=k.nextSibling,x=C.nextSibling,h=y.nextSibling,g=h.nextSibling,b=g.firstChild,w=b.nextSibling,_=w.nextSibling,N=p.nextSibling,T=N.nextSibling,j=T.firstChild;return P($,A(ge,{get when(){return t()?.length>0},get fallback(){return mp()},get children(){return A(tt,{get each(){return t()},children:M=>A(hp,{get projectId(){return M.id},onSelect:()=>{o(`/projects/${Qe(M.name)}-${M.id}`)},children:(O,B)=>A(Yi,{project:M,get isSelected(){return i()?.id===O.id},checklist:O,onDelete:()=>e.onDeleteChecklist(M.id,B.id,O.id)})})})}})),P(E,A(ge,{get when(){return n()?.length>0},get fallback(){return wp()},get children(){var M=gp();return P(M,A(tt,{get each(){return n()},children:O=>A(Yi,{project:null,checklist:O,onDelete:()=>e.onDeleteChecklist(null,O.id)})})),M}})),Fe(v,"click",e.onExportCSV,!0),Fe(x,"change",e.onImportCSV),h.$$click=l,_.addEventListener("change",c),Fe(j,"click",e.onDeleteAll,!0),H(M=>{var O=`
        transition-all duration-200 ease-in-out
        bg-white border-r border-gray-200 h-screen overflow-x-hidden
        ${e.open?"w-64":"w-0"}
        md:relative
        ${e.open?"":"md:w-0"}
        fixed top-0 left-0 z-30 md:static md:z-auto
        ${e.open?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,B=`
          flex flex-col h-full
          transition-opacity duration-100
          ${e.open?"duration-500 opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
        `;return O!==M.e&&me(u,M.e=O),B!==M.t&&me(f,M.t=B),M},{e:void 0,t:void 0}),u})()}function Yi(e){const t=Xe();function n(){const r=Qe(e.checklist.name);if(!e.project){t(`/checklist/${r}-${e.checklist.id}`);return}const i=Qe(e.project.name),s=(e.project.reviews||[]).find(a=>(a.checklists||[]).some(l=>l.id===e.checklist.id));if(!s){console.error("Review not found for checklist",e.checklist);return}const o=Qe(s.name);t(`/projects/${i}-${e.project.id}/reviews/${o}-${s.id}/checklists/${r}-${e.checklist.id}`)}return(()=>{var r=yp(),i=r.firstChild,s=i.firstChild,o=s.nextSibling,a=o.firstChild,l=a.firstChild,c=l.nextSibling,u=a.nextSibling,f=i.nextSibling;return i.$$click=()=>n(),P(l,()=>e.checklist.name),P(c,()=>{if(!e.checklist)return"Unknown";const d=Mi(e.checklist);return d.length+(e.checklist.name?.length||0)<30?d:vp()}),P(u,()=>new Date(e.checklist.createdAt).toLocaleDateString()),f.$$click=d=>{d.stopPropagation(),e.onDelete(null,e.checklist.id)},H(d=>{var m=`
            flex items-center group rounded transition-colors
            ${e.isSelected?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}
          `,$=`
                    text-3xs font-medium px-1.5 py-0.5 rounded
                    ${(()=>{const E=Mi(e.checklist);return E==="High"?"bg-green-100 text-green-800":E==="Moderate"?"bg-yellow-100 text-yellow-800":E==="Low"?"bg-orange-100 text-orange-800":E==="Critically Low"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"})()}
                  `,S=`p-1.5 mr-1 rounded transition-colors text-gray-400 hover:text-red-600 hover:bg-red-50
                  ${e.isSelected?"opacity-0 group-hover:opacity-100":""}
                `;return m!==d.e&&me(r,d.e=m),$!==d.t&&me(c,d.t=$),S!==d.a&&me(f,d.a=S),d},{e:void 0,t:void 0,a:void 0}),r})()}ke(["click"]);var xp=I('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 mx-2 animate-fade-in"><div class=mb-4><h2 class="text-lg font-semibold text-gray-900"></h2></div><div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"autofocus>Cancel</button><button class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors">'),_p=I('<p class="mt-2 text-gray-600">');function Wi(e){return A(ge,{get when(){return e.open},get children(){return A(oa,{get children(){var t=xp(),n=t.firstChild,r=n.firstChild,i=r.firstChild,s=r.nextSibling,o=s.firstChild,a=o.nextSibling;return P(i,()=>e.title||"Are you sure?"),P(r,(()=>{var l=Ke(()=>!!e.description);return()=>l()&&(()=>{var c=_p();return P(c,()=>e.description),c})()})(),null),Fe(o,"click",e.onCancel,!0),Fe(a,"click",e.onConfirm,!0),P(a,()=>e.confirmText||"Delete"),t}})}})}ke(["click"]);var kp=I('<div><div class="w-full h-full overflow-auto"></div><div role=separator tabindex=0 style=touch-action:none>');function $p(e){const t=e.direction||"horizontal",n=t==="horizontal"?"right":"bottom",r=e.position||n,i=e.min??200,s=e.max??800,o=e.initial??400,[a,l]=D(o);let c=!1,u=0,f=0,d=null;const m=R=>{c=!0,d=R.pointerId,u=t==="horizontal"?R.clientX:R.clientY,f=a(),document.body.style.userSelect="none",R.target.setPointerCapture(d),window.addEventListener("pointermove",$),window.addEventListener("pointerup",S)},$=R=>{if(!c)return;let p=t==="horizontal"?R.clientX-u:R.clientY-u;(r==="left"||r==="top")&&(p=-p);let v=f+p;v=Math.max(i,Math.min(s,v)),l(v)},S=R=>{if(c=!1,document.body.style.userSelect="",R.target.releasePointerCapture&&d!==null)try{R.target.releasePointerCapture(d)}catch{}window.removeEventListener("pointermove",$),window.removeEventListener("pointerup",S),d=null};let E="";return t==="horizontal"?E=r==="right"?"top-0 right-0 h-full w-2 cursor-col-resize":"top-0 left-0 h-full w-2 cursor-col-resize":E=r==="bottom"?"left-0 bottom-0 w-full h-2 cursor-row-resize":"left-0 top-0 w-full h-2 cursor-row-resize",(()=>{var R=kp(),p=R.firstChild,v=p.nextSibling;return me(R,`relative ${t==="horizontal"?"h-full":"w-full"}`),P(p,()=>e.children),v.$$pointerdown=m,me(v,`absolute ${E} bg-gray-200 hover:bg-gray-300 transition-colors z-10`),_e(v,"aria-orientation",t),H(y=>Bn(R,t==="horizontal"?`width: ${a()}px; min-width:0;`:`height: ${a()}px; min-height:0;`,y)),R})()}ke(["pointerdown"]);var Sp=I('<button class="ml-[-6px] bg-white/80 text-blue-700 p-1.5 rounded-full shadow hover:bg-white transition-all duration-200 border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"aria-label="Toggle sidebar open or closed">'),Qi=I("<span class=font-medium>Hello, "),Ki=I('<button class="hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium">Sign Out'),Cp=I('<nav class="flex items-center justify-between bg-gradient-to-r from-blue-700 to-blue-500 text-white px-4 py-2 shadow-lg"><div class="flex items-center space-x-3"></div><div class="flex space-x-4 items-center text-2xs sm:text-xs">'),Ap=I('<svg fill=none stroke=currentColor class="w-4 h-4"viewBox="0 0 20 20"><path d="M3.5 3C3.77614 3 4 3.22386 4 3.5V16.5L3.99023 16.6006C3.94371 16.8286 3.74171 17 3.5 17C3.25829 17 3.05629 16.8286 3.00977 16.6006L3 16.5V3.5C3 3.22386 3.22386 3 3.5 3ZM11.2471 5.06836C11.4476 4.95058 11.7104 4.98547 11.8721 5.16504C12.0338 5.34471 12.0407 5.60979 11.9023 5.79688L11.835 5.87207L7.80371 9.5H16.5C16.7761 9.5 17 9.72386 17 10C17 10.2761 16.7761 10.5 16.5 10.5H7.80371L11.835 14.1279C12.0402 14.3127 12.0568 14.6297 11.8721 14.835C11.6873 15.0402 11.3703 15.0568 11.165 14.8721L6.16504 10.3721L6.09473 10.2939C6.03333 10.2093 6 10.1063 6 10C6 9.85828 6.05972 9.72275 6.16504 9.62793L11.165 5.12793L11.2471 5.06836Z">');function Gi(e){return e.endsWith("/")?e.slice(0,-1):e}function Ep(e){const{user:t,signout:n,authLoading:r}=nn(),i=Dr(),s=()=>Gi(i.pathname)===Gi(Ao),o=localStorage.getItem("userName"),a=!!o;return ue(()=>{t()?localStorage.setItem("userName",t().name):localStorage.removeItem("userName")}),(()=>{var l=Cp(),c=l.firstChild,u=c.nextSibling;return P(c,A(ge,{get when(){return!s()},get children(){var f=Sp();return Fe(f,"click",e.toggleSidebar,!0),P(f,A(ge,{get when(){return!e.open},get fallback(){return Ap()},get children(){return A(bg,{})}})),f}}),null),P(c,A(sn,{href:"/",class:"font-extrabold text-base sm:text-lg tracking-tight drop-shadow",children:"CoRATES"}),null),P(u,A(sn,{href:"/dashboard",class:"hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium",children:"Dashboard"}),null),P(u,A(ge,{get when(){return t()},get fallback(){return Ke(()=>!!(a&&r()))()?[(()=>{var f=Qi();return f.firstChild,P(f,o,null),f})(),Ki()]:[A(sn,{href:"/signin",class:"hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium",children:"Sign In"}),A(sn,{href:"/signup",class:"hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium",children:"Sign Up"})]},get children(){return[(()=>{var f=Qi();return f.firstChild,P(f,()=>t().name,null),f})(),(()=>{var f=Ki();return f.$$click=async()=>{await n()},f})()]}}),null),l})()}ke(["click"]);var Pp=I('<div class="flex-1 min-h-0 overflow-y-auto">'),Rp=I('<div class="sm:hidden fixed inset-0 bg-black/50 z-20 transition-opacity duration-300">'),Np=I('<div class="h-full border-l border-gray-200 bg-white flex flex-col"><iframe class="w-full h-full"title="PDF Viewer"style=min-width:300px>'),Ip=I('<div class="flex flex-col h-screen overflow-y-hidden"><div class="flex flex-1 min-h-0">');function Tp(e){const[t,n]=D(!1),[r,i]=D(!1),[s,o]=D(!1),[a,l]=D(null),[c,u]=D(null),{authLoading:f}=nn(),{dataLoading:d,deleteChecklist:m,setCurrentChecklist:$,getChecklist:S}=ht(),E=async()=>{try{$(null),alert("All checklists deleted!")}catch(C){console.error("Error removing all checklists:",C),alert("Error deleting checklists!")}finally{i(!1)}},R=()=>{let C="this checklist";const x=a();let h=S(x.checklistId);return h&&(C=h.name||h.title||"Untitled Checklist"),`Are you sure you want to delete ${C}? This action cannot be undone.`},p=()=>i(!1),v=(C,x)=>{console.log("Request to delete checklist id:",x,"from project:",C),l({projectId:C,checklistId:x}),o(!0)},y=async()=>{const C=a();if(!(!C||!C.checklistId))try{console.log("Deleting checklist id:",C.checklistId,"from project:",C.projectId),await m(C.projectId,C.checklistId)}catch(x){console.error("Error deleting checklist:",x),alert("Error deleting checklist!")}finally{o(!1),l(null)}},k=()=>{o(!1),l(null)};return(()=>{var C=Ip(),x=C.firstChild;return P(C,A(Ep,{toggleSidebar:()=>n(h=>!h),get open(){return t()}}),x),P(x,A(bp,{get open(){return t()},onClose:()=>n(!1),setPdfUrl:u,onDeleteChecklist:v}),null),P(x,A(De,{class:"flex flex-1",get when(){return Ke(()=>!d())()&&!f()},get children(){var h=Pp();return P(h,()=>e.children),h}}),null),P(x,A(ge,{get when(){return t()},get children(){var h=Rp();return h.$$click=()=>n(!1),h}}),null),P(x,A(ge,{get when(){return c()},get children(){return A($p,{direction:"horizontal",min:250,max:1600,initial:500,position:"left",get children(){var h=Np(),g=h.firstChild;return H(()=>_e(g,"src",c())),h}})}}),null),P(C,A(Wi,{get open(){return s()},title:"Delete checklist?",get description(){return R()},confirmText:"Delete",onCancel:k,onConfirm:y}),null),P(C,A(Wi,{get open(){return r()},title:"Delete all checklists?",description:"Are you sure you want to delete all saved checklists? This action cannot be undone.",confirmText:"Delete all",onCancel:p,onConfirm:E}),null),C})()}ke(["click"]);var qp=I("<h1>404 - Not Found");function Op(){return qp()}var Lp=I("<h1>You are offline, you must be online to access this page.");function Mp(){return Lp()}var jp=I('<div class="max-w-5xl mx-auto p-6"><h2 class="text-xl font-bold mb-4">Merge AMSTAR2 Checklists</h2><div class="grid grid-cols-3 gap-4 font-mono text-xs"><div class="font-bold text-center">Checklist A</div><div class="font-bold text-center">Checklist B</div><div class="font-bold text-center">Merged Result</div></div><button class="mt-6 px-4 py-2 bg-blue-600 text-white rounded">Save Merged Checklist'),Xi=I('<button class="mt-1 text-blue-600 underline">Use this'),Dp=I('<div class=contents><div><pre></pre></div><div><pre></pre></div><div class="p-2 border bg-green-50"><pre>');function Fp(e){const t=zn(),{getChecklist:n}=ht();console.log("Route params:",decodeURIComponent(t.nameA),t.indexA,decodeURIComponent(t.nameB),t.indexB);const r=n(decodeURIComponent(t.nameA),t.indexA),i=n(decodeURIComponent(t.nameB),t.indexB);console.log("Merging checklists:",r,i);const[s,o]=D({...r}),a=["q1","q2","q3","q4","q5","q6","q7","q8","q9a","q9b","q10","q11a","q11b","q12","q13","q14","q15","q16"];function l(f){const d=r[f]?.answers,m=i[f]?.answers;return JSON.stringify(d)!==JSON.stringify(m)}function c(f,d){o(m=>({...m,[d]:f==="A"?{...r[d]}:{...i[d]}}))}function u(){alert("not implemented")}return(()=>{var f=jp(),d=f.firstChild,m=d.nextSibling,$=m.firstChild,S=$.nextSibling;S.nextSibling;var E=m.nextSibling;return P(m,A(tt,{each:a,children:R=>(()=>{var p=Dp(),v=p.firstChild,y=v.firstChild,k=v.nextSibling,C=k.firstChild,x=k.nextSibling,h=x.firstChild;return P(y,()=>JSON.stringify(r[R]?.answers,null,1)),P(v,A(ge,{get when(){return l(R)},get children(){var g=Xi();return g.$$click=()=>c("A",R),g}}),null),P(C,()=>JSON.stringify(i[R]?.answers,null,1)),P(k,A(ge,{get when(){return l(R)},get children(){var g=Xi();return g.$$click=()=>c("B",R),g}}),null),P(h,()=>JSON.stringify(s()[R]?.answers,null,1)),H(g=>{var b=`p-2 border ${l(R)?"bg-yellow-100":""}`,w=`p-2 border ${l(R)?"bg-yellow-100":""}`;return b!==g.e&&me(v,g.e=b),w!==g.t&&me(k,g.t=w),g},{e:void 0,t:void 0}),p})()}),null),E.$$click=u,f})()}ke(["click"]);const Ao="/amstar2-checklist-scoring-app";function Qe(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function Up(){return A(La,{base:Ao,get children(){return A(Ie,{path:"/",component:Tp,get children(){return[A(Ie,{path:"/",component:za}),A(Ie,{path:"/dashboard",component:hh}),A(Ie,{path:"/projects/:projectSlug",component:Zd}),A(Ie,{path:"/projects/:projectSlug/reviews/:reviewSlug/checklists/:checklistSlug",component:ui}),A(Ie,{path:"/checklist/:checklistSlug",component:ui}),A(Ie,{path:"/merge/:checklistSlugA/:checklistSlugB",component:Fp}),A(Ie,{path:"/signin",component:()=>A(hn,{get children(){return A(Sg,{})}})}),A(Ie,{path:"/signup",component:()=>A(hn,{get children(){return A(Lg,{})}})}),A(Ie,{path:"/verify-email",component:()=>A(hn,{get children(){return A(lp,{})}})}),A(Ie,{path:"/reset-password",component:()=>A(hn,{get children(){return A(up,{})}})}),A(Ie,{path:"*",component:Op})]}})}})}function hn(e){const t=ho();return A(ge,{get when(){return t()},get fallback(){return A(Mp,{})},get children(){return e.children}})}Xo(()=>A(Xa,{get children(){return A(ph,{get children(){return A(Up,{})}})}}),document.getElementById("root"));
