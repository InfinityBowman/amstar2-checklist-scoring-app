(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Zs=!1,Js=(e,t)=>e===t,ue=Symbol("solid-proxy"),Ci=typeof Proxy=="function",Ht=Symbol("solid-track"),Gt={equals:Js};let Ai=Ti;const Ne=1,Kt=2,Ei={owned:null,cleanups:null,context:null,owner:null};var I=null;let $n=null,eo=null,U=null,X=null,$e=null,mn=0;function Ee(e,t){const n=U,r=I,i=e.length===0,o=t===void 0?r:t,s=i?Ei:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=i?e:()=>e(()=>te(()=>dt(s)));I=s,U=null;try{return Re(a,!0)}finally{U=n,I=r}}function L(e,t){t=t?Object.assign({},Gt,t):Gt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Ri(n,i));return[Ni.bind(n),r]}function q(e,t,n){const r=lr(e,t,!1,Ne);$t(r)}function H(e,t,n){Ai=io;const r=lr(e,t,!1,Ne);(!n||!n.render)&&(r.user=!0),$e?$e.push(r):$t(r)}function D(e,t,n){n=n?Object.assign({},Gt,n):Gt;const r=lr(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,$t(r),Ni.bind(r)}function Pi(e){return Re(e,!1)}function te(e){if(U===null)return e();const t=U;U=null;try{return e()}finally{U=t}}function ir(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return s=>{let a;if(r){a=Array(e.length);for(let c=0;c<e.length;c++)a[c]=e[c]()}else a=e();if(o)return o=!1,s;const l=te(()=>t(a,i,s));return i=a,l}}function pn(e){H(()=>te(e))}function ne(e){return I===null||(I.cleanups===null?I.cleanups=[e]:I.cleanups.push(e)),e}function On(){return U}function sr(){return I}function or(e,t){const n=I,r=U;I=e,U=null;try{return Re(t,!0)}catch(i){cr(i)}finally{I=n,U=r}}function to(e){const t=U,n=I;return Promise.resolve().then(()=>{U=t,I=n;let r;return Re(e,!1),U=I=null,r?r.done:void 0})}const[t0,n0]=L(!1);function wn(e,t){const n=Symbol("context");return{id:n,Provider:oo(n),defaultValue:e}}function _t(e){let t;return I&&I.context&&(t=I.context[e.id])!==void 0?t:e.defaultValue}function ar(e){const t=D(e),n=D(()=>jn(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Ni(){if(this.sources&&this.state)if(this.state===Ne)$t(this);else{const e=X;X=null,Re(()=>Wt(this),!1),X=e}if(U){const e=this.observers?this.observers.length:0;U.sources?(U.sources.push(this),U.sourceSlots.push(e)):(U.sources=[this],U.sourceSlots=[e]),this.observers?(this.observers.push(U),this.observerSlots.push(U.sources.length-1)):(this.observers=[U],this.observerSlots=[U.sources.length-1])}return this.value}function Ri(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Re(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],s=$n&&$n.running;s&&$n.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?X.push(o):$e.push(o),o.observers&&Li(o)),s||(o.state=Ne)}if(X.length>1e6)throw X=[],new Error},!1)),t}function $t(e){if(!e.fn)return;dt(e);const t=mn;no(e,e.value,t)}function no(e,t,n){let r;const i=I,o=U;U=I=e;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=Ne,e.owned&&e.owned.forEach(dt),e.owned=null),e.updatedAt=n+1,cr(s)}finally{U=o,I=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ri(e,r):e.value=r,e.updatedAt=n)}function lr(e,t,n,r=Ne,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:I,context:I?I.context:null,pure:n};return I===null||I!==Ei&&(I.owned?I.owned.push(o):I.owned=[o]),o}function Qt(e){if(e.state===0)return;if(e.state===Kt)return Wt(e);if(e.suspense&&te(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<mn);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Ne)$t(e);else if(e.state===Kt){const r=X;X=null,Re(()=>Wt(e,t[0]),!1),X=r}}function Re(e,t){if(X)return e();let n=!1;t||(X=[]),$e?n=!0:$e=[],mn++;try{const r=e();return ro(n),r}catch(r){n||($e=null),X=null,cr(r)}}function ro(e){if(X&&(Ti(X),X=null),e)return;const t=$e;$e=null,t.length&&Re(()=>Ai(t),!1)}function Ti(e){for(let t=0;t<e.length;t++)Qt(e[t])}function io(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Qt(r)}for(t=0;t<n;t++)Qt(e[t])}function Wt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===Ne?r!==t&&(!r.updatedAt||r.updatedAt<mn)&&Qt(r):i===Kt&&Wt(r,t)}}}function Li(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Kt,n.pure?X.push(n):$e.push(n),n.observers&&Li(n))}}function dt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)dt(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)dt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function so(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function cr(e,t=I){throw so(e)}function jn(e){if(typeof e=="function"&&!e.length)return jn(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=jn(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function oo(e,t){return function(r){let i;return q(()=>i=te(()=>(I.context={...I.context,[e]:r.value},ar(()=>r.children))),void 0),i}}const In=Symbol("fallback");function Xt(e){for(let t=0;t<e.length;t++)e[t]()}function ao(e,t,n={}){let r=[],i=[],o=[],s=0,a=t.length>1?[]:null;return ne(()=>Xt(o)),()=>{let l=e()||[],c=l.length,f,d;return l[Ht],te(()=>{let h,g,m,w,_,p,y,x,k;if(c===0)s!==0&&(Xt(o),o=[],r=[],i=[],s=0,a&&(a=[])),n.fallback&&(r=[In],i[0]=Ee(P=>(o[0]=P,n.fallback())),s=1);else if(s===0){for(i=new Array(c),d=0;d<c;d++)r[d]=l[d],i[d]=Ee(u);s=c}else{for(m=new Array(c),w=new Array(c),a&&(_=new Array(c)),p=0,y=Math.min(s,c);p<y&&r[p]===l[p];p++);for(y=s-1,x=c-1;y>=p&&x>=p&&r[y]===l[x];y--,x--)m[x]=i[y],w[x]=o[y],a&&(_[x]=a[y]);for(h=new Map,g=new Array(x+1),d=x;d>=p;d--)k=l[d],f=h.get(k),g[d]=f===void 0?-1:f,h.set(k,d);for(f=p;f<=y;f++)k=r[f],d=h.get(k),d!==void 0&&d!==-1?(m[d]=i[f],w[d]=o[f],a&&(_[d]=a[f]),d=g[d],h.set(k,d)):o[f]();for(d=p;d<c;d++)d in m?(i[d]=m[d],o[d]=w[d],a&&(a[d]=_[d],a[d](d))):i[d]=Ee(u);i=i.slice(0,s=c),r=l.slice(0)}return i});function u(h){if(o[d]=h,a){const[g,m]=L(d);return a[d]=m,t(l[d],g)}return t(l[d])}}}function lo(e,t,n={}){let r=[],i=[],o=[],s=[],a=0,l;return ne(()=>Xt(o)),()=>{const c=e()||[],f=c.length;return c[Ht],te(()=>{if(f===0)return a!==0&&(Xt(o),o=[],r=[],i=[],a=0,s=[]),n.fallback&&(r=[In],i[0]=Ee(u=>(o[0]=u,n.fallback())),a=1),i;for(r[0]===In&&(o[0](),o=[],r=[],i=[],a=0),l=0;l<f;l++)l<r.length&&r[l]!==c[l]?s[l](()=>c[l]):l>=r.length&&(i[l]=Ee(d));for(;l<r.length;l++)o[l]();return a=s.length=o.length=f,r=c.slice(0),i=i.slice(0,a)});function d(u){o[l]=u;const[h,g]=L(c[l]);return s[l]=g,t(h,l)}}}function v(e,t){return te(()=>e(t||{}))}function Nt(){return!0}const Dn={get(e,t,n){return t===ue?n:e.get(t)},has(e,t){return t===ue?!0:e.has(t)},set:Nt,deleteProperty:Nt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Nt,deleteProperty:Nt}},ownKeys(e){return e.keys()}};function kn(e){return(e=typeof e=="function"?e():e)?e:{}}function co(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Y(...e){let t=!1;for(let s=0;s<e.length;s++){const a=e[s];t=t||!!a&&ue in a,e[s]=typeof a=="function"?(t=!0,D(a)):a}if(Ci&&t)return new Proxy({get(s){for(let a=e.length-1;a>=0;a--){const l=kn(e[a])[s];if(l!==void 0)return l}},has(s){for(let a=e.length-1;a>=0;a--)if(s in kn(e[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<e.length;a++)s.push(...Object.keys(kn(e[a])));return[...new Set(s)]}},Dn);const n={},r=Object.create(null);for(let s=e.length-1;s>=0;s--){const a=e[s];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const f=l[c];if(f==="__proto__"||f==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,f);if(!r[f])r[f]=d.get?{enumerable:!0,configurable:!0,get:co.bind(n[f]=[d.get.bind(a)])}:d.value!==void 0?d:void 0;else{const u=n[f];u&&(d.get?u.push(d.get.bind(a)):d.value!==void 0&&u.push(()=>d.value))}}}const i={},o=Object.keys(r);for(let s=o.length-1;s>=0;s--){const a=o[s],l=r[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function Mi(e,...t){if(Ci&&ue in e){const i=new Set(t.length>1?t.flat():t[0]),o=t.map(s=>new Proxy({get(a){return s.includes(a)?e[a]:void 0},has(a){return s.includes(a)&&a in e},keys(){return s.filter(a=>a in e)}},Dn));return o.push(new Proxy({get(s){return i.has(s)?void 0:e[s]},has(s){return i.has(s)?!1:s in e},keys(){return Object.keys(e).filter(s=>!i.has(s))}},Dn)),o}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,i),s=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,l=0;for(const c of t)c.includes(i)&&(a=!0,s?r[l][i]=o.value:Object.defineProperty(r[l],i,o)),++l;a||(s?n[i]=o.value:Object.defineProperty(n,i,o))}return[...r,n]}let uo=0;function qi(){return`cl-${uo++}`}const fo=e=>`Stale read from <${e}>.`;function ur(e){const t="fallback"in e&&{fallback:()=>e.fallback};return D(ao(()=>e.each,e.children,t||void 0))}function Mr(e){const t="fallback"in e&&{fallback:()=>e.fallback};return D(lo(()=>e.each,e.children,t||void 0))}function W(e){const t=e.keyed,n=D(()=>e.when,void 0,void 0),r=t?n:D(n,void 0,{equals:(i,o)=>!i==!o});return D(()=>{const i=r();if(i){const o=e.children;return typeof o=="function"&&o.length>0?te(()=>o(t?i:()=>{if(!te(r))throw fo("Show");return n()})):o}return e.fallback},void 0,void 0)}const ho=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],go=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...ho]),mo=new Set(["innerHTML","textContent","innerText","children"]),po=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),wo=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function yo(e,t){const n=wo[e];return typeof n=="object"?n[t]?n.$:void 0:n}const vo=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),bo={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Fe=e=>D(()=>e());function xo(e,t,n){let r=n.length,i=t.length,o=r,s=0,a=0,l=t[i-1].nextSibling,c=null;for(;s<i||a<o;){if(t[s]===n[a]){s++,a++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===s){const f=o<r?a?n[a-1].nextSibling:n[o-a]:l;for(;a<o;)e.insertBefore(n[a++],f)}else if(o===a)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[o-1]&&n[a]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[a++],t[s++].nextSibling),e.insertBefore(n[--o],f),t[i]=n[o]}else{if(!c){c=new Map;let d=a;for(;d<o;)c.set(n[d],d++)}const f=c.get(t[s]);if(f!=null)if(a<f&&f<o){let d=s,u=1,h;for(;++d<i&&d<o&&!((h=c.get(t[d]))==null||h!==f+u);)u++;if(u>f-a){const g=t[s];for(;a<f;)e.insertBefore(n[a++],g)}else e.replaceChild(n[a++],t[s++])}else s++;else t[s++].remove()}}}const qr="_$DX_DELEGATE";function _o(e,t,n,r={}){let i;return Ee(o=>{i=o,t===document?e():b(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function N(e,t,n,r){let i;const o=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},s=()=>(i||(i=o())).cloneNode(!0);return s.cloneNode=s,s}function se(e,t=window.document){const n=t[qr]||(t[qr]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Eo))}}function G(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function $o(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function ko(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function ae(e,t){t==null?e.removeAttribute("class"):e.className=t}function ge(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n,typeof n!="function"&&n)}function So(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||t[a]||(jr(e,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){const a=r[o],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(jr(e,a,!0),n[a]=l)}return n}function yn(e,t,n){if(!t)return n?G(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function Or(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function Z(e,t={},n,r){const i={};return r||q(()=>i.children=gt(e,t.children,i.children)),q(()=>typeof t.ref=="function"&&ht(t.ref,e)),q(()=>Co(e,t,n,!0,i,!0)),i}function ht(e,t,n){return te(()=>e(t,n))}function b(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return gt(e,t,r,n);q(i=>gt(e,t(),i,n),r)}function Co(e,t,n,r,i={},o=!1){t||(t={});for(const s in i)if(!(s in t)){if(s==="children")continue;i[s]=Ir(e,s,null,i[s],n,o,t)}for(const s in t){if(s==="children")continue;const a=t[s];i[s]=Ir(e,s,a,i[s],n,o,t)}}function Ao(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function jr(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function Ir(e,t,n,r,i,o,s){let a,l,c,f,d;if(t==="style")return yn(e,n,r);if(t==="classList")return So(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const u=t.slice(3);r&&e.removeEventListener(u,r,typeof r!="function"&&r),n&&e.addEventListener(u,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const u=t.slice(10);r&&e.removeEventListener(u,r,!0),n&&e.addEventListener(u,n,!0)}else if(t.slice(0,2)==="on"){const u=t.slice(2).toLowerCase(),h=vo.has(u);if(!h&&r){const g=Array.isArray(r)?r[0]:r;e.removeEventListener(u,g)}(h||n)&&(ge(e,u,n,h),h&&se([u]))}else if(t.slice(0,5)==="attr:")G(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")ko(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(c=mo.has(t))||!i&&((f=yo(t,e.tagName))||(l=go.has(t)))||(a=e.nodeName.includes("-")||"is"in s))d&&(t=t.slice(5),l=!0),t==="class"||t==="className"?ae(e,n):a&&!l&&!c?e[Ao(t)]=n:e[f||t]=n;else{const u=i&&t.indexOf(":")>-1&&bo[t.split(":")[0]];u?$o(e,u,t,n):G(e,po[t]||t,n)}return n}function Eo(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,o=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),s=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},a=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();o(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!s());c++){if(t._$host){t=t._$host,a();break}if(t.parentNode===i)break}}else a();o(r)}function gt(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(s){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=Ue(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=Ue(e,n,r);else{if(o==="function")return q(()=>{let a=t();for(;typeof a=="function";)a=a();n=gt(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(Fn(a,t,n,i))return q(()=>n=gt(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=Ue(e,n,r),s)return n}else l?n.length===0?Dr(e,a,r):xo(e,n,a):(n&&Ue(e),Dr(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=Ue(e,n,r,t);Ue(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Fn(e,t,n,r){let i=!1;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=n&&n[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=Fn(e,a,l)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=Fn(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else e.push(a),i=!0;else{const f=String(a);l&&l.nodeType===3&&l.data===f?e.push(l):e.push(document.createTextNode(f))}}return i}function Dr(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function Ue(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(i!==a){const l=a.parentNode===e;!o&&!s?l?e.replaceChild(i,a):e.insertBefore(i,n):l&&a.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const Oi=!1,Po="http://www.w3.org/2000/svg";function No(e,t=!1,n=void 0){return t?document.createElementNS(Po,e):document.createElement(e,{is:n})}function Ro(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,i=sr();let o;return H(()=>{o||(o=or(i,()=>D(()=>e.children)));const s=r();if(s instanceof HTMLHeadElement){const[a,l]=L(!1),c=()=>l(!0);Ee(f=>b(s,()=>a()?f():o(),null)),ne(c)}else{const a=No(e.isSVG?"g":"div",e.isSVG),l=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return n.parentNode},configurable:!0}),b(l,o),s.appendChild(a),e.ref&&e.ref(a),ne(()=>s.removeChild(a))}},void 0,{render:!0}),n}function ji(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,o){if(n)return!(n=!1);const s={to:i,options:o,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const a of e)a.listener({...s,from:a.location,retry:l=>{l&&(n=!0),a.navigate(i,{...o,resolve:!1})}});return!s.defaultPrevented}return{subscribe:t,confirm:r}}let Vn;function fr(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Vn=window.history.state._depth}fr();function To(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function Lo(e,t){let n=!1;return()=>{const r=Vn;fr();const i=r==null?null:Vn-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const Mo=/^(?:[a-z0-9]+:)?\/\//i,qo=/^\/+|(\/)\/+$/g,Ii="http://sr";function Oe(e,t=!1){const n=e.replace(qo,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Ft(e,t,n){if(Mo.test(t))return;const r=Oe(e),i=n&&Oe(n);let o="";return!i||t.startsWith("/")?o=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?o=r+i:o=i,(o||"/")+Oe(t,!o)}function Oo(e,t){if(e==null)throw new Error(t);return e}function jo(e,t){return Oe(e).replace(/\/*(\*.*)?$/g,"")+Oe(t)}function Di(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function Io(e,t,n){const[r,i]=e.split("/*",2),o=r.split("/").filter(Boolean),s=o.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-s;if(c<0||c>0&&i===void 0&&!t)return null;const f={path:s?"":"/",params:{}},d=u=>n===void 0?void 0:n[u];for(let u=0;u<s;u++){const h=o[u],g=h[0]===":",m=g?l[u]:l[u].toLowerCase(),w=g?h.slice(1):h.toLowerCase();if(g&&Sn(m,d(w)))f.params[w]=m;else if(g||!Sn(m,w))return null;f.path+=`/${m}`}if(i){const u=c?l.slice(-c).join("/"):"";if(Sn(u,d(i)))f.params[i]=u;else return null}return f}}function Sn(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Do(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,o)=>i+(o.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Fi(e){const t=new Map,n=sr();return new Proxy({},{get(r,i){return t.has(i)||or(n,()=>t.set(i,D(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function Fo(e,t){const n=new URLSearchParams(e);Object.entries(t).forEach(([i,o])=>{o==null||o===""||o instanceof Array&&!o.length?n.delete(i):o instanceof Array?(n.delete(i),o.forEach(s=>{n.append(i,String(s))})):n.set(i,String(o))});const r=n.toString();return r?`?${r}`:""}function Vi(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return Vi(r).reduce((o,s)=>[...o,...i.map(a=>a+s)],[])}const Vo=100,Ui=wn(),dr=wn(),kt=()=>Oo(_t(Ui),"<A> and 'use' router primitives can be only used inside a Route."),Uo=()=>_t(dr)||kt().base,Bo=e=>{const t=Uo();return D(()=>t.resolvePath(e()))},zo=e=>{const t=kt();return D(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},Te=()=>kt().navigatorFactory(),hr=()=>kt().location,Bi=()=>kt().params,Yo=()=>{const e=hr(),t=Te(),n=(r,i)=>{const o=te(()=>Fo(e.search,r)+e.hash);t(o,{scroll:!1,resolve:!1,...i})};return[e.query,n]};function Ho(e,t=""){const{component:n,preload:r,load:i,children:o,info:s}=e,a=!o||Array.isArray(o)&&!o.length,l={key:e,component:n,preload:r||i,info:s};return zi(e.path).reduce((c,f)=>{for(const d of Vi(f)){const u=jo(t,d);let h=a?u:u.split("/*",1)[0];h=h.split("/").map(g=>g.startsWith(":")||g.startsWith("*")?g:encodeURIComponent(g)).join("/"),c.push({...l,originalPath:f,pattern:h,matcher:Io(h,!a,e.matchFilters)})}return c},[])}function Go(e,t=0){return{routes:e,score:Do(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const o=e[i],s=o.matcher(n);if(!s)return null;r.unshift({...s,route:o})}return r}}}function zi(e){return Array.isArray(e)?e:[e]}function Yi(e,t="",n=[],r=[]){const i=zi(e);for(let o=0,s=i.length;o<s;o++){const a=i[o];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=Ho(a,t);for(const c of l){n.push(c);const f=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!f)Yi(a.children,c.pattern,n,r);else{const d=Go([...n],r.length);r.push(d)}n.pop()}}}return n.length?r:r.sort((o,s)=>s.score-o.score)}function Cn(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function Ko(e,t,n){const r=new URL(Ii),i=D(f=>{const d=e();try{return new URL(d,r)}catch{return console.error(`Invalid path ${d}`),f}},r,{equals:(f,d)=>f.href===d.href}),o=D(()=>i().pathname),s=D(()=>i().search,!0),a=D(()=>i().hash),l=()=>"",c=ir(s,()=>Di(i()));return{get pathname(){return o()},get search(){return s()},get hash(){return a()},get state(){return t()},get key(){return l()},query:n?n(c):Fi(c)}}let Me;function Qo(){return Me}function Wo(e,t,n,r={}){const{signal:[i,o],utils:s={}}=e,a=s.parsePath||(T=>T),l=s.renderPath||(T=>T),c=s.beforeLeave||ji(),f=Ft("",r.base||"");if(f===void 0)throw new Error(`${f} is not a valid base path`);f&&!i().value&&o({value:f,replace:!0,scroll:!1});const[d,u]=L(!1);let h;const g=(T,O)=>{O.value===m()&&O.state===_()||(h===void 0&&u(!0),Me=T,h=O,to(()=>{h===O&&(w(h.value),p(h.state),k[1](j=>j.filter(F=>F.pending)))}).finally(()=>{h===O&&Pi(()=>{Me=void 0,T==="navigate"&&C(h),u(!1),h=void 0})}))},[m,w]=L(i().value),[_,p]=L(i().state),y=Ko(m,_,s.queryWrapper),x=[],k=L([]),P=D(()=>typeof r.transformUrl=="function"?Cn(t(),r.transformUrl(y.pathname)):Cn(t(),y.pathname)),M=()=>{const T=P(),O={};for(let j=0;j<T.length;j++)Object.assign(O,T[j].params);return O},$=s.paramsWrapper?s.paramsWrapper(M,t):Fi(M),A={pattern:f,path:()=>f,outlet:()=>null,resolvePath(T){return Ft(f,T)}};return q(ir(i,T=>g("native",T),{defer:!0})),{base:A,location:y,params:$,isRouting:d,renderPath:l,parsePath:a,navigatorFactory:E,matches:P,beforeLeave:c,preloadRoute:S,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:k};function R(T,O,j){te(()=>{if(typeof O=="number"){O&&(s.go?s.go(O):console.warn("Router integration does not support relative routing"));return}const F=!O||O[0]==="?",{replace:z,resolve:V,scroll:Le,state:ve}={replace:!1,resolve:!F,scroll:!0,...j},be=V?T.resolvePath(O):Ft(F&&y.pathname||"",O);if(be===void 0)throw new Error(`Path '${O}' is not a routable path`);if(x.length>=Vo)throw new Error("Too many redirects");const B=m();(be!==B||ve!==_())&&(Oi||c.confirm(be,j)&&(x.push({value:B,replace:z,scroll:Le,state:_()}),g("navigate",{value:be,state:ve})))})}function E(T){return T=T||_t(dr)||A,(O,j)=>R(T,O,j)}function C(T){const O=x[0];O&&(o({...T,replace:O.replace,scroll:O.scroll}),x.length=0)}function S(T,O){const j=Cn(t(),T.pathname),F=Me;Me="preload";for(let z in j){const{route:V,params:Le}=j[z];V.component&&V.component.preload&&V.component.preload();const{preload:ve}=V;O&&ve&&or(n(),()=>ve({params:Le,location:{pathname:T.pathname,search:T.search,hash:T.hash,query:Di(T),state:null,key:""},intent:"preload"}))}Me=F}}function Xo(e,t,n,r){const{base:i,location:o,params:s}=e,{pattern:a,component:l,preload:c}=r().route,f=D(()=>r().path);l&&l.preload&&l.preload();const d=c?c({params:s,location:o,intent:Me||"initial"}):void 0;return{parent:t,pattern:a,path:f,outlet:()=>l?v(l,{params:s,location:o,data:d,get children(){return n()}}):n(),resolvePath(h){return Ft(i.path(),h,f())}}}const Zo=e=>t=>{const{base:n}=t,r=ar(()=>t.children),i=D(()=>Yi(r(),t.base||""));let o;const s=Wo(e,i,()=>o,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(s),v(Ui.Provider,{value:s,get children(){return v(Jo,{routerState:s,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[Fe(()=>(o=sr())&&null),v(ea,{routerState:s,get branches(){return i()}})]}})}})};function Jo(e){const t=e.routerState.location,n=e.routerState.params,r=D(()=>e.preload&&te(()=>{e.preload({params:n,location:t,intent:Qo()||"initial"})}));return v(W,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>v(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function ea(e){const t=[];let n;const r=D(ir(e.routerState.matches,(i,o,s)=>{let a=o&&i.length===o.length;const l=[];for(let c=0,f=i.length;c<f;c++){const d=o&&o[c],u=i[c];s&&d&&u.route.key===d.route.key?l[c]=s[c]:(a=!1,t[c]&&t[c](),Ee(h=>{t[c]=h,l[c]=Xo(e.routerState,l[c-1]||e.routerState.base,Fr(()=>r()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(i.length).forEach(c=>c()),s&&a?s:(n=l[0],l)}));return Fr(()=>r()&&n)()}const Fr=e=>()=>v(W,{get when(){return e()},keyed:!0,children:t=>v(dr.Provider,{value:t,get children(){return t.outlet()}})}),de=e=>{const t=ar(()=>e.children);return Y(e,{get children(){return t()}})};function ta([e,t],n,r){return[e,r?i=>t(r(i)):t]}function na(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=ta(L(n(e.get()),{equals:(i,o)=>i.value===o.value&&i.state===o.state}),void 0,i=>(!t&&e.set(i),i));return e.init&&ne(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),Zo({signal:r,create:e.create,utils:e.utils})}function ra(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function ia(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const sa=new Map;function oa(e=!0,t=!1,n="/_server",r){return i=>{const o=i.base.path(),s=i.navigatorFactory(i.base);let a,l;function c(m){return m.namespaceURI==="http://www.w3.org/2000/svg"}function f(m){if(m.defaultPrevented||m.button!==0||m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)return;const w=m.composedPath().find(P=>P instanceof Node&&P.nodeName.toUpperCase()==="A");if(!w||t&&!w.hasAttribute("link"))return;const _=c(w),p=_?w.href.baseVal:w.href;if((_?w.target.baseVal:w.target)||!p&&!w.hasAttribute("state"))return;const x=(w.getAttribute("rel")||"").split(/\s+/);if(w.hasAttribute("download")||x&&x.includes("external"))return;const k=_?new URL(p,document.baseURI):new URL(p);if(!(k.origin!==window.location.origin||o&&k.pathname&&!k.pathname.toLowerCase().startsWith(o.toLowerCase())))return[w,k]}function d(m){const w=f(m);if(!w)return;const[_,p]=w,y=i.parsePath(p.pathname+p.search+p.hash),x=_.getAttribute("state");m.preventDefault(),s(y,{resolve:!1,replace:_.hasAttribute("replace"),scroll:!_.hasAttribute("noscroll"),state:x?JSON.parse(x):void 0})}function u(m){const w=f(m);if(!w)return;const[_,p]=w;r&&(p.pathname=r(p.pathname)),i.preloadRoute(p,_.getAttribute("preload")!=="false")}function h(m){clearTimeout(a);const w=f(m);if(!w)return l=null;const[_,p]=w;l!==_&&(r&&(p.pathname=r(p.pathname)),a=setTimeout(()=>{i.preloadRoute(p,_.getAttribute("preload")!=="false"),l=_},20))}function g(m){if(m.defaultPrevented)return;let w=m.submitter&&m.submitter.hasAttribute("formaction")?m.submitter.getAttribute("formaction"):m.target.getAttribute("action");if(!w)return;if(!w.startsWith("https://action/")){const p=new URL(w,Ii);if(w=i.parsePath(p.pathname+p.search),!w.startsWith(n))return}if(m.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const _=sa.get(w);if(_){m.preventDefault();const p=new FormData(m.target,m.submitter);_.call({r:i,f:m.target},m.target.enctype==="multipart/form-data"?p:new URLSearchParams(p))}}se(["click","submit"]),document.addEventListener("click",d),e&&(document.addEventListener("mousemove",h,{passive:!0}),document.addEventListener("focusin",u,{passive:!0}),document.addEventListener("touchstart",u,{passive:!0})),document.addEventListener("submit",g),ne(()=>{document.removeEventListener("click",d),e&&(document.removeEventListener("mousemove",h),document.removeEventListener("focusin",u),document.removeEventListener("touchstart",u)),document.removeEventListener("submit",g)})}}function aa(e){const t=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,i=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:i}},n=ji();return na({get:t,set({value:r,replace:i,scroll:o,state:s}){i?window.history.replaceState(To(s),"",r):window.history.pushState(s,"",r),ia(decodeURIComponent(window.location.hash.slice(1)),o),fr()},init:r=>ra(window,"popstate",Lo(r,i=>{if(i&&i<0)return!n.confirm(i);{const o=t();return!n.confirm(o.value,{state:o.state})}})),create:oa(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}var la=N("<a>");function Rt(e){e=Y({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=Mi(e,["href","state","class","activeClass","inactiveClass","end"]),n=Bo(()=>e.href),r=zo(n),i=hr(),o=D(()=>{const s=n();if(s===void 0)return[!1,!1];const a=Oe(s.split(/[?#]/,1)[0]).toLowerCase(),l=decodeURI(Oe(i.pathname).toLowerCase());return[e.end?a===l:l.startsWith(a+"/")||l===a,a===l]});return(()=>{var s=la();return Z(s,Y(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!o()[0],[e.activeClass]:o()[0],...t.classList}},link:"",get"aria-current"(){return o()[1]?"page":void 0}}),!1,!1),s})()}const Un=Symbol("store-raw"),Ke=Symbol("store-node"),_e=Symbol("store-has"),Hi=Symbol("store-self");function Gi(e){let t=e[ue];if(!t&&(Object.defineProperty(e,ue,{value:t=new Proxy(e,fa)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const s=n[i];r[s].get&&Object.defineProperty(e,s,{enumerable:r[s].enumerable,get:r[s].get.bind(t)})}}return t}function Zt(e){let t;return e!=null&&typeof e=="object"&&(e[ue]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function mt(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[Un])return n;if(!Zt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,a=e.length;s<a;s++)i=e[s],(r=mt(i,t))!==i&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,c=s.length;l<c;l++)o=s[l],!a[o].get&&(i=e[o],(r=mt(i,t))!==i&&(e[o]=r))}return e}function Jt(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function pt(e,t,n){if(e[t])return e[t];const[r,i]=L(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function ca(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===ue||t===Ke||(delete n.value,delete n.writable,n.get=()=>e[ue][t]),n}function Ki(e){On()&&pt(Jt(e,Ke),Hi)()}function ua(e){return Ki(e),Reflect.ownKeys(e)}const fa={get(e,t,n){if(t===Un)return e;if(t===ue)return n;if(t===Ht)return Ki(e),n;const r=Jt(e,Ke),i=r[t];let o=i?i():e[t];if(t===Ke||t===_e||t==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,t);On()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(o=pt(r,t,o)())}return Zt(o)?Gi(o):o},has(e,t){return t===Un||t===ue||t===Ht||t===Ke||t===_e||t==="__proto__"?!0:(On()&&pt(Jt(e,_e),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:ua,getOwnPropertyDescriptor:ca};function en(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?(delete e[t],e[_e]&&e[_e][t]&&i!==void 0&&e[_e][t].$()):(e[t]=n,e[_e]&&e[_e][t]&&i===void 0&&e[_e][t].$());let s=Jt(e,Ke),a;if((a=pt(s,t,i))&&a.$(()=>n),Array.isArray(e)&&e.length!==o){for(let l=e.length;l<o;l++)(a=s[l])&&a.$();(a=pt(s,"length",o))&&a.$(e.length)}(a=s[Hi])&&a.$()}function Qi(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];en(e,i,t[i])}}function da(e,t){if(typeof t=="function"&&(t=t(e)),t=mt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&en(e,n,i)}en(e,"length",r)}else Qi(e,t)}function rt(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const s=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)rt(e,[r[l]].concat(t),n);return}else if(a&&s==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&rt(e,[l].concat(t),n);return}else if(a&&s==="object"){const{from:l=0,to:c=e.length-1,by:f=1}=r;for(let d=l;d<=c;d+=f)rt(e,[d].concat(t),n);return}else if(t.length>1){rt(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=mt(o),r===void 0||Zt(i)&&Zt(o)&&!Array.isArray(o)?Qi(i,o):en(e,r,o))}function ha(...[e,t]){const n=mt(e||{}),r=Array.isArray(n),i=Gi(n);function o(...s){Pi(()=>{r&&s.length===1?da(n,s[0]):rt(n,s)})}return[i,o]}var ga=N('<main class="flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4"><div class="max-w-xl w-full text-center py-12"><h1 class="text-4xl font-bold mb-4 text-blue-700">CoRATES</h1><p class="text-lg text-gray-700 mb-6">Collaborative Research Appraisal Tool for Evidence Synthesis</p><p class="mb-8 text-gray-600">Interactively fill out and score AMSTAR 2 checklists for systematic reviews.<br>Works fully offline, saves your work automatically, and helps you visualize results.</p><div class="mt-10 text-xs text-gray-400"><a href=https://github.com/InfinityBowman/amstar2-checklist-scoring-app target=_blank rel=noopener>View on GitHub');function ma(){return ga()}const Q={q1:{text:"1. Did the research questions and inclusion criteria for the review include the components of PICO?",columns:[{label:"For Yes:",options:["Population","Intervention","Comparator group","Outcome"]},{label:"Optional (recommended):",options:["Timeframe for follow-up"]},{label:"",options:["Yes","No"]}]},q2:{text:"2. Did the report of the review contain an explicit statement that the review methods were established prior to the conduct of the review and did the report justify any significant deviations from the protocol?",columns:[{label:"For Partial Yes:",description:"The authors state that they had a written protocol or guide that included ALL the following:",options:["review question(s)","a search strategy","inclusion/exclusion criteria","risk of bias assessment"]},{label:"For Yes:",description:"As for Partial Yes, plus the protocol should be registered and should also have specified:",options:["a meta-analysis/synthesis plan, if appropriate, and","a plan for investigating causes of heterogeneity","a plan for investigating causes of heterogeneity"]},{label:"",description:"",options:["Yes","Partial Yes","No"]}]},q3:{text:"3. Did the review authors explain their selection of the study designs for inclusion in the review?",columns:[{label:"For Yes, the review should satisfy ONE of the following:",options:["Explanation for including only RCTs ","OR Explanation for including only NRSI","OR Explanation for including both RCTs and NRSI"]},{label:"",options:["Yes","No"]}]},q4:{text:"4. Did the review authors use a comprehensive literature search strategy? ",columns:[{label:"For Partial Yes (all the following):",options:["searched at least 2 databases (relevant to research question)","provided key word and/or search strategy","justified publication restrictions (e.g. language)"]},{label:"For Yes, should also have (all the following):",options:["searched the reference lists / bibliographies of included studies","searched trial/study registries","included/consulted content experts in the field","where relevant, searched for grey literature","conducted search within 24 months of completion of the review"]},{label:"",options:["Yes","Partial Yes","No"]}]},q5:{text:"5. Did the review authors perform study selection in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q6:{text:"6. Did the review authors perform data extraction in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q7:{text:"7. Did the review authors provide a list of excluded studies and justify the exclusions?",columns:[{label:"For Partial Yes:",options:["provided a list of all potentially relevant studies that were read in full-text form but excluded from the review"]},{label:"For Yes, must also have:",options:["Justified the exclusion from the review of each potentially relevant study"]},{label:"",options:["Yes","Partial Yes","No"]}]},q8:{text:"8. Did the review authors describe the included studies in adequate detail?",columns:[{label:"For Partial Yes (ALL the following):",options:["described populations","described interventions","described comparators","described outcomes","described research designs"]},{label:"For Yes, should also have ALL the following:",options:["described population in detail","described comparator in detail (including doses where relevant)","described study’s setting in detail","timeframe for follow-up"]},{label:"",options:["Yes","Partial Yes","No"]}]},q9:{text:"9. Did the review authors use a satisfactory technique for assessing the risk of bias (RoB) in individual studies that were included in the review?",subtitle:"RCTs",columns:[{label:"For Partial Yes, must have assessed RoB from",options:["unconcealed allocation, and","lack of blinding of patients and assessors when assessing outcomes (unnecessary for objective outcomes such as all-cause mortality)"]},{label:"For Yes, must also have assessed RoB from:",options:["allocation sequence that was not truly random, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",description:"",options:["Yes","Partial Yes","No"," Includes only NRSI"]}],subtitle2:"NRSI",columns2:[{label:"For Partial Yes, must have assessed RoB:",options:["from confounding, and","from selection bias"]},{label:"For Yes, must also have assessed RoB:",options:["methods used to ascertain exposures and outcomes, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",options:["Yes","Partial Yes","No","Includes only RCTs"]}]},q10:{text:"10. Did the review authors report on the sources of funding for the studies included in the review?",columns:[{label:"For Yes:",options:["Must have reported on the sources of funding for individual studies included in the review. Note: Reporting that the reviewers looked for this information but it was not reported by study authors also qualifies"]},{label:"",options:["Yes","No"]}]},q11:{text:"11. If meta-analysis was performed did the review authors use appropriate methods for statistical combination of results?",subtitle:"RCTs",columns:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results and adjusted for heterogeneity if present.","AND investigated the causes of any heterogeneity"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}],subtitle2:"NRSI",columns2:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results, adjusting for heterogeneity if present","AND they statistically combined effect estimates from NRSI that were adjusted for confounding, rather than combining raw data, or justified combining raw data when adjusted effect estimates were not available","AND they reported separate summary estimates for RCTs and NRSI separately when both were included in the review"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q12:{text:"12. If meta-analysis was performed, did the review authors assess the potential impact of RoB in individual studies on the results of the meta-analysis or other evidence synthesis?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if the pooled estimate was based on RCTs and/or NRSI at variable RoB, the authors performed analyses to investigate possible impact of RoB on summary estimates of effect."]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q13:{text:"13. Did the review authors account for RoB in individual studies when interpreting/ discussing the results of the review?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if RCTs with moderate or high RoB, or NRSI were included the review provided a discussion of the likely impact of RoB on the results"]},{label:"",options:["Yes","No"]}]},q14:{text:"14. Did the review authors provide a satisfactory explanation for, and discussion of, any heterogeneity observed in the results of the review?",columns:[{label:"For Yes:",options:["There was no significant heterogeneity in the results","OR if heterogeneity was present the authors performed an investigation of sources of any heterogeneity in the results and discussed the impact of this on the results of the review"]},{label:"",options:["Yes","No"]}]},q15:{text:"15. If they performed quantitative synthesis did the review authors carry out an adequate investigation of publication bias (small study bias) and discuss its likely impact on the results of the review?",columns:[{label:"For Yes:",options:["performed graphical or statistical tests for publication bias and discussed the likelihood and magnitude of impact of publication bias"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q16:{text:"16. Did the review authors report any potential sources of conflict of interest, including any funding they received for conducting the review?",options:["Yes","Partial Yes","No"],columns:[{label:"For Yes:",options:["The authors reported no competing interests OR","The authors described their funding sources and how they managed potential conflicts of interest"]},{label:"",options:["Yes","No"]}]}},pa="corates-app-db",Pe="checklists",we="projects",wa=1;function ut(e){return JSON.parse(JSON.stringify(e))}function Ve(){return new Promise((e,t)=>{const n=indexedDB.open(pa,wa);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(Pe)||r.createObjectStore(Pe,{keyPath:"id"}),r.objectStoreNames.contains(we)||r.createObjectStore(we,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function Bn(e){const t=await Ve();return e=ut(e),new Promise((n,r)=>{const i=t.transaction(Pe,"readwrite");i.objectStore(Pe).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function ya(){const e=await Ve();return new Promise((t,n)=>{const o=e.transaction(Pe,"readonly").objectStore(Pe).getAll();o.onsuccess=()=>t(o.result),o.onerror=()=>n(o.error)})}async function va(e){const t=await Ve();return new Promise((n,r)=>{const i=t.transaction(Pe,"readwrite");i.objectStore(Pe).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function vn(e){const t=await Ve();return e=ut(e),new Promise((n,r)=>{const i=t.transaction(we,"readwrite");i.objectStore(we).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function Wi(e){const t=await Ve();return new Promise((n,r)=>{const o=t.transaction(we,"readonly").objectStore(we).get(e);o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error)})}async function ba(){const e=await Ve();return new Promise((t,n)=>{const o=e.transaction(we,"readonly").objectStore(we).getAll();o.onsuccess=()=>t(o.result),o.onerror=()=>n(o.error)})}async function xa(e,t){try{const n=await Wi(e);if(!n)throw new Error(`Project with ID ${e} not found`);return n.checklists=n.checklists.filter(r=>r.id!==t),await vn(n),!0}catch(n){throw console.error("Error deleting checklist from project:",n),n}}async function Vr(e,t){try{await Bn(t);const n=await Wi(e);if(!n)throw new Error(`Project with ID ${e} not found`);const r=n.checklists.findIndex(i=>i.id===t.id);return r>=0?n.checklists[r]=ut(t):(console.log("Adding new checklist to project",ut(t)),n.checklists.push(ut(t))),await vn(n),n}catch(n){throw console.error("Error saving checklist to project:",n),n}}async function _a(e){const t=await Ve();return new Promise((n,r)=>{const i=t.transaction(we,"readwrite");i.objectStore(we).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}function zn(){return crypto.randomUUID()}const Xi=wn();function $a(e){const[t,n]=ha({projects:[],currentProject:null,currentChecklist:null,dataLoading:!0,checklists:[]});pn(async()=>{try{await r()}catch(u){console.error("Error loading data:",u)}finally{n("dataLoading",!1)}});async function r(){try{n("loading",!0);const u=await ba();u.sort((g,m)=>(g.createdAt||0)-(m.createdAt||0)),n("projects",u);const h=await ya();n("checklists",h)}catch(u){throw console.error("Error loading IndexedDB data:",u),u}finally{n("loading",!1)}}async function i(u){try{return await vn(u),n("projects",h=>[...h,u]),u}catch(h){throw console.error("Error adding project:",h),h}}async function o(u){try{return await _a(u),n("projects",h=>h.filter(g=>g.id!==u)),t.currentProject?.id===u&&(n("currentProject",null),n("currentChecklist",null)),!0}catch(h){throw console.error("Error deleting project:",h),h}}function s(u){n("projects",u)}function a(u){let h=null;if(typeof u=="object"&&u!==null){if("project"in u&&u.project)h={...u.project};else if("id"in u)h=t.projects.find(g=>g.id===u.id);else if("name"in u){const g=t.projects.filter(m=>m.name===u.name);h=g[u.index??0]?{...g[u.index??0]}:null}}else typeof u=="string"&&(h=t.projects.find(g=>g.id===u),h||(h=t.projects.find(g=>g.name===u)),h=h?{...h}:null);n("currentProject",h),n("currentChecklist",{...h?.checklists?.[0]??null})}function l(u){let h=null;if(typeof u=="string"){for(const g of t.projects){const m=g.checklists.find(w=>w.id===u);if(m){h={...m};break}}if(!h){const g=t.checklists.find(m=>m.id===u);g&&(h={...g})}if(!h)return console.warn(`setCurrentChecklist: Checklist with ID "${u}" not found.`),n("currentChecklist",null),!1}else if(typeof u=="object")h={...u};else return n("currentChecklist",null),!1;return n("currentChecklist",h),!0}async function c(u,h){if(u===null)try{return await Bn(h),n("checklists",g=>[...g,h]),h}catch(g){throw console.error("Error adding checklist without project:",g),g}try{const g=await Vr(u,h),m=t.projects.findIndex(w=>w.id===u);return m!==-1&&n("projects",m,g),h}catch(g){throw console.error("Error adding checklist:",g),g}}async function f(u){try{const h=t.projects.findIndex(g=>g.checklists.some(m=>m.id===u.id));if(h>=0){const g=t.projects[h].id;return await Vr(g,u),n("projects",h,"checklists",m=>{const w=m.findIndex(_=>_.id===u.id);return w>=0?[...m.slice(0,w),{...u},...m.slice(w+1)]:m}),t.currentChecklist?.id===u.id&&n("currentChecklist",{...u}),u}else{const g=t.checklists.findIndex(m=>m.id===u.id);if(g>=0)return await Bn(u),n("checklists",g,{...u}),t.currentChecklist?.id===u.id&&n("currentChecklist",{...u}),u;throw console.warn("Could not find checklist:",u.id),new Error(`Could not find checklist: ${u.id}`)}}catch(h){throw console.error("Error updating checklist:",h),h}}async function d(u,h){if(u===null)try{return await va(h),n("checklists",g=>g.filter(m=>m.id!==h)),t.currentChecklist?.id===h&&n("currentChecklist",null),!0}catch(g){return console.error("Error adding checklist without project:",g),!1}try{await xa(u,h);const g=t.projects.findIndex(m=>m.id===u);if(g>=0&&(n("projects",g,"checklists",m=>m.filter(w=>w.id!==h)),t.currentChecklist?.id===h)){const m=t.projects[g];n("currentChecklist",m.checklists.length>0?m.checklists[0]:null)}return!0}catch(g){return console.error("Error removing checklist:",g),!1}}return v(Xi.Provider,{value:{projects:()=>t.projects,currentProject:()=>t.currentProject,currentChecklist:()=>t.currentChecklist,dataLoading:()=>t.dataLoading,checklists:()=>t.checklists,loadData:r,setProjects:s,addProject:i,deleteProject:o,setCurrentProject:a,setCurrentChecklist:l,addChecklist:c,updateChecklist:f,deleteChecklist:d},get children(){return e.children}})}function Je(){return _t(Xi)}var Zi=N('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6"></div><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6">'),Ur=N('<div><div class="font-medium text-gray-800 mb-2 h-6"></div><div class="flex flex-col gap-2">'),wt=N('<label class="flex items-center space-x-2"><input type=checkbox class="w-4 h-4 shrink-0 text-blue-600 border-gray-300 focus:ring-blue-500"><span class=text-gray-700>'),Yn=N('<div><div class="font-medium text-gray-800 h-8"></div><div class="flex flex-col gap-2">'),ka=N('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="flex gap-6">'),Sa=N("<div class=space-y-6>"),Ca=N('<div class="min-h-screen bg-linear-to-br from-blue-50 to-indigo-100"><div class="container mx-auto px-4 py-8 max-w-7xl"><div class="bg-white rounded-lg shadow-lg p-8 mb-8"><h1 class="text-3xl font-bold text-gray-900 mb-2">AMSTAR 2 Checklist</h1><p class="text-gray-600 mb-6">App description here</p><div class="grid md:grid-cols-3 gap-4 mb-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Title</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter review title"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Reviewer Name</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter your name"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Date</label><input type=date class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">'),Aa=N("<div>Loading...");function Ea(e){const t=()=>e.checklistState().q1.answers,n=Q.q1;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].every(Boolean);s[2][0]=l,s[2][1]=!l}i===2&&(o===0&&s[2][0]&&(s[2][1]=!1),o===1&&s[2][1]&&(s[2][0]=!1));const a={...e.checklistState().q1,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function Pa(e){const t=()=>e.checklistState().q2.answers,n=Q.q2;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q2,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function Na(e){const t=()=>e.checklistState().q3.answers,n=Q.q3;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q3,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function Ra(e){const t=()=>e.checklistState().q4.answers,n=Q.q4;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q4,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function Ta(e){const t=()=>e.checklistState().q5.answers,n=Q.q5;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q5,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function La(e){const t=()=>e.checklistState().q6.answers,n=Q.q6;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q6,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function Ma(e){const t=()=>e.checklistState().q7.answers,n=Q.q7;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q7,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function qa(e){const t=()=>e.checklistState().q8.answers,n=Q.q8;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q8,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function Oa(e){const t=()=>e.checklistState().q9a.answers,n=()=>e.checklistState().q9b.answers,r=Q.q9;function i(s,a){const l=t().map(f=>[...f]);if(l[s][a]=!t()[s][a],s===0||s===1){const f=l[0].every(Boolean),d=f&&l[1].every(Boolean);l[2][0]=d,l[2][1]=!d&&f,l[2][2]=!d&&!f,l[2][3]=!1}s===2&&(l[2]=l[2].map((f,d)=>d===a?!t()[2][a]:!1));const c={...e.checklistState().q9a,answers:l};e.onUpdatea(c)}function o(s,a){const l=n().map(f=>[...f]);if(l[s][a]=!n()[s][a],s===0||s===1){const f=l[0].every(Boolean),d=f&&l[1].every(Boolean);l[2][0]=d,l[2][1]=!d&&f,l[2][2]=!d&&!f,l[2][3]=!1}s===2&&(l[2]=l[2].map((f,d)=>d===a?!n()[2][a]:!1));const c={...e.checklistState().q9b,answers:l};e.onUpdateb(c)}return(()=>{var s=Zi(),a=s.firstChild,l=a.nextSibling,c=l.nextSibling,f=c.nextSibling,d=f.nextSibling;return b(a,()=>r.text),b(l,()=>r.subtitle),b(c,()=>r.columns.map((u,h)=>(()=>{var g=Ur(),m=g.firstChild,w=m.nextSibling;return G(g,"key",h),b(m,()=>u.label),b(w,()=>u.options.map((_,p)=>(()=>{var y=wt(),x=y.firstChild,k=x.nextSibling;return G(y,"key",p),x.addEventListener("change",()=>i(h,p)),b(k,_),q(()=>x.checked=t()[h][p]),y})())),q(()=>g.className=h===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),g})())),b(f,()=>r.subtitle2),b(d,()=>r.columns2.map((u,h)=>(()=>{var g=Ur(),m=g.firstChild,w=m.nextSibling;return G(g,"key",h),b(m,()=>u.label),b(w,()=>u.options.map((_,p)=>(()=>{var y=wt(),x=y.firstChild,k=x.nextSibling;return G(y,"key",p),x.addEventListener("change",()=>o(h,p)),b(k,_),q(()=>x.checked=n()[h][p]),y})())),q(()=>g.className=h===r.columns2.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),g})())),s})()}function ja(e){const t=()=>e.checklistState().q10.answers,n=Q.q10;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q10,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function Ia(e){const t=()=>e.checklistState().q11a.answers,n=()=>e.checklistState().q11b.answers,r=Q.q11;function i(s,a){const l=t().map(f=>[...f]);if(l[s][a]=!t()[s][a],s===0){const f=l[0].every(Boolean);l[1][0]=f,l[1][1]=!f,l[1][2]=!1}s===1&&(l[1]=l[1].map((f,d)=>d===a?!t()[1][a]:!1));const c={...e.checklistState().q11a,answers:l};e.onUpdatea(c)}function o(s,a){const l=n().map(f=>[...f]);if(l[s][a]=!n()[s][a],s===0){const f=l[0].every(Boolean);l[1][0]=f,l[1][1]=!f,l[1][2]=!1}s===1&&(l[1]=l[1].map((f,d)=>d===a?!n()[1][a]:!1));const c={...e.checklistState().q11b,answers:l};e.onUpdateb(c)}return(()=>{var s=Zi(),a=s.firstChild,l=a.nextSibling,c=l.nextSibling,f=c.nextSibling,d=f.nextSibling;return b(a,()=>r.text),b(l,()=>r.subtitle),b(c,()=>r.columns.map((u,h)=>(()=>{var g=Yn(),m=g.firstChild,w=m.nextSibling;return G(g,"key",h),b(m,()=>u.label),b(w,()=>u.options.map((_,p)=>(()=>{var y=wt(),x=y.firstChild,k=x.nextSibling;return G(y,"key",p),x.addEventListener("change",()=>i(h,p)),b(k,_),q(()=>x.checked=t()[h][p]),y})())),q(()=>g.className=h===r.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),g})())),b(f,()=>r.subtitle2),b(d,()=>r.columns2.map((u,h)=>(()=>{var g=Yn(),m=g.firstChild,w=m.nextSibling;return G(g,"key",h),b(m,()=>u.label),b(w,()=>u.options.map((_,p)=>(()=>{var y=wt(),x=y.firstChild,k=x.nextSibling;return G(y,"key",p),x.addEventListener("change",()=>o(h,p)),b(k,_),q(()=>x.checked=n()[h][p]),y})())),q(()=>g.className=h===r.columns2.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),g})())),s})()}function Da(e){const t=()=>e.checklistState().q12.answers,n=Q.q12;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l,s[1][2]=!1}i===1&&(s[1]=s[1].map((l,c)=>c===o?!t()[1][o]:!1));const a={...e.checklistState().q12,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-60"})}function Fa(e){const t=()=>e.checklistState().q13.answers,n=Q.q13;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q13,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function Va(e){const t=()=>e.checklistState().q14.answers,n=Q.q14;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q14,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function Ua(e){const t=()=>e.checklistState().q15.answers,n=Q.q15;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l,s[1][2]=!1}i===1&&(s[1]=s[1].map((l,c)=>c===o?!t()[1][o]:!1));const a={...e.checklistState().q15,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-60"})}function Ba(e){const t=()=>e.checklistState().q16.answers,n=Q.q16;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q16,answers:s};e.onUpdate(a)}return v(re,{state:t,question:n,handleChange:r,width:"w-42"})}function re(e){let t=e.question;return(()=>{var n=ka(),r=n.firstChild,i=r.nextSibling;return b(r,()=>t.text),b(i,v(Mr,{get each(){return t.columns},children:(o,s)=>(()=>{var a=Yn(),l=a.firstChild,c=l.nextSibling;return b(l,()=>o().label),b(c,v(Mr,{get each(){return o().options},children:(f,d)=>(()=>{var u=wt(),h=u.firstChild,g=h.nextSibling;return h.addEventListener("change",()=>e.handleChange(s,d)),b(g,f),q(()=>h.checked=e.state()[s][d]),u})()})),q(()=>a.className=s===t.columns.length-1?`${e.width} flex flex-col`:"flex-1 flex flex-col"),a})()})),n})()}function za(){const[e,t]=L(""),[n,r]=L(""),[i,o]=L(""),{currentChecklist:s,setCurrentChecklist:a,updateChecklist:l,dataLoading:c}=Je(),f=Bi(),d=Te();H(()=>{f.id&&f.id!==s()?.id&&!c()&&!a(f.id)&&(console.warn("AMSTAR2Checklist: No current checklist found for id",f.id),d("/dashboard"))}),H(()=>{s()&&(t(s().name||s().title||""),r(s().reviewerName||""),o(s().reviewDate||""))});const u=h=>{const g={...s(),...h};l(g)};return(()=>{var h=Ca(),g=h.firstChild,m=g.firstChild,w=m.firstChild,_=w.nextSibling,p=_.nextSibling,y=p.firstChild,x=y.firstChild,k=x.nextSibling,P=y.nextSibling,M=P.firstChild,$=M.nextSibling,A=P.nextSibling,R=A.firstChild,E=R.nextSibling;return k.addEventListener("change",C=>{t(C.target.value),u({title:C.target.value})}),$.addEventListener("change",C=>{r(C.target.value),u({reviewerName:C.target.value})}),E.addEventListener("change",C=>{o(C.target.value),u({reviewDate:C.target.value})}),b(g,v(W,{get when(){return Fe(()=>!c())()&&s()},get fallback(){return Aa()},get children(){var C=Sa();return b(C,v(Ea,{onUpdate:S=>u({q1:S}),checklistState:s}),null),b(C,v(Pa,{onUpdate:S=>u({q2:S}),checklistState:s}),null),b(C,v(Na,{onUpdate:S=>u({q3:S}),checklistState:s}),null),b(C,v(Ra,{onUpdate:S=>u({q4:S}),checklistState:s}),null),b(C,v(Ta,{onUpdate:S=>u({q5:S}),checklistState:s}),null),b(C,v(La,{onUpdate:S=>u({q6:S}),checklistState:s}),null),b(C,v(Ma,{onUpdate:S=>u({q7:S}),checklistState:s}),null),b(C,v(qa,{onUpdate:S=>u({q8:S}),checklistState:s}),null),b(C,v(Oa,{onUpdatea:S=>u({q9a:S}),onUpdateb:S=>u({q9b:S}),checklistState:s}),null),b(C,v(ja,{onUpdate:S=>u({q10:S}),checklistState:s}),null),b(C,v(Ia,{onUpdatea:S=>u({q11a:S}),onUpdateb:S=>u({q11b:S}),checklistState:s}),null),b(C,v(Da,{onUpdate:S=>u({q12:S}),checklistState:s}),null),b(C,v(Fa,{onUpdate:S=>u({q13:S}),checklistState:s}),null),b(C,v(Va,{onUpdate:S=>u({q14:S}),checklistState:s}),null),b(C,v(Ua,{onUpdate:S=>u({q15:S}),checklistState:s}),null),b(C,v(Ba,{onUpdate:S=>u({q16:S}),checklistState:s}),null),C}}),null),q(()=>k.value=e()),q(()=>$.value=n()),q(()=>E.value=i()),h})()}function Vt(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ya(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Ji(e){let t,n,r;e.length!==2?(t=Vt,n=(a,l)=>Vt(e(a),l),r=(a,l)=>e(a)-l):(t=e===Vt||e===Ya?e:Ha,n=e,r=e);function i(a,l,c=0,f=a.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;n(a[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(a,l,c=0,f=a.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;n(a[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function s(a,l,c=0,f=a.length){const d=i(a,l,c,f-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Ha(){return 0}function Ga(e){return e===null?NaN:+e}const Ka=Ji(Vt),Qa=Ka.right;Ji(Ga).center;class Br extends Map{constructor(t,n=Za){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(zr(this,t))}has(t){return super.has(zr(this,t))}set(t,n){return super.set(Wa(this,t),n)}delete(t){return super.delete(Xa(this,t))}}function zr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Wa({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Xa({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Za(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Ja=Math.sqrt(50),el=Math.sqrt(10),tl=Math.sqrt(2);function tn(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Ja?10:o>=el?5:o>=tl?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?tn(e,t,n*2):[a,l,c]}function nl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?tn(t,e,n):tn(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function Hn(e,t,n){return t=+t,e=+e,n=+n,tn(e,t,n)[2]}function rl(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Hn(t,e,n):Hn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function es(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function il(e){return e}var sl=3,Yr=1e-6;function ol(e){return"translate("+e+",0)"}function al(e){return t=>+e(t)}function ll(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function cl(){return!this.__axis}function ul(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,f="y",d=ol;function u(h){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):il),w=Math.max(o,0)+a,_=t.range(),p=+_[0]+l,y=+_[_.length-1]+l,x=(t.bandwidth?ll:al)(t.copy(),l),k=h.selection?h.selection():h,P=k.selectAll(".domain").data([null]),M=k.selectAll(".tick").data(g,t).order(),$=M.exit(),A=M.enter().append("g").attr("class","tick"),R=M.select("line"),E=M.select("text");P=P.merge(P.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(A),R=R.merge(A.append("line").attr("stroke","currentColor").attr(f+"2",c*o)),E=E.merge(A.append("text").attr("fill","currentColor").attr(f,c*w).attr("dy","0.71em")),h!==k&&(P=P.transition(h),M=M.transition(h),R=R.transition(h),E=E.transition(h),$=$.transition(h).attr("opacity",Yr).attr("transform",function(C){return isFinite(C=x(C))?d(C+l):this.getAttribute("transform")}),A.attr("opacity",Yr).attr("transform",function(C){var S=this.parentNode.__axis;return d((S&&isFinite(S=S(C))?S:x(C))+l)})),$.remove(),P.attr("d",s?"M"+p+","+c*s+"V"+l+"H"+y+"V"+c*s:"M"+p+","+l+"H"+y),M.attr("opacity",1).attr("transform",function(C){return d(x(C)+l)}),R.attr(f+"2",c*o),E.attr(f,c*w).text(m),k.filter(cl).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),k.each(function(){this.__axis=x})}return u.scale=function(h){return arguments.length?(t=h,u):t},u.ticks=function(){return n=Array.from(arguments),u},u.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),u):n.slice()},u.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),u):r&&r.slice()},u.tickFormat=function(h){return arguments.length?(i=h,u):i},u.tickSize=function(h){return arguments.length?(o=s=+h,u):o},u.tickSizeInner=function(h){return arguments.length?(o=+h,u):o},u.tickSizeOuter=function(h){return arguments.length?(s=+h,u):s},u.tickPadding=function(h){return arguments.length?(a=+h,u):a},u.offset=function(h){return arguments.length?(l=+h,u):l},u}function fl(e){return ul(sl,e)}var dl={value:()=>{}};function ts(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ut(n)}function Ut(e){this._=e}function hl(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ut.prototype=ts.prototype={constructor:Ut,on:function(e,t){var n=this._,r=hl(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=gl(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Hr(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Hr(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ut(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function gl(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Hr(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=dl,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Gn="http://www.w3.org/1999/xhtml";const Gr={svg:"http://www.w3.org/2000/svg",xhtml:Gn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function bn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Gr.hasOwnProperty(t)?{space:Gr[t],local:e}:e}function ml(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Gn&&t.documentElement.namespaceURI===Gn?t.createElement(e):t.createElementNS(n,e)}}function pl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ns(e){var t=bn(e);return(t.local?pl:ml)(t)}function wl(){}function gr(e){return e==null?wl:function(){return this.querySelector(e)}}function yl(e){typeof e!="function"&&(e=gr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,f=0;f<s;++f)(l=o[f])&&(c=e.call(l,l.__data__,f,o))&&("__data__"in l&&(c.__data__=l.__data__),a[f]=c);return new ie(r,this._parents)}function vl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function bl(){return[]}function rs(e){return e==null?bl:function(){return this.querySelectorAll(e)}}function xl(e){return function(){return vl(e.apply(this,arguments))}}function _l(e){typeof e=="function"?e=xl(e):e=rs(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new ie(r,i)}function is(e){return function(){return this.matches(e)}}function ss(e){return function(t){return t.matches(e)}}var $l=Array.prototype.find;function kl(e){return function(){return $l.call(this.children,e)}}function Sl(){return this.firstElementChild}function Cl(e){return this.select(e==null?Sl:kl(typeof e=="function"?e:ss(e)))}var Al=Array.prototype.filter;function El(){return Array.from(this.children)}function Pl(e){return function(){return Al.call(this.children,e)}}function Nl(e){return this.selectAll(e==null?El:Pl(typeof e=="function"?e:ss(e)))}function Rl(e){typeof e!="function"&&(e=is(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new ie(r,this._parents)}function os(e){return new Array(e.length)}function Tl(){return new ie(this._enter||this._groups.map(os),this._parents)}function nn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}nn.prototype={constructor:nn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Ll(e){return function(){return e}}function Ml(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new nn(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function ql(e,t,n,r,i,o,s){var a,l,c=new Map,f=t.length,d=o.length,u=new Array(f),h;for(a=0;a<f;++a)(l=t[a])&&(u[a]=h=s.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(l=c.get(h))?(r[a]=l,l.__data__=o[a],c.delete(h)):n[a]=new nn(e,o[a]);for(a=0;a<f;++a)(l=t[a])&&c.get(u[a])===l&&(i[a]=l)}function Ol(e){return e.__data__}function jl(e,t){if(!arguments.length)return Array.from(this,Ol);var n=t?ql:Ml,r=this._parents,i=this._groups;typeof e!="function"&&(e=Ll(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var f=r[c],d=i[c],u=d.length,h=Il(e.call(f,f&&f.__data__,c,r)),g=h.length,m=a[c]=new Array(g),w=s[c]=new Array(g),_=l[c]=new Array(u);n(f,d,m,w,_,h,t);for(var p=0,y=0,x,k;p<g;++p)if(x=m[p]){for(p>=y&&(y=p+1);!(k=w[y])&&++y<g;);x._next=k||null}}return s=new ie(s,r),s._enter=a,s._exit=l,s}function Il(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Dl(){return new ie(this._exit||this._groups.map(os),this._parents)}function Fl(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Vl(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],f=r[l],d=c.length,u=a[l]=new Array(d),h,g=0;g<d;++g)(h=c[g]||f[g])&&(u[g]=h);for(;l<i;++l)a[l]=n[l];return new ie(a,this._parents)}function Ul(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function Bl(e){e||(e=zl);function t(d,u){return d&&u?e(d.__data__,u.__data__):!d-!u}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,f=0;f<a;++f)(c=s[f])&&(l[f]=c);l.sort(t)}return new ie(i,this._parents).order()}function zl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Yl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Hl(){return Array.from(this)}function Gl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Kl(){let e=0;for(const t of this)++e;return e}function Ql(){return!this.node()}function Wl(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function Xl(e){return function(){this.removeAttribute(e)}}function Zl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Jl(e,t){return function(){this.setAttribute(e,t)}}function ec(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function tc(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function nc(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function rc(e,t){var n=bn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Zl:Xl:typeof t=="function"?n.local?nc:tc:n.local?ec:Jl)(n,t))}function as(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function ic(e){return function(){this.style.removeProperty(e)}}function sc(e,t,n){return function(){this.style.setProperty(e,t,n)}}function oc(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function ac(e,t,n){return arguments.length>1?this.each((t==null?ic:typeof t=="function"?oc:sc)(e,t,n??"")):We(this.node(),e)}function We(e,t){return e.style.getPropertyValue(t)||as(e).getComputedStyle(e,null).getPropertyValue(t)}function lc(e){return function(){delete this[e]}}function cc(e,t){return function(){this[e]=t}}function uc(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function fc(e,t){return arguments.length>1?this.each((t==null?lc:typeof t=="function"?uc:cc)(e,t)):this.node()[e]}function ls(e){return e.trim().split(/^|\s+/)}function mr(e){return e.classList||new cs(e)}function cs(e){this._node=e,this._names=ls(e.getAttribute("class")||"")}cs.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function us(e,t){for(var n=mr(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function fs(e,t){for(var n=mr(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function dc(e){return function(){us(this,e)}}function hc(e){return function(){fs(this,e)}}function gc(e,t){return function(){(t.apply(this,arguments)?us:fs)(this,e)}}function mc(e,t){var n=ls(e+"");if(arguments.length<2){for(var r=mr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?gc:t?dc:hc)(n,t))}function pc(){this.textContent=""}function wc(e){return function(){this.textContent=e}}function yc(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function vc(e){return arguments.length?this.each(e==null?pc:(typeof e=="function"?yc:wc)(e)):this.node().textContent}function bc(){this.innerHTML=""}function xc(e){return function(){this.innerHTML=e}}function _c(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function $c(e){return arguments.length?this.each(e==null?bc:(typeof e=="function"?_c:xc)(e)):this.node().innerHTML}function kc(){this.nextSibling&&this.parentNode.appendChild(this)}function Sc(){return this.each(kc)}function Cc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ac(){return this.each(Cc)}function Ec(e){var t=typeof e=="function"?e:ns(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Pc(){return null}function Nc(e,t){var n=typeof e=="function"?e:ns(e),r=t==null?Pc:typeof t=="function"?t:gr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Rc(){var e=this.parentNode;e&&e.removeChild(this)}function Tc(){return this.each(Rc)}function Lc(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Mc(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qc(e){return this.select(e?Mc:Lc)}function Oc(e){return arguments.length?this.property("__data__",e):this.node().__data__}function jc(e){return function(t){e.call(this,t,this.__data__)}}function Ic(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Dc(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Fc(e,t,n){return function(){var r=this.__on,i,o=jc(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Vc(e,t,n){var r=Ic(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,f;l<c;++l)for(i=0,f=a[l];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=t?Fc:Dc,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function ds(e,t,n){var r=as(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Uc(e,t){return function(){return ds(this,e,t)}}function Bc(e,t){return function(){return ds(this,e,t.apply(this,arguments))}}function zc(e,t){return this.each((typeof t=="function"?Bc:Uc)(e,t))}function*Yc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var hs=[null];function ie(e,t){this._groups=e,this._parents=t}function St(){return new ie([[document.documentElement]],hs)}function Hc(){return this}ie.prototype=St.prototype={constructor:ie,select:yl,selectAll:_l,selectChild:Cl,selectChildren:Nl,filter:Rl,data:jl,enter:Tl,exit:Dl,join:Fl,merge:Vl,selection:Hc,order:Ul,sort:Bl,call:Yl,nodes:Hl,node:Gl,size:Kl,empty:Ql,each:Wl,attr:rc,style:ac,property:fc,classed:mc,text:vc,html:$c,raise:Sc,lower:Ac,append:Ec,insert:Nc,remove:Tc,clone:qc,datum:Oc,on:Vc,dispatch:zc,[Symbol.iterator]:Yc};function gs(e){return typeof e=="string"?new ie([[document.querySelector(e)]],[document.documentElement]):new ie([[e]],hs)}function pr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ms(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Ct(){}var yt=.7,rn=1/yt,Qe="\\s*([+-]?\\d+)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Gc=/^#([0-9a-f]{3,8})$/,Kc=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),Qc=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),Wc=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${vt}\\)$`),Xc=new RegExp(`^rgba\\(${pe},${pe},${pe},${vt}\\)$`),Zc=new RegExp(`^hsl\\(${vt},${pe},${pe}\\)$`),Jc=new RegExp(`^hsla\\(${vt},${pe},${pe},${vt}\\)$`),Kr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};pr(Ct,Ie,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Qr,formatHex:Qr,formatHex8:eu,formatHsl:tu,formatRgb:Wr,toString:Wr});function Qr(){return this.rgb().formatHex()}function eu(){return this.rgb().formatHex8()}function tu(){return ps(this).formatHsl()}function Wr(){return this.rgb().formatRgb()}function Ie(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Gc.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Xr(t):n===3?new ee(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Tt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Tt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Kc.exec(e))?new ee(t[1],t[2],t[3],1):(t=Qc.exec(e))?new ee(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Wc.exec(e))?Tt(t[1],t[2],t[3],t[4]):(t=Xc.exec(e))?Tt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Zc.exec(e))?ei(t[1],t[2]/100,t[3]/100,1):(t=Jc.exec(e))?ei(t[1],t[2]/100,t[3]/100,t[4]):Kr.hasOwnProperty(e)?Xr(Kr[e]):e==="transparent"?new ee(NaN,NaN,NaN,0):null}function Xr(e){return new ee(e>>16&255,e>>8&255,e&255,1)}function Tt(e,t,n,r){return r<=0&&(e=t=n=NaN),new ee(e,t,n,r)}function nu(e){return e instanceof Ct||(e=Ie(e)),e?(e=e.rgb(),new ee(e.r,e.g,e.b,e.opacity)):new ee}function Kn(e,t,n,r){return arguments.length===1?nu(e):new ee(e,t,n,r??1)}function ee(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}pr(ee,Kn,ms(Ct,{brighter(e){return e=e==null?rn:Math.pow(rn,e),new ee(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?yt:Math.pow(yt,e),new ee(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ee(je(this.r),je(this.g),je(this.b),sn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Zr,formatHex:Zr,formatHex8:ru,formatRgb:Jr,toString:Jr}));function Zr(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}`}function ru(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}${qe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jr(){const e=sn(this.opacity);return`${e===1?"rgb(":"rgba("}${je(this.r)}, ${je(this.g)}, ${je(this.b)}${e===1?")":`, ${e})`}`}function sn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function je(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qe(e){return e=je(e),(e<16?"0":"")+e.toString(16)}function ei(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ce(e,t,n,r)}function ps(e){if(e instanceof ce)return new ce(e.h,e.s,e.l,e.opacity);if(e instanceof Ct||(e=Ie(e)),!e)return new ce;if(e instanceof ce)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new ce(s,a,l,e.opacity)}function iu(e,t,n,r){return arguments.length===1?ps(e):new ce(e,t,n,r??1)}function ce(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}pr(ce,iu,ms(Ct,{brighter(e){return e=e==null?rn:Math.pow(rn,e),new ce(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?yt:Math.pow(yt,e),new ce(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new ee(An(e>=240?e-240:e+120,i,r),An(e,i,r),An(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ce(ti(this.h),Lt(this.s),Lt(this.l),sn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=sn(this.opacity);return`${e===1?"hsl(":"hsla("}${ti(this.h)}, ${Lt(this.s)*100}%, ${Lt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ti(e){return e=(e||0)%360,e<0?e+360:e}function Lt(e){return Math.max(0,Math.min(1,e||0))}function An(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const wr=e=>()=>e;function su(e,t){return function(n){return e+n*t}}function ou(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function au(e){return(e=+e)==1?ws:function(t,n){return n-t?ou(t,n,e):wr(isNaN(t)?n:t)}}function ws(e,t){var n=t-e;return n?su(e,n):wr(isNaN(e)?t:e)}const on=(function e(t){var n=au(t);function r(i,o){var s=n((i=Kn(i)).r,(o=Kn(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=ws(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=e,r})(1);function lu(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function cu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function uu(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=yr(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function fu(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function le(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function du(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=yr(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Qn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,En=new RegExp(Qn.source,"g");function hu(e){return function(){return e}}function gu(e){return function(t){return e(t)+""}}function ys(e,t){var n=Qn.lastIndex=En.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Qn.exec(e))&&(i=En.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:le(r,i)})),n=En.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?gu(l[0].x):hu(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)a[(d=l[f]).i]=d.x(c);return a.join("")})}function yr(e,t){var n=typeof t,r;return t==null||n==="boolean"?wr(t):(n==="number"?le:n==="string"?(r=Ie(t))?(t=r,on):ys:t instanceof Ie?on:t instanceof Date?fu:cu(t)?lu:Array.isArray(t)?uu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?du:le)(e,t)}function mu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var ni=180/Math.PI,Wn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function vs(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ni,skewX:Math.atan(l)*ni,scaleX:s,scaleY:a}}var Mt;function pu(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Wn:vs(t.a,t.b,t.c,t.d,t.e,t.f)}function wu(e){return e==null||(Mt||(Mt=document.createElementNS("http://www.w3.org/2000/svg","g")),Mt.setAttribute("transform",e),!(e=Mt.transform.baseVal.consolidate()))?Wn:(e=e.matrix,vs(e.a,e.b,e.c,e.d,e.e,e.f))}function bs(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,f,d,u,h,g){if(c!==d||f!==u){var m=h.push("translate(",null,t,null,n);g.push({i:m-4,x:le(c,d)},{i:m-2,x:le(f,u)})}else(d||u)&&h.push("translate("+d+t+u+n)}function s(c,f,d,u){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),u.push({i:d.push(i(d)+"rotate(",null,r)-2,x:le(c,f)})):f&&d.push(i(d)+"rotate("+f+r)}function a(c,f,d,u){c!==f?u.push({i:d.push(i(d)+"skewX(",null,r)-2,x:le(c,f)}):f&&d.push(i(d)+"skewX("+f+r)}function l(c,f,d,u,h,g){if(c!==d||f!==u){var m=h.push(i(h)+"scale(",null,",",null,")");g.push({i:m-4,x:le(c,d)},{i:m-2,x:le(f,u)})}else(d!==1||u!==1)&&h.push(i(h)+"scale("+d+","+u+")")}return function(c,f){var d=[],u=[];return c=e(c),f=e(f),o(c.translateX,c.translateY,f.translateX,f.translateY,d,u),s(c.rotate,f.rotate,d,u),a(c.skewX,f.skewX,d,u),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,u),c=f=null,function(h){for(var g=-1,m=u.length,w;++g<m;)d[(w=u[g]).i]=w.x(h);return d.join("")}}}var yu=bs(pu,"px, ","px)","deg)"),vu=bs(wu,", ",")",")"),Xe=0,it=0,et=0,xs=1e3,an,st,ln=0,De=0,xn=0,bt=typeof performance=="object"&&performance.now?performance:Date,_s=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function vr(){return De||(_s(bu),De=bt.now()+xn)}function bu(){De=0}function cn(){this._call=this._time=this._next=null}cn.prototype=$s.prototype={constructor:cn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?vr():+n)+(t==null?0:+t),!this._next&&st!==this&&(st?st._next=this:an=this,st=this),this._call=e,this._time=n,Xn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xn())}};function $s(e,t,n){var r=new cn;return r.restart(e,t,n),r}function xu(){vr(),++Xe;for(var e=an,t;e;)(t=De-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xe}function ri(){De=(ln=bt.now())+xn,Xe=it=0;try{xu()}finally{Xe=0,$u(),De=0}}function _u(){var e=bt.now(),t=e-ln;t>xs&&(xn-=t,ln=e)}function $u(){for(var e,t=an,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:an=n);st=e,Xn(r)}function Xn(e){if(!Xe){it&&(it=clearTimeout(it));var t=e-De;t>24?(e<1/0&&(it=setTimeout(ri,e-bt.now()-xn)),et&&(et=clearInterval(et))):(et||(ln=bt.now(),et=setInterval(_u,xs)),Xe=1,_s(ri))}}function ii(e,t,n){var r=new cn;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var ku=ts("start","end","cancel","interrupt"),Su=[],ks=0,si=1,Zn=2,Bt=3,oi=4,Jn=5,zt=6;function _n(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Cu(e,n,{name:t,index:r,group:i,on:ku,tween:Su,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:ks})}function br(e,t){var n=fe(e,t);if(n.state>ks)throw new Error("too late; already scheduled");return n}function ye(e,t){var n=fe(e,t);if(n.state>Bt)throw new Error("too late; already running");return n}function fe(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Cu(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=$s(o,0,n.time);function o(c){n.state=si,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var f,d,u,h;if(n.state!==si)return l();for(f in r)if(h=r[f],h.name===n.name){if(h.state===Bt)return ii(s);h.state===oi?(h.state=zt,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[f]):+f<t&&(h.state=zt,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[f])}if(ii(function(){n.state===Bt&&(n.state=oi,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Zn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Zn){for(n.state=Bt,i=new Array(u=n.tween.length),f=0,d=-1;f<u;++f)(h=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Jn,1),d=-1,u=i.length;++d<u;)i[d].call(e,f);n.state===Jn&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=zt,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Au(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Zn&&r.state<Jn,r.state=zt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function Eu(e){return this.each(function(){Au(this,e)})}function Pu(e,t){var n,r;return function(){var i=ye(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Nu(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ye(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Ru(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=fe(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Pu:Nu)(n,e,t))}function xr(e,t,n){var r=e._id;return e.each(function(){var i=ye(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return fe(i,r).value[t]}}function Ss(e,t){var n;return(typeof t=="number"?le:t instanceof Ie?on:(n=Ie(t))?(t=n,on):ys)(e,t)}function Tu(e){return function(){this.removeAttribute(e)}}function Lu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Mu(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function qu(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Ou(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function ju(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function Iu(e,t){var n=bn(e),r=n==="transform"?vu:Ss;return this.attrTween(e,typeof t=="function"?(n.local?ju:Ou)(n,r,xr(this,"attr."+e,t)):t==null?(n.local?Lu:Tu)(n):(n.local?qu:Mu)(n,r,t))}function Du(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Fu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Vu(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Fu(e,o)),n}return i._value=t,i}function Uu(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Du(e,o)),n}return i._value=t,i}function Bu(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=bn(e);return this.tween(n,(r.local?Vu:Uu)(r,t))}function zu(e,t){return function(){br(this,e).delay=+t.apply(this,arguments)}}function Yu(e,t){return t=+t,function(){br(this,e).delay=t}}function Hu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?zu:Yu)(t,e)):fe(this.node(),t).delay}function Gu(e,t){return function(){ye(this,e).duration=+t.apply(this,arguments)}}function Ku(e,t){return t=+t,function(){ye(this,e).duration=t}}function Qu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Gu:Ku)(t,e)):fe(this.node(),t).duration}function Wu(e,t){if(typeof t!="function")throw new Error;return function(){ye(this,e).ease=t}}function Xu(e){var t=this._id;return arguments.length?this.each(Wu(t,e)):fe(this.node(),t).ease}function Zu(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ye(this,e).ease=n}}function Ju(e){if(typeof e!="function")throw new Error;return this.each(Zu(this._id,e))}function ef(e){typeof e!="function"&&(e=is(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Se(r,this._parents,this._name,this._id)}function tf(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],f=l.length,d=s[a]=new Array(f),u,h=0;h<f;++h)(u=l[h]||c[h])&&(d[h]=u);for(;a<r;++a)s[a]=t[a];return new Se(s,this._parents,this._name,this._id)}function nf(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function rf(e,t,n){var r,i,o=nf(t)?br:ye;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function sf(e,t){var n=this._id;return arguments.length<2?fe(this.node(),n).on.on(e):this.each(rf(n,e,t))}function of(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function af(){return this.on("end.remove",of(this._id))}function lf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=gr(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),f,d,u=0;u<l;++u)(f=a[u])&&(d=e.call(f,f.__data__,u,a))&&("__data__"in f&&(d.__data__=f.__data__),c[u]=d,_n(c[u],t,n,u,c,fe(f,n)));return new Se(o,this._parents,t,n)}function cf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=rs(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,f,d=0;d<c;++d)if(f=l[d]){for(var u=e.call(f,f.__data__,d,l),h,g=fe(f,n),m=0,w=u.length;m<w;++m)(h=u[m])&&_n(h,t,n,m,u,g);o.push(u),s.push(f)}return new Se(o,s,t,n)}var uf=St.prototype.constructor;function ff(){return new uf(this._groups,this._parents)}function df(e,t){var n,r,i;return function(){var o=We(this,e),s=(this.style.removeProperty(e),We(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Cs(e){return function(){this.style.removeProperty(e)}}function hf(e,t,n){var r,i=n+"",o;return function(){var s=We(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function gf(e,t,n){var r,i,o;return function(){var s=We(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),We(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function mf(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=ye(this,e),c=l.on,f=l.value[o]==null?a||(a=Cs(t)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(s,i=f),l.on=r}}function pf(e,t,n){var r=(e+="")=="transform"?yu:Ss;return t==null?this.styleTween(e,df(e,r)).on("end.style."+e,Cs(e)):typeof t=="function"?this.styleTween(e,gf(e,r,xr(this,"style."+e,t))).each(mf(this._id,e)):this.styleTween(e,hf(e,r,t),n).on("end.style."+e,null)}function wf(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function yf(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&wf(e,s,n)),r}return o._value=t,o}function vf(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,yf(e,t,n??""))}function bf(e){return function(){this.textContent=e}}function xf(e){return function(){var t=e(this);this.textContent=t??""}}function _f(e){return this.tween("text",typeof e=="function"?xf(xr(this,"text",e)):bf(e==null?"":e+""))}function $f(e){return function(t){this.textContent=e.call(this,t)}}function kf(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&$f(i)),t}return r._value=e,r}function Sf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,kf(e))}function Cf(){for(var e=this._name,t=this._id,n=As(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var f=fe(l,t);_n(l,e,n,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Se(r,this._parents,e,n)}function Af(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=ye(this,r),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var Ef=0;function Se(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function As(){return++Ef}var xe=St.prototype;Se.prototype={constructor:Se,select:lf,selectAll:cf,selectChild:xe.selectChild,selectChildren:xe.selectChildren,filter:ef,merge:tf,selection:ff,transition:Cf,call:xe.call,nodes:xe.nodes,node:xe.node,size:xe.size,empty:xe.empty,each:xe.each,on:sf,attr:Iu,attrTween:Bu,style:pf,styleTween:vf,text:_f,textTween:Sf,remove:af,tween:Ru,delay:Hu,duration:Qu,ease:Xu,easeVarying:Ju,end:Af,[Symbol.iterator]:xe[Symbol.iterator]};function Pf(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Nf={time:null,delay:0,duration:250,ease:Pf};function Rf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Tf(e){var t,n;e instanceof Se?(t=e._id,e=e._name):(t=As(),(n=Nf).time=vr(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&_n(l,e,t,c,s,n||Rf(l,t));return new Se(r,this._parents,e,t)}St.prototype.interrupt=Eu;St.prototype.transition=Tf;function Lf(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function un(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ze(e){return e=un(Math.abs(e)),e?e[1]:NaN}function Mf(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function qf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Of=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fn(e){if(!(t=Of.exec(e)))throw new Error("invalid format: "+e);var t;return new _r({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}fn.prototype=_r.prototype;function _r(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}_r.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jf(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Es;function If(e,t){var n=un(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Es=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+un(e,Math.max(0,t+o-1))[0]}function ai(e,t){var n=un(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const li={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Lf,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ai(e*100,t),r:ai,s:If,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ci(e){return e}var ui=Array.prototype.map,fi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Df(e){var t=e.grouping===void 0||e.thousands===void 0?ci:Mf(ui.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ci:qf(ui.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=fn(d);var u=d.fill,h=d.align,g=d.sign,m=d.symbol,w=d.zero,_=d.width,p=d.comma,y=d.precision,x=d.trim,k=d.type;k==="n"?(p=!0,k="g"):li[k]||(y===void 0&&(y=12),x=!0,k="g"),(w||u==="0"&&h==="=")&&(w=!0,u="0",h="=");var P=m==="$"?n:m==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",M=m==="$"?r:/[%p]/.test(k)?s:"",$=li[k],A=/[defgprs%]/.test(k);y=y===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function R(E){var C=P,S=M,T,O,j;if(k==="c")S=$(E)+S,E="";else{E=+E;var F=E<0||1/E<0;if(E=isNaN(E)?l:$(Math.abs(E),y),x&&(E=jf(E)),F&&+E==0&&g!=="+"&&(F=!1),C=(F?g==="("?g:a:g==="-"||g==="("?"":g)+C,S=(k==="s"?fi[8+Es/3]:"")+S+(F&&g==="("?")":""),A){for(T=-1,O=E.length;++T<O;)if(j=E.charCodeAt(T),48>j||j>57){S=(j===46?i+E.slice(T+1):E.slice(T))+S,E=E.slice(0,T);break}}}p&&!w&&(E=t(E,1/0));var z=C.length+E.length+S.length,V=z<_?new Array(_-z+1).join(u):"";switch(p&&w&&(E=t(V+E,V.length?_-S.length:1/0),V=""),h){case"<":E=C+E+S+V;break;case"=":E=C+V+E+S;break;case"^":E=V.slice(0,z=V.length>>1)+C+E+S+V.slice(z);break;default:E=V+C+E+S;break}return o(E)}return R.toString=function(){return d+""},R}function f(d,u){var h=c((d=fn(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Ze(u)/3)))*3,m=Math.pow(10,-g),w=fi[8+g/3];return function(_){return h(m*_)+w}}return{format:c,formatPrefix:f}}var qt,Ps,Ns;Ff({thousands:",",grouping:[3],currency:["$",""]});function Ff(e){return qt=Df(e),Ps=qt.format,Ns=qt.formatPrefix,qt}function Vf(e){return Math.max(0,-Ze(Math.abs(e)))}function Uf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ze(t)/3)))*3-Ze(Math.abs(e)))}function Bf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ze(t)-Ze(e))+1}function $r(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const di=Symbol("implicit");function Rs(){var e=new Br,t=[],n=[],r=di;function i(o){let s=e.get(o);if(s===void 0){if(r!==di)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Br;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Rs(t,n).unknown(r)},$r.apply(i,arguments),i}function Ts(){var e=Rs().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var u=t().length,h=i<r,g=h?i:r,m=h?r:i;o=(m-g)/Math.max(1,u-l+c*2),a&&(o=Math.floor(o)),g+=(m-g-o*(u-l))*f,s=o*(1-l),a&&(g=Math.round(g),s=Math.round(s));var w=es(u).map(function(_){return g+o*_});return n(h?w.reverse():w)}return e.domain=function(u){return arguments.length?(t(u),d()):t()},e.range=function(u){return arguments.length?([r,i]=u,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(u){return[r,i]=u,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(u){return arguments.length?(a=!!u,d()):a},e.padding=function(u){return arguments.length?(l=Math.min(1,c=+u),d()):l},e.paddingInner=function(u){return arguments.length?(l=Math.min(1,u),d()):l},e.paddingOuter=function(u){return arguments.length?(c=+u,d()):c},e.align=function(u){return arguments.length?(f=Math.max(0,Math.min(1,u)),d()):f},e.copy=function(){return Ts(t(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(f)},$r.apply(d(),arguments)}function zf(e){return function(){return e}}function Yf(e){return+e}var hi=[0,1];function Ge(e){return e}function er(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:zf(isNaN(t)?NaN:.5)}function Hf(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Gf(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=er(i,r),o=n(s,o)):(r=er(r,i),o=n(o,s)),function(a){return o(r(a))}}function Kf(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=er(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=Qa(e,a,1,r)-1;return o[l](i[l](a))}}function Qf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Wf(){var e=hi,t=hi,n=yr,r,i,o,s=Ge,a,l,c;function f(){var u=Math.min(e.length,t.length);return s!==Ge&&(s=Hf(e[0],e[u-1])),a=u>2?Kf:Gf,l=c=null,d}function d(u){return u==null||isNaN(u=+u)?o:(l||(l=a(e.map(r),t,n)))(r(s(u)))}return d.invert=function(u){return s(i((c||(c=a(t,e.map(r),le)))(u)))},d.domain=function(u){return arguments.length?(e=Array.from(u,Yf),f()):e.slice()},d.range=function(u){return arguments.length?(t=Array.from(u),f()):t.slice()},d.rangeRound=function(u){return t=Array.from(u),n=mu,f()},d.clamp=function(u){return arguments.length?(s=u?!0:Ge,f()):s!==Ge},d.interpolate=function(u){return arguments.length?(n=u,f()):n},d.unknown=function(u){return arguments.length?(o=u,d):o},function(u,h){return r=u,i=h,f()}}function Xf(){return Wf()(Ge,Ge)}function Zf(e,t,n,r){var i=rl(e,t,n),o;switch(r=fn(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=Uf(i,s))&&(r.precision=o),Ns(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Bf(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Vf(i))&&(r.precision=o-(r.type==="%")*2);break}}return Ps(r)}function Jf(e){var t=e.domain;return e.ticks=function(n){var r=t();return nl(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Zf(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,f=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);f-- >0;){if(c=Hn(s,a,n),c===l)return r[i]=s,r[o]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function Ls(){var e=Xf();return e.copy=function(){return Qf(e,Ls())},$r.apply(e,arguments),Jf(e)}function ot(e,t,n){this.k=e,this.x=t,this.y=n}ot.prototype={constructor:ot,scale:function(e){return e===1?this:new ot(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new ot(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};ot.prototype;var ed=N('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function td(e){let t;const[n,r]=L({width:900,height:600});H(()=>{function p(){if(t&&t.parentElement){const y=t.parentElement.getBoundingClientRect();r({width:Math.max(y.width,600),height:Math.max(y.height,400)})}}p(),window.addEventListener("resize",p),ne(()=>window.removeEventListener("resize",p))});const i=()=>e.data??[],o=16,s=()=>e.width??n().width,a=()=>e.height??n().height,l=()=>e.title??"AMSTAR-2 Quality Assessment",c={top:60,right:170,bottom:60,left:120},f=()=>(s()-c.left-c.right)/o,d=()=>(a()-c.top-c.bottom)/i().length,u=()=>Math.min(f(),d()),h=()=>u()*o,g=()=>u()*i().length,m=()=>c.left+h()+c.right,w=()=>c.top+g()+c.bottom,_={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return H(()=>{const p=gs(t).attr("width",m()).attr("height",w()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');p.selectAll("*").remove(),p.append("g").attr("class","grid"),p.append("g").attr("class","footer").selectAll("text").data(es(1,o+1)).enter().append("text").attr("x",(A,R)=>c.left+R*u()+u()/2).attr("y",c.top+g()+20).attr("text-anchor","middle").attr("font-size",Math.max(10,u()*.4)).attr("font-weight","600").attr("fill","#374151").text(A=>`Q${A}`),p.append("g").attr("class","rows").selectAll("text").data(i()).enter().append("text").attr("x",c.left-15).attr("y",(A,R)=>c.top+R*u()+u()/2).attr("text-anchor","end").attr("font-size",Math.max(10,u()*.45)).attr("font-weight","500").attr("fill","#374151").attr("dominant-baseline","middle").text(A=>A.label);const k=p.append("g").attr("class","cells");i().forEach((A,R)=>{for(let E=0;E<o;E++){const C=A.questions[E]?.toLowerCase?.()??"",S=_[C]??"#e5e7eb";k.append("rect").attr("x",c.left+E*u()+2).attr("y",c.top+R*u()+2).attr("width",u()-4).attr("height",u()-4).attr("fill",S).attr("stroke","#ffffff").attr("stroke-width",1).attr("rx",Math.max(2,u()*.12)).style("filter","drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))")}});const P=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],$=p.append("g").attr("class","legend").attr("transform",`translate(${m()-c.right+20}, ${c.top+20})`).selectAll(".legend-item").data(P).enter().append("g").attr("class","legend-item").attr("transform",(A,R)=>`translate(0, ${R*25})`);$.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",A=>_[A.key]).attr("stroke","#ffffff").attr("stroke-width",1),$.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(A=>A.label),p.append("text").attr("x",m()/2).attr("y",40).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),ne(()=>{p.selectAll("*").remove()})}),(()=>{var p=ed(),y=p.firstChild,x=t;return typeof x=="function"?ht(x,y):t=y,q(k=>yn(y,`width: 100%; height: ${w()}px; max-width: 100%; display: block;`,k)),p})()}var nd=N('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function rd(e){let t,n;const r=()=>e.data??[],[i,o]=L({width:900,height:600});pn(()=>{const h=()=>{if(n){const g=n.getBoundingClientRect();o({width:Math.max(g.width,400),height:Math.max(g.height,400)})}};h(),window.addEventListener("resize",h),ne(()=>window.removeEventListener("resize",h))}),H(()=>{if(n){const h=n.getBoundingClientRect();o({width:Math.max(h.width,400),height:Math.max(h.height,400)})}});const s=()=>e.width??i().width,a=()=>e.height??i().width/1.5,l=()=>e.title??"Distribution of AMSTAR Ratings on Each Item Across Included Reviews",c={top:50,right:150,bottom:60,left:80},f=()=>s()-c.left-c.right,d=()=>a()-c.top-c.bottom,u={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return H(()=>{if(!r().length)return;const h=gs(t).attr("width",s()).attr("height",a()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');h.selectAll("*").remove();const g=[],m=Math.max(...r().map($=>$.questions?.length||0)),w=r().length;for(let $=0;$<m;$++){const A={question:$+1,label:`Q${$+1}`,counts:{yes:0,"partial yes":0,no:0,"no ma":0}};r().forEach(R=>{const E=R.questions[$]?.toLowerCase?.()??"no ma";A.counts.hasOwnProperty(E)&&A.counts[E]++}),A.percentages={},Object.keys(A.counts).forEach(R=>{A.percentages[R]=A.counts[R]/w*100}),g.push(A)}const _=Ts().domain(g.map($=>$.label)).range([0,d()]).padding(.1),p=Ls().domain([0,100]).range([0,f()]),y=h.append("g").attr("transform",`translate(${c.left}, ${c.top})`);h.append("text").attr("x",s()/2).attr("y",30).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),g.forEach($=>{let A=0;const R=_.bandwidth(),E=_($.label);["yes","partial yes","no ma","no"].forEach(C=>{const S=$.percentages[C],T=p(S);S>0&&(y.append("rect").attr("x",p(A)).attr("y",E).attr("width",T).attr("height",R).attr("fill",u[C]).attr("stroke","#ffffff").attr("stroke-width",1),S>=5&&y.append("text").attr("x",p(A)+T/2).attr("y",E+R/2).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","12px").attr("font-weight","600").attr("fill",C==="partial yes"?"#000000":"#ffffff").text(`${S.toFixed(1)}`)),A+=S})}),y.selectAll(".y-label").data(g).enter().append("text").attr("class","y-label").attr("x",-10).attr("y",$=>_($.label)+_.bandwidth()/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label);const x=fl(p).tickFormat($=>`${$}`).ticks(5);y.append("g").attr("class","x-axis").attr("transform",`translate(0, ${d()})`).call(x).selectAll("text").attr("font-size","12px").attr("fill","#374151"),y.append("text").attr("x",f()/2).attr("y",d()+50).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text(`Percentage of SRs (%), N=${w}`),h.append("text").attr("transform","rotate(-90)").attr("x",-a()/2).attr("y",20).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text("Items of AMSTAR-2");const k=h.append("g").attr("class","legend").attr("transform",`translate(${s()-c.right+20}, ${c.top+20})`),P=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],M=k.selectAll(".legend-item").data(P).enter().append("g").attr("class","legend-item").attr("transform",($,A)=>`translate(0, ${A*25})`);M.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",$=>u[$.key]).attr("stroke","#ffffff").attr("stroke-width",1),M.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label),ne(()=>{h.selectAll("*").remove()})}),(()=>{var h=nd(),g=h.firstChild,m=n;typeof m=="function"?ht(m,h):n=h;var w=t;return typeof w=="function"?ht(w,g):t=g,q(_=>yn(g,`width: 100%; height: ${a()}px; max-width: 100%; display: block;`,_)),h})()}class ke{static CreateChecklist({name:t=null,id:n=null,createdAt:r=Date.now(),reviewerName:i=""}={}){if(!n||typeof n!="string"||!n.trim())throw new Error("AMSTAR2Checklist requires a non-empty string id.");if(!t||typeof t!="string"||!t.trim())throw new Error("AMSTAR2Checklist requires a non-empty string name.");return{name:t,reviewerName:i||"",createdAt:r,id:n,q1:{answers:[[!1,!1,!1,!1],[!1],[!1,!0]],critical:!1},q2:{answers:[[!1,!1,!1,!1],[!1,!1,!1],[!1,!1,!0]],critical:!0},q3:{answers:[[!1,!1,!1],[!1,!0]],critical:!1},q4:{answers:[[!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!0]],critical:!0},q5:{answers:[[!1,!1],[!1,!0]],critical:!1},q6:{answers:[[!1,!1],[!1,!0]],critical:!1},q7:{answers:[[!1],[!1],[!1,!1,!0]],critical:!0},q8:{answers:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!0]],critical:!1},q9a:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q9b:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q10:{answers:[[!1],[!1,!0]],critical:!1},q11a:{answers:[[!1,!1,!1],[!1,!0,!1]],critical:!0},q11b:{answers:[[!1,!1,!1,!1],[!1,!0,!1]],critical:!0},q12:{answers:[[!1,!1],[!1,!0,!1]],critical:!1},q13:{answers:[[!1,!1],[!1,!0]],critical:!0},q14:{answers:[[!1,!1],[!1,!0]],critical:!1},q15:{answers:[[!1],[!1,!0,!1]],critical:!0},q16:{answers:[[!1,!1],[!1,!0]],critical:!1}}}static scoreChecklist(t){if(!t||typeof t!="object")return"Error";let n=0,r=0;return Object.entries(t).forEach(([i,o])=>{if(!/^q\d+[a-z]*$/i.test(i)||!o||!Array.isArray(o.answers))return;ke.getSelectedAnswer(o.answers,i)!=="Yes"&&(o.critical?n++:r++)}),n>1?"Critically Low":n===1?"Low":r>1?"Moderate":"High"}static getSelectedAnswer(t,n){const r=["q11a","q11b","q12","q15"],i=["Yes","Partial Yes","No","No MA"],o=["Yes","No","No MA"];if(!Array.isArray(t)||t.length===0)return null;const s=t[t.length-1];if(!Array.isArray(s))return null;const a=s.findIndex(l=>l===!0);return a===-1?null:r.includes(n)?o[a]||null:s.length===2?a===0?"Yes":"No":s.length>=3&&i[a]||null}static getAnswers(t){if(!t||typeof t!="object")return null;const n={};return Object.entries(t).forEach(([r,i])=>{if(!/^q\d+[a-z]*$/i.test(r)||!i||!Array.isArray(i.answers))return;const o=ke.getSelectedAnswer(i.answers,r);n[r]=o}),n}static exportChecklistsToCSV(t){const n=Array.isArray(t)?t:[t],r=Object.keys(Q),i=["Checklist Name","Reviewer","Created At","Checklist ID"],o=r.map(f=>Q[f]?.text?.replace(/\s+/g," ").trim()||f),s=[...i,...o],a=n.map(f=>{const d=ke.getAnswers(f);return[f.name||"",f.reviewerName||"",f.createdAt?new Date(f.createdAt).toISOString():"",f.id||"",...r.map(u=>d[u]||"")]}),l=f=>`"${String(f).replace(/"/g,'""').replace(/\n/g," ")}"`;return s.map(l).join(",")+`
`+a.map(f=>f.map(l).join(",")).join(`
`)}}var id=N('<div class=p-8><h2 class="text-2xl font-bold mb-4"> Dashboard</h2><button class="bg-red-500 text-white px-4 py-2 rounded">Delete Project</button><div class="mb-4 text-gray-600">Created: </div><div class=mb-6><strong>Total Checklists:</strong> </div><div class=mb-6><h3 class="text-xl font-semibold mb-2">Add New Checklist</h3><div class="flex gap-2 items-center"><input type=text class="px-3 py-2 border rounded w-64"placeholder="Checklist name"><button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">+ Add Checklist</button></div></div><div><h3 class="text-xl font-semibold mb-2">Checklists</h3><ul class="list-disc pl-6">'),sd=N("<div class=p-8>Project not found."),od=N("<li>");function ad(){const{currentProject:e,setCurrentProject:t,addChecklist:n,deleteProject:r}=Je(),i=Bi(),o=Te(),[s,a]=L(""),[l,c]=L([]);H(()=>{if(i.name&&i.index!==void 0){const d=decodeURIComponent(i.name),u=Number(i.index);t({name:d,index:u})}e()||(console.warn("ProjectDashboard: No current project found for",i.name,i.index),o("/dashboard"))});const f=async()=>{if(!s().trim())return;const d=ke.CreateChecklist({name:s(),id:crypto.randomUUID(),createdAt:Date.now()});await n(e().id,d),a("")};return H(()=>{const d=(e()?.checklists||[]).map(u=>{const h=ke.getAnswers(u);return{label:u.name||u.title||u.id,questions:Object.values(h||{})}});c(d)}),v(W,{get when(){return e()},get fallback(){return sd()},get children(){var d=id(),u=d.firstChild,h=u.firstChild,g=u.nextSibling,m=g.nextSibling;m.firstChild;var w=m.nextSibling,_=w.firstChild;_.nextSibling;var p=w.nextSibling,y=p.firstChild,x=y.nextSibling,k=x.firstChild,P=k.nextSibling,M=p.nextSibling,$=M.firstChild,A=$.nextSibling;return b(u,()=>e().name,h),g.$$click=()=>r(e().id),b(m,()=>new Date(e().createdAt).toLocaleDateString(),null),b(w,()=>e().checklists?.length||0,null),k.$$input=R=>a(R.target.value),P.$$click=f,b(A,()=>(e().checklists||[]).map(R=>(()=>{var E=od();return b(E,()=>R.name||R.title||R.id),q(()=>G(E,"key",R.id)),E})())),b(d,v(td,{get data(){return l()},width:900,height:600}),null),b(d,v(rd,{get data(){return l()},width:900,height:600}),null),q(()=>P.disabled=!s().trim()),q(()=>k.value=s()),d}})}se(["click","input"]);function Ms({id:e,name:t,createdAt:n=Date.now(),checklists:r=[]}={}){if(t===null)throw new Error("Project name cannot be null");return{id:e,name:t,createdAt:n,checklists:r}}async function ld(){const e=["Review 1","Review 2","Review 3","Review 4","Review 5"];let t=[];for(const r of e){const i=ke.CreateChecklist({name:r,id:zn(),createdAt:Date.now()});t.push(i)}const n=Ms({id:zn(),name:"Example Project",createdAt:Date.now(),checklists:t});await vn(n)}const cd="http://localhost:8000",tt="/api/v1";let he=cd;he.endsWith("/api/v1")&&(he=he.replace("/api/v1",""));const Ce={SIGNUP:`${he}${tt}/auth/signup`,SIGNIN:`${he}${tt}/auth/signin`,SIGNOUT:`${he}${tt}/auth/signout`,REFRESH:`${he}${tt}/auth/refresh`,CURRENT_USER:`${he}${tt}/users/me`,HEALTH:`${he}/healthz`,HEALTH_DB:`${he}/healthz/db`};async function ud(e,t,n){console.log("Signup URL:",Ce.SIGNUP);const r=Intl.DateTimeFormat().resolvedOptions().timeZone,i=navigator.language,o=await fetch(Ce.SIGNUP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n,timezone:r,locale:i})});if(!o.ok){const s=await o.text();throw console.error("Signup error:",s),new Error(s||"Signup failed")}}let xt=null;async function fd(e,t){const n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=navigator.language;console.log("Signin URL:",Ce.SIGNIN);const i=await fetch(Ce.SIGNIN,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t,timezone:n,locale:r})});if(!i.ok){const s=await i.text();throw console.error("Sign in failed:",s),new Error(s||"Sign in failed")}xt=(await i.json()).accessToken}async function Pn(){const e=await qs(Ce.CURRENT_USER);if(!e.ok){const t=await e.text();throw console.error("Failed to fetch user:",t),new Error(t||"Failed to fetch user")}return await e.json()}async function qs(e,t={}){t.headers={...t.headers||{},Authorization:`Bearer ${xt}`},t.credentials="include";let n=await fetch(e,t);if(n.status===401||n.status===403)try{await tr(),t.headers.Authorization=`Bearer ${xt}`,t.credentials="include",n=await fetch(e,t)}catch{throw await Os(),new Error("Session expired. Please log in again.")}return n}async function tr(){const e=await fetch(Ce.REFRESH,{method:"POST",credentials:"include"});if(!e.ok){const n=await e.text();throw console.error("Refresh failed:",n),new Error(n||"Refresh failed")}xt=(await e.json()).accessToken}async function Os(){await fetch(Ce.SIGNOUT,{method:"POST",credentials:"include"}),xt=null}async function dd(e){const t=await fetch("http://localhost:8000/auth/send-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok){const n=await t.text();throw console.error("Send verification error:",n),new Error(n||"Failed to send verification email")}}async function hd(e,t){const n=await fetch("http://localhost:8000/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,code:t})});if(!n.ok){const r=await n.text();throw console.error("Verify email error:",r),new Error(r||"Email verification failed")}}async function gd(){const e=await fetch(Ce.HEALTH,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}async function md(){const e=await fetch(Ce.HEALTH_DB,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health DB check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}var pd=N("<ul class=space-y-2>"),wd=N('<div class=p-6><h2 class="text-2xl font-bold mb-4">Your Projects</h2><div class="mt-6 flex items-center gap-2"><input type=text class="px-3 py-2 border rounded w-64"placeholder="Project name"><button class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition">+ Add New Project</button></div><div class=mt-6><button class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition">Load Example Project</button><button class="p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">Check Health</button><button class="p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">Check Health DB'),yd=N("<div>No projects found."),vd=N('<li><div class=font-semibold></div><div class="text-sm text-gray-600"></div><div class="text-xs text-gray-400">Created: </div><button class="ml-4 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition">Delete');function bd(){const{projects:e,currentProject:t,addProject:n,deleteProject:r}=Je(),i=Te(),[o,s]=L(""),a=f=>{const u=e().filter(h=>h.name===f.name).findIndex(h=>h.id===f.id);i(`/project/${encodeURIComponent(f.name)}/${u}`)},l=async()=>{if(!o().trim())return;const f=await n(Ms({id:zn(),name:o().trim(),createdAt:Date.now(),checklists:[]}));s(""),a(f)},c=async f=>{window.confirm("Are you sure you want to delete this project?")&&await r(f)};return(()=>{var f=wd(),d=f.firstChild,u=d.nextSibling,h=u.firstChild,g=h.nextSibling,m=u.nextSibling,w=m.firstChild,_=w.nextSibling,p=_.nextSibling;return b(f,v(W,{get when(){return e().length!==0},get fallback(){return yd()},get children(){var y=pd();return b(y,v(ur,{get each(){return e()},children:x=>(()=>{var k=vd(),P=k.firstChild,M=P.nextSibling,$=M.nextSibling;$.firstChild;var A=$.nextSibling;return k.$$click=()=>a(x),b(P,()=>x.name),b(M,()=>x.description),b($,()=>new Date(x.createdAt).toLocaleDateString(),null),A.$$click=()=>c(x.id),q(R=>{var E=x.id,C=`p-4 border rounded cursor-pointer transition ${t()&&t().id===x.id?"bg-blue-100 border-blue-400":"hover:bg-gray-100"}`;return E!==R.e&&G(k,"key",R.e=E),C!==R.t&&ae(k,R.t=C),R},{e:void 0,t:void 0}),k})()})),y}}),u),h.$$input=y=>s(y.target.value),g.$$click=l,w.$$click=async()=>{const y=await ld();console.log("Loaded example project:",y),window.location.reload()},ge(_,"click",gd,!0),ge(p,"click",md,!0),q(()=>g.disabled=!o().trim()),q(()=>h.value=o()),f})()}se(["input","click"]);const[xd,js]=L(navigator.onLine);window.addEventListener("online",()=>{console.log("Went online"),js(!0)});window.addEventListener("offline",()=>{console.log("Went offline"),js(!1)});function Is(){return xd}const Ds=wn();function _d(e){const[t,n]=L(!1),[r,i]=L(null),[o,s]=L(!0),a=Is();let l=a();pn(()=>{if(!a()){s(!1);return}c()}),H(()=>{a()&&!l&&!r()&&c(),l=a()});async function c(){s(!0);try{await tr();const p=await Pn();i(p)}catch{i(null),n(!1)}finally{s(!1)}}async function f(p,y,x){await ud(p,y,x)}async function d(p){await dd(p)}async function u(p,y){await hd(p,y)}async function h(p,y){await fd(p,y),n(!0),i(await Pn())}async function g(){await Os(),n(!1),i(null)}async function m(){const p=await Pn();return i(p),p}async function w(){await tr()}async function _(p,y={}){return await qs(p,y)}return v(Ds.Provider,{value:{isLoggedIn:t,user:r,signup:f,signin:h,signout:g,getCurrentUser:m,refreshAccessToken:w,authFetch:_,authLoading:o,sendEmailVerification:d,verifyEmail:u},get children(){return e.children}})}function At(){return _t(Ds)}var $d=N("<div>");function me(e){const[t,n]=L(!1),[r,i]=L(!1);let o,s;const a=()=>e.duration??300,l=()=>e.timingFunction??"ease-in-out",c=()=>e.when;return H(()=>{c()?(clearTimeout(s),i(!0),requestAnimationFrame(()=>{n(!0)})):(n(!1),clearTimeout(s),s=setTimeout(()=>{i(!1)},a()))}),ne(()=>{clearTimeout(s)}),v(W,{get when(){return r()},get fallback(){return e.fallback},get children(){var f=$d(),d=o;return typeof d=="function"?ht(d,f):o=f,b(f,()=>e.children),q(u=>{var h=t()?1:0,g=`opacity ${a()}ms ${l()}`,m=e.ariaLive||"polite",w=e.role||"alert",_=e.class||"";return h!==u.e&&Or(f,"opacity",u.e=h),g!==u.t&&Or(f,"transition",u.t=g),m!==u.a&&G(f,"aria-live",u.a=m),w!==u.o&&G(f,"role",u.o=w),_!==u.i&&ae(f,u.i=_),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),f}})}var at=(e,t=[])=>({parts:(...n)=>{if(kd(t))return at(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>at(e,[...t,...n]),omit:(...n)=>at(e,t.filter(r=>!n.includes(r))),rename:n=>at(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Be(e)}"][data-part="${Be(r)}"]`,`& [data-scope="${Be(e)}"][data-part="${Be(r)}"]`].join(", "),attrs:{"data-scope":Be(e),"data-part":Be(r)}}}),{})}),Be=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),kd=e=>e.length===0,K=e=>e?"":void 0,Sd=e=>e?"true":void 0,Cd=e=>e.button===0,Ad=Function.prototype.toString;Ad.call(Object);var Ed=(()=>{let e=0;return()=>(e++,e.toString(36))})();var Pd=()=>e=>Array.from(new Set(e)),Nd=at("password-input").parts("root","input","label","control","indicator","visibilityTrigger"),ze=Nd.build(),Yt=e=>e.ids?.input??`p-input-${e.id}-input`,nr=e=>e.getById(Yt(e));function Rd(e,t){const{scope:n,prop:r,context:i}=e,o=i.get("visible"),s=!!r("disabled"),a=!!r("invalid"),l=!!r("readOnly"),c=!!r("required"),f=!(l||s),d=r("translations");return{visible:o,disabled:s,invalid:a,focus(){nr(n)?.focus()},setVisible(u){e.send({type:"VISIBILITY.SET",value:u})},toggleVisible(){e.send({type:"VISIBILITY.SET",value:!o})},getRootProps(){return t.element({...ze.root.attrs,dir:r("dir"),"data-disabled":K(s),"data-invalid":K(a),"data-readonly":K(l)})},getLabelProps(){return t.label({...ze.label.attrs,htmlFor:Yt(n),"data-disabled":K(s),"data-invalid":K(a),"data-readonly":K(l),"data-required":K(c)})},getInputProps(){return t.input({...ze.input.attrs,id:Yt(n),autoCapitalize:"off",name:r("name"),required:r("required"),autoComplete:r("autoComplete"),spellCheck:!1,readOnly:l,disabled:s,type:o?"text":"password","data-state":o?"visible":"hidden","aria-invalid":Sd(a),"data-disabled":K(s),"data-invalid":K(a),"data-readonly":K(l),...r("ignorePasswordManagers")?Td:{}})},getVisibilityTriggerProps(){return t.button({...ze.visibilityTrigger.attrs,type:"button",tabIndex:-1,"aria-controls":Yt(n),"aria-expanded":o,"data-readonly":K(l),disabled:s,"data-disabled":K(s),"data-state":o?"visible":"hidden","aria-label":d?.visibilityTrigger?.(o),onPointerDown(u){Cd(u)&&f&&(u.preventDefault(),e.send({type:"TRIGGER.CLICK"}))}})},getIndicatorProps(){return t.element({...ze.indicator.attrs,"aria-hidden":!0,"data-state":o?"visible":"hidden","data-disabled":K(s),"data-invalid":K(a),"data-readonly":K(l)})},getControlProps(){return t.element({...ze.control.attrs,"data-disabled":K(s),"data-invalid":K(a),"data-readonly":K(l)})}}}var Td={"data-1p-ignore":"","data-lpignore":"true","data-bwignore":"true","data-form-type":"other","data-protonpass-ignore":"true"},Ld={props({props:e}){return{id:Ed(),defaultVisible:!1,autoComplete:"current-password",ignorePasswordManagers:!1,...e,translations:{visibilityTrigger(t){return t?"Hide password":"Show password"},...e.translations}}},context({prop:e,bindable:t}){return{visible:t(()=>({value:e("visible"),defaultValue:e("defaultVisible"),onChange(n){e("onVisibilityChange")?.({visible:n})}}))}},initialState(){return"idle"},effects:["trackFormEvents"],states:{idle:{on:{"VISIBILITY.SET":{actions:["setVisibility"]},"TRIGGER.CLICK":{actions:["toggleVisibility","focusInputEl"]}}}},implementations:{actions:{setVisibility({context:e,event:t}){e.set("visible",t.value)},toggleVisibility({context:e}){e.set("visible",t=>!t)},focusInputEl({scope:e}){nr(e)?.focus()}},effects:{trackFormEvents({scope:e,send:t}){const r=nr(e)?.form;if(!r)return;const i=e.getWin(),o=new i.AbortController;return r.addEventListener("reset",s=>{s.defaultPrevented||t({type:"VISIBILITY.SET",value:!1})},{signal:o.signal}),r.addEventListener("submit",()=>{t({type:"VISIBILITY.SET",value:!1})},{signal:o.signal}),()=>o.abort()}}}};Pd()(["defaultVisible","dir","id","onVisibilityChange","visible","ids","getRootNode","disabled","invalid","required","readOnly","translations","ignorePasswordManagers","autoComplete","name"]);function Md(e){return e==null?[]:Array.isArray(e)?e:[e]}var gi=e=>e?.constructor.name==="Array",qd=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!kr(e[n],t[n]))return!1;return!0},kr=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(gi(e)&&gi(t))return qd(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(e,n[i]))return!1;for(let i=0;i<r;i++){const o=n[i];if(!kr(e[o],t[o]))return!1}return!0},Od=e=>Array.isArray(e),Fs=e=>e!=null&&typeof e=="object",jd=e=>Fs(e)&&!Od(e),Id=e=>typeof e=="number"&&!Number.isNaN(e),Sr=e=>typeof e=="string",Ae=e=>typeof e=="function",Dd=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Fd=e=>Object.prototype.toString.call(e),Vs=Function.prototype.toString,Vd=Vs.call(Object),Ud=e=>{if(!Fs(e)||Fd(e)!="[object Object]"||Yd(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Dd(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Vs.call(n)==Vd},Bd=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,zd=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Yd=e=>Bd(e)||zd(e);function Us(e){if(!Ud(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const i=e[r];i!==void 0&&(n[r]=Us(i))}return n}function mi(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Hd(e,t){if(e==null)throw new Error(t())}var Bs=e=>typeof e=="object"&&e!==null,Gd=9,Kd=e=>Bs(e)&&e.nodeType===Gd,Qd=e=>Bs(e)&&e===e.window;function Wd(e){if(!e)return!1;const t=e.getRootNode();return zs(t)===e}function Xd(e){return Kd(e)?e:Qd(e)?e.document:e?.ownerDocument??document}function zs(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}var He=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(He||{}),Nn="__init__";function Zd(e){const t=()=>e.getRootNode?.()??document,n=()=>Xd(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>zs(t()),isActiveElement:Wd,getById:s=>t().getElementById(s)}}function Jd(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}function dn(e){const t=e().value??e().defaultValue,n=e().isEqual??Object.is,[r,i]=L(t),o=D(()=>e().value!=null),s={current:r()},a={current:void 0};H(()=>{const f=o()?e().value:r();a.current=f,s.current=f});const l=f=>{const d=a.current,u=Ae(f)?f(s.current):f;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:u,prev:d}),o()||i(u),n(u,d)||e().onChange?.(u,d)};function c(){const f=o()?e().value:r;return Ae(f)?f():f}return{initial:t,ref:s,get:c,set:l,invoke(f,d){e().onChange?.(f,d)},hash(f){return e().hash?.(f)??String(f)}}}dn.cleanup=e=>{ne(()=>e())};dn.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function eh(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}function Rn(e){return Ae(e)?e():e}var th=(e,t)=>{let n=[],r=!0;H(()=>{if(r){n=e.map(o=>Rn(o)),r=!1;return}let i=!1;for(let o=0;o<e.length;o++)if(!kr(n[o],Rn(e[o]))){i=!0;break}i&&(n=e.map(o=>Rn(o)),t())})};function Ys(e,t={}){const n=D(()=>{const{id:$,ids:A,getRootNode:R}=Tn(t);return Zd({id:$,ids:A,getRootNode:R})}),r=(...$)=>{e.debug&&console.log(...$)},i=D(()=>e.props?.({props:Us(Tn(t)),scope:n()})??Tn(t)),o=nh(i),s=e.context?.({prop:o,bindable:dn,get scope(){return n()},flush:pi,getContext(){return a},getComputed(){return x},getRefs(){return g},getEvent(){return u()}}),a={get($){return s?.[$].get()},set($,A){s?.[$].set(A)},initial($){return s?.[$].initial},hash($){const A=s?.[$].get();return s?.[$].hash(A)}},l={current:new Map},c={current:null},f={current:null},d={current:{type:""}},u=()=>Y(d.current,{current(){return d.current},previous(){return f.current}}),h=()=>Y(k,{matches(...$){const A=k.get();return $.includes(A)},hasTag($){const A=k.get();return!!e.states[A]?.tags?.includes($)}}),g=eh(e.refs?.({prop:o,context:a})??{}),m=()=>({state:h(),context:a,event:u(),prop:o,send:M,action:w,guard:_,track:th,refs:g,computed:x,flush:pi,get scope(){return n()},choose:y}),w=$=>{const A=Ae($)?$(m()):$;if(!A)return;const R=A.map(E=>{const C=e.implementations?.actions?.[E];return C||mi(`[zag-js] No implementation found for action "${JSON.stringify(E)}"`),C});for(const E of R)E?.(m())},_=$=>Ae($)?$(m()):e.implementations?.guards?.[$](m()),p=$=>{const A=Ae($)?$(m()):$;if(!A)return;const R=A.map(C=>{const S=e.implementations?.effects?.[C];return S||mi(`[zag-js] No implementation found for effect "${JSON.stringify(C)}"`),S}),E=[];for(const C of R){const S=C?.(m());S&&E.push(S)}return()=>E.forEach(C=>C?.())},y=$=>Md($).find(A=>{let R=!A.guard;return Sr(A.guard)?R=!!_(A.guard):Ae(A.guard)&&(R=A.guard(m())),R}),x=$=>{Hd(e.computed,()=>"[zag-js] No computed object found on machine");const A=e.computed[$];return A({context:a,event:d.current,prop:o,refs:g,scope:n(),computed:x})},k=dn(()=>({defaultValue:e.initialState({prop:o}),onChange($,A){A&&(l.current.get(A)?.(),l.current.delete(A)),A&&w(e.states[A]?.exit),w(c.current?.actions);const R=p(e.states[$]?.effects);if(R&&l.current.set($,R),A===Nn){w(e.entry);const E=p(e.effects);E&&l.current.set(Nn,E)}w(e.states[$]?.entry)}}));let P=He.NotStarted;pn(()=>{const $=P===He.Started;P=He.Started,r($?"rehydrating...":"initializing..."),k.invoke(k.initial,Nn)}),ne(()=>{r("unmounting..."),P=He.Stopped,l.current.forEach(A=>A?.()),l.current=new Map,c.current=null,w(e.exit)});const M=$=>{if(P!==He.Started)return;f.current=d.current,d.current=$;let A=k.get();const R=e.states[A].on?.[$.type]??e.on?.[$.type],E=y(R);if(!E)return;c.current=E;const C=E.target??A;r("transition",$.type,E.target||A,`(${E.actions})`);const S=C!==A;S?k.set(C):E.reenter&&!S?k.invoke(A,A):w(E.actions)};return e.watch?.(m()),{state:h(),send:M,context:a,prop:o,get scope(){return n()},refs:g,computed:x,event:u(),getStatus:()=>P}}function pi(e){e()}function Tn(e){return Ae(e)?e():e}function nh(e){return function(n){return e()[n]}}var wi={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"},rh=e=>e.startsWith("--")?e:ch(e);function ih(e){return e in wi?wi[e]:e}var Hs=Jd(e=>{const t={};for(const n in e){const r=e[n];if(!(n==="readOnly"&&r===!1)){if(n==="style"&&jd(r)){t.style=sh(r);continue}if(n==="children"){Sr(r)&&(t.textContent=r);continue}t[ih(n)]=r}}return t});function sh(e){let t={};for(const n in e){const r=e[n];!Sr(r)&&!Id(r)||(t[rh(n)]=r)}return t}var oh=/[A-Z]/g,ah=/^ms-/;function lh(e){return"-"+e.toLowerCase()}var Ln={};function ch(e){if(Ln.hasOwnProperty(e))return Ln[e];var t=e.replace(oh,lh);return Ln[e]=ah.test(t)?"-"+t:t}var uh=N("<svg stroke-width=0>");function Cr(e,t){const n=Y(e.a,t),[r,i]=Mi(n,["src"]),[o,s]=L(""),a=D(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return H(()=>s(a())),ne(()=>{s("")}),(()=>{var l=uh();return Z(l,Y({get stroke(){return e.a?.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},i,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return o()}}),!0,!0),b(l,()=>Oi),l})()}function fh(e){return Cr({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><path d="M1 1 23 23"/>'},e)}function dh(e){return Cr({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><path d="M12 9A3 3 0 1 0 12 15 3 3 0 1 0 12 9z"/>'},e)}var hh=N("<div><label>Password</label><div><input><button><span>");function Gs(e){const t=Ys(Ld,{id:qi(),autoComplete:e.autoComplete||"new-password",value:e.password||"",required:e.required||!1}),n=D(()=>Rd(t,Hs)),r=e.inputClass||"w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder",i=e.iconSize||22;return(()=>{var o=hh(),s=o.firstChild,a=s.nextSibling,l=a.firstChild,c=l.nextSibling,f=c.firstChild;return Z(o,Y(()=>n().getRootProps(),{get class(){return e.class}}),!1,!0),Z(s,Y(()=>n().getLabelProps(),{class:"block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"}),!1,!0),Z(a,Y(()=>n().getControlProps(),{class:"relative"}),!1,!0),Z(l,Y(()=>n().getInputProps(),{class:r,onInput:d=>e.onPasswordChange?.(d.target.value),placeholder:"••••••••"}),!1,!1),Z(c,Y(()=>n().getVisibilityTriggerProps(),{class:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-gray-400"}),!1,!0),Z(f,Y(()=>n().getIndicatorProps()),!1,!0),b(f,v(W,{get when(){return n().visible},get fallback(){return v(fh,{size:i-2})},get children(){return v(dh,{size:i})}})),o})()}function hn(e){return Cr({a:{viewBox:"0 0 1024 1024"},c:'<path d="M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"/>'},e)}var gh=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">'),mh=N('<div class="flex items-center">Signing In...'),ph=N('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-2 sm:px-4 py-6 sm:py-12"><form aria-labelledby=signin-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-16 space-y-6 sm:space-y-8 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=signin-heading>Welcome Back</h2><p class="text-gray-500 text-base sm:text-lg">Sign in to your account.</p></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div><div></div><button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Don&apos;t have an account? <a href=/signup class="text-indigo-600 hover:underline font-semibold">Sign Up');function wh(){const[e,t]=L(""),[n,r]=L(""),[i,o]=L(""),[s,a]=L(!1),l=Te(),{signin:c}=At();async function f(d){if(d.preventDefault(),o(""),!e()||!n()){o("Please enter email and password");return}try{a(!0),await c(e(),n()),l("/dashboard",{replace:!0})}catch{o("Incorrect email or password")}finally{a(!1)}}return(()=>{var d=ph(),u=d.firstChild,h=u.firstChild,g=h.nextSibling,m=g.firstChild,w=m.nextSibling,_=g.nextSibling,p=_.nextSibling,y=p.nextSibling,x=y.firstChild,k=x.nextSibling;return u.addEventListener("submit",f),w.$$input=P=>t(P.target.value),b(_,v(Gs,{get password(){return n()},onPasswordChange:r,autoComplete:"current-password",required:!0}),null),b(_,v(me,{get when(){return!!i()},get children(){var P=gh();return b(P,i),P}}),null),b(p,v(me,{get when(){return s()},fallback:"Sign In",get children(){var P=mh(),M=P.firstChild;return b(P,v(hn,{class:"animate-spin mr-2",size:22}),M),P}})),k.$$click=P=>{P.preventDefault(),l("/signup")},q(()=>p.disabled=s()),q(()=>w.value=e()),d})()}se(["input","click"]);var yh=N('<div class="w-full mt-3 sm:mt-4"><div class="text-sm sm:text-base text-gray-700"id=password-requirements aria-live=polite><ul class="pace-y-0.5 sm:space-y-1">'),vh=N('<li class="flex items-center gap-2"><span aria-hidden=true></span><span>'),bh=N('<svg class="w-2 h-2 sm:w-4 sm:h-4"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M4 8l3 3 5-5">'),xh=N('<svg class="w-2 h-2 sm:w-4 sm:h-4"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M5 5l6 6M11 5l-6 6">');const lt=[{label:"At least 8 characters",test:e=>e.length>=8,error:"at least 8 characters"},{label:"Uppercase letter (A-Z)",test:e=>/[A-Z]/.test(e),error:"an uppercase letter"},{label:"Lowercase letter (a-z)",test:e=>/[a-z]/.test(e),error:"a lowercase letter"},{label:"Number (0-9)",test:e=>/\d/.test(e),error:"a number"},{label:"Special character (e.g. !?<>@#$%)",test:e=>/[^A-Za-z0-9]/.test(e),error:"a special character"}];function _h(e){if(!e)return{met:[],unmet:lt.map(i=>i.label)};const t=lt.filter(i=>i.test(e)).map(i=>i.label),n=lt.filter(i=>!i.test(e)).map(i=>i.label),r=lt.filter(i=>!i.test(e)).map(i=>i.error);return{met:t,unmet:n,errors:r}}function $h(e){const t=D(()=>_h(e.password||""));return H(()=>{e.onUnmet?.(t().errors)}),(()=>{var n=yh(),r=n.firstChild,i=r.firstChild;return b(i,()=>lt.map(o=>{const s=t().met.includes(o.label);return(()=>{var a=vh(),l=a.firstChild,c=l.nextSibling;return ae(l,`w-3 h-3 sm:w-4 sm:h-4 ml-1 rounded-full flex items-center justify-center ${s?"bg-white text-green-500 border-green-500 border-[1.5px]":"border-red-500 border-[1.5px] text-red-500"}`),b(l,s?bh():xh()),ae(c,s?"text-green-500":"text-red-500"),b(c,()=>o.label),a})()})),n})()}var kh=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">Password must include '),Sh=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">'),Ch=N('<div class="flex items-center">Signing Up...'),Ah=N('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-2 sm:px-4 py-6 sm:py-12"><form aria-labelledby=signup-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-16 space-y-6 sm:space-y-8 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=signup-heading>Get Started</h2><p class="text-gray-500 text-base sm:text-lg">Create a new account.</p></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=name-input>Name</label><div class=relative><input type=text autocomplete=name autocapitalize=words spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=name-input placeholder="What should we call you?"></div></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><div class=relative><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div></div><div></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=confirm-password-input>Confirm Password</label><div class=relative><input type=password autocomplete=new-password autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder"required id=confirm-password-input placeholder=••••••••></div></div><button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Already have an account? <a href=/signin class="text-indigo-600 hover:underline font-semibold">Sign In');function Eh(){const[e,t]=L(""),[n,r]=L(""),[i,o]=L(""),[s,a]=L(""),[l,c]=L(""),[f,d]=L(!1),[u,h]=L([]),[g,m]=L(!1),w=Te(),{signup:_}=At();async function p(y){if(y.preventDefault(),d(!0),c(""),!e()||!n()||!i()||!s()){c("Please fill out all fields");return}if(i()!==s()){c("Passwords do not match");return}if(!(u().length>0)){m(!0);try{await _(n(),i(),e()),w("/verify-email",{replace:!0})}catch(x){console.error("Signup error:",x),c("Sign up failed")}finally{m(!1)}}}return H(()=>{i()===s()&&c("")}),(()=>{var y=Ah(),x=y.firstChild,k=x.firstChild,P=k.nextSibling,M=P.firstChild,$=M.nextSibling,A=$.firstChild,R=P.nextSibling,E=R.firstChild,C=E.nextSibling,S=C.firstChild,T=R.nextSibling,O=T.nextSibling,j=O.firstChild,F=j.nextSibling,z=F.firstChild,V=O.nextSibling,Le=V.nextSibling,ve=Le.firstChild,be=ve.nextSibling;return x.addEventListener("submit",p),A.$$input=B=>t(B.target.value),S.$$input=B=>r(B.target.value),b(T,v(Gs,{get password(){return i()},onPasswordChange:o,autoComplete:"new-password",required:!0}),null),b(T,v(me,{get when(){return Fe(()=>!!f())()&&u().length>0},get children(){var B=kh();return B.firstChild,b(B,()=>u()?.[0],null),B}}),null),b(T,v($h,{get password(){return i()},onUnmet:h}),null),z.$$input=B=>a(B.target.value),b(O,v(me,{get when(){return!!l()},get children(){var B=Sh();return b(B,l),B}}),null),b(V,v(me,{get when(){return g()},fallback:"Sign Up",get children(){var B=Ch(),Et=B.firstChild;return b(B,v(hn,{class:"animate-spin mr-2",size:22}),Et),B}})),be.$$click=B=>{B.preventDefault(),w("/signin")},q(()=>V.disabled=g()),q(()=>A.value=e()),q(()=>S.value=n()),q(()=>z.value=s()),y})()}se(["input","click"]);var ct=(e,t=[])=>({parts:(...n)=>{if(Ph(t))return ct(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>ct(e,[...t,...n]),omit:(...n)=>ct(e,t.filter(r=>!n.includes(r))),rename:n=>ct(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Ye(e)}"][data-part="${Ye(r)}"]`,`& [data-scope="${Ye(e)}"][data-part="${Ye(r)}"]`].join(", "),attrs:{"data-scope":Ye(e),"data-part":Ye(r)}}}),{})}),Ye=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Ph=e=>e.length===0,Ar=e=>typeof e=="object"&&e!==null,oe=e=>e?"":void 0,Nh=e=>e?"true":void 0,Rh=1,Th=9,Lh=11,Ks=e=>Ar(e)&&e.nodeType===Rh&&typeof e.nodeName=="string",Mh=e=>Ar(e)&&e.nodeType===Th,qh=e=>Ar(e)&&e.nodeType!==void 0,Oh=e=>qh(e)&&e.nodeType===Lh&&"host"in e;function Er(e){return Oh(e)?Er(e.host):Mh(e)?e.defaultView??window:Ks(e)?e.ownerDocument?.defaultView??window:window}function jh(e){const{selectionStart:t,selectionEnd:n,value:r}=e.currentTarget,i=e.data;return r.slice(0,t)+(i??"")+r.slice(n)}function Ih(e){return Qs(e).isComposing||e.keyCode===229}var Dh=e=>e.ctrlKey||e.altKey||e.metaKey,Fh={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},yi={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Vh(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let i=e.key;return i=Fh[i]??i,n==="rtl"&&r==="horizontal"&&i in yi&&(i=yi[i]),i}function Qs(e){return e.nativeEvent??e}function Uh(e,t){const{type:n="HTMLInputElement",property:r="value"}=t,i=Er(e)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function Bh(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function zh(e,t,n="value"){if(!e)return;const r=Bh(e);r&&Uh(e,{type:r,property:n}).set?.call(e,t),e.setAttribute(n,t)}function Yh(e,t){const{value:n,bubbles:r=!0}=t;if(!e)return;const i=Er(e);e instanceof i.HTMLInputElement&&(zh(e,`${n}`),e.dispatchEvent(new i.Event("input",{bubbles:r})))}function Ot(e){let t;const n=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(n),t?.()}}function Hh(e,t){return Array.from(e?.querySelectorAll(t)??[])}var Gh={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},vi=e=>e?.constructor.name==="Array",Kh=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Pr(e[n],t[n]))return!1;return!0},Pr=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(vi(e)&&vi(t))return Kh(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(e,n[i]))return!1;for(let i=0;i<r;i++){const o=n[i];if(!Pr(e[o],t[o]))return!1}return!0},Qh=Function.prototype.toString;Qh.call(Object);var Mn=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)];function Wh(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Xh(){return{and:(...e)=>function(n){return e.every(r=>n.guard(r))},or:(...e)=>function(n){return e.some(r=>n.guard(r))},not:e=>function(n){return!n.guard(e)}}}function Zh(){return{guards:Xh(),createMachine:e=>e,choose:e=>function({choose:n}){return n(e)?.actions}}}var Jh=()=>e=>Array.from(new Set(e)),eg=ct("pinInput").parts("root","label","input","control"),jt=eg.build(),ft=e=>e.ids?.root??`pin-input:${e.id}`,tg=(e,t)=>e.ids?.input?.(t)??`pin-input:${e.id}:${t}`,rr=e=>e.ids?.hiddenInput??`pin-input:${e.id}:hidden`,ng=e=>e.ids?.label??`pin-input:${e.id}:label`,rg=e=>e.ids?.control??`pin-input:${e.id}:control`,ig=e=>e.getById(ft(e)),gn=e=>{const n=`input[data-ownedby=${CSS.escape(ft(e))}]`;return Hh(ig(e),n)},nt=(e,t)=>gn(e)[t],sg=e=>gn(e)[0],bi=e=>e.getById(rr(e)),qn=(e,t)=>{e.value=t,e.setAttribute("value",t)},og={numeric:/^[0-9]+$/,alphabetic:/^[A-Za-z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i};function ag(e,t){return e?!!og[e]?.test(t):!0}function lg(e,t,n){return n?new RegExp(n,"g").test(e):ag(t,e)}function cg(e,t){const{send:n,context:r,computed:i,prop:o,scope:s}=e,a=i("isValueComplete"),l=!!o("disabled"),c=!!o("readOnly"),f=!!o("invalid"),d=!!o("required"),u=o("translations"),h=r.get("focusedIndex");function g(){sg(s)?.focus()}return{focus:g,count:r.get("count"),items:Array.from({length:r.get("count")}).map((m,w)=>w),value:r.get("value"),valueAsString:i("valueAsString"),complete:a,setValue(m){Array.isArray(m)||Wh("[pin-input/setValue] value must be an array"),n({type:"VALUE.SET",value:m})},clearValue(){n({type:"VALUE.CLEAR"})},setValueAtIndex(m,w){n({type:"VALUE.SET",value:w,index:m})},getRootProps(){return t.element({dir:o("dir"),...jt.root.attrs,id:ft(s),"data-invalid":oe(f),"data-disabled":oe(l),"data-complete":oe(a),"data-readonly":oe(c)})},getLabelProps(){return t.label({...jt.label.attrs,dir:o("dir"),htmlFor:rr(s),id:ng(s),"data-invalid":oe(f),"data-disabled":oe(l),"data-complete":oe(a),"data-required":oe(d),"data-readonly":oe(c),onClick(m){m.preventDefault(),g()}})},getHiddenInputProps(){return t.input({"aria-hidden":!0,type:"text",tabIndex:-1,id:rr(s),readOnly:c,disabled:l,required:d,name:o("name"),form:o("form"),style:Gh,maxLength:i("valueLength"),defaultValue:i("valueAsString")})},getControlProps(){return t.element({...jt.control.attrs,dir:o("dir"),id:rg(s)})},getInputProps(m){const{index:w}=m,_=o("type")==="numeric"?"tel":"text";return t.input({...jt.input.attrs,dir:o("dir"),disabled:l,"data-disabled":oe(l),"data-complete":oe(a),id:tg(s,w.toString()),"data-index":w,"data-ownedby":ft(s),"aria-label":u?.inputLabel?.(w,i("valueLength")),inputMode:o("otp")||o("type")==="numeric"?"numeric":"text","aria-invalid":Nh(f),"data-invalid":oe(f),type:o("mask")?"password":_,defaultValue:r.get("value")[w]||"",readOnly:c,autoCapitalize:"none",autoComplete:o("otp")?"one-time-code":"off",placeholder:h===w?"":o("placeholder"),onBeforeInput(p){try{const y=jh(p);lg(y,o("type"),o("pattern"))||(n({type:"VALUE.INVALID",value:y}),p.preventDefault()),y.length>2&&p.currentTarget.setSelectionRange(0,1,"forward")}catch{}},onChange(p){const y=Qs(p),{value:x}=p.currentTarget;if(y.inputType==="insertFromPaste"||x.length>2){n({type:"INPUT.PASTE",value:x}),p.currentTarget.value=x[0],p.preventDefault();return}if(y.inputType==="deleteContentBackward"){n({type:"INPUT.BACKSPACE"});return}n({type:"INPUT.CHANGE",value:x,index:w})},onKeyDown(p){if(p.defaultPrevented||Ih(p)||Dh(p))return;const x={Backspace(){n({type:"INPUT.BACKSPACE"})},Delete(){n({type:"INPUT.DELETE"})},ArrowLeft(){n({type:"INPUT.ARROW_LEFT"})},ArrowRight(){n({type:"INPUT.ARROW_RIGHT"})},Enter(){n({type:"INPUT.ENTER"})}}[Vh(p,{dir:o("dir"),orientation:"horizontal"})];x&&(x(p),p.preventDefault())},onFocus(){n({type:"INPUT.FOCUS",index:w})},onBlur(p){const y=p.relatedTarget;Ks(y)&&y.dataset.ownedby===ft(s)||n({type:"INPUT.BLUR",index:w})}})}}}var{choose:ug,createMachine:fg}=Zh(),dg=fg({props({props:e}){return{placeholder:"○",otp:!1,type:"numeric",defaultValue:e.count?It([],e.count):[],...e,translations:{inputLabel:(t,n)=>`pin code ${t+1} of ${n}`,...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({value:e("value"),defaultValue:e("defaultValue"),isEqual:Pr,onChange(n){e("onValueChange")?.({value:n,valueAsString:n.join("")})}})),focusedIndex:t(()=>({sync:!0,defaultValue:-1})),count:t(()=>({defaultValue:e("count")}))}},computed:{_value:({context:e})=>It(e.get("value"),e.get("count")),valueLength:({computed:e})=>e("_value").length,filledValueLength:({computed:e})=>e("_value").filter(t=>t?.trim()!=="").length,isValueComplete:({computed:e})=>e("valueLength")===e("filledValueLength"),valueAsString:({computed:e})=>e("_value").join(""),focusedValue:({computed:e,context:t})=>e("_value")[t.get("focusedIndex")]||""},entry:ug([{guard:"autoFocus",actions:["setInputCount","setFocusIndexToFirst"]},{actions:["setInputCount"]}]),watch({action:e,track:t,context:n,computed:r}){t([()=>n.get("focusedIndex")],()=>{e(["focusInput","selectInputIfNeeded"])}),t([()=>n.get("value").join(",")],()=>{e(["syncInputElements","dispatchInputEvent"])}),t([()=>r("isValueComplete")],()=>{e(["invokeOnComplete","blurFocusedInputIfNeeded"])})},on:{"VALUE.SET":[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],"VALUE.CLEAR":{actions:["clearValue","setFocusIndexToFirst"]}},states:{idle:{on:{"INPUT.FOCUS":{target:"focused",actions:["setFocusedIndex"]}}},focused:{on:{"INPUT.CHANGE":{actions:["setFocusedValue","syncInputValue","setNextFocusedIndex"]},"INPUT.PASTE":{actions:["setPastedValue","setLastValueFocusIndex"]},"INPUT.FOCUS":{actions:["setFocusedIndex"]},"INPUT.BLUR":{target:"idle",actions:["clearFocusedIndex"]},"INPUT.DELETE":{guard:"hasValue",actions:["clearFocusedValue"]},"INPUT.ARROW_LEFT":{actions:["setPrevFocusedIndex"]},"INPUT.ARROW_RIGHT":{actions:["setNextFocusedIndex"]},"INPUT.BACKSPACE":[{guard:"hasValue",actions:["clearFocusedValue"]},{actions:["setPrevFocusedIndex","clearFocusedValue"]}],"INPUT.ENTER":{guard:"isValueComplete",actions:["requestFormSubmit"]},"VALUE.INVALID":{actions:["invokeOnInvalid"]}}}},implementations:{guards:{autoFocus:({prop:e})=>!!e("autoFocus"),hasValue:({context:e})=>e.get("value")[e.get("focusedIndex")]!=="",isValueComplete:({computed:e})=>e("isValueComplete"),hasIndex:({event:e})=>e.index!==void 0},actions:{dispatchInputEvent({computed:e,scope:t}){const n=bi(t);Yh(n,{value:e("valueAsString")})},setInputCount({scope:e,context:t,prop:n}){if(n("count"))return;const r=gn(e);t.set("count",r.length)},focusInput({context:e,scope:t}){const n=e.get("focusedIndex");n!==-1&&nt(t,n)?.focus({preventScroll:!0})},selectInputIfNeeded({context:e,prop:t,scope:n}){const r=e.get("focusedIndex");!t("selectOnFocus")||r===-1||Ot(()=>{nt(n,r)?.select()})},invokeOnComplete({computed:e,prop:t}){e("isValueComplete")&&t("onValueComplete")?.({value:e("_value"),valueAsString:e("valueAsString")})},invokeOnInvalid({context:e,event:t,prop:n}){n("onValueInvalid")?.({value:t.value,index:e.get("focusedIndex")})},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},setValue({context:e,event:t}){const n=It(t.value,e.get("count"));e.set("value",n)},setFocusedValue({context:e,event:t,computed:n,flush:r}){const i=n("focusedValue"),o=e.get("focusedIndex"),s=xi(i,t.value);r(()=>{e.set("value",Mn(n("_value"),o,s))})},revertInputValue({context:e,computed:t,scope:n}){const r=nt(n,e.get("focusedIndex"));qn(r,t("focusedValue"))},syncInputValue({context:e,event:t,scope:n}){const r=e.get("value"),i=nt(n,t.index);qn(i,r[t.index])},syncInputElements({context:e,scope:t}){const n=gn(t),r=e.get("value");n.forEach((i,o)=>{qn(i,r[o])})},setPastedValue({context:e,event:t,computed:n,flush:r}){Ot(()=>{const i=n("valueAsString"),o=e.get("focusedIndex"),s=n("valueLength"),a=n("filledValueLength"),l=Math.min(o,a),c=l>0?i.substring(0,o):"",f=t.value.substring(0,s-l),d=It(`${c}${f}`.split(""),s);r(()=>{e.set("value",d)})})},setValueAtIndex({context:e,event:t,computed:n}){const r=xi(n("focusedValue"),t.value);e.set("value",Mn(n("_value"),t.index,r))},clearValue({context:e}){const t=Array.from({length:e.get("count")}).fill("");queueMicrotask(()=>{e.set("value",t)})},clearFocusedValue({context:e,computed:t}){const n=e.get("focusedIndex");n!==-1&&e.set("value",Mn(t("_value"),n,""))},setFocusIndexToFirst({context:e}){e.set("focusedIndex",0)},setNextFocusedIndex({context:e,computed:t}){e.set("focusedIndex",Math.min(e.get("focusedIndex")+1,t("valueLength")-1))},setPrevFocusedIndex({context:e}){e.set("focusedIndex",Math.max(e.get("focusedIndex")-1,0))},setLastValueFocusIndex({context:e,computed:t}){Ot(()=>{e.set("focusedIndex",Math.min(t("filledValueLength"),t("valueLength")-1))})},blurFocusedInputIfNeeded({context:e,prop:t,scope:n}){t("blurOnComplete")&&Ot(()=>{nt(n,e.get("focusedIndex"))?.blur()})},requestFormSubmit({computed:e,prop:t,scope:n}){if(!t("name")||!e("isValueComplete"))return;bi(n)?.form?.requestSubmit()}}}});function xi(e,t){let n=t;e[0]===t[0]?n=t[1]:e[0]===t[1]&&(n=t[0]);const r=n.split("");return n=r[r.length-1],n??""}function It(e,t){return Array.from({length:t}).fill("").map((n,r)=>e[r]||n)}Jh()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var hg=N('<div class="flex flex-col items-center"><div><input><input><input><input><input><input>');function gg(e){const t=Ys(dg,{id:qi(),required:e.required||!0,autoComplete:e.autoComplete||"one-time-code",otp:e.otp||!0,onValueChange(i){e.onInput&&e.onInput(i.valueAsString)}}),n=D(()=>cg(t,Hs)),r=()=>"w-10 h-12 sm:w-14 sm:h-14 rounded-lg border-2 "+(e.isError?"border-red-500 focus:border-red-600 focus:ring-red-400":"border-gray-300 focus:border-blue-500 focus:ring-blue-400")+" bg-gray-50 text-center text-xl font-semibold outline-none";return(()=>{var i=hg(),o=i.firstChild,s=o.firstChild,a=s.nextSibling,l=a.nextSibling,c=l.nextSibling,f=c.nextSibling,d=f.nextSibling;return Z(o,Y(()=>n().getRootProps(),{class:"flex justify-center gap-1 sm:gap-3 my-6"}),!1,!0),Z(s,Y({get required(){return e.required??!0}},()=>n().getInputProps({index:0}),{get class(){return r()}}),!1,!1),Z(a,Y({get required(){return e.required??!0}},()=>n().getInputProps({index:1}),{get class(){return r()}}),!1,!1),Z(l,Y({get required(){return e.required??!0}},()=>n().getInputProps({index:2}),{get class(){return r()}}),!1,!1),Z(c,Y({get required(){return e.required??!0}},()=>n().getInputProps({index:3}),{get class(){return r()}}),!1,!1),Z(f,Y({get required(){return e.required??!0}},()=>n().getInputProps({index:4}),{get class(){return r()}}),!1,!1),Z(d,Y({get required(){return e.required??!0}},()=>n().getInputProps({index:5}),{get class(){return r()}}),!1,!1),i})()}var mg=N('<div class=text-center><p class="text-gray-500 text-base sm:text-lg">Enter the verification code sent to your email.'),pg=N('<div class="flex items-center">Verifying...'),wg=N('<button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center">'),yg=N(`<div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Didn't get a code? <a href=# class="text-indigo-600 hover:underline font-semibold">Resend`),vg=N('<p class=" text-red-600 text-base sm:text-lg">'),bg=N('<p class="pt-2 sm:pt-3 px-2 text-green-600 text-base sm:text-lg">Email verified! Redirecting to sign in...'),xg=N('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-12"><form aria-labelledby=verifyemail-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-6 sm:p-16 border border-gray-100 relative space-y-2"autocomplete=off><div class=text-center><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=verifyemail-heading>Verify Your Email'),_g=N('<div class="mb-4 sm:mb-6 text-center"><p class="text-gray-500 text-base sm:text-lg">Send a code to verify your email.'),$g=N('<div class="flex items-center">Sending...'),kg=N('<button class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"type=button>');function Sg(){const[e,t]=L(""),[n,r]=L(!1),[i,o]=L(""),[s,a]=L(!1),[l,c]=L(!1),f=Te(),[d,u]=Yo(),{verifyEmail:h,sendEmailVerification:g}=At();function m(x){return new Promise(k=>setTimeout(k,x))}async function w(x){return new Promise((k,P)=>{setTimeout(()=>{console.log("Verifying code:",x),x==="111111"||x===111111?k():P(new Error("Invalid code"))},200)})}async function _(){return new Promise((x,k)=>{setTimeout(()=>{console.log("Sending code: 111111"),x()},200)})}async function p(x){x.preventDefault(),o(""),a(!0);try{const[k]=await Promise.allSettled([w(e()),m(500)]);if(k.status==="rejected")throw k.reason;console.log(k),c(!0),f("/signin",{replace:!0}),a(!1)}catch{a(!1),o("Invalid code. Please try again.")}}async function y(){o(""),a(!0);try{const[x]=await Promise.allSettled([_(),m(500)]);if(x.status==="rejected")throw x.reason;a(!1),u({codeSent:"true"}),r(!0)}catch{a(!1),o("Error sending code. Please try again later.")}}return H(async()=>{if(d.codeSent==="true"&&(r(!0),d.code))try{await h(d.code),c(!0),f("/signin",{replace:!0}),a(!1)}catch{a(!1),o("Invalid or expired link.")}}),H(()=>{e()&&o("")}),(()=>{var x=xg(),k=x.firstChild;return k.firstChild,k.addEventListener("submit",p),b(k,v(W,{get when(){return n()},get fallback(){return[_g(),(()=>{var P=kg();return P.$$click=()=>y(),b(P,v(me,{get when(){return s()},fallback:"Send Code",get children(){var M=$g(),$=M.firstChild;return b(M,v(hn,{class:"animate-spin mr-2",size:22}),$),M}})),q(()=>P.disabled=s()),P})()]},get children(){return[mg(),v(gg,{otp:!0,required:!0,autocomplete:!0,onInput:t,get isError(){return!!i()}}),(()=>{var P=wg();return b(P,v(me,{get when(){return s()},fallback:"Verify Email",get children(){var M=pg(),$=M.firstChild;return b(M,v(hn,{class:"animate-spin mr-2",size:22}),$),M}})),q(()=>P.disabled=s()),P})(),yg()]}}),null),b(k,v(me,{get when(){return!!i()},class:"absolute left-10 right-0 bottom-4 sm:bottom-6",get children(){var P=vg();return b(P,i),P}}),null),b(k,v(me,{get when(){return l()},class:"absolute left-10 right-0 bottom-4 sm:bottom-6",get children(){return bg()}}),null),x})()}se(["click"]);var Cg=N("<div>Reset Password Page");function Ag(){return Cg()}var Eg=N('<div class="ml-1 border-l border-gray-100 pl-2 mt-1 space-y-1">'),Pg=N('<div class=mb-2><div class="flex items-center justify-between cursor-pointer select-none rounded-lg transition-colors px-2 py-2 font-semibold text-gray-800 hover:bg-gray-100"tabindex=0 role=button><span class=truncate></span><button class="ml-2 flex items-center justify-center w-8 h-8 rounded hover:bg-gray-200 transition-colors"tabindex=0 type=button><svg fill=none stroke=currentColor stroke-width=2.2 viewBox="0 0 20 20"><polyline points="6 8 10 12 14 8"fill=none stroke-linecap=round stroke-linejoin=round>');function Ng(e){const[t,n]=L({}),{projects:r}=Je(),i=()=>r().find(a=>a.id===e.projectId),o=()=>i()&&t()[i().id],s=a=>{a.stopPropagation(),n(l=>({...l,[i().id]:!l[i().id]}))};return(()=>{var a=Pg(),l=a.firstChild,c=l.firstChild,f=c.nextSibling,d=f.firstChild;return l.$$click=()=>e.onSelect?.({project:i()}),b(c,()=>i().name||i().id),f.$$click=s,b(a,v(W,{get when(){return Fe(()=>!!o())()&&i().checklists?.length>0},get children(){var u=Eg();return b(u,v(ur,{get each(){return i().checklists},children:h=>e.children(h)})),u}}),null),q(u=>{var h=o()?"Collapse project":"Expand project",g=`transition-transform duration-200 w-5 h-5 text-gray-500 ${o()?"rotate-90":""}`;return h!==u.e&&G(f,"aria-label",u.e=h),g!==u.t&&G(d,"class",u.t=g),u},{e:void 0,t:void 0}),a})()}se(["click"]);var Rg=N('<div style=max-width:100vw><div><div class="flex-1 overflow-y-auto sidebar-scrollbar"><div class=p-4><div class=mb-4><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Projects</h3></div><div class=space-y-2><button class="w-full bg-gray-900 hover:bg-gray-800 text-white px-4 py-3 rounded-lg transition-colors duration-200 flex items-center gap-3 text-base font-medium"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2.5 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>New Project</button></div></div><div class=px-4><div class=mb-4><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Checklists</h3></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Actions</h3></div><div class=space-y-1><button class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Export CSV</button><label class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>Import CSV<input type=file accept=.csv,text/csv class=hidden></label><button class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF URL</button><label class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-3 text-base cursor-pointer"><svg class="w-5 h-5 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF File<input type=file accept=application/pdf class=hidden></label></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Settings</h3></div><div class=space-y-1><button class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-red-600 hover:bg-red-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-red-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear all data</button><div class=mt-20>'),Tg=N('<div class="text-center py-12 px-4"><div class="w-12 h-12 bg-gray-100 rounded-lg mx-auto mb-4 flex items-center justify-center"><svg class="w-6 h-6 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-base text-gray-500 font-medium">No projects yet'),Lg=N('<div style=flex:1><button class="flex-1 flex items-center gap-3 px-3 py-2.5 text-left focus:outline-none"tabindex=0><svg class="w-5 h-5 text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><div class="flex-1 min-w-0"><div class="flex gap-3 items-center"><div class="text-base font-medium truncate"></div><span></span></div><div class="text-sm text-gray-500 mt-1"></div></div></button><button aria-label="Delete checklist"tabindex=-1><svg class="w-5 h-5"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Mg=N('<span class="inline-block w-2 h-2 rounded-full"style=background:currentColor>');function qg(e){const{projects:t,currentChecklist:n,checklists:r}=Je(),i=Te();function o(){const a=window.prompt("Enter PDF URL:");a&&e.setPdfUrl(a)}function s(a){const l=a.target.files[0];if(l&&l.type==="application/pdf"){const c=URL.createObjectURL(l);e.setPdfUrl(c)}else alert("Please select a valid PDF file.")}return(()=>{var a=Rg(),l=a.firstChild,c=l.firstChild,f=c.firstChild,d=f.firstChild,u=d.nextSibling,h=u.firstChild,g=f.nextSibling,m=g.nextSibling,w=m.firstChild,_=w.nextSibling,p=_.firstChild,y=p.nextSibling,x=y.firstChild,k=x.nextSibling,P=k.nextSibling,M=y.nextSibling,$=M.nextSibling,A=$.firstChild,R=A.nextSibling,E=R.nextSibling,C=m.nextSibling,S=C.firstChild,T=S.nextSibling,O=T.firstChild;return ge(h,"click",e.onAddProject,!0),b(u,v(W,{get when(){return t()?.length>0},get fallback(){return Tg()},get children(){return v(ur,{get each(){return t()},children:j=>v(Ng,{get projectId(){return j.id},onSelect:()=>{const z=t().filter(V=>V.name===j.name).findIndex(V=>V.id===j.id);i(`/project/${encodeURIComponent(j.name)}/${z}`)},children:F=>(()=>{var z=Lg(),V=z.firstChild,Le=V.firstChild,ve=Le.nextSibling,be=ve.firstChild,B=be.firstChild,Et=B.nextSibling,Xs=be.nextSibling,Nr=V.nextSibling;return V.$$click=J=>{J.stopPropagation(),i(`/checklist/${F.id}`)},b(B,()=>F.name),b(Et,()=>{if(!F)return"Unknown";const J=ke.scoreChecklist(F);return J.length+(F.name?.length||0)<30?J:Mg()}),b(Xs,()=>new Date(F.createdAt).toLocaleDateString()),Nr.$$click=J=>{J.stopPropagation(),e.onDeleteChecklist(j.id,F.id)},q(J=>{var Rr=`
            flex items-center group rounded-lg transition-colors
            ${n()&&F.id===n().id?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}
          `,Tr=`
                                text-xs font-semibold px-2 py-0.5 rounded
                                ${(()=>{const Pt=ke.scoreChecklist(F);return Pt==="High"?"bg-green-100 text-green-800":Pt==="Moderate"?"bg-yellow-100 text-yellow-800":Pt==="Low"?"bg-orange-100 text-orange-800":Pt==="Critically Low"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"})()}
                              `,Lr=`
                          p-2 mr-2 rounded transition-colors text-gray-400 hover:text-red-600 hover:bg-red-50
                          ${n()&&F.id!==n().id?"opacity-0 group-hover:opacity-100":""}
                        `;return Rr!==J.e&&ae(z,J.e=Rr),Tr!==J.t&&ae(Et,J.t=Tr),Lr!==J.a&&ae(Nr,J.a=Lr),J},{e:void 0,t:void 0,a:void 0}),z})()})})}}),null),ge(p,"click",e.onExportCSV,!0),ge(P,"change",e.onImportCSV),M.$$click=o,E.addEventListener("change",s),ge(O,"click",e.onDeleteAll,!0),q(j=>{var F=`
        transition-all duration-200 ease-in-out
        bg-white border-r border-gray-200 h-screen overflow-x-hidden
        ${e.open?"w-90":"w-0"}
        
        /* Mobile: Fixed overlay */
        md:relative
        ${e.open?"":"md:w-0"}
        
        /* Mobile overlay behavior */
        fixed top-0 left-0 z-30 md:static md:z-auto
        ${e.open?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,z=`
          flex flex-col h-full
          transition-opacity duration-100
          ${e.open?"duration-500 opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
        `;return F!==j.e&&ae(a,j.e=F),z!==j.t&&ae(l,j.t=z),j},{e:void 0,t:void 0}),a})()}se(["click"]);var Og=N('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 mx-2 animate-fade-in"><div class=mb-4><h2 class="text-lg font-semibold text-gray-900"></h2></div><div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"autofocus>Cancel</button><button class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors">'),jg=N('<p class="mt-2 text-gray-600">');function _i(e){return v(W,{get when(){return e.open},get children(){return v(Ro,{get children(){var t=Og(),n=t.firstChild,r=n.firstChild,i=r.firstChild,o=r.nextSibling,s=o.firstChild,a=s.nextSibling;return b(i,()=>e.title||"Are you sure?"),b(r,(()=>{var l=Fe(()=>!!e.description);return()=>l()&&(()=>{var c=jg();return b(c,()=>e.description),c})()})(),null),ge(s,"click",e.onCancel,!0),ge(a,"click",e.onConfirm,!0),b(a,()=>e.confirmText||"Delete"),t}})}})}se(["click"]);var Ig=N('<div><div class="w-full h-full overflow-auto"></div><div role=separator tabindex=0 style=touch-action:none>');function Dg(e){const t=e.direction||"horizontal",n=t==="horizontal"?"right":"bottom",r=e.position||n,i=e.min??200,o=e.max??800,s=e.initial??400,[a,l]=L(s);let c=!1,f=0,d=0,u=null;const h=_=>{c=!0,u=_.pointerId,f=t==="horizontal"?_.clientX:_.clientY,d=a(),document.body.style.userSelect="none",_.target.setPointerCapture(u),window.addEventListener("pointermove",g),window.addEventListener("pointerup",m)},g=_=>{if(!c)return;let p=t==="horizontal"?_.clientX-f:_.clientY-f;(r==="left"||r==="top")&&(p=-p);let y=d+p;y=Math.max(i,Math.min(o,y)),l(y)},m=_=>{if(c=!1,document.body.style.userSelect="",_.target.releasePointerCapture&&u!==null)try{_.target.releasePointerCapture(u)}catch{}window.removeEventListener("pointermove",g),window.removeEventListener("pointerup",m),u=null};let w="";return t==="horizontal"?w=r==="right"?"top-0 right-0 h-full w-2 cursor-col-resize":"top-0 left-0 h-full w-2 cursor-col-resize":w=r==="bottom"?"left-0 bottom-0 w-full h-2 cursor-row-resize":"left-0 top-0 w-full h-2 cursor-row-resize",(()=>{var _=Ig(),p=_.firstChild,y=p.nextSibling;return ae(_,`relative ${t==="horizontal"?"h-full":"w-full"}`),b(p,()=>e.children),y.$$pointerdown=h,ae(y,`absolute ${w} bg-gray-200 hover:bg-gray-300 transition-colors z-10`),G(y,"aria-orientation",t),q(x=>yn(_,t==="horizontal"?`width: ${a()}px; min-width:0;`:`height: ${a()}px; min-height:0;`,x)),_})()}se(["pointerdown"]);var Fg=N('<svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16">'),Vg=N('<button class="ml-[-12px] bg-white/80 text-blue-700 p-2 rounded-full shadow hover:bg-white transition-all duration-200 border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"aria-label="Toggle sidebar open or closed">'),$i=N("<span class=font-medium>Hello, "),ki=N('<button class="hover:bg-blue-600 px-3 py-2 rounded transition font-medium">Sign Out'),Ug=N('<nav class="flex items-center justify-between bg-gradient-to-r from-blue-700 to-blue-500 text-white px-8 py-4 shadow-lg"><div class="flex items-center space-x-4"></div><div class="flex space-x-6 items-center">'),Bg=N('<svg fill=none stroke=currentColor class="w-6 h-6"viewBox="0 0 20 20"><path d="M3.5 3C3.77614 3 4 3.22386 4 3.5V16.5L3.99023 16.6006C3.94371 16.8286 3.74171 17 3.5 17C3.25829 17 3.05629 16.8286 3.00977 16.6006L3 16.5V3.5C3 3.22386 3.22386 3 3.5 3ZM11.2471 5.06836C11.4476 4.95058 11.7104 4.98547 11.8721 5.16504C12.0338 5.34471 12.0407 5.60979 11.9023 5.79688L11.835 5.87207L7.80371 9.5H16.5C16.7761 9.5 17 9.72386 17 10C17 10.2761 16.7761 10.5 16.5 10.5H7.80371L11.835 14.1279C12.0402 14.3127 12.0568 14.6297 11.8721 14.835C11.6873 15.0402 11.3703 15.0568 11.165 14.8721L6.16504 10.3721L6.09473 10.2939C6.03333 10.2093 6 10.1063 6 10C6 9.85828 6.05972 9.72275 6.16504 9.62793L11.165 5.12793L11.2471 5.06836Z">');function Si(e){return e.endsWith("/")?e.slice(0,-1):e}function zg(e){const{user:t,signout:n,authLoading:r}=At(),i=hr(),o=()=>Si(i.pathname)===Si(Ws),s=localStorage.getItem("userName"),a=!!s;return H(()=>{t()?localStorage.setItem("userName",t().name):localStorage.removeItem("userName")}),(()=>{var l=Ug(),c=l.firstChild,f=c.nextSibling;return b(c,v(W,{get when(){return!o()},get children(){var d=Vg();return ge(d,"click",e.toggleSidebar,!0),b(d,v(W,{get when(){return!e.open},get fallback(){return Bg()},get children(){return Fg()}})),d}}),null),b(c,v(Rt,{href:"/",class:"font-extrabold text-2xl tracking-tight drop-shadow",children:"CoRATES"}),null),b(f,v(Rt,{href:"/dashboard",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Dashboard"}),null),b(f,v(W,{get when(){return t()},get fallback(){return Fe(()=>!!(a&&r()))()?[(()=>{var d=$i();return d.firstChild,b(d,s,null),d})(),ki()]:[v(Rt,{href:"/signin",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Sign In"}),v(Rt,{href:"/signup",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Sign Up"})]},get children(){return[(()=>{var d=$i();return d.firstChild,b(d,()=>t().name,null),d})(),(()=>{var d=ki();return d.$$click=async()=>{await n()},d})()]}}),null),l})()}se(["click"]);var Yg=N('<div class="flex-1 min-h-0 overflow-y-auto">'),Hg=N('<div class="sm:hidden fixed inset-0 bg-black/50 z-20 transition-opacity duration-300">'),Gg=N('<div class="h-full border-l border-gray-200 bg-white flex flex-col"><iframe class="w-full h-full"title="PDF Viewer"style=min-width:300px>'),Kg=N('<div class="flex flex-col h-screen overflow-y-hidden"><div class="flex flex-1 min-h-0">');function Qg(e){const[t,n]=L(!1),[r,i]=L(!1),[o,s]=L(!1),[a,l]=L(null),[c,f]=L(null),{authLoading:d}=At(),{projects:u,dataLoading:h,loadData:g,setProjects:m,currentProject:w,addProject:_,deleteChecklist:p,currentChecklist:y,setCurrentChecklist:x,updateChecklist:k}=Je(),P=async()=>{try{x(null),alert("All checklists deleted!")}catch(C){console.error("Error removing all checklists:",C),alert("Error deleting checklists!")}finally{i(!1)}},M=()=>{let C="this checklist";const S=a();if(S&&S.projectId&&S.checklistId){const T=u().find(O=>O.id===S.projectId);if(T){const O=T.checklists.find(j=>j.id===S.checklistId);O&&(C=O.title||O.name||"Untitled Checklist")}}return`Are you sure you want to delete ${C}? This action cannot be undone.`},$=()=>i(!1),A=(C,S)=>{console.log("Request to delete checklist id:",S,"from project:",C),l({projectId:C,checklistId:S}),s(!0)},R=async()=>{const C=a();if(!(!C||!C.projectId||!C.checklistId))try{console.log("Deleting checklist id:",C.checklistId,"from project:",C.projectId),await p(C.projectId,C.checklistId)}catch(S){console.error("Error deleting checklist:",S),alert("Error deleting checklist!")}finally{s(!1),l(null)}},E=()=>{s(!1),l(null)};return(()=>{var C=Kg(),S=C.firstChild;return b(C,v(zg,{toggleSidebar:()=>n(T=>!T),get open(){return t()}}),S),b(S,v(qg,{get open(){return t()},onClose:()=>n(!1),setPdfUrl:f,onDeleteChecklist:A}),null),b(S,v(me,{class:"flex flex-1",get when(){return Fe(()=>!h())()&&!d()},get children(){var T=Yg();return b(T,()=>e.children),T}}),null),b(S,v(W,{get when(){return t()},get children(){var T=Hg();return T.$$click=()=>n(!1),T}}),null),b(S,v(W,{get when(){return c()},get children(){return v(Dg,{direction:"horizontal",min:250,max:1600,initial:500,position:"left",get children(){var T=Gg(),O=T.firstChild;return q(()=>G(O,"src",c())),T}})}}),null),b(C,v(_i,{get open(){return o()},title:"Delete checklist?",get description(){return M()},confirmText:"Delete",onCancel:E,onConfirm:R}),null),b(C,v(_i,{get open(){return r()},title:"Delete all checklists?",description:"Are you sure you want to delete all saved checklists? This action cannot be undone.",confirmText:"Delete all",onCancel:$,onConfirm:P}),null),C})()}se(["click"]);var Wg=N("<h1>404 - Not Found");function Xg(){return Wg()}var Zg=N("<h1>You are offline, you must be online to access this page.");function Jg(){return Zg()}const Ws="/amstar2-checklist-scoring-app";function e0(){return v(aa,{base:Ws,get children(){return v(de,{path:"/",component:Qg,get children(){return[v(de,{path:"/",component:ma}),v(de,{path:"/dashboard",component:bd}),v(de,{path:"/project/:name/:index",component:ad}),v(de,{path:"/checklist/:id",component:za}),v(de,{path:"/signin",component:()=>v(Dt,{get children(){return v(wh,{})}})}),v(de,{path:"/signup",component:()=>v(Dt,{get children(){return v(Eh,{})}})}),v(de,{path:"/verify-email",component:()=>v(Dt,{get children(){return v(Sg,{})}})}),v(de,{path:"/reset-password",component:()=>v(Dt,{get children(){return v(Ag,{})}})}),v(de,{path:"*",component:Xg})]}})}})}function Dt(e){const t=Is();return v(W,{get when(){return t()},get fallback(){return v(Jg,{})},get children(){return e.children}})}_o(()=>v($a,{get children(){return v(_d,{get children(){return v(e0,{})}})}}),document.getElementById("root"));
