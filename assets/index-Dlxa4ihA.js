(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const ms=!1,ps=(e,t)=>e===t,le=Symbol("solid-proxy"),Xr=typeof Proxy=="function",wn=Symbol("solid-track"),jt={equals:ps};let Wr=ti;const Pe=1,Tt=2,Kr={owned:null,cleanups:null,context:null,owner:null};var F=null;let an=null,ws=null,z=null,K=null,_e=null,Zt=0;function at(e,t){const n=z,r=F,i=e.length===0,o=t===void 0?r:t,s=i?Kr:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=i?e:()=>e(()=>ie(()=>ct(s)));F=s,z=null;try{return Ee(a,!0)}finally{z=n,F=r}}function T(e,t){t=t?Object.assign({},jt,t):jt;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),ei(n,i));return[Ir.bind(n),r]}function P(e,t,n){const r=Fn(e,t,!1,Pe);yt(r)}function J(e,t,n){Wr=xs;const r=Fn(e,t,!1,Pe);r.user=!0,_e?_e.push(r):yt(r)}function Y(e,t,n){n=n?Object.assign({},jt,n):jt;const r=Fn(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,yt(r),Ir.bind(r)}function Gr(e){return Ee(e,!1)}function ie(e){if(z===null)return e();const t=z;z=null;try{return e()}finally{z=t}}function On(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return s=>{let a;if(r){a=Array(e.length);for(let c=0;c<e.length;c++)a[c]=e[c]()}else a=e();if(o)return o=!1,s;const l=ie(()=>t(a,i,s));return i=a,l}}function Ln(e){J(()=>ie(e))}function ce(e){return F===null||(F.cleanups===null?F.cleanups=[e]:F.cleanups.push(e)),e}function yn(){return z}function Jr(){return F}function Zr(e,t){const n=F,r=z;F=e,z=null;try{return Ee(t,!0)}catch(i){Bn(i)}finally{F=n,z=r}}function ys(e){const t=z,n=F;return Promise.resolve().then(()=>{z=t,F=n;let r;return Ee(e,!1),z=F=null,r?r.done:void 0})}const[hh,gh]=T(!1);function It(e,t){const n=Symbol("context");return{id:n,Provider:$s(n),defaultValue:e}}function wt(e){let t;return F&&F.context&&(t=F.context[e.id])!==void 0?t:e.defaultValue}function Dn(e){const t=Y(e),n=Y(()=>bn(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Ir(){if(this.sources&&this.state)if(this.state===Pe)yt(this);else{const e=K;K=null,Ee(()=>Lt(this),!1),K=e}if(z){const e=this.observers?this.observers.length:0;z.sources?(z.sources.push(this),z.sourceSlots.push(e)):(z.sources=[this],z.sourceSlots=[e]),this.observers?(this.observers.push(z),this.observerSlots.push(z.sources.length-1)):(this.observers=[z],this.observerSlots=[z.sources.length-1])}return this.value}function ei(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Ee(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],s=an&&an.running;s&&an.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?K.push(o):_e.push(o),o.observers&&ni(o)),s||(o.state=Pe)}if(K.length>1e6)throw K=[],new Error},!1)),t}function yt(e){if(!e.fn)return;ct(e);const t=Zt;bs(e,e.value,t)}function bs(e,t,n){let r;const i=F,o=z;z=F=e;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=Pe,e.owned&&e.owned.forEach(ct),e.owned=null),e.updatedAt=n+1,Bn(s)}finally{z=o,F=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ei(e,r):e.value=r,e.updatedAt=n)}function Fn(e,t,n,r=Pe,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:F,context:F?F.context:null,pure:n};return F===null||F!==Kr&&(F.owned?F.owned.push(o):F.owned=[o]),o}function Ot(e){if(e.state===0)return;if(e.state===Tt)return Lt(e);if(e.suspense&&ie(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Zt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Pe)yt(e);else if(e.state===Tt){const r=K;K=null,Ee(()=>Lt(e,t[0]),!1),K=r}}function Ee(e,t){if(K)return e();let n=!1;t||(K=[]),_e?n=!0:_e=[],Zt++;try{const r=e();return vs(n),r}catch(r){n||(_e=null),K=null,Bn(r)}}function vs(e){if(K&&(ti(K),K=null),e)return;const t=_e;_e=null,t.length&&Ee(()=>Wr(t),!1)}function ti(e){for(let t=0;t<e.length;t++)Ot(e[t])}function xs(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Ot(r)}for(t=0;t<n;t++)Ot(e[t])}function Lt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===Pe?r!==t&&(!r.updatedAt||r.updatedAt<Zt)&&Ot(r):i===Tt&&Lt(r,t)}}}function ni(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Tt,n.pure?K.push(n):_e.push(n),n.observers&&ni(n))}}function ct(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ct(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ct(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function _s(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Bn(e,t=F){throw _s(e)}function bn(e){if(typeof e=="function"&&!e.length)return bn(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=bn(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function $s(e,t){return function(r){let i;return P(()=>i=ie(()=>(F.context={...F.context,[e]:r.value},Dn(()=>r.children))),void 0),i}}const ks=Symbol("fallback");function lr(e){for(let t=0;t<e.length;t++)e[t]()}function Ss(e,t,n={}){let r=[],i=[],o=[],s=0,a=t.length>1?[]:null;return ce(()=>lr(o)),()=>{let l=e()||[],c=l.length,f,d;return l[wn],ie(()=>{let h,g,m,w,v,b,x,A,C;if(c===0)s!==0&&(lr(o),o=[],r=[],i=[],s=0,a&&(a=[])),n.fallback&&(r=[ks],i[0]=at(M=>(o[0]=M,n.fallback())),s=1);else if(s===0){for(i=new Array(c),d=0;d<c;d++)r[d]=l[d],i[d]=at(u);s=c}else{for(m=new Array(c),w=new Array(c),a&&(v=new Array(c)),b=0,x=Math.min(s,c);b<x&&r[b]===l[b];b++);for(x=s-1,A=c-1;x>=b&&A>=b&&r[x]===l[A];x--,A--)m[A]=i[x],w[A]=o[x],a&&(v[A]=a[x]);for(h=new Map,g=new Array(A+1),d=A;d>=b;d--)C=l[d],f=h.get(C),g[d]=f===void 0?-1:f,h.set(C,d);for(f=b;f<=x;f++)C=r[f],d=h.get(C),d!==void 0&&d!==-1?(m[d]=i[f],w[d]=o[f],a&&(v[d]=a[f]),d=g[d],h.set(C,d)):o[f]();for(d=b;d<c;d++)d in m?(i[d]=m[d],o[d]=w[d],a&&(a[d]=v[d],a[d](d))):i[d]=at(u);i=i.slice(0,s=c),r=l.slice(0)}return i});function u(h){if(o[d]=h,a){const[g,m]=T(d);return a[d]=m,t(l[d],g)}return t(l[d])}}}function S(e,t){return ie(()=>e(t||{}))}function $t(){return!0}const vn={get(e,t,n){return t===le?n:e.get(t)},has(e,t){return t===le?!0:e.has(t)},set:$t,deleteProperty:$t,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:$t,deleteProperty:$t}},ownKeys(e){return e.keys()}};function ln(e){return(e=typeof e=="function"?e():e)?e:{}}function Cs(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function te(...e){let t=!1;for(let s=0;s<e.length;s++){const a=e[s];t=t||!!a&&le in a,e[s]=typeof a=="function"?(t=!0,Y(a)):a}if(Xr&&t)return new Proxy({get(s){for(let a=e.length-1;a>=0;a--){const l=ln(e[a])[s];if(l!==void 0)return l}},has(s){for(let a=e.length-1;a>=0;a--)if(s in ln(e[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<e.length;a++)s.push(...Object.keys(ln(e[a])));return[...new Set(s)]}},vn);const n={},r=Object.create(null);for(let s=e.length-1;s>=0;s--){const a=e[s];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const f=l[c];if(f==="__proto__"||f==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,f);if(!r[f])r[f]=d.get?{enumerable:!0,configurable:!0,get:Cs.bind(n[f]=[d.get.bind(a)])}:d.value!==void 0?d:void 0;else{const u=n[f];u&&(d.get?u.push(d.get.bind(a)):d.value!==void 0&&u.push(()=>d.value))}}}const i={},o=Object.keys(r);for(let s=o.length-1;s>=0;s--){const a=o[s],l=r[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function ri(e,...t){if(Xr&&le in e){const i=new Set(t.length>1?t.flat():t[0]),o=t.map(s=>new Proxy({get(a){return s.includes(a)?e[a]:void 0},has(a){return s.includes(a)&&a in e},keys(){return s.filter(a=>a in e)}},vn));return o.push(new Proxy({get(s){return i.has(s)?void 0:e[s]},has(s){return i.has(s)?!1:s in e},keys(){return Object.keys(e).filter(s=>!i.has(s))}},vn)),o}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,i),s=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,l=0;for(const c of t)c.includes(i)&&(a=!0,s?r[l][i]=o.value:Object.defineProperty(r[l],i,o)),++l;a||(s?n[i]=o.value:Object.defineProperty(n,i,o))}return[...r,n]}let As=0;function Ps(){return`cl-${As++}`}const Es=e=>`Stale read from <${e}>.`;function ii(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Y(Ss(()=>e.each,e.children,t||void 0))}function G(e){const t=e.keyed,n=Y(()=>e.when,void 0,void 0),r=t?n:Y(n,void 0,{equals:(i,o)=>!i==!o});return Y(()=>{const i=r();if(i){const o=e.children;return typeof o=="function"&&o.length>0?ie(()=>o(t?i:()=>{if(!ie(r))throw Es("Show");return n()})):o}return e.fallback},void 0,void 0)}const Ns=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],Rs=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...Ns]),Ms=new Set(["innerHTML","textContent","innerText","children"]),qs=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),js=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Ts(e,t){const n=js[e];return typeof n=="object"?n[t]?n.$:void 0:n}const Os=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ls={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},fe=e=>Y(()=>e());function Ds(e,t,n){let r=n.length,i=t.length,o=r,s=0,a=0,l=t[i-1].nextSibling,c=null;for(;s<i||a<o;){if(t[s]===n[a]){s++,a++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===s){const f=o<r?a?n[a-1].nextSibling:n[o-a]:l;for(;a<o;)e.insertBefore(n[a++],f)}else if(o===a)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[o-1]&&n[a]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[a++],t[s++].nextSibling),e.insertBefore(n[--o],f),t[i]=n[o]}else{if(!c){c=new Map;let d=a;for(;d<o;)c.set(n[d],d++)}const f=c.get(t[s]);if(f!=null)if(a<f&&f<o){let d=s,u=1,h;for(;++d<i&&d<o&&!((h=c.get(t[d]))==null||h!==f+u);)u++;if(u>f-a){const g=t[s];for(;a<f;)e.insertBefore(n[a++],g)}else e.replaceChild(n[a++],t[s++])}else s++;else t[s++].remove()}}}const cr="_$DX_DELEGATE";function Fs(e,t,n,r={}){let i;return at(o=>{i=o,t===document?e():p(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function N(e,t,n,r){let i;const o=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},s=()=>(i||(i=o())).cloneNode(!0);return s.cloneNode=s,s}function re(e,t=window.document){const n=t[cr]||(t[cr]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Hs))}}function j(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Bs(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function Us(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function oe(e,t){t==null?e.removeAttribute("class"):e.className=t}function de(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n,typeof n!="function"&&n)}function zs(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||t[a]||(fr(e,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){const a=r[o],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(fr(e,a,!0),n[a]=l)}return n}function en(e,t,n){if(!t)return n?j(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function ur(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function Se(e,t={},n,r){const i={};return r||P(()=>i.children=ft(e,t.children,i.children)),P(()=>typeof t.ref=="function"&&ut(t.ref,e)),P(()=>Ys(e,t,n,!0,i,!0)),i}function ut(e,t,n){return ie(()=>e(t,n))}function p(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return ft(e,t,r,n);P(i=>ft(e,t(),i,n),r)}function Ys(e,t,n,r,i={},o=!1){t||(t={});for(const s in i)if(!(s in t)){if(s==="children")continue;i[s]=dr(e,s,null,i[s],n,o,t)}for(const s in t){if(s==="children")continue;const a=t[s];i[s]=dr(e,s,a,i[s],n,o,t)}}function Vs(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function fr(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function dr(e,t,n,r,i,o,s){let a,l,c,f,d;if(t==="style")return en(e,n,r);if(t==="classList")return zs(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const u=t.slice(3);r&&e.removeEventListener(u,r,typeof r!="function"&&r),n&&e.addEventListener(u,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const u=t.slice(10);r&&e.removeEventListener(u,r,!0),n&&e.addEventListener(u,n,!0)}else if(t.slice(0,2)==="on"){const u=t.slice(2).toLowerCase(),h=Os.has(u);if(!h&&r){const g=Array.isArray(r)?r[0]:r;e.removeEventListener(u,g)}(h||n)&&(de(e,u,n,h),h&&re([u]))}else if(t.slice(0,5)==="attr:")j(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")Us(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(c=Ms.has(t))||!i&&((f=Ts(t,e.tagName))||(l=Rs.has(t)))||(a=e.nodeName.includes("-")||"is"in s))d&&(t=t.slice(5),l=!0),t==="class"||t==="className"?oe(e,n):a&&!l&&!c?e[Vs(t)]=n:e[f||t]=n;else{const u=i&&t.indexOf(":")>-1&&Ls[t.split(":")[0]];u?Bs(e,u,t,n):j(e,qs[t]||t,n)}return n}function Hs(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,o=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),s=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},a=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();o(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!s());c++){if(t._$host){t=t._$host,a();break}if(t.parentNode===i)break}}else a();o(r)}function ft(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(s){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=Be(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=Be(e,n,r);else{if(o==="function")return P(()=>{let a=t();for(;typeof a=="function";)a=a();n=ft(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(xn(a,t,n,i))return P(()=>n=ft(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=Be(e,n,r),s)return n}else l?n.length===0?hr(e,a,r):Ds(e,n,a):(n&&Be(e),hr(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=Be(e,n,r,t);Be(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function xn(e,t,n,r){let i=!1;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=n&&n[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=xn(e,a,l)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=xn(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else e.push(a),i=!0;else{const f=String(a);l&&l.nodeType===3&&l.data===f?e.push(l):e.push(document.createTextNode(f))}}return i}function hr(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function Be(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(i!==a){const l=a.parentNode===e;!o&&!s?l?e.replaceChild(i,a):e.insertBefore(i,n):l&&a.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const si=!1;function oi(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,o){if(n)return!(n=!1);const s={to:i,options:o,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const a of e)a.listener({...s,from:a.location,retry:l=>{l&&(n=!0),a.navigate(i,{...o,resolve:!1})}});return!s.defaultPrevented}return{subscribe:t,confirm:r}}let _n;function Un(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),_n=window.history.state._depth}Un();function Qs(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function Xs(e,t){let n=!1;return()=>{const r=_n;Un();const i=r==null?null:_n-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const Ws=/^(?:[a-z0-9]+:)?\/\//i,Ks=/^\/+|(\/)\/+$/g,ai="http://sr";function je(e,t=!1){const n=e.replace(Ks,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Pt(e,t,n){if(Ws.test(t))return;const r=je(e),i=n&&je(n);let o="";return!i||t.startsWith("/")?o=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?o=r+i:o=i,(o||"/")+je(t,!o)}function Gs(e,t){if(e==null)throw new Error(t);return e}function Js(e,t){return je(e).replace(/\/*(\*.*)?$/g,"")+je(t)}function li(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function Zs(e,t,n){const[r,i]=e.split("/*",2),o=r.split("/").filter(Boolean),s=o.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-s;if(c<0||c>0&&i===void 0&&!t)return null;const f={path:s?"":"/",params:{}},d=u=>n===void 0?void 0:n[u];for(let u=0;u<s;u++){const h=o[u],g=h[0]===":",m=g?l[u]:l[u].toLowerCase(),w=g?h.slice(1):h.toLowerCase();if(g&&cn(m,d(w)))f.params[w]=m;else if(g||!cn(m,w))return null;f.path+=`/${m}`}if(i){const u=c?l.slice(-c).join("/"):"";if(cn(u,d(i)))f.params[i]=u;else return null}return f}}function cn(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Is(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,o)=>i+(o.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function ci(e){const t=new Map,n=Jr();return new Proxy({},{get(r,i){return t.has(i)||Zr(n,()=>t.set(i,Y(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function ui(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return ui(r).reduce((o,s)=>[...o,...i.map(a=>a+s)],[])}const eo=100,fi=It(),zn=It(),bt=()=>Gs(wt(fi),"<A> and 'use' router primitives can be only used inside a Route."),to=()=>wt(zn)||bt().base,no=e=>{const t=to();return Y(()=>t.resolvePath(e()))},ro=e=>{const t=bt();return Y(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},Ze=()=>bt().navigatorFactory(),io=()=>bt().location,di=()=>bt().params;function so(e,t=""){const{component:n,preload:r,load:i,children:o,info:s}=e,a=!o||Array.isArray(o)&&!o.length,l={key:e,component:n,preload:r||i,info:s};return hi(e.path).reduce((c,f)=>{for(const d of ui(f)){const u=Js(t,d);let h=a?u:u.split("/*",1)[0];h=h.split("/").map(g=>g.startsWith(":")||g.startsWith("*")?g:encodeURIComponent(g)).join("/"),c.push({...l,originalPath:f,pattern:h,matcher:Zs(h,!a,e.matchFilters)})}return c},[])}function oo(e,t=0){return{routes:e,score:Is(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const o=e[i],s=o.matcher(n);if(!s)return null;r.unshift({...s,route:o})}return r}}}function hi(e){return Array.isArray(e)?e:[e]}function gi(e,t="",n=[],r=[]){const i=hi(e);for(let o=0,s=i.length;o<s;o++){const a=i[o];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=so(a,t);for(const c of l){n.push(c);const f=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!f)gi(a.children,c.pattern,n,r);else{const d=oo([...n],r.length);r.push(d)}n.pop()}}}return n.length?r:r.sort((o,s)=>s.score-o.score)}function un(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function ao(e,t,n){const r=new URL(ai),i=Y(f=>{const d=e();try{return new URL(d,r)}catch{return console.error(`Invalid path ${d}`),f}},r,{equals:(f,d)=>f.href===d.href}),o=Y(()=>i().pathname),s=Y(()=>i().search,!0),a=Y(()=>i().hash),l=()=>"",c=On(s,()=>li(i()));return{get pathname(){return o()},get search(){return s()},get hash(){return a()},get state(){return t()},get key(){return l()},query:n?n(c):ci(c)}}let Re;function lo(){return Re}function co(e,t,n,r={}){const{signal:[i,o],utils:s={}}=e,a=s.parsePath||(R=>R),l=s.renderPath||(R=>R),c=s.beforeLeave||oi(),f=Pt("",r.base||"");if(f===void 0)throw new Error(`${f} is not a valid base path`);f&&!i().value&&o({value:f,replace:!0,scroll:!1});const[d,u]=T(!1);let h;const g=(R,O)=>{O.value===m()&&O.state===v()||(h===void 0&&u(!0),Re=R,h=O,ys(()=>{h===O&&(w(h.value),b(h.state),C[1](D=>D.filter(U=>U.pending)))}).finally(()=>{h===O&&Gr(()=>{Re=void 0,R==="navigate"&&_(h),u(!1),h=void 0})}))},[m,w]=T(i().value),[v,b]=T(i().state),x=ao(m,v,s.queryWrapper),A=[],C=T([]),M=Y(()=>typeof r.transformUrl=="function"?un(t(),r.transformUrl(x.pathname)):un(t(),x.pathname)),L=()=>{const R=M(),O={};for(let D=0;D<R.length;D++)Object.assign(O,R[D].params);return O},$=s.paramsWrapper?s.paramsWrapper(L,t):ci(L),k={pattern:f,path:()=>f,outlet:()=>null,resolvePath(R){return Pt(f,R)}};return P(On(i,R=>g("native",R),{defer:!0})),{base:k,location:x,params:$,isRouting:d,renderPath:l,parsePath:a,navigatorFactory:y,matches:M,beforeLeave:c,preloadRoute:q,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:C};function E(R,O,D){ie(()=>{if(typeof O=="number"){O&&(s.go?s.go(O):console.warn("Router integration does not support relative routing"));return}const U=!O||O[0]==="?",{replace:V,resolve:B,scroll:Ne,state:we}={replace:!1,resolve:!U,scroll:!0,...D},ye=B?R.resolvePath(O):Pt(U&&x.pathname||"",O);if(ye===void 0)throw new Error(`Path '${O}' is not a routable path`);if(A.length>=eo)throw new Error("Too many redirects");const H=m();(ye!==H||we!==v())&&(si||c.confirm(ye,D)&&(A.push({value:H,replace:V,scroll:Ne,state:v()}),g("navigate",{value:ye,state:we})))})}function y(R){return R=R||wt(zn)||k,(O,D)=>E(R,O,D)}function _(R){const O=A[0];O&&(o({...R,replace:O.replace,scroll:O.scroll}),A.length=0)}function q(R,O){const D=un(t(),R.pathname),U=Re;Re="preload";for(let V in D){const{route:B,params:Ne}=D[V];B.component&&B.component.preload&&B.component.preload();const{preload:we}=B;O&&we&&Zr(n(),()=>we({params:Ne,location:{pathname:R.pathname,search:R.search,hash:R.hash,query:li(R),state:null,key:""},intent:"preload"}))}Re=U}}function uo(e,t,n,r){const{base:i,location:o,params:s}=e,{pattern:a,component:l,preload:c}=r().route,f=Y(()=>r().path);l&&l.preload&&l.preload();const d=c?c({params:s,location:o,intent:Re||"initial"}):void 0;return{parent:t,pattern:a,path:f,outlet:()=>l?S(l,{params:s,location:o,data:d,get children(){return n()}}):n(),resolvePath(h){return Pt(i.path(),h,f())}}}const fo=e=>t=>{const{base:n}=t,r=Dn(()=>t.children),i=Y(()=>gi(r(),t.base||""));let o;const s=co(e,i,()=>o,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(s),S(fi.Provider,{value:s,get children(){return S(ho,{routerState:s,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[fe(()=>(o=Jr())&&null),S(go,{routerState:s,get branches(){return i()}})]}})}})};function ho(e){const t=e.routerState.location,n=e.routerState.params,r=Y(()=>e.preload&&ie(()=>{e.preload({params:n,location:t,intent:lo()||"initial"})}));return S(G,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>S(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function go(e){const t=[];let n;const r=Y(On(e.routerState.matches,(i,o,s)=>{let a=o&&i.length===o.length;const l=[];for(let c=0,f=i.length;c<f;c++){const d=o&&o[c],u=i[c];s&&d&&u.route.key===d.route.key?l[c]=s[c]:(a=!1,t[c]&&t[c](),at(h=>{t[c]=h,l[c]=uo(e.routerState,l[c-1]||e.routerState.base,gr(()=>r()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(i.length).forEach(c=>c()),s&&a?s:(n=l[0],l)}));return gr(()=>r()&&n)()}const gr=e=>()=>S(G,{get when(){return e()},keyed:!0,children:t=>S(zn.Provider,{value:t,get children(){return t.outlet()}})}),be=e=>{const t=Dn(()=>e.children);return te(e,{get children(){return t()}})};function mo([e,t],n,r){return[e,r?i=>t(r(i)):t]}function po(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=mo(T(n(e.get()),{equals:(i,o)=>i.value===o.value&&i.state===o.state}),void 0,i=>(!t&&e.set(i),i));return e.init&&ce(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),fo({signal:r,create:e.create,utils:e.utils})}function wo(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function yo(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const bo=new Map;function vo(e=!0,t=!1,n="/_server",r){return i=>{const o=i.base.path(),s=i.navigatorFactory(i.base);let a,l;function c(m){return m.namespaceURI==="http://www.w3.org/2000/svg"}function f(m){if(m.defaultPrevented||m.button!==0||m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)return;const w=m.composedPath().find(M=>M instanceof Node&&M.nodeName.toUpperCase()==="A");if(!w||t&&!w.hasAttribute("link"))return;const v=c(w),b=v?w.href.baseVal:w.href;if((v?w.target.baseVal:w.target)||!b&&!w.hasAttribute("state"))return;const A=(w.getAttribute("rel")||"").split(/\s+/);if(w.hasAttribute("download")||A&&A.includes("external"))return;const C=v?new URL(b,document.baseURI):new URL(b);if(!(C.origin!==window.location.origin||o&&C.pathname&&!C.pathname.toLowerCase().startsWith(o.toLowerCase())))return[w,C]}function d(m){const w=f(m);if(!w)return;const[v,b]=w,x=i.parsePath(b.pathname+b.search+b.hash),A=v.getAttribute("state");m.preventDefault(),s(x,{resolve:!1,replace:v.hasAttribute("replace"),scroll:!v.hasAttribute("noscroll"),state:A?JSON.parse(A):void 0})}function u(m){const w=f(m);if(!w)return;const[v,b]=w;r&&(b.pathname=r(b.pathname)),i.preloadRoute(b,v.getAttribute("preload")!=="false")}function h(m){clearTimeout(a);const w=f(m);if(!w)return l=null;const[v,b]=w;l!==v&&(r&&(b.pathname=r(b.pathname)),a=setTimeout(()=>{i.preloadRoute(b,v.getAttribute("preload")!=="false"),l=v},20))}function g(m){if(m.defaultPrevented)return;let w=m.submitter&&m.submitter.hasAttribute("formaction")?m.submitter.getAttribute("formaction"):m.target.getAttribute("action");if(!w)return;if(!w.startsWith("https://action/")){const b=new URL(w,ai);if(w=i.parsePath(b.pathname+b.search),!w.startsWith(n))return}if(m.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const v=bo.get(w);if(v){m.preventDefault();const b=new FormData(m.target,m.submitter);v.call({r:i,f:m.target},m.target.enctype==="multipart/form-data"?b:new URLSearchParams(b))}}re(["click","submit"]),document.addEventListener("click",d),e&&(document.addEventListener("mousemove",h,{passive:!0}),document.addEventListener("focusin",u,{passive:!0}),document.addEventListener("touchstart",u,{passive:!0})),document.addEventListener("submit",g),ce(()=>{document.removeEventListener("click",d),e&&(document.removeEventListener("mousemove",h),document.removeEventListener("focusin",u),document.removeEventListener("touchstart",u)),document.removeEventListener("submit",g)})}}function xo(e){const t=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,i=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:i}},n=oi();return po({get:t,set({value:r,replace:i,scroll:o,state:s}){i?window.history.replaceState(Qs(s),"",r):window.history.pushState(s,"",r),yo(decodeURIComponent(window.location.hash.slice(1)),o),Un()},init:r=>wo(window,"popstate",Xs(r,i=>{if(i&&i<0)return!n.confirm(i);{const o=t();return!n.confirm(o.value,{state:o.state})}})),create:vo(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}var _o=N("<a>");function Me(e){e=te({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=ri(e,["href","state","class","activeClass","inactiveClass","end"]),n=no(()=>e.href),r=ro(n),i=io(),o=Y(()=>{const s=n();if(s===void 0)return[!1,!1];const a=je(s.split(/[?#]/,1)[0]).toLowerCase(),l=decodeURI(je(i.pathname).toLowerCase());return[e.end?a===l:l.startsWith(a+"/")||l===a,a===l]});return(()=>{var s=_o();return Se(s,te(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!o()[0],[e.activeClass]:o()[0],...t.classList}},link:"",get"aria-current"(){return o()[1]?"page":void 0}}),!1,!1),s})()}const $n=Symbol("store-raw"),He=Symbol("store-node"),xe=Symbol("store-has"),mi=Symbol("store-self");function pi(e){let t=e[le];if(!t&&(Object.defineProperty(e,le,{value:t=new Proxy(e,So)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const s=n[i];r[s].get&&Object.defineProperty(e,s,{enumerable:r[s].enumerable,get:r[s].get.bind(t)})}}return t}function Dt(e){let t;return e!=null&&typeof e=="object"&&(e[le]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function dt(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[$n])return n;if(!Dt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,a=e.length;s<a;s++)i=e[s],(r=dt(i,t))!==i&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,c=s.length;l<c;l++)o=s[l],!a[o].get&&(i=e[o],(r=dt(i,t))!==i&&(e[o]=r))}return e}function Ft(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ht(e,t,n){if(e[t])return e[t];const[r,i]=T(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function $o(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===le||t===He||(delete n.value,delete n.writable,n.get=()=>e[le][t]),n}function wi(e){yn()&&ht(Ft(e,He),mi)()}function ko(e){return wi(e),Reflect.ownKeys(e)}const So={get(e,t,n){if(t===$n)return e;if(t===le)return n;if(t===wn)return wi(e),n;const r=Ft(e,He),i=r[t];let o=i?i():e[t];if(t===He||t===xe||t==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,t);yn()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(o=ht(r,t,o)())}return Dt(o)?pi(o):o},has(e,t){return t===$n||t===le||t===wn||t===He||t===xe||t==="__proto__"?!0:(yn()&&ht(Ft(e,xe),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:ko,getOwnPropertyDescriptor:$o};function Bt(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?(delete e[t],e[xe]&&e[xe][t]&&i!==void 0&&e[xe][t].$()):(e[t]=n,e[xe]&&e[xe][t]&&i===void 0&&e[xe][t].$());let s=Ft(e,He),a;if((a=ht(s,t,i))&&a.$(()=>n),Array.isArray(e)&&e.length!==o){for(let l=e.length;l<o;l++)(a=s[l])&&a.$();(a=ht(s,"length",o))&&a.$(e.length)}(a=s[mi])&&a.$()}function yi(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Bt(e,i,t[i])}}function Co(e,t){if(typeof t=="function"&&(t=t(e)),t=dt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Bt(e,n,i)}Bt(e,"length",r)}else yi(e,t)}function tt(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const s=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)tt(e,[r[l]].concat(t),n);return}else if(a&&s==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&tt(e,[l].concat(t),n);return}else if(a&&s==="object"){const{from:l=0,to:c=e.length-1,by:f=1}=r;for(let d=l;d<=c;d+=f)tt(e,[d].concat(t),n);return}else if(t.length>1){tt(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=dt(o),r===void 0||Dt(i)&&Dt(o)&&!Array.isArray(o)?yi(i,o):Bt(e,r,o))}function Ao(...[e,t]){const n=dt(e||{}),r=Array.isArray(n),i=pi(n);function o(...s){Gr(()=>{r&&s.length===1?Co(n,s[0]):tt(n,s)})}return[i,o]}var Po=N('<main class="flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4"><div class="max-w-xl w-full text-center py-12"><h1 class="text-4xl font-bold mb-4 text-blue-700">CoRATES</h1><p class="text-lg text-gray-700 mb-6">Collaborative Research Appraisal Tool for Evidence Synthesis</p><p class="mb-8 text-gray-600">Interactively fill out and score AMSTAR 2 checklists for systematic reviews.<br>Works fully offline, saves your work automatically, and helps you visualize results.</p><div class="flex flex-col gap-4"></div><div class="mt-10 text-xs text-gray-400"><a href=https://github.com/InfinityBowman/amstar2-checklist-scoring-app target=_blank rel=noopener>View on GitHub');function Eo(){return(()=>{var e=Po(),t=e.firstChild,n=t.firstChild,r=n.nextSibling,i=r.nextSibling,o=i.nextSibling;return p(o,S(Me,{href:"/dashboard",class:"bg-blue-600 text-white py-3 px-6 rounded shadow hover:bg-blue-700 transition",children:"Go to Dashboard"}),null),p(o,S(Me,{href:"/signin",class:"bg-white border border-blue-600 text-blue-700 py-3 px-6 rounded shadow hover:bg-blue-50 transition",children:"Sign In"}),null),p(o,S(Me,{href:"/signup",class:"bg-white border border-green-600 text-green-700 py-3 px-6 rounded shadow hover:bg-green-50 transition",children:"Create Account"}),null),e})()}const X={q1:{text:"1. Did the research questions and inclusion criteria for the review include the components of PICO?",columns:[{label:"For Yes:",options:["Population","Intervention","Comparator group","Outcome"]},{label:"Optional (recommended):",options:["Timeframe for follow-up"]},{label:"",options:["Yes","No"]}]},q2:{text:"2. Did the report of the review contain an explicit statement that the review methods were established prior to the conduct of the review and did the report justify any significant deviations from the protocol?",columns:[{label:"For Partial Yes:",description:"The authors state that they had a written protocol or guide that included ALL the following:",options:["review question(s)","a search strategy","inclusion/exclusion criteria","risk of bias assessment"]},{label:"For Yes:",description:"As for Partial Yes, plus the protocol should be registered and should also have specified:",options:["a meta-analysis/synthesis plan, if appropriate, and","a plan for investigating causes of heterogeneity","a plan for investigating causes of heterogeneity"]},{label:"",description:"",options:["Yes","Partial Yes","No"]}]},q3:{text:"3. Did the review authors explain their selection of the study designs for inclusion in the review?",columns:[{label:"For Yes, the review should satisfy ONE of the following:",options:["Explanation for including only RCTs ","OR Explanation for including only NRSI","OR Explanation for including both RCTs and NRSI"]},{label:"",options:["Yes","No"]}]},q4:{text:"4. Did the review authors use a comprehensive literature search strategy? ",columns:[{label:"For Partial Yes (all the following):",options:["searched at least 2 databases (relevant to research question)","provided key word and/or search strategy","justified publication restrictions (e.g. language)"]},{label:"For Yes, should also have (all the following):",options:["searched the reference lists / bibliographies of included studies","searched trial/study registries","included/consulted content experts in the field","where relevant, searched for grey literature","conducted search within 24 months of completion of the review"]},{label:"",options:["Yes","Partial Yes","No"]}]},q5:{text:"5. Did the review authors perform study selection in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q6:{text:"6. Did the review authors perform data extraction in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q7:{text:"7. Did the review authors provide a list of excluded studies and justify the exclusions?",columns:[{label:"For Partial Yes:",options:["provided a list of all potentially relevant studies that were read in full-text form but excluded from the review"]},{label:"For Yes, must also have:",options:["Justified the exclusion from the review of each potentially relevant study"]},{label:"",options:["Yes","Partial Yes","No"]}]},q8:{text:"8. Did the review authors describe the included studies in adequate detail?",columns:[{label:"For Partial Yes (ALL the following):",options:["described populations","described interventions","described comparators","described outcomes","described research designs"]},{label:"For Yes, should also have ALL the following:",options:["described population in detail","described comparator in detail (including doses where relevant)","described studyâ€™s setting in detail","timeframe for follow-up"]},{label:"",options:["Yes","Partial Yes","No"]}]},q9:{text:"9. Did the review authors use a satisfactory technique for assessing the risk of bias (RoB) in individual studies that were included in the review?",subtitle:"RCTs",columns:[{label:"For Partial Yes, must have assessed RoB from",options:["unconcealed allocation, and","lack of blinding of patients and assessors when assessing outcomes (unnecessary for objective outcomes such as all-cause mortality)"]},{label:"For Yes, must also have assessed RoB from:",options:["allocation sequence that was not truly random, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",description:"",options:["Yes","Partial Yes","No"," Includes only NRSI"]}],subtitle2:"NRSI",columns2:[{label:"For Partial Yes, must have assessed RoB:",options:["from confounding, and","from selection bias"]},{label:"For Yes, must also have assessed RoB:",options:["methods used to ascertain exposures and outcomes, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",options:["Yes","Partial Yes","No","Includes only RCTs"]}]},q10:{text:"10. Did the review authors report on the sources of funding for the studies included in the review?",columns:[{label:"For Yes:",options:["Must have reported on the sources of funding for individual studies included in the review. Note: Reporting that the reviewers looked for this information but it was not reported by study authors also qualifies"]},{label:"",options:["Yes","No"]}]},q11:{text:"11. If meta-analysis was performed did the review authors use appropriate methods for statistical combination of results?",subtitle:"RCTs",columns:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results and adjusted for heterogeneity if present.","AND investigated the causes of any heterogeneity"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}],subtitle2:"NRSI",columns2:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results, adjusting for heterogeneity if present","AND they statistically combined effect estimates from NRSI that were adjusted for confounding, rather than combining raw data, or justified combining raw data when adjusted effect estimates were not available","AND they reported separate summary estimates for RCTs and NRSI separately when both were included in the review"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q12:{text:"12. If meta-analysis was performed, did the review authors assess the potential impact of RoB in individual studies on the results of the meta-analysis or other evidence synthesis?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if the pooled estimate was based on RCTs and/or NRSI at variable RoB, the authors performed analyses to investigate possible impact of RoB on summary estimates of effect."]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q13:{text:"13. Did the review authors account for RoB in individual studies when interpreting/ discussing the results of the review?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if RCTs with moderate or high RoB, or NRSI were included the review provided a discussion of the likely impact of RoB on the results"]},{label:"",options:["Yes","No"]}]},q14:{text:"14. Did the review authors provide a satisfactory explanation for, and discussion of, any heterogeneity observed in the results of the review?",columns:[{label:"For Yes:",options:["There was no significant heterogeneity in the results","OR if heterogeneity was present the authors performed an investigation of sources of any heterogeneity in the results and discussed the impact of this on the results of the review"]},{label:"",options:["Yes","No"]}]},q15:{text:"15. If they performed quantitative synthesis did the review authors carry out an adequate investigation of publication bias (small study bias) and discuss its likely impact on the results of the review?",columns:[{label:"For Yes:",options:["performed graphical or statistical tests for publication bias and discussed the likelihood and magnitude of impact of publication bias"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q16:{text:"16. Did the review authors report any potential sources of conflict of interest, including any funding they received for conducting the review?",options:["Yes","Partial Yes","No"],columns:[{label:"For Yes:",options:["The authors reported no competing interests OR","The authors described their funding sources and how they managed potential conflicts of interest"]},{label:"",options:["Yes","No"]}]}},No="corates-app-db",Ae="checklists",ge="projects",Ro=1;function lt(e){return JSON.parse(JSON.stringify(e))}function Fe(){return new Promise((e,t)=>{const n=indexedDB.open(No,Ro);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(Ae)||r.createObjectStore(Ae,{keyPath:"id"}),r.objectStoreNames.contains(ge)||r.createObjectStore(ge,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function kn(e){const t=await Fe();return e=lt(e),new Promise((n,r)=>{const i=t.transaction(Ae,"readwrite");i.objectStore(Ae).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function Mo(){const e=await Fe();return new Promise((t,n)=>{const o=e.transaction(Ae,"readonly").objectStore(Ae).getAll();o.onsuccess=()=>t(o.result),o.onerror=()=>n(o.error)})}async function qo(e){const t=await Fe();return new Promise((n,r)=>{const i=t.transaction(Ae,"readwrite");i.objectStore(Ae).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function tn(e){const t=await Fe();return e=lt(e),new Promise((n,r)=>{const i=t.transaction(ge,"readwrite");i.objectStore(ge).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function bi(e){const t=await Fe();return new Promise((n,r)=>{const o=t.transaction(ge,"readonly").objectStore(ge).get(e);o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error)})}async function jo(){const e=await Fe();return new Promise((t,n)=>{const o=e.transaction(ge,"readonly").objectStore(ge).getAll();o.onsuccess=()=>t(o.result),o.onerror=()=>n(o.error)})}async function To(e,t){try{const n=await bi(e);if(!n)throw new Error(`Project with ID ${e} not found`);return n.checklists=n.checklists.filter(r=>r.id!==t),await tn(n),!0}catch(n){throw console.error("Error deleting checklist from project:",n),n}}async function mr(e,t){try{await kn(t);const n=await bi(e);if(!n)throw new Error(`Project with ID ${e} not found`);const r=n.checklists.findIndex(i=>i.id===t.id);return r>=0?n.checklists[r]=lt(t):(console.log("Adding new checklist to project",lt(t)),n.checklists.push(lt(t))),await tn(n),n}catch(n){throw console.error("Error saving checklist to project:",n),n}}async function Oo(e){const t=await Fe();return new Promise((n,r)=>{const i=t.transaction(ge,"readwrite");i.objectStore(ge).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}function Sn(){return crypto.randomUUID()}const vi=It();function Lo(e){const[t,n]=Ao({projects:[],currentProject:null,currentChecklist:null,loading:!0,checklists:[]});async function r(){try{n("loading",!0);const u=await jo();u.sort((g,m)=>(g.createdAt||0)-(m.createdAt||0)),n("projects",u);const h=await Mo();n("checklists",h)}catch(u){throw console.error("Error loading IndexedDB data:",u),u}finally{n("loading",!1)}}async function i(u){try{return await tn(u),n("projects",h=>[...h,u]),u}catch(h){throw console.error("Error adding project:",h),h}}async function o(u){try{return await Oo(u),n("projects",h=>h.filter(g=>g.id!==u)),t.currentProject?.id===u&&(n("currentProject",null),n("currentChecklist",null)),!0}catch(h){throw console.error("Error deleting project:",h),h}}function s(u){n("projects",u)}function a(u){let h=null;if(typeof u=="object"&&u!==null){if("project"in u&&u.project)h={...u.project};else if("id"in u)h=t.projects.find(g=>g.id===u.id);else if("name"in u){const g=t.projects.filter(m=>m.name===u.name);h=g[u.index??0]?{...g[u.index??0]}:null}}else typeof u=="string"&&(h=t.projects.find(g=>g.id===u),h||(h=t.projects.find(g=>g.name===u)),h=h?{...h}:null);n("currentProject",h),n("currentChecklist",{...h?.checklists?.[0]??null})}function l(u){let h=null;if(typeof u=="string"){for(const g of t.projects){const m=g.checklists.find(w=>w.id===u);if(m){h={...m};break}}if(!h){const g=t.checklists.find(m=>m.id===u);g&&(h={...g})}if(!h){console.warn(`setCurrentChecklist: Checklist with ID "${u}" not found.`),n("currentChecklist",null);return}}else if(typeof u=="object")h={...u};else{n("currentChecklist",null);return}n("currentChecklist",h)}async function c(u,h){if(u===null)try{return await kn(h),n("checklists",g=>[...g,h]),h}catch(g){throw console.error("Error adding checklist without project:",g),g}try{const g=await mr(u,h),m=t.projects.findIndex(w=>w.id===u);return m!==-1&&n("projects",m,g),h}catch(g){throw console.error("Error adding checklist:",g),g}}async function f(u){try{const h=t.projects.findIndex(g=>g.checklists.some(m=>m.id===u.id));if(h>=0){const g=t.projects[h].id;return await mr(g,u),n("projects",h,"checklists",m=>{const w=m.findIndex(v=>v.id===u.id);return w>=0?[...m.slice(0,w),{...u},...m.slice(w+1)]:m}),t.currentChecklist?.id===u.id&&n("currentChecklist",{...u}),u}else{const g=t.checklists.findIndex(m=>m.id===u.id);if(g>=0)return await kn(u),n("checklists",g,{...u}),t.currentChecklist?.id===u.id&&n("currentChecklist",{...u}),u;throw console.warn("Could not find checklist:",u.id),new Error(`Could not find checklist: ${u.id}`)}}catch(h){throw console.error("Error updating checklist:",h),h}}async function d(u,h){if(u===null)try{return await qo(h),n("checklists",g=>g.filter(m=>m.id!==h)),t.currentChecklist?.id===h&&n("currentChecklist",null),!0}catch(g){return console.error("Error adding checklist without project:",g),!1}try{await To(u,h);const g=t.projects.findIndex(m=>m.id===u);if(g>=0&&(n("projects",g,"checklists",m=>m.filter(w=>w.id!==h)),t.currentChecklist?.id===h)){const m=t.projects[g];n("currentChecklist",m.checklists.length>0?m.checklists[0]:null)}return!0}catch(g){return console.error("Error removing checklist:",g),!1}}return S(vi.Provider,{value:{projects:()=>t.projects,currentProject:()=>t.currentProject,currentChecklist:()=>t.currentChecklist,loading:()=>t.loading,checklists:()=>t.checklists,loadData:r,setProjects:s,addProject:i,deleteProject:o,setCurrentProject:a,setCurrentChecklist:l,addChecklist:c,updateChecklist:f,deleteChecklist:d},get children(){return e.children}})}function Ie(){return wt(vi)}var ee=N('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="flex gap-6">'),Oe=N('<div><div class="font-medium text-gray-800 mb-2 h-6"></div><div class="flex flex-col gap-2">'),W=N('<label class="flex items-center space-x-2"><input type=checkbox class="w-4 h-4 shrink-0 text-blue-600 border-gray-300 focus:ring-blue-500"><span class=text-gray-700>'),Do=N('<div><div class="font-medium text-gray-800 mb-2 h-6"></div><div class="font-light text-gray-800 mb-4 h-12"></div><div class="flex flex-col gap-2">'),me=N('<div><div class="font-medium text-gray-800 h-8"></div><div class="flex flex-col gap-2">'),xi=N('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6"></div><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6">'),Fo=N("<div class=space-y-6>"),Bo=N('<div class="min-h-screen bg-linear-to-br from-blue-50 to-indigo-100"><div class="container mx-auto px-4 py-8 max-w-7xl"><div class="bg-white rounded-lg shadow-lg p-8 mb-8"><h1 class="text-3xl font-bold text-gray-900 mb-2">AMSTAR 2 Checklist</h1><p class="text-gray-600 mb-6">App description here</p><div class="grid md:grid-cols-3 gap-4 mb-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Title</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter review title"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Reviewer Name</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter your name"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Date</label><input type=date class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">'),Uo=N("<div>Loading...");function zo(e){const t=()=>e.checklistState().q1.answers,n=X.q1;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].every(Boolean);s[2][0]=l,s[2][1]=!l}i===2&&(o===0&&s[2][0]&&(s[2][1]=!1),o===1&&s[2][1]&&(s[2][0]=!1));const a={...e.checklistState().q1,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Oe(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Yo(e){const t=()=>e.checklistState().q2.answers,n=X.q2;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q2,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Do(),f=c.firstChild,d=f.nextSibling,u=d.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.description),p(u,()=>a.options.map((h,g)=>(()=>{var m=W(),w=m.firstChild,v=w.nextSibling;return j(m,"key",g),w.addEventListener("change",()=>r(l,g)),p(v,h),P(()=>w.checked=t()[l][g]),m})())),P(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Vo(e){const t=()=>e.checklistState().q3.answers,n=X.q3;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q3,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=me(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Ho(e){const t=()=>e.checklistState().q4.answers,n=X.q4;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q4,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Oe(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Qo(e){const t=()=>e.checklistState().q5.answers,n=X.q5;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q5,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Oe(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Xo(e){const t=()=>e.checklistState().q6.answers,n=X.q6;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q6,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=me(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Wo(e){const t=()=>e.checklistState().q7.answers,n=X.q7;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q7,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Oe(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Ko(e){const t=()=>e.checklistState().q8.answers,n=X.q8;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q8,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Oe(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Go(e){const t=()=>e.checklistState().q9a.answers,n=()=>e.checklistState().q9b.answers,r=X.q9;function i(s,a){const l=t().map(f=>[...f]);if(l[s][a]=!t()[s][a],s===0||s===1){const f=l[0].every(Boolean),d=f&&l[1].every(Boolean);l[2][0]=d,l[2][1]=!d&&f,l[2][2]=!d&&!f,l[2][3]=!1}s===2&&(l[2]=l[2].map((f,d)=>d===a?!t()[2][a]:!1));const c={...e.checklistState().q9a,answers:l};e.onUpdatea(c)}function o(s,a){const l=n().map(f=>[...f]);if(l[s][a]=!n()[s][a],s===0||s===1){const f=l[0].every(Boolean),d=f&&l[1].every(Boolean);l[2][0]=d,l[2][1]=!d&&f,l[2][2]=!d&&!f,l[2][3]=!1}s===2&&(l[2]=l[2].map((f,d)=>d===a?!n()[2][a]:!1));const c={...e.checklistState().q9b,answers:l};e.onUpdateb(c)}return(()=>{var s=xi(),a=s.firstChild,l=a.nextSibling,c=l.nextSibling,f=c.nextSibling,d=f.nextSibling;return p(a,()=>r.text),p(l,()=>r.subtitle),p(c,()=>r.columns.map((u,h)=>(()=>{var g=Oe(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),p(m,()=>u.label),p(w,()=>u.options.map((v,b)=>(()=>{var x=W(),A=x.firstChild,C=A.nextSibling;return j(x,"key",b),A.addEventListener("change",()=>i(h,b)),p(C,v),P(()=>A.checked=t()[h][b]),x})())),P(()=>g.className=h===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),g})())),p(f,()=>r.subtitle2),p(d,()=>r.columns2.map((u,h)=>(()=>{var g=Oe(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),p(m,()=>u.label),p(w,()=>u.options.map((v,b)=>(()=>{var x=W(),A=x.firstChild,C=A.nextSibling;return j(x,"key",b),A.addEventListener("change",()=>o(h,b)),p(C,v),P(()=>A.checked=n()[h][b]),x})())),P(()=>g.className=h===r.columns2.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),g})())),s})()}function Jo(e){const t=()=>e.checklistState().q10.answers,n=X.q10;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q10,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=me(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Zo(e){const t=()=>e.checklistState().q11a.answers,n=()=>e.checklistState().q11b.answers,r=X.q11;function i(s,a){const l=t().map(f=>[...f]);if(l[s][a]=!t()[s][a],s===0){const f=l[0].every(Boolean);l[1][0]=f,l[1][1]=!f,l[1][2]=!1}s===1&&(l[1]=l[1].map((f,d)=>d===a?!t()[1][a]:!1));const c={...e.checklistState().q11a,answers:l};e.onUpdatea(c)}function o(s,a){const l=n().map(f=>[...f]);if(l[s][a]=!n()[s][a],s===0){const f=l[0].every(Boolean);l[1][0]=f,l[1][1]=!f,l[1][2]=!1}s===1&&(l[1]=l[1].map((f,d)=>d===a?!n()[1][a]:!1));const c={...e.checklistState().q11b,answers:l};e.onUpdateb(c)}return(()=>{var s=xi(),a=s.firstChild,l=a.nextSibling,c=l.nextSibling,f=c.nextSibling,d=f.nextSibling;return p(a,()=>r.text),p(l,()=>r.subtitle),p(c,()=>r.columns.map((u,h)=>(()=>{var g=me(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),p(m,()=>u.label),p(w,()=>u.options.map((v,b)=>(()=>{var x=W(),A=x.firstChild,C=A.nextSibling;return j(x,"key",b),A.addEventListener("change",()=>i(h,b)),p(C,v),P(()=>A.checked=t()[h][b]),x})())),P(()=>g.className=h===r.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),g})())),p(f,()=>r.subtitle2),p(d,()=>r.columns2.map((u,h)=>(()=>{var g=me(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),p(m,()=>u.label),p(w,()=>u.options.map((v,b)=>(()=>{var x=W(),A=x.firstChild,C=A.nextSibling;return j(x,"key",b),A.addEventListener("change",()=>o(h,b)),p(C,v),P(()=>A.checked=n()[h][b]),x})())),P(()=>g.className=h===r.columns2.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),g})())),s})()}function Io(e){const t=()=>e.checklistState().q12.answers,n=X.q12;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l,s[1][2]=!1}i===1&&(s[1]=s[1].map((l,c)=>c===o?!t()[1][o]:!1));const a={...e.checklistState().q12,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=me(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function ea(e){const t=()=>e.checklistState().q13.answers,n=X.q13;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q13,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=me(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function ta(e){const t=()=>e.checklistState().q14.answers,n=X.q14;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q14,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=me(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function na(e){const t=()=>e.checklistState().q15.answers,n=X.q15;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l,s[1][2]=!1}i===1&&(s[1]=s[1].map((l,c)=>c===o?!t()[1][o]:!1));const a={...e.checklistState().q15,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=me(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function ra(e){const t=()=>e.checklistState().q16.answers,n=X.q16;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q16,answers:s};e.onUpdate(a)}return(()=>{var i=ee(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=me(),f=c.firstChild,d=f.nextSibling;return j(c,"key",l),p(f,()=>a.label),p(d,()=>a.options.map((u,h)=>(()=>{var g=W(),m=g.firstChild,w=m.nextSibling;return j(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(w,u),P(()=>m.checked=t()[l][h]),g})())),P(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function ia(){const[e,t]=T(""),[n,r]=T(""),[i,o]=T(""),{currentChecklist:s,setCurrentChecklist:a,updateChecklist:l,loading:c}=Ie(),f=di();J(()=>{f.id&&f.id!==s()?.id&&a(f.id),s()||(console.warn("AMSTAR2Checklist: No current checklist found for id",f.id),navigate("/dashboard"))}),J(()=>{s()&&(t(s().name||s().title||""),r(s().reviewerName||""),o(s().reviewDate||""))});const d=u=>{const h={...s(),...u};l(h)};return(()=>{var u=Bo(),h=u.firstChild,g=h.firstChild,m=g.firstChild,w=m.nextSibling,v=w.nextSibling,b=v.firstChild,x=b.firstChild,A=x.nextSibling,C=b.nextSibling,M=C.firstChild,L=M.nextSibling,$=C.nextSibling,k=$.firstChild,E=k.nextSibling;return A.addEventListener("change",y=>{t(y.target.value),d({title:y.target.value})}),L.addEventListener("change",y=>{r(y.target.value),d({reviewerName:y.target.value})}),E.addEventListener("change",y=>{o(y.target.value),d({reviewDate:y.target.value})}),p(h,S(G,{get when(){return fe(()=>!c())()&&s()},get fallback(){return Uo()},get children(){var y=Fo();return p(y,S(zo,{onUpdate:_=>d({q1:_}),checklistState:s}),null),p(y,S(Yo,{onUpdate:_=>d({q2:_}),checklistState:s}),null),p(y,S(Vo,{onUpdate:_=>d({q3:_}),checklistState:s}),null),p(y,S(Ho,{onUpdate:_=>d({q4:_}),checklistState:s}),null),p(y,S(Qo,{onUpdate:_=>d({q5:_}),checklistState:s}),null),p(y,S(Xo,{onUpdate:_=>d({q6:_}),checklistState:s}),null),p(y,S(Wo,{onUpdate:_=>d({q7:_}),checklistState:s}),null),p(y,S(Ko,{onUpdate:_=>d({q8:_}),checklistState:s}),null),p(y,S(Go,{onUpdatea:_=>d({q9a:_}),onUpdateb:_=>d({q9b:_}),checklistState:s}),null),p(y,S(Jo,{onUpdate:_=>d({q10:_}),checklistState:s}),null),p(y,S(Zo,{onUpdatea:_=>d({q11a:_}),onUpdateb:_=>d({q11b:_}),checklistState:s}),null),p(y,S(Io,{onUpdate:_=>d({q12:_}),checklistState:s}),null),p(y,S(ea,{onUpdate:_=>d({q13:_}),checklistState:s}),null),p(y,S(ta,{onUpdate:_=>d({q14:_}),checklistState:s}),null),p(y,S(na,{onUpdate:_=>d({q15:_}),checklistState:s}),null),p(y,S(ra,{onUpdate:_=>d({q16:_}),checklistState:s}),null),y}}),null),P(()=>A.value=e()),P(()=>L.value=n()),P(()=>E.value=i()),u})()}function Et(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function sa(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _i(e){let t,n,r;e.length!==2?(t=Et,n=(a,l)=>Et(e(a),l),r=(a,l)=>e(a)-l):(t=e===Et||e===sa?e:oa,n=e,r=e);function i(a,l,c=0,f=a.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;n(a[d],l)<0?c=d+1:f=d}while(c<f)}return c}function o(a,l,c=0,f=a.length){if(c<f){if(t(l,l)!==0)return f;do{const d=c+f>>>1;n(a[d],l)<=0?c=d+1:f=d}while(c<f)}return c}function s(a,l,c=0,f=a.length){const d=i(a,l,c,f-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function oa(){return 0}function aa(e){return e===null?NaN:+e}const la=_i(Et),ca=la.right;_i(aa).center;class pr extends Map{constructor(t,n=da){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(wr(this,t))}has(t){return super.has(wr(this,t))}set(t,n){return super.set(ua(this,t),n)}delete(t){return super.delete(fa(this,t))}}function wr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function ua({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function fa({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function da(e){return e!==null&&typeof e=="object"?e.valueOf():e}const ha=Math.sqrt(50),ga=Math.sqrt(10),ma=Math.sqrt(2);function Ut(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=ha?10:o>=ga?5:o>=ma?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Ut(e,t,n*2):[a,l,c]}function pa(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?Ut(t,e,n):Ut(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function Cn(e,t,n){return t=+t,e=+e,n=+n,Ut(e,t,n)[2]}function wa(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Cn(t,e,n):Cn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function $i(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function ya(e){return e}var ba=3,yr=1e-6;function va(e){return"translate("+e+",0)"}function xa(e){return t=>+e(t)}function _a(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function $a(){return!this.__axis}function ka(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,f="y",d=va;function u(h){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):ya),w=Math.max(o,0)+a,v=t.range(),b=+v[0]+l,x=+v[v.length-1]+l,A=(t.bandwidth?_a:xa)(t.copy(),l),C=h.selection?h.selection():h,M=C.selectAll(".domain").data([null]),L=C.selectAll(".tick").data(g,t).order(),$=L.exit(),k=L.enter().append("g").attr("class","tick"),E=L.select("line"),y=L.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),L=L.merge(k),E=E.merge(k.append("line").attr("stroke","currentColor").attr(f+"2",c*o)),y=y.merge(k.append("text").attr("fill","currentColor").attr(f,c*w).attr("dy","0.71em")),h!==C&&(M=M.transition(h),L=L.transition(h),E=E.transition(h),y=y.transition(h),$=$.transition(h).attr("opacity",yr).attr("transform",function(_){return isFinite(_=A(_))?d(_+l):this.getAttribute("transform")}),k.attr("opacity",yr).attr("transform",function(_){var q=this.parentNode.__axis;return d((q&&isFinite(q=q(_))?q:A(_))+l)})),$.remove(),M.attr("d",s?"M"+b+","+c*s+"V"+l+"H"+x+"V"+c*s:"M"+b+","+l+"H"+x),L.attr("opacity",1).attr("transform",function(_){return d(A(_)+l)}),E.attr(f+"2",c*o),y.attr(f,c*w).text(m),C.filter($a).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),C.each(function(){this.__axis=A})}return u.scale=function(h){return arguments.length?(t=h,u):t},u.ticks=function(){return n=Array.from(arguments),u},u.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),u):n.slice()},u.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),u):r&&r.slice()},u.tickFormat=function(h){return arguments.length?(i=h,u):i},u.tickSize=function(h){return arguments.length?(o=s=+h,u):o},u.tickSizeInner=function(h){return arguments.length?(o=+h,u):o},u.tickSizeOuter=function(h){return arguments.length?(s=+h,u):s},u.tickPadding=function(h){return arguments.length?(a=+h,u):a},u.offset=function(h){return arguments.length?(l=+h,u):l},u}function Sa(e){return ka(ba,e)}var Ca={value:()=>{}};function ki(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Nt(n)}function Nt(e){this._=e}function Aa(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Nt.prototype=ki.prototype={constructor:Nt,on:function(e,t){var n=this._,r=Aa(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=Pa(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=br(n[i],e.name,t);else if(t==null)for(i in n)n[i]=br(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Nt(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function Pa(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function br(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ca,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var An="http://www.w3.org/1999/xhtml";const vr={svg:"http://www.w3.org/2000/svg",xhtml:An,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function nn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),vr.hasOwnProperty(t)?{space:vr[t],local:e}:e}function Ea(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===An&&t.documentElement.namespaceURI===An?t.createElement(e):t.createElementNS(n,e)}}function Na(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Si(e){var t=nn(e);return(t.local?Na:Ea)(t)}function Ra(){}function Yn(e){return e==null?Ra:function(){return this.querySelector(e)}}function Ma(e){typeof e!="function"&&(e=Yn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,f=0;f<s;++f)(l=o[f])&&(c=e.call(l,l.__data__,f,o))&&("__data__"in l&&(c.__data__=l.__data__),a[f]=c);return new ne(r,this._parents)}function qa(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ja(){return[]}function Ci(e){return e==null?ja:function(){return this.querySelectorAll(e)}}function Ta(e){return function(){return qa(e.apply(this,arguments))}}function Oa(e){typeof e=="function"?e=Ta(e):e=Ci(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new ne(r,i)}function Ai(e){return function(){return this.matches(e)}}function Pi(e){return function(t){return t.matches(e)}}var La=Array.prototype.find;function Da(e){return function(){return La.call(this.children,e)}}function Fa(){return this.firstElementChild}function Ba(e){return this.select(e==null?Fa:Da(typeof e=="function"?e:Pi(e)))}var Ua=Array.prototype.filter;function za(){return Array.from(this.children)}function Ya(e){return function(){return Ua.call(this.children,e)}}function Va(e){return this.selectAll(e==null?za:Ya(typeof e=="function"?e:Pi(e)))}function Ha(e){typeof e!="function"&&(e=Ai(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new ne(r,this._parents)}function Ei(e){return new Array(e.length)}function Qa(){return new ne(this._enter||this._groups.map(Ei),this._parents)}function zt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}zt.prototype={constructor:zt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Xa(e){return function(){return e}}function Wa(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new zt(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Ka(e,t,n,r,i,o,s){var a,l,c=new Map,f=t.length,d=o.length,u=new Array(f),h;for(a=0;a<f;++a)(l=t[a])&&(u[a]=h=s.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(l=c.get(h))?(r[a]=l,l.__data__=o[a],c.delete(h)):n[a]=new zt(e,o[a]);for(a=0;a<f;++a)(l=t[a])&&c.get(u[a])===l&&(i[a]=l)}function Ga(e){return e.__data__}function Ja(e,t){if(!arguments.length)return Array.from(this,Ga);var n=t?Ka:Wa,r=this._parents,i=this._groups;typeof e!="function"&&(e=Xa(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var f=r[c],d=i[c],u=d.length,h=Za(e.call(f,f&&f.__data__,c,r)),g=h.length,m=a[c]=new Array(g),w=s[c]=new Array(g),v=l[c]=new Array(u);n(f,d,m,w,v,h,t);for(var b=0,x=0,A,C;b<g;++b)if(A=m[b]){for(b>=x&&(x=b+1);!(C=w[x])&&++x<g;);A._next=C||null}}return s=new ne(s,r),s._enter=a,s._exit=l,s}function Za(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ia(){return new ne(this._exit||this._groups.map(Ei),this._parents)}function el(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function tl(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],f=r[l],d=c.length,u=a[l]=new Array(d),h,g=0;g<d;++g)(h=c[g]||f[g])&&(u[g]=h);for(;l<i;++l)a[l]=n[l];return new ne(a,this._parents)}function nl(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function rl(e){e||(e=il);function t(d,u){return d&&u?e(d.__data__,u.__data__):!d-!u}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,f=0;f<a;++f)(c=s[f])&&(l[f]=c);l.sort(t)}return new ne(i,this._parents).order()}function il(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function sl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ol(){return Array.from(this)}function al(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function ll(){let e=0;for(const t of this)++e;return e}function cl(){return!this.node()}function ul(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function fl(e){return function(){this.removeAttribute(e)}}function dl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function hl(e,t){return function(){this.setAttribute(e,t)}}function gl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ml(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function pl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function wl(e,t){var n=nn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?dl:fl:typeof t=="function"?n.local?pl:ml:n.local?gl:hl)(n,t))}function Ni(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function yl(e){return function(){this.style.removeProperty(e)}}function bl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function vl(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function xl(e,t,n){return arguments.length>1?this.each((t==null?yl:typeof t=="function"?vl:bl)(e,t,n??"")):We(this.node(),e)}function We(e,t){return e.style.getPropertyValue(t)||Ni(e).getComputedStyle(e,null).getPropertyValue(t)}function _l(e){return function(){delete this[e]}}function $l(e,t){return function(){this[e]=t}}function kl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Sl(e,t){return arguments.length>1?this.each((t==null?_l:typeof t=="function"?kl:$l)(e,t)):this.node()[e]}function Ri(e){return e.trim().split(/^|\s+/)}function Vn(e){return e.classList||new Mi(e)}function Mi(e){this._node=e,this._names=Ri(e.getAttribute("class")||"")}Mi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function qi(e,t){for(var n=Vn(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function ji(e,t){for(var n=Vn(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Cl(e){return function(){qi(this,e)}}function Al(e){return function(){ji(this,e)}}function Pl(e,t){return function(){(t.apply(this,arguments)?qi:ji)(this,e)}}function El(e,t){var n=Ri(e+"");if(arguments.length<2){for(var r=Vn(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Pl:t?Cl:Al)(n,t))}function Nl(){this.textContent=""}function Rl(e){return function(){this.textContent=e}}function Ml(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function ql(e){return arguments.length?this.each(e==null?Nl:(typeof e=="function"?Ml:Rl)(e)):this.node().textContent}function jl(){this.innerHTML=""}function Tl(e){return function(){this.innerHTML=e}}function Ol(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ll(e){return arguments.length?this.each(e==null?jl:(typeof e=="function"?Ol:Tl)(e)):this.node().innerHTML}function Dl(){this.nextSibling&&this.parentNode.appendChild(this)}function Fl(){return this.each(Dl)}function Bl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ul(){return this.each(Bl)}function zl(e){var t=typeof e=="function"?e:Si(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Yl(){return null}function Vl(e,t){var n=typeof e=="function"?e:Si(e),r=t==null?Yl:typeof t=="function"?t:Yn(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Hl(){var e=this.parentNode;e&&e.removeChild(this)}function Ql(){return this.each(Hl)}function Xl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Wl(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Kl(e){return this.select(e?Wl:Xl)}function Gl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Jl(e){return function(t){e.call(this,t,this.__data__)}}function Zl(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Il(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function ec(e,t,n){return function(){var r=this.__on,i,o=Jl(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function tc(e,t,n){var r=Zl(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,f;l<c;++l)for(i=0,f=a[l];i<o;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(a=t?ec:Il,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function Ti(e,t,n){var r=Ni(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function nc(e,t){return function(){return Ti(this,e,t)}}function rc(e,t){return function(){return Ti(this,e,t.apply(this,arguments))}}function ic(e,t){return this.each((typeof t=="function"?rc:nc)(e,t))}function*sc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var Oi=[null];function ne(e,t){this._groups=e,this._parents=t}function vt(){return new ne([[document.documentElement]],Oi)}function oc(){return this}ne.prototype=vt.prototype={constructor:ne,select:Ma,selectAll:Oa,selectChild:Ba,selectChildren:Va,filter:Ha,data:Ja,enter:Qa,exit:Ia,join:el,merge:tl,selection:oc,order:nl,sort:rl,call:sl,nodes:ol,node:al,size:ll,empty:cl,each:ul,attr:wl,style:xl,property:Sl,classed:El,text:ql,html:Ll,raise:Fl,lower:Ul,append:zl,insert:Vl,remove:Ql,clone:Kl,datum:Gl,on:tc,dispatch:ic,[Symbol.iterator]:sc};function Li(e){return typeof e=="string"?new ne([[document.querySelector(e)]],[document.documentElement]):new ne([[e]],Oi)}function Hn(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Di(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function xt(){}var gt=.7,Yt=1/gt,Qe="\\s*([+-]?\\d+)\\s*",mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",he="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",ac=/^#([0-9a-f]{3,8})$/,lc=new RegExp(`^rgb\\(${Qe},${Qe},${Qe}\\)$`),cc=new RegExp(`^rgb\\(${he},${he},${he}\\)$`),uc=new RegExp(`^rgba\\(${Qe},${Qe},${Qe},${mt}\\)$`),fc=new RegExp(`^rgba\\(${he},${he},${he},${mt}\\)$`),dc=new RegExp(`^hsl\\(${mt},${he},${he}\\)$`),hc=new RegExp(`^hsla\\(${mt},${he},${he},${mt}\\)$`),xr={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Hn(xt,Le,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:_r,formatHex:_r,formatHex8:gc,formatHsl:mc,formatRgb:$r,toString:$r});function _r(){return this.rgb().formatHex()}function gc(){return this.rgb().formatHex8()}function mc(){return Fi(this).formatHsl()}function $r(){return this.rgb().formatRgb()}function Le(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=ac.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kr(t):n===3?new I(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=lc.exec(e))?new I(t[1],t[2],t[3],1):(t=cc.exec(e))?new I(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uc.exec(e))?kt(t[1],t[2],t[3],t[4]):(t=fc.exec(e))?kt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dc.exec(e))?Ar(t[1],t[2]/100,t[3]/100,1):(t=hc.exec(e))?Ar(t[1],t[2]/100,t[3]/100,t[4]):xr.hasOwnProperty(e)?kr(xr[e]):e==="transparent"?new I(NaN,NaN,NaN,0):null}function kr(e){return new I(e>>16&255,e>>8&255,e&255,1)}function kt(e,t,n,r){return r<=0&&(e=t=n=NaN),new I(e,t,n,r)}function pc(e){return e instanceof xt||(e=Le(e)),e?(e=e.rgb(),new I(e.r,e.g,e.b,e.opacity)):new I}function Pn(e,t,n,r){return arguments.length===1?pc(e):new I(e,t,n,r??1)}function I(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Hn(I,Pn,Di(xt,{brighter(e){return e=e==null?Yt:Math.pow(Yt,e),new I(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new I(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new I(Te(this.r),Te(this.g),Te(this.b),Vt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Sr,formatHex:Sr,formatHex8:wc,formatRgb:Cr,toString:Cr}));function Sr(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}`}function wc(){return`#${qe(this.r)}${qe(this.g)}${qe(this.b)}${qe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Cr(){const e=Vt(this.opacity);return`${e===1?"rgb(":"rgba("}${Te(this.r)}, ${Te(this.g)}, ${Te(this.b)}${e===1?")":`, ${e})`}`}function Vt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Te(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function qe(e){return e=Te(e),(e<16?"0":"")+e.toString(16)}function Ar(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ae(e,t,n,r)}function Fi(e){if(e instanceof ae)return new ae(e.h,e.s,e.l,e.opacity);if(e instanceof xt||(e=Le(e)),!e)return new ae;if(e instanceof ae)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new ae(s,a,l,e.opacity)}function yc(e,t,n,r){return arguments.length===1?Fi(e):new ae(e,t,n,r??1)}function ae(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Hn(ae,yc,Di(xt,{brighter(e){return e=e==null?Yt:Math.pow(Yt,e),new ae(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gt:Math.pow(gt,e),new ae(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new I(fn(e>=240?e-240:e+120,i,r),fn(e,i,r),fn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ae(Pr(this.h),St(this.s),St(this.l),Vt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vt(this.opacity);return`${e===1?"hsl(":"hsla("}${Pr(this.h)}, ${St(this.s)*100}%, ${St(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Pr(e){return e=(e||0)%360,e<0?e+360:e}function St(e){return Math.max(0,Math.min(1,e||0))}function fn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Qn=e=>()=>e;function bc(e,t){return function(n){return e+n*t}}function vc(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function xc(e){return(e=+e)==1?Bi:function(t,n){return n-t?vc(t,n,e):Qn(isNaN(t)?n:t)}}function Bi(e,t){var n=t-e;return n?bc(e,n):Qn(isNaN(e)?t:e)}const Ht=(function e(t){var n=xc(t);function r(i,o){var s=n((i=Pn(i)).r,(o=Pn(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=Bi(i.opacity,o.opacity);return function(f){return i.r=s(f),i.g=a(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=e,r})(1);function _c(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function $c(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function kc(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=Xn(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function Sc(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function se(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Cc(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Xn(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var En=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,dn=new RegExp(En.source,"g");function Ac(e){return function(){return e}}function Pc(e){return function(t){return e(t)+""}}function Ui(e,t){var n=En.lastIndex=dn.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=En.exec(e))&&(i=dn.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:se(r,i)})),n=dn.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?Pc(l[0].x):Ac(t):(t=l.length,function(c){for(var f=0,d;f<t;++f)a[(d=l[f]).i]=d.x(c);return a.join("")})}function Xn(e,t){var n=typeof t,r;return t==null||n==="boolean"?Qn(t):(n==="number"?se:n==="string"?(r=Le(t))?(t=r,Ht):Ui:t instanceof Le?Ht:t instanceof Date?Sc:$c(t)?_c:Array.isArray(t)?kc:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Cc:se)(e,t)}function Ec(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Er=180/Math.PI,Nn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zi(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Er,skewX:Math.atan(l)*Er,scaleX:s,scaleY:a}}var Ct;function Nc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Nn:zi(t.a,t.b,t.c,t.d,t.e,t.f)}function Rc(e){return e==null||(Ct||(Ct=document.createElementNS("http://www.w3.org/2000/svg","g")),Ct.setAttribute("transform",e),!(e=Ct.transform.baseVal.consolidate()))?Nn:(e=e.matrix,zi(e.a,e.b,e.c,e.d,e.e,e.f))}function Yi(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,f,d,u,h,g){if(c!==d||f!==u){var m=h.push("translate(",null,t,null,n);g.push({i:m-4,x:se(c,d)},{i:m-2,x:se(f,u)})}else(d||u)&&h.push("translate("+d+t+u+n)}function s(c,f,d,u){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),u.push({i:d.push(i(d)+"rotate(",null,r)-2,x:se(c,f)})):f&&d.push(i(d)+"rotate("+f+r)}function a(c,f,d,u){c!==f?u.push({i:d.push(i(d)+"skewX(",null,r)-2,x:se(c,f)}):f&&d.push(i(d)+"skewX("+f+r)}function l(c,f,d,u,h,g){if(c!==d||f!==u){var m=h.push(i(h)+"scale(",null,",",null,")");g.push({i:m-4,x:se(c,d)},{i:m-2,x:se(f,u)})}else(d!==1||u!==1)&&h.push(i(h)+"scale("+d+","+u+")")}return function(c,f){var d=[],u=[];return c=e(c),f=e(f),o(c.translateX,c.translateY,f.translateX,f.translateY,d,u),s(c.rotate,f.rotate,d,u),a(c.skewX,f.skewX,d,u),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,d,u),c=f=null,function(h){for(var g=-1,m=u.length,w;++g<m;)d[(w=u[g]).i]=w.x(h);return d.join("")}}}var Mc=Yi(Nc,"px, ","px)","deg)"),qc=Yi(Rc,", ",")",")"),Ke=0,nt=0,et=0,Vi=1e3,Qt,rt,Xt=0,De=0,rn=0,pt=typeof performance=="object"&&performance.now?performance:Date,Hi=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Wn(){return De||(Hi(jc),De=pt.now()+rn)}function jc(){De=0}function Wt(){this._call=this._time=this._next=null}Wt.prototype=Qi.prototype={constructor:Wt,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Wn():+n)+(t==null?0:+t),!this._next&&rt!==this&&(rt?rt._next=this:Qt=this,rt=this),this._call=e,this._time=n,Rn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rn())}};function Qi(e,t,n){var r=new Wt;return r.restart(e,t,n),r}function Tc(){Wn(),++Ke;for(var e=Qt,t;e;)(t=De-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ke}function Nr(){De=(Xt=pt.now())+rn,Ke=nt=0;try{Tc()}finally{Ke=0,Lc(),De=0}}function Oc(){var e=pt.now(),t=e-Xt;t>Vi&&(rn-=t,Xt=e)}function Lc(){for(var e,t=Qt,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Qt=n);rt=e,Rn(r)}function Rn(e){if(!Ke){nt&&(nt=clearTimeout(nt));var t=e-De;t>24?(e<1/0&&(nt=setTimeout(Nr,e-pt.now()-rn)),et&&(et=clearInterval(et))):(et||(Xt=pt.now(),et=setInterval(Oc,Vi)),Ke=1,Hi(Nr))}}function Rr(e,t,n){var r=new Wt;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Dc=ki("start","end","cancel","interrupt"),Fc=[],Xi=0,Mr=1,Mn=2,Rt=3,qr=4,qn=5,Mt=6;function sn(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Bc(e,n,{name:t,index:r,group:i,on:Dc,tween:Fc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Xi})}function Kn(e,t){var n=ue(e,t);if(n.state>Xi)throw new Error("too late; already scheduled");return n}function pe(e,t){var n=ue(e,t);if(n.state>Rt)throw new Error("too late; already running");return n}function ue(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Bc(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Qi(o,0,n.time);function o(c){n.state=Mr,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var f,d,u,h;if(n.state!==Mr)return l();for(f in r)if(h=r[f],h.name===n.name){if(h.state===Rt)return Rr(s);h.state===qr?(h.state=Mt,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[f]):+f<t&&(h.state=Mt,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[f])}if(Rr(function(){n.state===Rt&&(n.state=qr,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Mn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Mn){for(n.state=Rt,i=new Array(u=n.tween.length),f=0,d=-1;f<u;++f)(h=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=qn,1),d=-1,u=i.length;++d<u;)i[d].call(e,f);n.state===qn&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=Mt,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Uc(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Mn&&r.state<qn,r.state=Mt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function zc(e){return this.each(function(){Uc(this,e)})}function Yc(e,t){var n,r;return function(){var i=pe(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function Vc(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=pe(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Hc(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ue(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?Yc:Vc)(n,e,t))}function Gn(e,t,n){var r=e._id;return e.each(function(){var i=pe(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ue(i,r).value[t]}}function Wi(e,t){var n;return(typeof t=="number"?se:t instanceof Le?Ht:(n=Le(t))?(t=n,Ht):Ui)(e,t)}function Qc(e){return function(){this.removeAttribute(e)}}function Xc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Wc(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function Kc(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Gc(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function Jc(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function Zc(e,t){var n=nn(e),r=n==="transform"?qc:Wi;return this.attrTween(e,typeof t=="function"?(n.local?Jc:Gc)(n,r,Gn(this,"attr."+e,t)):t==null?(n.local?Xc:Qc)(n):(n.local?Kc:Wc)(n,r,t))}function Ic(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function eu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function tu(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&eu(e,o)),n}return i._value=t,i}function nu(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Ic(e,o)),n}return i._value=t,i}function ru(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=nn(e);return this.tween(n,(r.local?tu:nu)(r,t))}function iu(e,t){return function(){Kn(this,e).delay=+t.apply(this,arguments)}}function su(e,t){return t=+t,function(){Kn(this,e).delay=t}}function ou(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?iu:su)(t,e)):ue(this.node(),t).delay}function au(e,t){return function(){pe(this,e).duration=+t.apply(this,arguments)}}function lu(e,t){return t=+t,function(){pe(this,e).duration=t}}function cu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?au:lu)(t,e)):ue(this.node(),t).duration}function uu(e,t){if(typeof t!="function")throw new Error;return function(){pe(this,e).ease=t}}function fu(e){var t=this._id;return arguments.length?this.each(uu(t,e)):ue(this.node(),t).ease}function du(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;pe(this,e).ease=n}}function hu(e){if(typeof e!="function")throw new Error;return this.each(du(this._id,e))}function gu(e){typeof e!="function"&&(e=Ai(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new ke(r,this._parents,this._name,this._id)}function mu(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],f=l.length,d=s[a]=new Array(f),u,h=0;h<f;++h)(u=l[h]||c[h])&&(d[h]=u);for(;a<r;++a)s[a]=t[a];return new ke(s,this._parents,this._name,this._id)}function pu(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function wu(e,t,n){var r,i,o=pu(t)?Kn:pe;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function yu(e,t){var n=this._id;return arguments.length<2?ue(this.node(),n).on.on(e):this.each(wu(n,e,t))}function bu(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function vu(){return this.on("end.remove",bu(this._id))}function xu(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Yn(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),f,d,u=0;u<l;++u)(f=a[u])&&(d=e.call(f,f.__data__,u,a))&&("__data__"in f&&(d.__data__=f.__data__),c[u]=d,sn(c[u],t,n,u,c,ue(f,n)));return new ke(o,this._parents,t,n)}function _u(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ci(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,f,d=0;d<c;++d)if(f=l[d]){for(var u=e.call(f,f.__data__,d,l),h,g=ue(f,n),m=0,w=u.length;m<w;++m)(h=u[m])&&sn(h,t,n,m,u,g);o.push(u),s.push(f)}return new ke(o,s,t,n)}var $u=vt.prototype.constructor;function ku(){return new $u(this._groups,this._parents)}function Su(e,t){var n,r,i;return function(){var o=We(this,e),s=(this.style.removeProperty(e),We(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function Ki(e){return function(){this.style.removeProperty(e)}}function Cu(e,t,n){var r,i=n+"",o;return function(){var s=We(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function Au(e,t,n){var r,i,o;return function(){var s=We(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),We(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function Pu(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=pe(this,e),c=l.on,f=l.value[o]==null?a||(a=Ki(t)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(s,i=f),l.on=r}}function Eu(e,t,n){var r=(e+="")=="transform"?Mc:Wi;return t==null?this.styleTween(e,Su(e,r)).on("end.style."+e,Ki(e)):typeof t=="function"?this.styleTween(e,Au(e,r,Gn(this,"style."+e,t))).each(Pu(this._id,e)):this.styleTween(e,Cu(e,r,t),n).on("end.style."+e,null)}function Nu(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Ru(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Nu(e,s,n)),r}return o._value=t,o}function Mu(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Ru(e,t,n??""))}function qu(e){return function(){this.textContent=e}}function ju(e){return function(){var t=e(this);this.textContent=t??""}}function Tu(e){return this.tween("text",typeof e=="function"?ju(Gn(this,"text",e)):qu(e==null?"":e+""))}function Ou(e){return function(t){this.textContent=e.call(this,t)}}function Lu(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ou(i)),t}return r._value=e,r}function Du(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Lu(e))}function Fu(){for(var e=this._name,t=this._id,n=Gi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var f=ue(l,t);sn(l,e,n,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new ke(r,this._parents,e,n)}function Bu(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=pe(this,r),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var Uu=0;function ke(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Gi(){return++Uu}var ve=vt.prototype;ke.prototype={constructor:ke,select:xu,selectAll:_u,selectChild:ve.selectChild,selectChildren:ve.selectChildren,filter:gu,merge:mu,selection:ku,transition:Fu,call:ve.call,nodes:ve.nodes,node:ve.node,size:ve.size,empty:ve.empty,each:ve.each,on:yu,attr:Zc,attrTween:ru,style:Eu,styleTween:Mu,text:Tu,textTween:Du,remove:vu,tween:Hc,delay:ou,duration:cu,ease:fu,easeVarying:hu,end:Bu,[Symbol.iterator]:ve[Symbol.iterator]};function zu(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Yu={time:null,delay:0,duration:250,ease:zu};function Vu(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Hu(e){var t,n;e instanceof ke?(t=e._id,e=e._name):(t=Gi(),(n=Yu).time=Wn(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&sn(l,e,t,c,s,n||Vu(l,t));return new ke(r,this._parents,e,t)}vt.prototype.interrupt=zc;vt.prototype.transition=Hu;function Qu(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Kt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ge(e){return e=Kt(Math.abs(e)),e?e[1]:NaN}function Xu(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Wu(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Ku=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gt(e){if(!(t=Ku.exec(e)))throw new Error("invalid format: "+e);var t;return new Jn({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gt.prototype=Jn.prototype;function Jn(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Gu(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Ji;function Ju(e,t){var n=Kt(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Ji=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Kt(e,Math.max(0,t+o-1))[0]}function jr(e,t){var n=Kt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Tr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Qu,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jr(e*100,t),r:jr,s:Ju,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Or(e){return e}var Lr=Array.prototype.map,Dr=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Zu(e){var t=e.grouping===void 0||e.thousands===void 0?Or:Xu(Lr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Or:Wu(Lr.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"âˆ’":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Gt(d);var u=d.fill,h=d.align,g=d.sign,m=d.symbol,w=d.zero,v=d.width,b=d.comma,x=d.precision,A=d.trim,C=d.type;C==="n"?(b=!0,C="g"):Tr[C]||(x===void 0&&(x=12),A=!0,C="g"),(w||u==="0"&&h==="=")&&(w=!0,u="0",h="=");var M=m==="$"?n:m==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",L=m==="$"?r:/[%p]/.test(C)?s:"",$=Tr[C],k=/[defgprs%]/.test(C);x=x===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,x)):Math.max(0,Math.min(20,x));function E(y){var _=M,q=L,R,O,D;if(C==="c")q=$(y)+q,y="";else{y=+y;var U=y<0||1/y<0;if(y=isNaN(y)?l:$(Math.abs(y),x),A&&(y=Gu(y)),U&&+y==0&&g!=="+"&&(U=!1),_=(U?g==="("?g:a:g==="-"||g==="("?"":g)+_,q=(C==="s"?Dr[8+Ji/3]:"")+q+(U&&g==="("?")":""),k){for(R=-1,O=y.length;++R<O;)if(D=y.charCodeAt(R),48>D||D>57){q=(D===46?i+y.slice(R+1):y.slice(R))+q,y=y.slice(0,R);break}}}b&&!w&&(y=t(y,1/0));var V=_.length+y.length+q.length,B=V<v?new Array(v-V+1).join(u):"";switch(b&&w&&(y=t(B+y,B.length?v-q.length:1/0),B=""),h){case"<":y=_+y+q+B;break;case"=":y=_+B+y+q;break;case"^":y=B.slice(0,V=B.length>>1)+_+y+q+B.slice(V);break;default:y=B+_+y+q;break}return o(y)}return E.toString=function(){return d+""},E}function f(d,u){var h=c((d=Gt(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(Ge(u)/3)))*3,m=Math.pow(10,-g),w=Dr[8+g/3];return function(v){return h(m*v)+w}}return{format:c,formatPrefix:f}}var At,Zi,Ii;Iu({thousands:",",grouping:[3],currency:["$",""]});function Iu(e){return At=Zu(e),Zi=At.format,Ii=At.formatPrefix,At}function ef(e){return Math.max(0,-Ge(Math.abs(e)))}function tf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ge(t)/3)))*3-Ge(Math.abs(e)))}function nf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ge(t)-Ge(e))+1}function Zn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Fr=Symbol("implicit");function es(){var e=new pr,t=[],n=[],r=Fr;function i(o){let s=e.get(o);if(s===void 0){if(r!==Fr)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new pr;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return es(t,n).unknown(r)},Zn.apply(i,arguments),i}function ts(){var e=es().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,c=0,f=.5;delete e.unknown;function d(){var u=t().length,h=i<r,g=h?i:r,m=h?r:i;o=(m-g)/Math.max(1,u-l+c*2),a&&(o=Math.floor(o)),g+=(m-g-o*(u-l))*f,s=o*(1-l),a&&(g=Math.round(g),s=Math.round(s));var w=$i(u).map(function(v){return g+o*v});return n(h?w.reverse():w)}return e.domain=function(u){return arguments.length?(t(u),d()):t()},e.range=function(u){return arguments.length?([r,i]=u,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(u){return[r,i]=u,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(u){return arguments.length?(a=!!u,d()):a},e.padding=function(u){return arguments.length?(l=Math.min(1,c=+u),d()):l},e.paddingInner=function(u){return arguments.length?(l=Math.min(1,u),d()):l},e.paddingOuter=function(u){return arguments.length?(c=+u,d()):c},e.align=function(u){return arguments.length?(f=Math.max(0,Math.min(1,u)),d()):f},e.copy=function(){return ts(t(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(f)},Zn.apply(d(),arguments)}function rf(e){return function(){return e}}function sf(e){return+e}var Br=[0,1];function Ve(e){return e}function jn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:rf(isNaN(t)?NaN:.5)}function of(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function af(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=jn(i,r),o=n(s,o)):(r=jn(r,i),o=n(o,s)),function(a){return o(r(a))}}function lf(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=jn(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=ca(e,a,1,r)-1;return o[l](i[l](a))}}function cf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function uf(){var e=Br,t=Br,n=Xn,r,i,o,s=Ve,a,l,c;function f(){var u=Math.min(e.length,t.length);return s!==Ve&&(s=of(e[0],e[u-1])),a=u>2?lf:af,l=c=null,d}function d(u){return u==null||isNaN(u=+u)?o:(l||(l=a(e.map(r),t,n)))(r(s(u)))}return d.invert=function(u){return s(i((c||(c=a(t,e.map(r),se)))(u)))},d.domain=function(u){return arguments.length?(e=Array.from(u,sf),f()):e.slice()},d.range=function(u){return arguments.length?(t=Array.from(u),f()):t.slice()},d.rangeRound=function(u){return t=Array.from(u),n=Ec,f()},d.clamp=function(u){return arguments.length?(s=u?!0:Ve,f()):s!==Ve},d.interpolate=function(u){return arguments.length?(n=u,f()):n},d.unknown=function(u){return arguments.length?(o=u,d):o},function(u,h){return r=u,i=h,f()}}function ff(){return uf()(Ve,Ve)}function df(e,t,n,r){var i=wa(e,t,n),o;switch(r=Gt(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=tf(i,s))&&(r.precision=o),Ii(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=nf(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=ef(i))&&(r.precision=o-(r.type==="%")*2);break}}return Zi(r)}function hf(e){var t=e.domain;return e.ticks=function(n){var r=t();return pa(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return df(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,f=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);f-- >0;){if(c=Cn(s,a,n),c===l)return r[i]=s,r[o]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function ns(){var e=ff();return e.copy=function(){return cf(e,ns())},Zn.apply(e,arguments),hf(e)}function it(e,t,n){this.k=e,this.x=t,this.y=n}it.prototype={constructor:it,scale:function(e){return e===1?this:new it(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new it(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};it.prototype;var gf=N('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function mf(e){let t;const[n,r]=T({width:900,height:600});J(()=>{function b(){if(t&&t.parentElement){const x=t.parentElement.getBoundingClientRect();r({width:Math.max(x.width,600),height:Math.max(x.height,400)})}}b(),window.addEventListener("resize",b),ce(()=>window.removeEventListener("resize",b))});const i=()=>e.data??[],o=16,s=()=>e.width??n().width,a=()=>e.height??n().height,l=()=>e.title??"AMSTAR-2 Quality Assessment",c={top:60,right:170,bottom:60,left:120},f=()=>(s()-c.left-c.right)/o,d=()=>(a()-c.top-c.bottom)/i().length,u=()=>Math.min(f(),d()),h=()=>u()*o,g=()=>u()*i().length,m=()=>c.left+h()+c.right,w=()=>c.top+g()+c.bottom,v={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return J(()=>{const b=Li(t).attr("width",m()).attr("height",w()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');b.selectAll("*").remove(),b.append("g").attr("class","grid"),b.append("g").attr("class","footer").selectAll("text").data($i(1,o+1)).enter().append("text").attr("x",(k,E)=>c.left+E*u()+u()/2).attr("y",c.top+g()+20).attr("text-anchor","middle").attr("font-size",Math.max(10,u()*.4)).attr("font-weight","600").attr("fill","#374151").text(k=>`Q${k}`),b.append("g").attr("class","rows").selectAll("text").data(i()).enter().append("text").attr("x",c.left-15).attr("y",(k,E)=>c.top+E*u()+u()/2).attr("text-anchor","end").attr("font-size",Math.max(10,u()*.45)).attr("font-weight","500").attr("fill","#374151").attr("dominant-baseline","middle").text(k=>k.label);const C=b.append("g").attr("class","cells");i().forEach((k,E)=>{for(let y=0;y<o;y++){const _=k.questions[y]?.toLowerCase?.()??"",q=v[_]??"#e5e7eb";C.append("rect").attr("x",c.left+y*u()+2).attr("y",c.top+E*u()+2).attr("width",u()-4).attr("height",u()-4).attr("fill",q).attr("stroke","#ffffff").attr("stroke-width",1).attr("rx",Math.max(2,u()*.12)).style("filter","drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))")}});const M=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],$=b.append("g").attr("class","legend").attr("transform",`translate(${m()-c.right+20}, ${c.top+20})`).selectAll(".legend-item").data(M).enter().append("g").attr("class","legend-item").attr("transform",(k,E)=>`translate(0, ${E*25})`);$.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",k=>v[k.key]).attr("stroke","#ffffff").attr("stroke-width",1),$.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(k=>k.label),b.append("text").attr("x",m()/2).attr("y",40).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),ce(()=>{b.selectAll("*").remove()})}),(()=>{var b=gf(),x=b.firstChild,A=t;return typeof A=="function"?ut(A,x):t=x,P(C=>en(x,`width: 100%; height: ${w()}px; max-width: 100%; display: block;`,C)),b})()}var pf=N('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function wf(e){let t,n;const r=()=>e.data??[],[i,o]=T({width:900,height:600});Ln(()=>{const h=()=>{if(n){const g=n.getBoundingClientRect();o({width:Math.max(g.width,400),height:Math.max(g.height,400)})}};h(),window.addEventListener("resize",h),ce(()=>window.removeEventListener("resize",h))}),J(()=>{if(n){const h=n.getBoundingClientRect();o({width:Math.max(h.width,400),height:Math.max(h.height,400)})}});const s=()=>e.width??i().width,a=()=>e.height??i().width/1.5,l=()=>e.title??"Distribution of AMSTAR Ratings on Each Item Across Included Reviews",c={top:50,right:150,bottom:60,left:80},f=()=>s()-c.left-c.right,d=()=>a()-c.top-c.bottom,u={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return J(()=>{if(!r().length)return;const h=Li(t).attr("width",s()).attr("height",a()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');h.selectAll("*").remove();const g=[],m=Math.max(...r().map($=>$.questions?.length||0)),w=r().length;for(let $=0;$<m;$++){const k={question:$+1,label:`Q${$+1}`,counts:{yes:0,"partial yes":0,no:0,"no ma":0}};r().forEach(E=>{const y=E.questions[$]?.toLowerCase?.()??"no ma";k.counts.hasOwnProperty(y)&&k.counts[y]++}),k.percentages={},Object.keys(k.counts).forEach(E=>{k.percentages[E]=k.counts[E]/w*100}),g.push(k)}const v=ts().domain(g.map($=>$.label)).range([0,d()]).padding(.1),b=ns().domain([0,100]).range([0,f()]),x=h.append("g").attr("transform",`translate(${c.left}, ${c.top})`);h.append("text").attr("x",s()/2).attr("y",30).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),g.forEach($=>{let k=0;const E=v.bandwidth(),y=v($.label);["yes","partial yes","no ma","no"].forEach(_=>{const q=$.percentages[_],R=b(q);q>0&&(x.append("rect").attr("x",b(k)).attr("y",y).attr("width",R).attr("height",E).attr("fill",u[_]).attr("stroke","#ffffff").attr("stroke-width",1),q>=5&&x.append("text").attr("x",b(k)+R/2).attr("y",y+E/2).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","12px").attr("font-weight","600").attr("fill",_==="partial yes"?"#000000":"#ffffff").text(`${q.toFixed(1)}`)),k+=q})}),x.selectAll(".y-label").data(g).enter().append("text").attr("class","y-label").attr("x",-10).attr("y",$=>v($.label)+v.bandwidth()/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label);const A=Sa(b).tickFormat($=>`${$}`).ticks(5);x.append("g").attr("class","x-axis").attr("transform",`translate(0, ${d()})`).call(A).selectAll("text").attr("font-size","12px").attr("fill","#374151"),x.append("text").attr("x",f()/2).attr("y",d()+50).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text(`Percentage of SRs (%), N=${w}`),h.append("text").attr("transform","rotate(-90)").attr("x",-a()/2).attr("y",20).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text("Items of AMSTAR-2");const C=h.append("g").attr("class","legend").attr("transform",`translate(${s()-c.right+20}, ${c.top+20})`),M=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],L=C.selectAll(".legend-item").data(M).enter().append("g").attr("class","legend-item").attr("transform",($,k)=>`translate(0, ${k*25})`);L.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",$=>u[$.key]).attr("stroke","#ffffff").attr("stroke-width",1),L.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label),ce(()=>{h.selectAll("*").remove()})}),(()=>{var h=pf(),g=h.firstChild,m=n;typeof m=="function"?ut(m,h):n=h;var w=t;return typeof w=="function"?ut(w,g):t=g,P(v=>en(g,`width: 100%; height: ${a()}px; max-width: 100%; display: block;`,v)),h})()}class $e{static CreateChecklist({name:t=null,id:n=null,createdAt:r=Date.now(),reviewerName:i=""}={}){if(!n||typeof n!="string"||!n.trim())throw new Error("AMSTAR2Checklist requires a non-empty string id.");if(!t||typeof t!="string"||!t.trim())throw new Error("AMSTAR2Checklist requires a non-empty string name.");return{name:t,reviewerName:i||"",createdAt:r,id:n,q1:{answers:[[!1,!1,!1,!1],[!1],[!1,!0]],critical:!1},q2:{answers:[[!1,!1,!1,!1],[!1,!1,!1],[!1,!1,!0]],critical:!0},q3:{answers:[[!1,!1,!1],[!1,!0]],critical:!1},q4:{answers:[[!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!0]],critical:!0},q5:{answers:[[!1,!1],[!1,!0]],critical:!1},q6:{answers:[[!1,!1],[!1,!0]],critical:!1},q7:{answers:[[!1],[!1],[!1,!1,!0]],critical:!0},q8:{answers:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!0]],critical:!1},q9a:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q9b:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q10:{answers:[[!1],[!1,!0]],critical:!1},q11a:{answers:[[!1,!1,!1],[!1,!0,!1]],critical:!0},q11b:{answers:[[!1,!1,!1,!1],[!1,!0,!1]],critical:!0},q12:{answers:[[!1,!1],[!1,!0,!1]],critical:!1},q13:{answers:[[!1,!1],[!1,!0]],critical:!0},q14:{answers:[[!1,!1],[!1,!0]],critical:!1},q15:{answers:[[!1],[!1,!0,!1]],critical:!0},q16:{answers:[[!1,!1],[!1,!0]],critical:!1}}}static scoreChecklist(t){if(!t||typeof t!="object")return"Error";let n=0,r=0;return Object.entries(t).forEach(([i,o])=>{if(!/^q\d+[a-z]*$/i.test(i)||!o||!Array.isArray(o.answers))return;$e.getSelectedAnswer(o.answers,i)!=="Yes"&&(o.critical?n++:r++)}),n>1?"Critically Low":n===1?"Low":r>1?"Moderate":"High"}static getSelectedAnswer(t,n){const r=["q11a","q11b","q12","q15"],i=["Yes","Partial Yes","No","No MA"],o=["Yes","No","No MA"];if(!Array.isArray(t)||t.length===0)return null;const s=t[t.length-1];if(!Array.isArray(s))return null;const a=s.findIndex(l=>l===!0);return a===-1?null:r.includes(n)?o[a]||null:s.length===2?a===0?"Yes":"No":s.length>=3&&i[a]||null}static getAnswers(t){if(!t||typeof t!="object")return null;const n={};return Object.entries(t).forEach(([r,i])=>{if(!/^q\d+[a-z]*$/i.test(r)||!i||!Array.isArray(i.answers))return;const o=$e.getSelectedAnswer(i.answers,r);n[r]=o}),n}static exportChecklistsToCSV(t){const n=Array.isArray(t)?t:[t],r=Object.keys(X),i=["Checklist Name","Reviewer","Created At","Checklist ID"],o=r.map(f=>X[f]?.text?.replace(/\s+/g," ").trim()||f),s=[...i,...o],a=n.map(f=>{const d=$e.getAnswers(f);return[f.name||"",f.reviewerName||"",f.createdAt?new Date(f.createdAt).toISOString():"",f.id||"",...r.map(u=>d[u]||"")]}),l=f=>`"${String(f).replace(/"/g,'""').replace(/\n/g," ")}"`;return s.map(l).join(",")+`
`+a.map(f=>f.map(l).join(",")).join(`
`)}}var yf=N('<div class=p-8><h2 class="text-2xl font-bold mb-4"> Dashboard</h2><button class="bg-red-500 text-white px-4 py-2 rounded">Delete Project</button><div class="mb-4 text-gray-600">Created: </div><div class=mb-6><strong>Total Checklists:</strong> </div><div class=mb-6><h3 class="text-xl font-semibold mb-2">Add New Checklist</h3><div class="flex gap-2 items-center"><input type=text class="px-3 py-2 border rounded w-64"placeholder="Checklist name"><button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">+ Add Checklist</button></div></div><div><h3 class="text-xl font-semibold mb-2">Checklists</h3><ul class="list-disc pl-6">'),bf=N("<div class=p-8>Project not found."),vf=N("<li>");function xf(){const{currentProject:e,setCurrentProject:t,addChecklist:n,deleteProject:r}=Ie(),i=di(),o=Ze(),[s,a]=T(""),[l,c]=T([]);J(()=>{if(i.name&&i.index!==void 0){const d=decodeURIComponent(i.name),u=Number(i.index);t({name:d,index:u})}e()||(console.warn("ProjectDashboard: No current project found for",i.name,i.index),o("/dashboard"))});const f=async()=>{if(!s().trim())return;const d=$e.CreateChecklist({name:s(),id:crypto.randomUUID(),createdAt:Date.now()});await n(e().id,d),a("")};return J(()=>{const d=(e()?.checklists||[]).map(u=>{const h=$e.getAnswers(u);return{label:u.name||u.title||u.id,questions:Object.values(h||{})}});c(d)}),S(G,{get when(){return e()},get fallback(){return bf()},get children(){var d=yf(),u=d.firstChild,h=u.firstChild,g=u.nextSibling,m=g.nextSibling;m.firstChild;var w=m.nextSibling,v=w.firstChild;v.nextSibling;var b=w.nextSibling,x=b.firstChild,A=x.nextSibling,C=A.firstChild,M=C.nextSibling,L=b.nextSibling,$=L.firstChild,k=$.nextSibling;return p(u,()=>e().name,h),g.$$click=()=>r(e().id),p(m,()=>new Date(e().createdAt).toLocaleDateString(),null),p(w,()=>e().checklists?.length||0,null),C.$$input=E=>a(E.target.value),M.$$click=f,p(k,()=>(e().checklists||[]).map(E=>(()=>{var y=vf();return p(y,()=>E.name||E.title||E.id),P(()=>j(y,"key",E.id)),y})())),p(d,S(mf,{get data(){return l()},width:900,height:600}),null),p(d,S(wf,{get data(){return l()},width:900,height:600}),null),P(()=>M.disabled=!s().trim()),P(()=>C.value=s()),d}})}re(["click","input"]);function rs({id:e,name:t,createdAt:n=Date.now(),checklists:r=[]}={}){if(t===null)throw new Error("Project name cannot be null");return{id:e,name:t,createdAt:n,checklists:r}}async function _f(){const e=["Review 1","Review 2","Review 3","Review 4","Review 5"];let t=[];for(const r of e){const i=$e.CreateChecklist({name:r,id:Sn(),createdAt:Date.now()});t.push(i)}const n=rs({id:Sn(),name:"Example Project",createdAt:Date.now(),checklists:t});await tn(n)}async function $f(e,t,n){const r=await fetch("http://localhost:8000/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n})});if(!r.ok){const i=await r.text();throw console.error("Signup error:",i),new Error(i||"Signup failed")}}let Je=null;async function kf(e,t){const n=await fetch("http://localhost:8000/auth/signin",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t})});if(!n.ok){const i=await n.text();throw console.error("Sign in failed:",i),new Error(i||"Sign in failed")}Je=(await n.json()).accessToken}async function Ur(){const e=await is("http://localhost:8000/users/me");if(!e.ok){const t=await e.text();throw console.error("Failed to fetch user:",t),new Error(t||"Failed to fetch user")}return await e.json()}async function is(e,t={}){t.headers={...t.headers||{},Authorization:`Bearer ${Je}`};let n=await fetch(e,t);if(n.status===401||n.status===403)try{await ss(),t.headers.Authorization=`Bearer ${Je}`,n=await fetch(e,t)}catch{throw await os(),new Error("Session expired. Please log in again.")}return n}async function ss(){const e=await fetch("http://localhost:8000/auth/refresh",{method:"POST",credentials:"include"});if(!e.ok){const n=await e.text();throw console.error("Refresh failed:",n),new Error(n||"Refresh failed")}Je=(await e.json()).accessToken,console.log("Refreshed access token:",Je)}async function os(){await fetch("http://localhost:8000/auth/signout",{method:"POST",credentials:"include"}),Je=null}async function Sf(){const e=await fetch("http://localhost:8000/healthz",{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}async function Cf(){const e=await fetch("http://localhost:8000/healthz/db",{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health DB check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}var Af=N('<div class=p-6><h2 class="text-2xl font-bold mb-4">Your Projects</h2><div class="mt-6 flex items-center gap-2"><input type=text class="px-3 py-2 border rounded w-64"placeholder="Project name"><button class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition">+ Add New Project</button></div><div class=mt-6><button class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition">Load Example Project</button><button class="p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">Check Health</button><button class="p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">Check Health DB'),Pf=N("<div>No projects found."),Ef=N("<ul class=space-y-2>"),Nf=N('<li><div class=font-semibold></div><div class="text-sm text-gray-600"></div><div class="text-xs text-gray-400">Created: </div><button class="ml-4 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition">Delete');function Rf(){const{projects:e,currentProject:t,addProject:n,deleteProject:r}=Ie(),i=Ze(),[o,s]=T(""),a=f=>{const u=e().filter(h=>h.name===f.name).findIndex(h=>h.id===f.id);i(`/project/${encodeURIComponent(f.name)}/${u}`)},l=async()=>{if(!o().trim())return;const f=await n(rs({id:Sn(),name:o().trim(),createdAt:Date.now(),checklists:[]}));s(""),a(f)},c=async f=>{window.confirm("Are you sure you want to delete this project?")&&await r(f)};return(()=>{var f=Af(),d=f.firstChild,u=d.nextSibling,h=u.firstChild,g=h.nextSibling,m=u.nextSibling,w=m.firstChild,v=w.nextSibling,b=v.nextSibling;return p(f,(()=>{var x=fe(()=>e().length===0);return()=>x()?Pf():(()=>{var A=Ef();return p(A,()=>e().map(C=>(()=>{var M=Nf(),L=M.firstChild,$=L.nextSibling,k=$.nextSibling;k.firstChild;var E=k.nextSibling;return M.$$click=()=>a(C),p(L,()=>C.name),p($,()=>C.description),p(k,()=>new Date(C.createdAt).toLocaleDateString(),null),E.$$click=()=>c(C.id),P(y=>{var _=C.id,q=`p-4 border rounded cursor-pointer transition ${t()&&t().id===C.id?"bg-blue-100 border-blue-400":"hover:bg-gray-100"}`;return _!==y.e&&j(M,"key",y.e=_),q!==y.t&&oe(M,y.t=q),y},{e:void 0,t:void 0}),M})())),A})()})(),u),h.$$input=x=>s(x.target.value),g.$$click=l,w.$$click=async()=>{const x=await _f();console.log("Loaded example project:",x),window.location.reload()},de(v,"click",Sf,!0),de(b,"click",Cf,!0),P(()=>g.disabled=!o().trim()),P(()=>h.value=o()),f})()}re(["input","click"]);const as=It();function Mf(e){const[t,n]=T(!1),[r,i]=T(null);async function o(d,u,h){await $f(d,u,h)}async function s(d,u){await kf(d,u),n(!0),i(await Ur())}async function a(){await os(),n(!1),i(null)}async function l(){const d=await Ur();return i(d),d}async function c(){await ss()}async function f(d,u={}){return await is(d,u)}return S(as.Provider,{value:{isLoggedIn:t,user:r,signup:o,signin:s,signout:a,getCurrentUser:l,refreshAccessToken:c,authFetch:f},get children(){return e.children}})}function on(){return wt(as)}var qf=N("<div>");function Xe(e){const[t,n]=T(!1),[r,i]=T(!1);let o,s;const a=()=>e.duration??300,l=()=>e.timingFunction??"ease-in-out";return J(()=>{e.when?(i(!0),requestAnimationFrame(()=>{n(!0)})):(n(!1),clearTimeout(s),s=setTimeout(()=>{i(!1)},a()))}),ce(()=>{clearTimeout(s)}),[fe(()=>fe(()=>!!r())()&&(()=>{var c=qf(),f=o;return typeof f=="function"?ut(f,c):o=c,p(c,()=>e.children),P(d=>{var u=t()?1:0,h=`opacity ${a()}ms ${l()}`,g=e.ariaLive||"polite",m=e.role||"alert";return u!==d.e&&ur(c,"opacity",d.e=u),h!==d.t&&ur(c,"transition",d.t=h),g!==d.a&&j(c,"aria-live",d.a=g),m!==d.o&&j(c,"role",d.o=m),d},{e:void 0,t:void 0,a:void 0,o:void 0}),c})()),fe(()=>fe(()=>!e.when)()&&e.fallback)]}var st=(e,t=[])=>({parts:(...n)=>{if(jf(t))return st(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>st(e,[...t,...n]),omit:(...n)=>st(e,t.filter(r=>!n.includes(r))),rename:n=>st(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Ue(e)}"][data-part="${Ue(r)}"]`,`& [data-scope="${Ue(e)}"][data-part="${Ue(r)}"]`].join(", "),attrs:{"data-scope":Ue(e),"data-part":Ue(r)}}}),{})}),Ue=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),jf=e=>e.length===0,ls=e=>typeof e=="object"&&e!==null,Q=e=>e?"":void 0,Tf=e=>e?"true":void 0,Of=9,Lf=e=>ls(e)&&e.nodeType===Of,Df=e=>ls(e)&&e===e.window;function Ff(e){if(!e)return!1;const t=e.getRootNode();return cs(t)===e}function Bf(e){return Lf(e)?e:Df(e)?e.document:e?.ownerDocument??document}function cs(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}var Uf=e=>e.button===0;function zf(e){return e==null?[]:Array.isArray(e)?e:[e]}var zr=e=>e?.constructor.name==="Array",Yf=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!In(e[n],t[n]))return!1;return!0},In=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(zr(e)&&zr(t))return Yf(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(e,n[i]))return!1;for(let i=0;i<r;i++){const o=n[i];if(!In(e[o],t[o]))return!1}return!0},Vf=e=>Array.isArray(e),us=e=>e!=null&&typeof e=="object",Hf=e=>us(e)&&!Vf(e),Qf=e=>typeof e=="number"&&!Number.isNaN(e),er=e=>typeof e=="string",Ce=e=>typeof e=="function",Xf=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Wf=e=>Object.prototype.toString.call(e),fs=Function.prototype.toString,Kf=fs.call(Object),Gf=e=>{if(!us(e)||Wf(e)!="[object Object]"||If(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Xf(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&fs.call(n)==Kf},Jf=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Zf=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,If=e=>Jf(e)||Zf(e),ed=(()=>{let e=0;return()=>(e++,e.toString(36))})();function ds(e){if(!Gf(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const i=e[r];i!==void 0&&(n[r]=ds(i))}return n}function Yr(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function td(e,t){if(e==null)throw new Error(t())}var Ye=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(Ye||{}),hn="__init__";function nd(e){const t=()=>e.getRootNode?.()??document,n=()=>Bf(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>cs(t()),isActiveElement:Ff,getById:s=>t().getElementById(s)}}function rd(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var id=()=>e=>Array.from(new Set(e)),sd=st("password-input").parts("root","input","label","control","indicator","visibilityTrigger"),ze=sd.build(),qt=e=>e.ids?.input??`p-input-${e.id}-input`,Tn=e=>e.getById(qt(e));function od(e,t){const{scope:n,prop:r,context:i}=e,o=i.get("visible"),s=!!r("disabled"),a=!!r("invalid"),l=!!r("readOnly"),c=!!r("required"),f=!(l||s),d=r("translations");return{visible:o,disabled:s,invalid:a,focus(){Tn(n)?.focus()},setVisible(u){e.send({type:"VISIBILITY.SET",value:u})},toggleVisible(){e.send({type:"VISIBILITY.SET",value:!o})},getRootProps(){return t.element({...ze.root.attrs,dir:r("dir"),"data-disabled":Q(s),"data-invalid":Q(a),"data-readonly":Q(l)})},getLabelProps(){return t.label({...ze.label.attrs,htmlFor:qt(n),"data-disabled":Q(s),"data-invalid":Q(a),"data-readonly":Q(l),"data-required":Q(c)})},getInputProps(){return t.input({...ze.input.attrs,id:qt(n),autoCapitalize:"off",name:r("name"),required:r("required"),autoComplete:r("autoComplete"),spellCheck:!1,readOnly:l,disabled:s,type:o?"text":"password","data-state":o?"visible":"hidden","aria-invalid":Tf(a),"data-disabled":Q(s),"data-invalid":Q(a),"data-readonly":Q(l),...r("ignorePasswordManagers")?ad:{}})},getVisibilityTriggerProps(){return t.button({...ze.visibilityTrigger.attrs,type:"button",tabIndex:-1,"aria-controls":qt(n),"aria-expanded":o,"data-readonly":Q(l),disabled:s,"data-disabled":Q(s),"data-state":o?"visible":"hidden","aria-label":d?.visibilityTrigger?.(o),onPointerDown(u){Uf(u)&&f&&(u.preventDefault(),e.send({type:"TRIGGER.CLICK"}))}})},getIndicatorProps(){return t.element({...ze.indicator.attrs,"aria-hidden":!0,"data-state":o?"visible":"hidden","data-disabled":Q(s),"data-invalid":Q(a),"data-readonly":Q(l)})},getControlProps(){return t.element({...ze.control.attrs,"data-disabled":Q(s),"data-invalid":Q(a),"data-readonly":Q(l)})}}}var ad={"data-1p-ignore":"","data-lpignore":"true","data-bwignore":"true","data-form-type":"other","data-protonpass-ignore":"true"},ld={props({props:e}){return{id:ed(),defaultVisible:!1,autoComplete:"current-password",ignorePasswordManagers:!1,...e,translations:{visibilityTrigger(t){return t?"Hide password":"Show password"},...e.translations}}},context({prop:e,bindable:t}){return{visible:t(()=>({value:e("visible"),defaultValue:e("defaultVisible"),onChange(n){e("onVisibilityChange")?.({visible:n})}}))}},initialState(){return"idle"},effects:["trackFormEvents"],states:{idle:{on:{"VISIBILITY.SET":{actions:["setVisibility"]},"TRIGGER.CLICK":{actions:["toggleVisibility","focusInputEl"]}}}},implementations:{actions:{setVisibility({context:e,event:t}){e.set("visible",t.value)},toggleVisibility({context:e}){e.set("visible",t=>!t)},focusInputEl({scope:e}){Tn(e)?.focus()}},effects:{trackFormEvents({scope:e,send:t}){const r=Tn(e)?.form;if(!r)return;const i=e.getWin(),o=new i.AbortController;return r.addEventListener("reset",s=>{s.defaultPrevented||t({type:"VISIBILITY.SET",value:!1})},{signal:o.signal}),r.addEventListener("submit",()=>{t({type:"VISIBILITY.SET",value:!1})},{signal:o.signal}),()=>o.abort()}}}};id()(["defaultVisible","dir","id","onVisibilityChange","visible","ids","getRootNode","disabled","invalid","required","readOnly","translations","ignorePasswordManagers","autoComplete","name"]);function Jt(e){const t=e().value??e().defaultValue,n=e().isEqual??Object.is,[r,i]=T(t),o=Y(()=>e().value!=null),s={current:r()},a={current:void 0};J(()=>{const f=o()?e().value:r();a.current=f,s.current=f});const l=f=>{const d=a.current,u=Ce(f)?f(s.current):f;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:u,prev:d}),o()||i(u),n(u,d)||e().onChange?.(u,d)};function c(){const f=o()?e().value:r;return Ce(f)?f():f}return{initial:t,ref:s,get:c,set:l,invoke(f,d){e().onChange?.(f,d)},hash(f){return e().hash?.(f)??String(f)}}}Jt.cleanup=e=>{ce(()=>e())};Jt.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function cd(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}function gn(e){return Ce(e)?e():e}var ud=(e,t)=>{let n=[],r=!0;J(()=>{if(r){n=e.map(o=>gn(o)),r=!1;return}let i=!1;for(let o=0;o<e.length;o++)if(!In(n[o],gn(e[o]))){i=!0;break}i&&(n=e.map(o=>gn(o)),t())})};function fd(e,t={}){const n=Y(()=>{const{id:$,ids:k,getRootNode:E}=mn(t);return nd({id:$,ids:k,getRootNode:E})}),r=(...$)=>{e.debug&&console.log(...$)},i=Y(()=>e.props?.({props:ds(mn(t)),scope:n()})??mn(t)),o=dd(i),s=e.context?.({prop:o,bindable:Jt,get scope(){return n()},flush:Vr,getContext(){return a},getComputed(){return A},getRefs(){return g},getEvent(){return u()}}),a={get($){return s?.[$].get()},set($,k){s?.[$].set(k)},initial($){return s?.[$].initial},hash($){const k=s?.[$].get();return s?.[$].hash(k)}},l={current:new Map},c={current:null},f={current:null},d={current:{type:""}},u=()=>te(d.current,{current(){return d.current},previous(){return f.current}}),h=()=>te(C,{matches(...$){const k=C.get();return $.includes(k)},hasTag($){const k=C.get();return!!e.states[k]?.tags?.includes($)}}),g=cd(e.refs?.({prop:o,context:a})??{}),m=()=>({state:h(),context:a,event:u(),prop:o,send:L,action:w,guard:v,track:ud,refs:g,computed:A,flush:Vr,get scope(){return n()},choose:x}),w=$=>{const k=Ce($)?$(m()):$;if(!k)return;const E=k.map(y=>{const _=e.implementations?.actions?.[y];return _||Yr(`[zag-js] No implementation found for action "${JSON.stringify(y)}"`),_});for(const y of E)y?.(m())},v=$=>Ce($)?$(m()):e.implementations?.guards?.[$](m()),b=$=>{const k=Ce($)?$(m()):$;if(!k)return;const E=k.map(_=>{const q=e.implementations?.effects?.[_];return q||Yr(`[zag-js] No implementation found for effect "${JSON.stringify(_)}"`),q}),y=[];for(const _ of E){const q=_?.(m());q&&y.push(q)}return()=>y.forEach(_=>_?.())},x=$=>zf($).find(k=>{let E=!k.guard;return er(k.guard)?E=!!v(k.guard):Ce(k.guard)&&(E=k.guard(m())),E}),A=$=>{td(e.computed,()=>"[zag-js] No computed object found on machine");const k=e.computed[$];return k({context:a,event:d.current,prop:o,refs:g,scope:n(),computed:A})},C=Jt(()=>({defaultValue:e.initialState({prop:o}),onChange($,k){k&&(l.current.get(k)?.(),l.current.delete(k)),k&&w(e.states[k]?.exit),w(c.current?.actions);const E=b(e.states[$]?.effects);if(E&&l.current.set($,E),k===hn){w(e.entry);const y=b(e.effects);y&&l.current.set(hn,y)}w(e.states[$]?.entry)}}));let M=Ye.NotStarted;Ln(()=>{const $=M===Ye.Started;M=Ye.Started,r($?"rehydrating...":"initializing..."),C.invoke(C.initial,hn)}),ce(()=>{r("unmounting..."),M=Ye.Stopped,l.current.forEach(k=>k?.()),l.current=new Map,c.current=null,w(e.exit)});const L=$=>{if(M!==Ye.Started)return;f.current=d.current,d.current=$;let k=C.get();const E=e.states[k].on?.[$.type]??e.on?.[$.type],y=x(E);if(!y)return;c.current=y;const _=y.target??k;r("transition",$.type,y.target||k,`(${y.actions})`);const q=_!==k;q?C.set(_):y.reenter&&!q?C.invoke(k,k):w(y.actions)};return e.watch?.(m()),{state:h(),send:L,context:a,prop:o,get scope(){return n()},refs:g,computed:A,event:u(),getStatus:()=>M}}function Vr(e){e()}function mn(e){return Ce(e)?e():e}function dd(e){return function(n){return e()[n]}}var Hr={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"},hd=e=>e.startsWith("--")?e:vd(e);function gd(e){return e in Hr?Hr[e]:e}var md=rd(e=>{const t={};for(const n in e){const r=e[n];if(!(n==="readOnly"&&r===!1)){if(n==="style"&&Hf(r)){t.style=pd(r);continue}if(n==="children"){er(r)&&(t.textContent=r);continue}t[gd(n)]=r}}return t});function pd(e){let t={};for(const n in e){const r=e[n];!er(r)&&!Qf(r)||(t[hd(n)]=r)}return t}var wd=/[A-Z]/g,yd=/^ms-/;function bd(e){return"-"+e.toLowerCase()}var pn={};function vd(e){if(pn.hasOwnProperty(e))return pn[e];var t=e.replace(wd,bd);return pn[e]=yd.test(t)?"-"+t:t}var xd=N("<svg stroke-width=0>");function tr(e,t){const n=te(e.a,t),[r,i]=ri(n,["src"]),[o,s]=T(""),a=Y(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return J(()=>s(a())),ce(()=>{s("")}),(()=>{var l=xd();return Se(l,te({get stroke(){return e.a?.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},i,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return o()}}),!0,!0),p(l,()=>si),l})()}function _d(e){return tr({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><path d="M1 1 23 23"/>'},e)}function $d(e){return tr({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><path d="M12 9A3 3 0 1 0 12 15 3 3 0 1 0 12 9z"/>'},e)}var kd=N("<div><label>Password</label><div><input><button><span>");function hs(e){const t=fd(ld,{id:Ps(),autoComplete:e.autoComplete||"new-password",value:e.password||"",required:e.required||!1}),n=Y(()=>od(t,md)),r=e.inputClass||"w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder",i=e.iconSize||22;return(()=>{var o=kd(),s=o.firstChild,a=s.nextSibling,l=a.firstChild,c=l.nextSibling,f=c.firstChild;return Se(o,te(()=>n().getRootProps(),{get class(){return e.class}}),!1,!0),Se(s,te(()=>n().getLabelProps(),{class:"block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"}),!1,!0),Se(a,te(()=>n().getControlProps(),{class:"relative"}),!1,!0),Se(l,te(()=>n().getInputProps(),{class:r,onInput:d=>e.onPasswordChange?.(d.target.value),placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),!1,!1),Se(c,te(()=>n().getVisibilityTriggerProps(),{class:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-gray-400"}),!1,!0),Se(f,te(()=>n().getIndicatorProps()),!1,!0),p(f,S(G,{get when(){return n().visible},get fallback(){return S(_d,{size:i-2})},get children(){return S($d,{size:i})}})),o})()}function nr(e){return tr({a:{viewBox:"0 0 1024 1024"},c:'<path d="M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"/>'},e)}var Sd=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">'),Cd=N('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-2 sm:px-4 py-6 sm:py-12"><form aria-labelledby=signin-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-16 space-y-6 sm:space-y-8 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=signin-heading>Welcome Back</h2><p class="text-gray-500 text-base sm:text-lg">Sign in to your account.</p></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div><div></div><button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Don&apos;t have an account? <a href=/signup class="text-indigo-600 hover:underline font-semibold">Sign Up');function Ad(){const[e,t]=T(""),[n,r]=T(""),[i,o]=T(""),[s,a]=T(!1),l=Ze(),{signin:c}=on();async function f(d){if(d.preventDefault(),o(""),!e()||!n()){o("Please enter email and password");return}try{a(!0),await c(e(),n()),l("/dashboard",{replace:!0})}catch{o("Incorrect email or password")}finally{a(!1)}}return(()=>{var d=Cd(),u=d.firstChild,h=u.firstChild,g=h.nextSibling,m=g.firstChild,w=m.nextSibling,v=g.nextSibling,b=v.nextSibling,x=b.nextSibling,A=x.firstChild,C=A.nextSibling;return u.addEventListener("submit",f),w.$$input=M=>t(M.target.value),p(v,S(hs,{get password(){return n()},onPasswordChange:r,autoComplete:"current-password",required:!0}),null),p(v,S(Xe,{get when(){return!!i()},get children(){var M=Sd();return p(M,i),M}}),null),p(b,S(G,{get when(){return s()},get children(){return S(nr,{class:"animate-spin mr-2",size:22})}}),null),p(b,()=>s()?"Signing In...":"Sign In",null),C.$$click=M=>{M.preventDefault(),l("/signup")},P(()=>b.disabled=s()),P(()=>w.value=e()),d})()}re(["input","click"]);var Pd=N('<div class="w-full mt-3 sm:mt-4"><div class="text-sm sm:text-base text-gray-700"id=password-requirements aria-live=polite><ul class="pace-y-0.5 sm:space-y-1">'),Ed=N('<li class="flex items-center gap-2"><span aria-hidden=true></span><span>'),Nd=N('<svg class="w-2 h-2 sm:w-4 sm:h-4"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M4 8l3 3 5-5">'),Rd=N('<svg class="w-2 h-2 sm:w-4 sm:h-4"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M5 5l6 6M11 5l-6 6">');const ot=[{label:"At least 8 characters",test:e=>e.length>=8,error:"at least 8 characters"},{label:"Uppercase letter (A-Z)",test:e=>/[A-Z]/.test(e),error:"an uppercase letter"},{label:"Lowercase letter (a-z)",test:e=>/[a-z]/.test(e),error:"a lowercase letter"},{label:"Number (0-9)",test:e=>/\d/.test(e),error:"a number"},{label:"Special character (e.g. !?<>@#$%)",test:e=>/[^A-Za-z0-9]/.test(e),error:"a special character"}];function Md(e){if(!e)return{met:[],unmet:ot.map(i=>i.label)};const t=ot.filter(i=>i.test(e)).map(i=>i.label),n=ot.filter(i=>!i.test(e)).map(i=>i.label),r=ot.filter(i=>!i.test(e)).map(i=>i.error);return{met:t,unmet:n,errors:r}}function qd(e){const t=Y(()=>Md(e.password||""));return J(()=>{e.onUnmet?.(t().errors)}),(()=>{var n=Pd(),r=n.firstChild,i=r.firstChild;return p(i,()=>ot.map(o=>{const s=t().met.includes(o.label);return(()=>{var a=Ed(),l=a.firstChild,c=l.nextSibling;return oe(l,`w-3 h-3 sm:w-4 sm:h-4 ml-1 rounded-full flex items-center justify-center ${s?"bg-white text-green-500 border-green-500 border-[1.5px]":"border-red-500 border-[1.5px] text-red-500"}`),p(l,s?Nd():Rd()),oe(c,s?"text-green-500":"text-red-500"),p(c,()=>o.label),a})()})),n})()}var jd=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">Password must include '),Td=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">'),Od=N('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-2 sm:px-4 py-6 sm:py-12"><form aria-labelledby=signup-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-16 space-y-6 sm:space-y-8 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=signup-heading>Get Started</h2><p class="text-gray-500 text-base sm:text-lg">Create a new account.</p></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=name-input>Name</label><div class=relative><input type=text autocomplete=name autocapitalize=words spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=name-input placeholder="What should we call you?"></div></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><div class=relative><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div></div><div></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=confirm-password-input>Confirm Password</label><div class=relative><input type=password autocomplete=new-password autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder"required id=confirm-password-input placeholder=â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢></div></div><button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Already have an account? <a href=/signin class="text-indigo-600 hover:underline font-semibold">Sign In');function Ld(){const[e,t]=T(""),[n,r]=T(""),[i,o]=T(""),[s,a]=T(""),[l,c]=T(""),[f,d]=T(!1),[u,h]=T([]),[g,m]=T(!1),w=Ze(),{signup:v}=on();async function b(x){if(x.preventDefault(),d(!0),c(""),!e()||!n()||!i()||!s()){c("Please fill out all fields");return}if(i()!==s()){c("Passwords do not match");return}if(!(u().length>0)){m(!0);try{await v(n(),i(),e()),setTimeout(()=>w("/verify-email",{replace:!0}),1200)}catch(A){console.error("Signup error:",A),c("Sign up failed")}finally{m(!1)}}}return J(()=>{i()===s()&&c("")}),(()=>{var x=Od(),A=x.firstChild,C=A.firstChild,M=C.nextSibling,L=M.firstChild,$=L.nextSibling,k=$.firstChild,E=M.nextSibling,y=E.firstChild,_=y.nextSibling,q=_.firstChild,R=E.nextSibling,O=R.nextSibling,D=O.firstChild,U=D.nextSibling,V=U.firstChild,B=O.nextSibling,Ne=B.nextSibling,we=Ne.firstChild,ye=we.nextSibling;return A.addEventListener("submit",b),k.$$input=H=>t(H.target.value),q.$$input=H=>r(H.target.value),p(R,S(hs,{get password(){return i()},onPasswordChange:o,autoComplete:"new-password",required:!0}),null),p(R,S(Xe,{get when(){return fe(()=>!!f())()&&u().length>0},get children(){var H=jd();return H.firstChild,p(H,()=>u()?.[0],null),H}}),null),p(R,S(qd,{get password(){return i()},onUnmet:h}),null),V.$$input=H=>a(H.target.value),p(O,S(Xe,{get when(){return!!l()},get children(){var H=Td();return p(H,l),H}}),null),p(B,S(G,{get when(){return g()},get children(){return S(nr,{class:"animate-spin mr-2",size:22})}}),null),p(B,()=>g()?"Signing Up...":"Sign Up",null),ye.$$click=H=>{H.preventDefault(),w("/signin")},P(()=>B.disabled=g()),P(()=>k.value=e()),P(()=>q.value=n()),P(()=>V.value=s()),x})()}re(["input","click"]);var Dd=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">'),Fd=N('<p class="pt-2 sm:pt-3 px-2 text-green-600 text-base sm:text-lg">Email verified! Redirecting to sign in...'),Bd=N(`<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-2 sm:px-4 py-6 sm:py-12"><form aria-labelledby=verifyemail-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-16 space-y-6 sm:space-y-8 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=verifyemail-heading>Verify Your Email</h2><p class="text-gray-500 text-base sm:text-lg">Enter the verification code sent to your email.</p></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=code-input>Verification Code</label><input type=text autocomplete=one-time-code class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=code-input placeholder="Enter code"></div><button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Didn't get a code? <a href=# class="text-indigo-600 hover:underline font-semibold">Resend`);function Ud(){const[e,t]=T(""),[n,r]=T(""),[i,o]=T(!1),[s,a]=T(!1),l=Ze(),{verifyEmail:c}=on();async function f(d){d.preventDefault(),r(""),o(!0);try{await c(e()),a(!0),setTimeout(()=>l("/signin",{replace:!0}),1500)}catch{r("Invalid code. Please try again.")}finally{o(!1)}}return(()=>{var d=Bd(),u=d.firstChild,h=u.firstChild,g=h.nextSibling,m=g.firstChild,w=m.nextSibling,v=g.nextSibling;return u.addEventListener("submit",f),w.$$input=b=>t(b.target.value),p(u,S(Xe,{get when(){return!!n()},get children(){var b=Dd();return p(b,n),b}}),v),p(u,S(Xe,{get when(){return s()},get children(){return Fd()}}),v),p(v,S(Xe,{get when(){return i()},get children(){return S(nr,{class:"animate-spin mr-2",size:22})}}),null),p(v,()=>i()?"Verifying...":"Verify Email",null),P(()=>v.disabled=i()),P(()=>w.value=e()),d})()}re(["input"]);var zd=N("<div>Reset Password Page");function Yd(){return zd()}var Vd=N('<div class="ml-1 border-l border-gray-100 pl-2 mt-1 space-y-1">'),Hd=N('<div class=mb-2><div class="flex items-center justify-between cursor-pointer select-none rounded-lg transition-colors px-2 py-2 font-semibold text-gray-800 hover:bg-gray-100"tabindex=0 role=button><span class=truncate></span><button class="ml-2 flex items-center justify-center w-8 h-8 rounded hover:bg-gray-200 transition-colors"tabindex=0 type=button><svg fill=none stroke=currentColor stroke-width=2.2 viewBox="0 0 20 20"><polyline points="6 8 10 12 14 8"fill=none stroke-linecap=round stroke-linejoin=round>');function Qd(e){const[t,n]=T({}),{projects:r}=Ie(),i=()=>r().find(a=>a.id===e.projectId),o=()=>i()&&t()[i().id],s=a=>{a.stopPropagation(),n(l=>({...l,[i().id]:!l[i().id]}))};return(()=>{var a=Hd(),l=a.firstChild,c=l.firstChild,f=c.nextSibling,d=f.firstChild;return l.$$click=()=>e.onSelect?.({project:i()}),p(c,()=>i().name||i().id),f.$$click=s,p(a,S(G,{get when(){return fe(()=>!!o())()&&i().checklists?.length>0},get children(){var u=Vd();return p(u,S(ii,{get each(){return i().checklists},children:h=>e.children(h)})),u}}),null),P(u=>{var h=o()?"Collapse project":"Expand project",g=`transition-transform duration-200 w-5 h-5 text-gray-500 ${o()?"rotate-90":""}`;return h!==u.e&&j(f,"aria-label",u.e=h),g!==u.t&&j(d,"class",u.t=g),u},{e:void 0,t:void 0}),a})()}re(["click"]);var Xd=N('<div style=max-width:100vw><div><div class="flex-1 overflow-y-auto sidebar-scrollbar"><div class=p-4><div class=mb-4><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Projects</h3></div><div class=space-y-2><button class="w-full bg-gray-900 hover:bg-gray-800 text-white px-4 py-3 rounded-lg transition-colors duration-200 flex items-center gap-3 text-base font-medium"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2.5 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>New Project</button></div></div><div class=px-4><div class=mb-4><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Checklists</h3></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Actions</h3></div><div class=space-y-1><button class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Export CSV</button><label class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>Import CSV<input type=file accept=.csv,text/csv class=hidden></label><button class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF URL</button><label class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-3 text-base cursor-pointer"><svg class="w-5 h-5 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF File<input type=file accept=application/pdf class=hidden></label></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Settings</h3></div><div class=space-y-1><button class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-red-600 hover:bg-red-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-red-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear all data</button><div class=mt-20>'),Wd=N('<div class="text-center py-12 px-4"><div class="w-12 h-12 bg-gray-100 rounded-lg mx-auto mb-4 flex items-center justify-center"><svg class="w-6 h-6 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-base text-gray-500 font-medium">No projects yet'),Kd=N('<div style=flex:1><button class="flex-1 flex items-center gap-3 px-3 py-2.5 text-left focus:outline-none"tabindex=0><svg class="w-5 h-5 text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><div class="flex-1 min-w-0"><div class="flex gap-3 items-center"><div class="text-base font-medium truncate"></div><span></span></div><div class="text-sm text-gray-500 mt-1"></div></div></button><button aria-label="Delete checklist"tabindex=-1><svg class="w-5 h-5"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Gd=N('<span class="inline-block w-2 h-2 rounded-full"style=background:currentColor>');function Jd(e){const{projects:t,currentChecklist:n,checklists:r}=Ie(),i=Ze();function o(){const a=window.prompt("Enter PDF URL:");a&&e.setPdfUrl(a)}function s(a){const l=a.target.files[0];if(l&&l.type==="application/pdf"){const c=URL.createObjectURL(l);e.setPdfUrl(c)}else alert("Please select a valid PDF file.")}return(()=>{var a=Xd(),l=a.firstChild,c=l.firstChild,f=c.firstChild,d=f.firstChild,u=d.nextSibling,h=u.firstChild,g=f.nextSibling,m=g.nextSibling,w=m.firstChild,v=w.nextSibling,b=v.firstChild,x=b.nextSibling,A=x.firstChild,C=A.nextSibling,M=C.nextSibling,L=x.nextSibling,$=L.nextSibling,k=$.firstChild,E=k.nextSibling,y=E.nextSibling,_=m.nextSibling,q=_.firstChild,R=q.nextSibling,O=R.firstChild;return de(h,"click",e.onAddProject,!0),p(u,S(G,{get when(){return t()?.length>0},get fallback(){return Wd()},get children(){return S(ii,{get each(){return t()},children:D=>S(Qd,{get projectId(){return D.id},onSelect:()=>{const V=t().filter(B=>B.name===D.name).findIndex(B=>B.id===D.id);i(`/project/${encodeURIComponent(D.name)}/${V}`)},children:U=>(()=>{var V=Kd(),B=V.firstChild,Ne=B.firstChild,we=Ne.nextSibling,ye=we.firstChild,H=ye.firstChild,rr=H.nextSibling,gs=ye.nextSibling,ir=B.nextSibling;return B.$$click=Z=>{Z.stopPropagation(),i(`/checklist/${U.id}`)},p(H,()=>U.name),p(rr,()=>{if(!U)return"Unknown";const Z=$e.scoreChecklist(U);return Z.length+(U.name?.length||0)<30?Z:Gd()}),p(gs,()=>new Date(U.createdAt).toLocaleDateString()),ir.$$click=Z=>{Z.stopPropagation(),e.onDeleteChecklist(D.id,U.id)},P(Z=>{var sr=`
            flex items-center group rounded-lg transition-colors
            ${n()&&U.id===n().id?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}
          `,or=`
                                text-xs font-semibold px-2 py-0.5 rounded
                                ${(()=>{const _t=$e.scoreChecklist(U);return _t==="High"?"bg-green-100 text-green-800":_t==="Moderate"?"bg-yellow-100 text-yellow-800":_t==="Low"?"bg-orange-100 text-orange-800":_t==="Critically Low"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"})()}
                              `,ar=`
                          p-2 mr-2 rounded transition-colors text-gray-400 hover:text-red-600 hover:bg-red-50
                          ${n()&&U.id!==n().id?"opacity-0 group-hover:opacity-100":""}
                        `;return sr!==Z.e&&oe(V,Z.e=sr),or!==Z.t&&oe(rr,Z.t=or),ar!==Z.a&&oe(ir,Z.a=ar),Z},{e:void 0,t:void 0,a:void 0}),V})()})})}}),null),de(b,"click",e.onExportCSV,!0),de(M,"change",e.onImportCSV),L.$$click=o,y.addEventListener("change",s),de(O,"click",e.onDeleteAll,!0),P(D=>{var U=`
        transition-all duration-200 ease-in-out
        bg-white border-r border-gray-200 h-screen overflow-x-hidden
        ${e.open?"w-90":"w-0"}
        
        /* Mobile: Fixed overlay */
        md:relative
        ${e.open?"":"md:w-0"}
        
        /* Mobile overlay behavior */
        fixed top-0 left-0 z-30 md:static md:z-auto
        ${e.open?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,V=`
          flex flex-col h-full
          transition-opacity duration-100
          ${e.open?"duration-500 opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
        `;return U!==D.e&&oe(a,D.e=U),V!==D.t&&oe(l,D.t=V),D},{e:void 0,t:void 0}),a})()}re(["click"]);var Zd=N('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 mx-2 animate-fade-in"><div class=mb-4><h2 class="text-lg font-semibold text-gray-900"></h2></div><div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"autofocus>Cancel</button><button class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors">'),Id=N('<p class="mt-2 text-gray-600">');function Qr(e){return S(G,{get when(){return e.open},get children(){var t=Zd(),n=t.firstChild,r=n.firstChild,i=r.firstChild,o=r.nextSibling,s=o.firstChild,a=s.nextSibling;return p(i,()=>e.title||"Are you sure?"),p(r,(()=>{var l=fe(()=>!!e.description);return()=>l()&&(()=>{var c=Id();return p(c,()=>e.description),c})()})(),null),de(s,"click",e.onCancel,!0),de(a,"click",e.onConfirm,!0),p(a,()=>e.confirmText||"Delete"),t}})}re(["click"]);var eh=N('<div><div class="w-full h-full overflow-auto"></div><div role=separator tabindex=0 style=touch-action:none>');function th(e){const t=e.direction||"horizontal",n=t==="horizontal"?"right":"bottom",r=e.position||n,i=e.min??200,o=e.max??800,s=e.initial??400,[a,l]=T(s);let c=!1,f=0,d=0,u=null;const h=v=>{c=!0,u=v.pointerId,f=t==="horizontal"?v.clientX:v.clientY,d=a(),document.body.style.userSelect="none",v.target.setPointerCapture(u),window.addEventListener("pointermove",g),window.addEventListener("pointerup",m)},g=v=>{if(!c)return;let b=t==="horizontal"?v.clientX-f:v.clientY-f;(r==="left"||r==="top")&&(b=-b);let x=d+b;x=Math.max(i,Math.min(o,x)),l(x)},m=v=>{if(c=!1,document.body.style.userSelect="",v.target.releasePointerCapture&&u!==null)try{v.target.releasePointerCapture(u)}catch{}window.removeEventListener("pointermove",g),window.removeEventListener("pointerup",m),u=null};let w="";return t==="horizontal"?w=r==="right"?"top-0 right-0 h-full w-2 cursor-col-resize":"top-0 left-0 h-full w-2 cursor-col-resize":w=r==="bottom"?"left-0 bottom-0 w-full h-2 cursor-row-resize":"left-0 top-0 w-full h-2 cursor-row-resize",(()=>{var v=eh(),b=v.firstChild,x=b.nextSibling;return oe(v,`relative ${t==="horizontal"?"h-full":"w-full"}`),p(b,()=>e.children),x.$$pointerdown=h,oe(x,`absolute ${w} bg-gray-200 hover:bg-gray-300 transition-colors z-10`),j(x,"aria-orientation",t),P(A=>en(v,t==="horizontal"?`width: ${a()}px; min-width:0;`:`height: ${a()}px; min-height:0;`,A)),v})()}re(["pointerdown"]);var nh=N('<button class="ml-[-12px] bg-white/80 text-blue-700 p-2 rounded-full shadow hover:bg-white hover:scale-105 transition-all duration-150 border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"aria-label="Toggle sidebar open or closed"><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16">'),rh=N("<span class=font-medium>Hello, "),ih=N('<button class="hover:bg-blue-600 px-3 py-2 rounded transition font-medium">Sign Out'),sh=N('<nav class="flex items-center justify-between bg-gradient-to-r from-blue-700 to-blue-500 text-white px-8 py-4 shadow-lg"><div class="flex items-center space-x-4"></div><div class="flex space-x-6 items-center">');function oh(e){const{user:t,signout:n}=on();return(()=>{var r=sh(),i=r.firstChild,o=i.nextSibling;return p(i,S(G,{get when(){return t()},get children(){var s=nh();return de(s,"click",e.toggleSidebar,!0),s}}),null),p(i,S(Me,{href:"/",class:"font-extrabold text-2xl tracking-tight drop-shadow",children:"CoRATES"}),null),p(o,S(Me,{href:"/dashboard",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Dashboard"}),null),p(o,S(G,{get when(){return t()},get fallback(){return[S(Me,{href:"/signin",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Sign In"}),S(Me,{href:"/signup",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Sign Up"})]},get children(){return[(()=>{var s=rh();return s.firstChild,p(s,()=>t().name,null),s})(),(()=>{var s=ih();return s.$$click=async()=>{await n()},s})()]}}),null),r})()}re(["click"]);var ah=N('<div class="sm:hidden fixed inset-0 bg-black/50 z-20 transition-opacity duration-300">'),lh=N('<div class="h-full border-l border-gray-200 bg-white flex flex-col"><iframe class="w-full h-full"title="PDF Viewer"style=min-width:300px>'),ch=N('<div class="flex flex-col h-screen overflow-y-hidden"><div class="flex flex-1 h-0 min-h-0"><div></div><div class="flex-1 min-h-0 overflow-y-auto">'),uh=N('<div class="p-8 text-center">Loading projects...');function fh(e){const[t,n]=T(!1),[r,i]=T(!1),[o,s]=T(!1),[a,l]=T(null),[c,f]=T(null),{projects:d,loading:u,loadData:h,setProjects:g,currentProject:m,addProject:w,deleteChecklist:v,currentChecklist:b,setCurrentChecklist:x,updateChecklist:A}=Ie();Ln(async()=>{try{await h()}catch(y){console.error("Error loading projects:",y)}});const C=async()=>{try{x(null),alert("All checklists deleted!")}catch(y){console.error("Error removing all checklists:",y),alert("Error deleting checklists!")}finally{i(!1)}},M=()=>{let y="this checklist";const _=a();if(_&&_.projectId&&_.checklistId){const q=d().find(R=>R.id===_.projectId);if(q){const R=q.checklists.find(O=>O.id===_.checklistId);R&&(y=R.title||R.name||"Untitled Checklist")}}return`Are you sure you want to delete ${y}? This action cannot be undone.`},L=()=>i(!1),$=(y,_)=>{console.log("Request to delete checklist id:",_,"from project:",y),l({projectId:y,checklistId:_}),s(!0)},k=async()=>{const y=a();if(!(!y||!y.projectId||!y.checklistId))try{console.log("Deleting checklist id:",y.checklistId,"from project:",y.projectId),await v(y.projectId,y.checklistId)}catch(_){console.error("Error deleting checklist:",_),alert("Error deleting checklist!")}finally{s(!1),l(null)}},E=()=>{s(!1),l(null)};return(()=>{var y=ch(),_=y.firstChild,q=_.firstChild,R=q.nextSibling;return p(y,S(oh,{toggleSidebar:()=>n(O=>!O),get open(){return t()}}),_),p(q,S(Jd,{get open(){return t()},onClose:()=>n(!1),setPdfUrl:f,onDeleteChecklist:$})),p(R,S(G,{get when(){return!u()},get fallback(){return uh()},get children(){return e.children}})),p(_,S(G,{get when(){return t()},get children(){var O=ah();return O.$$click=()=>n(!1),O}}),null),p(_,S(G,{get when(){return c()},get children(){return S(th,{direction:"horizontal",min:250,max:1600,initial:500,position:"left",get children(){var O=lh(),D=O.firstChild;return P(()=>j(D,"src",c())),O}})}}),null),p(y,S(Qr,{get open(){return o()},title:"Delete checklist?",get description(){return M()},confirmText:"Delete",onCancel:E,onConfirm:k}),null),p(y,S(Qr,{get open(){return r()},title:"Delete all checklists?",description:"Are you sure you want to delete all saved checklists? This action cannot be undone.",confirmText:"Delete all",onCancel:L,onConfirm:C}),null),y})()}re(["click"]);function dh(){return S(xo,{base:"/amstar2-checklist-scoring-app",get children(){return S(be,{path:"/",component:fh,get children(){return[S(be,{path:"/",component:Eo}),S(be,{path:"/dashboard",component:Rf}),S(be,{path:"/project/:name/:index",component:xf}),S(be,{path:"/checklist/:id",component:ia}),S(be,{path:"/signin",component:Ad}),S(be,{path:"/signup",component:Ld}),S(be,{path:"/verify-email",component:Ud}),S(be,{path:"/reset-password",component:Yd})]}})}})}Fs(()=>S(Lo,{get children(){return S(Mf,{get children(){return S(dh,{})}})}}),document.getElementById("root"));
