(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();const Qs=!1,Xs=(e,t)=>e===t,fe=Symbol("solid-proxy"),xi=typeof Proxy=="function",Mn=Symbol("solid-track"),Ht={equals:Xs};let _i=Pi;const Re=1,Gt=2,$i={owned:null,cleanups:null,context:null,owner:null};var F=null;let xn=null,Zs=null,B=null,Z=null,Se=null,hn=0;function dt(e,t){const n=B,r=F,i=e.length===0,o=t===void 0?r:t,s=i?$i:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=i?e:()=>e(()=>re(()=>mt(s)));F=s,B=null;try{return Te(a,!0)}finally{B=n,F=r}}function O(e,t){t=t?Object.assign({},Ht,t):Ht;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Ei(n,i));return[Ai.bind(n),r]}function E(e,t,n){const r=rr(e,t,!1,Re);St(r)}function X(e,t,n){_i=no;const r=rr(e,t,!1,Re);r.user=!0,Se?Se.push(r):St(r)}function I(e,t,n){n=n?Object.assign({},Ht,n):Ht;const r=rr(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,St(r),Ai.bind(r)}function ki(e){return Te(e,!1)}function re(e){if(B===null)return e();const t=B;B=null;try{return e()}finally{B=t}}function tr(e,t,n){const r=Array.isArray(e);let i,o=n&&n.defer;return s=>{let a;if(r){a=Array(e.length);for(let c=0;c<e.length;c++)a[c]=e[c]()}else a=e();if(o)return o=!1,s;const l=re(()=>t(a,i,s));return i=a,l}}function gn(e){X(()=>re(e))}function de(e){return F===null||(F.cleanups===null?F.cleanups=[e]:F.cleanups.push(e)),e}function On(){return B}function Si(){return F}function Ci(e,t){const n=F,r=B;F=e,B=null;try{return Te(t,!0)}catch(i){ir(i)}finally{F=n,B=r}}function Js(e){const t=B,n=F;return Promise.resolve().then(()=>{B=t,F=n;let r;return Te(e,!1),B=F=null,r?r.done:void 0})}const[zg,Yg]=O(!1);function mn(e,t){const n=Symbol("context");return{id:n,Provider:io(n),defaultValue:e}}function kt(e){let t;return F&&F.context&&(t=F.context[e.id])!==void 0?t:e.defaultValue}function nr(e){const t=I(e),n=I(()=>qn(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Ai(){if(this.sources&&this.state)if(this.state===Re)St(this);else{const e=Z;Z=null,Te(()=>Kt(this),!1),Z=e}if(B){const e=this.observers?this.observers.length:0;B.sources?(B.sources.push(this),B.sourceSlots.push(e)):(B.sources=[this],B.sourceSlots=[e]),this.observers?(this.observers.push(B),this.observerSlots.push(B.sources.length-1)):(this.observers=[B],this.observerSlots=[B.sources.length-1])}return this.value}function Ei(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Te(()=>{for(let i=0;i<e.observers.length;i+=1){const o=e.observers[i],s=xn&&xn.running;s&&xn.disposed.has(o),(s?!o.tState:!o.state)&&(o.pure?Z.push(o):Se.push(o),o.observers&&Ni(o)),s||(o.state=Re)}if(Z.length>1e6)throw Z=[],new Error},!1)),t}function St(e){if(!e.fn)return;mt(e);const t=hn;eo(e,e.value,t)}function eo(e,t,n){let r;const i=F,o=B;B=F=e;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=Re,e.owned&&e.owned.forEach(mt),e.owned=null),e.updatedAt=n+1,ir(s)}finally{B=o,F=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Ei(e,r):e.value=r,e.updatedAt=n)}function rr(e,t,n,r=Re,i){const o={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:F,context:F?F.context:null,pure:n};return F===null||F!==$i&&(F.owned?F.owned.push(o):F.owned=[o]),o}function Wt(e){if(e.state===0)return;if(e.state===Gt)return Kt(e);if(e.suspense&&re(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<hn);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Re)St(e);else if(e.state===Gt){const r=Z;Z=null,Te(()=>Kt(e,t[0]),!1),Z=r}}function Te(e,t){if(Z)return e();let n=!1;t||(Z=[]),Se?n=!0:Se=[],hn++;try{const r=e();return to(n),r}catch(r){n||(Se=null),Z=null,ir(r)}}function to(e){if(Z&&(Pi(Z),Z=null),e)return;const t=Se;Se=null,t.length&&Te(()=>_i(t),!1)}function Pi(e){for(let t=0;t<e.length;t++)Wt(e[t])}function no(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Wt(r)}for(t=0;t<n;t++)Wt(e[t])}function Kt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===Re?r!==t&&(!r.updatedAt||r.updatedAt<hn)&&Wt(r):i===Gt&&Kt(r,t)}}}function Ni(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Gt,n.pure?Z.push(n):Se.push(n),n.observers&&Ni(n))}}function mt(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const o=i.pop(),s=n.observerSlots.pop();r<i.length&&(o.sourceSlots[s]=r,i[r]=o,n.observerSlots[r]=s)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)mt(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)mt(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function ro(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ir(e,t=F){throw ro(e)}function qn(e){if(typeof e=="function"&&!e.length)return qn(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=qn(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function io(e,t){return function(r){let i;return E(()=>i=re(()=>(F.context={...F.context,[e]:r.value},nr(()=>r.children))),void 0),i}}const so=Symbol("fallback");function Pr(e){for(let t=0;t<e.length;t++)e[t]()}function oo(e,t,n={}){let r=[],i=[],o=[],s=0,a=t.length>1?[]:null;return de(()=>Pr(o)),()=>{let l=e()||[],c=l.length,u,d;return l[Mn],re(()=>{let h,g,m,y,x,w,b,S,A;if(c===0)s!==0&&(Pr(o),o=[],r=[],i=[],s=0,a&&(a=[])),n.fallback&&(r=[so],i[0]=dt(T=>(o[0]=T,n.fallback())),s=1);else if(s===0){for(i=new Array(c),d=0;d<c;d++)r[d]=l[d],i[d]=dt(f);s=c}else{for(m=new Array(c),y=new Array(c),a&&(x=new Array(c)),w=0,b=Math.min(s,c);w<b&&r[w]===l[w];w++);for(b=s-1,S=c-1;b>=w&&S>=w&&r[b]===l[S];b--,S--)m[S]=i[b],y[S]=o[b],a&&(x[S]=a[b]);for(h=new Map,g=new Array(S+1),d=S;d>=w;d--)A=l[d],u=h.get(A),g[d]=u===void 0?-1:u,h.set(A,d);for(u=w;u<=b;u++)A=r[u],d=h.get(A),d!==void 0&&d!==-1?(m[d]=i[u],y[d]=o[u],a&&(x[d]=a[u]),d=g[d],h.set(A,d)):o[u]();for(d=w;d<c;d++)d in m?(i[d]=m[d],o[d]=y[d],a&&(a[d]=x[d],a[d](d))):i[d]=dt(f);i=i.slice(0,s=c),r=l.slice(0)}return i});function f(h){if(o[d]=h,a){const[g,m]=O(d);return a[d]=m,t(l[d],g)}return t(l[d])}}}function C(e,t){return re(()=>e(t||{}))}function Rt(){return!0}const jn={get(e,t,n){return t===fe?n:e.get(t)},has(e,t){return t===fe?!0:e.has(t)},set:Rt,deleteProperty:Rt,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Rt,deleteProperty:Rt}},ownKeys(e){return e.keys()}};function _n(e){return(e=typeof e=="function"?e():e)?e:{}}function ao(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function H(...e){let t=!1;for(let s=0;s<e.length;s++){const a=e[s];t=t||!!a&&fe in a,e[s]=typeof a=="function"?(t=!0,I(a)):a}if(xi&&t)return new Proxy({get(s){for(let a=e.length-1;a>=0;a--){const l=_n(e[a])[s];if(l!==void 0)return l}},has(s){for(let a=e.length-1;a>=0;a--)if(s in _n(e[a]))return!0;return!1},keys(){const s=[];for(let a=0;a<e.length;a++)s.push(...Object.keys(_n(e[a])));return[...new Set(s)]}},jn);const n={},r=Object.create(null);for(let s=e.length-1;s>=0;s--){const a=e[s];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,u);if(!r[u])r[u]=d.get?{enumerable:!0,configurable:!0,get:ao.bind(n[u]=[d.get.bind(a)])}:d.value!==void 0?d:void 0;else{const f=n[u];f&&(d.get?f.push(d.get.bind(a)):d.value!==void 0&&f.push(()=>d.value))}}}const i={},o=Object.keys(r);for(let s=o.length-1;s>=0;s--){const a=o[s],l=r[a];l&&l.get?Object.defineProperty(i,a,l):i[a]=l?l.value:void 0}return i}function Ri(e,...t){if(xi&&fe in e){const i=new Set(t.length>1?t.flat():t[0]),o=t.map(s=>new Proxy({get(a){return s.includes(a)?e[a]:void 0},has(a){return s.includes(a)&&a in e},keys(){return s.filter(a=>a in e)}},jn));return o.push(new Proxy({get(s){return i.has(s)?void 0:e[s]},has(s){return i.has(s)?!1:s in e},keys(){return Object.keys(e).filter(s=>!i.has(s))}},jn)),o}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const o=Object.getOwnPropertyDescriptor(e,i),s=!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable;let a=!1,l=0;for(const c of t)c.includes(i)&&(a=!0,s?r[l][i]=o.value:Object.defineProperty(r[l],i,o)),++l;a||(s?n[i]=o.value:Object.defineProperty(n,i,o))}return[...r,n]}let lo=0;function Ti(){return`cl-${lo++}`}const co=e=>`Stale read from <${e}>.`;function Li(e){const t="fallback"in e&&{fallback:()=>e.fallback};return I(oo(()=>e.each,e.children,t||void 0))}function W(e){const t=e.keyed,n=I(()=>e.when,void 0,void 0),r=t?n:I(n,void 0,{equals:(i,o)=>!i==!o});return I(()=>{const i=r();if(i){const o=e.children;return typeof o=="function"&&o.length>0?re(()=>o(t?i:()=>{if(!re(r))throw co("Show");return n()})):o}return e.fallback},void 0,void 0)}const uo=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],fo=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...uo]),ho=new Set(["innerHTML","textContent","innerText","children"]),go=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),mo=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function po(e,t){const n=mo[e];return typeof n=="object"?n[t]?n.$:void 0:n}const yo=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),wo={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},ae=e=>I(()=>e());function bo(e,t,n){let r=n.length,i=t.length,o=r,s=0,a=0,l=t[i-1].nextSibling,c=null;for(;s<i||a<o;){if(t[s]===n[a]){s++,a++;continue}for(;t[i-1]===n[o-1];)i--,o--;if(i===s){const u=o<r?a?n[a-1].nextSibling:n[o-a]:l;for(;a<o;)e.insertBefore(n[a++],u)}else if(o===a)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[o-1]&&n[a]===t[i-1]){const u=t[--i].nextSibling;e.insertBefore(n[a++],t[s++].nextSibling),e.insertBefore(n[--o],u),t[i]=n[o]}else{if(!c){c=new Map;let d=a;for(;d<o;)c.set(n[d],d++)}const u=c.get(t[s]);if(u!=null)if(a<u&&u<o){let d=s,f=1,h;for(;++d<i&&d<o&&!((h=c.get(t[d]))==null||h!==u+f);)f++;if(f>u-a){const g=t[s];for(;a<u;)e.insertBefore(n[a++],g)}else e.replaceChild(n[a++],t[s++])}else s++;else t[s++].remove()}}}const Nr="_$DX_DELEGATE";function vo(e,t,n,r={}){let i;return dt(o=>{i=o,t===document?e():p(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function N(e,t,n,r){let i;const o=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},s=()=>(i||(i=o())).cloneNode(!0);return s.cloneNode=s,s}function se(e,t=window.document){const n=t[Nr]||(t[Nr]=new Set);for(let r=0,i=e.length;r<i;r++){const o=e[r];n.has(o)||(n.add(o),t.addEventListener(o,Co))}}function q(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function xo(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function _o(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function ce(e,t){t==null?e.removeAttribute("class"):e.className=t}function pe(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=o=>i.call(e,n[1],o))}else e.addEventListener(t,n,typeof n!="function"&&n)}function $o(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let o,s;for(o=0,s=i.length;o<s;o++){const a=i[o];!a||a==="undefined"||t[a]||(Tr(e,a,!1),delete n[a])}for(o=0,s=r.length;o<s;o++){const a=r[o],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(Tr(e,a,!0),n[a]=l)}return n}function pn(e,t,n){if(!t)return n?q(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,o;for(o in n)t[o]==null&&r.removeProperty(o),delete n[o];for(o in t)i=t[o],i!==n[o]&&(r.setProperty(o,i),n[o]=i);return n}function Rr(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function J(e,t={},n,r){const i={};return r||E(()=>i.children=yt(e,t.children,i.children)),E(()=>typeof t.ref=="function"&&pt(t.ref,e)),E(()=>ko(e,t,n,!0,i,!0)),i}function pt(e,t,n){return re(()=>e(t,n))}function p(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return yt(e,t,r,n);E(i=>yt(e,t(),i,n),r)}function ko(e,t,n,r,i={},o=!1){t||(t={});for(const s in i)if(!(s in t)){if(s==="children")continue;i[s]=Lr(e,s,null,i[s],n,o,t)}for(const s in t){if(s==="children")continue;const a=t[s];i[s]=Lr(e,s,a,i[s],n,o,t)}}function So(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Tr(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,o=r.length;i<o;i++)e.classList.toggle(r[i],n)}function Lr(e,t,n,r,i,o,s){let a,l,c,u,d;if(t==="style")return pn(e,n,r);if(t==="classList")return $o(e,n,r);if(n===r)return r;if(t==="ref")o||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);r&&e.removeEventListener(f,r,typeof r!="function"&&r),n&&e.addEventListener(f,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);r&&e.removeEventListener(f,r,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),h=yo.has(f);if(!h&&r){const g=Array.isArray(r)?r[0]:r;e.removeEventListener(f,g)}(h||n)&&(pe(e,f,n,h),h&&se([f]))}else if(t.slice(0,5)==="attr:")q(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")_o(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(c=ho.has(t))||!i&&((u=po(t,e.tagName))||(l=fo.has(t)))||(a=e.nodeName.includes("-")||"is"in s))d&&(t=t.slice(5),l=!0),t==="class"||t==="className"?ce(e,n):a&&!l&&!c?e[So(t)]=n:e[u||t]=n;else{const f=i&&t.indexOf(":")>-1&&wo[t.split(":")[0]];f?xo(e,f,t,n):q(e,go[t]||t,n)}return n}function Co(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,o=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),s=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&o(t.host),!0},a=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();o(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!s());c++){if(t._$host){t=t._$host,a();break}if(t.parentNode===i)break}}else a();o(r)}function yt(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(o==="number"&&(t=t.toString(),t===n))return n;if(s){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=ze(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean")n=ze(e,n,r);else{if(o==="function")return E(()=>{let a=t();for(;typeof a=="function";)a=a();n=yt(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(Dn(a,t,n,i))return E(()=>n=yt(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=ze(e,n,r),s)return n}else l?n.length===0?Mr(e,a,r):bo(e,n,a):(n&&ze(e),Mr(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ze(e,n,r,t);ze(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Dn(e,t,n,r){let i=!1;for(let o=0,s=t.length;o<s;o++){let a=t[o],l=n&&n[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=Dn(e,a,l)||i;else if(c==="function")if(r){for(;typeof a=="function";)a=a();i=Dn(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||i}else e.push(a),i=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return i}function Mr(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function ze(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let o=!1;for(let s=t.length-1;s>=0;s--){const a=t[s];if(i!==a){const l=a.parentNode===e;!o&&!s?l?e.replaceChild(i,a):e.insertBefore(i,n):l&&a.remove()}else o=!0}}else e.insertBefore(i,n);return[i]}const Mi=!1;function Oi(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,o){if(n)return!(n=!1);const s={to:i,options:o,defaultPrevented:!1,preventDefault:()=>s.defaultPrevented=!0};for(const a of e)a.listener({...s,from:a.location,retry:l=>{l&&(n=!0),a.navigate(i,{...o,resolve:!1})}});return!s.defaultPrevented}return{subscribe:t,confirm:r}}let Fn;function sr(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Fn=window.history.state._depth}sr();function Ao(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function Eo(e,t){let n=!1;return()=>{const r=Fn;sr();const i=r==null?null:Fn-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const Po=/^(?:[a-z0-9]+:)?\/\//i,No=/^\/+|(\/)\/+$/g,qi="http://sr";function je(e,t=!1){const n=e.replace(No,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function Vt(e,t,n){if(Po.test(t))return;const r=je(e),i=n&&je(n);let o="";return!i||t.startsWith("/")?o=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?o=r+i:o=i,(o||"/")+je(t,!o)}function Ro(e,t){if(e==null)throw new Error(t);return e}function To(e,t){return je(e).replace(/\/*(\*.*)?$/g,"")+je(t)}function ji(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function Lo(e,t,n){const[r,i]=e.split("/*",2),o=r.split("/").filter(Boolean),s=o.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-s;if(c<0||c>0&&i===void 0&&!t)return null;const u={path:s?"":"/",params:{}},d=f=>n===void 0?void 0:n[f];for(let f=0;f<s;f++){const h=o[f],g=h[0]===":",m=g?l[f]:l[f].toLowerCase(),y=g?h.slice(1):h.toLowerCase();if(g&&$n(m,d(y)))u.params[y]=m;else if(g||!$n(m,y))return null;u.path+=`/${m}`}if(i){const f=c?l.slice(-c).join("/"):"";if($n(f,d(i)))u.params[i]=f;else return null}return u}}function $n(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Mo(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,o)=>i+(o.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Di(e){const t=new Map,n=Si();return new Proxy({},{get(r,i){return t.has(i)||Ci(n,()=>t.set(i,I(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function Oo(e,t){const n=new URLSearchParams(e);Object.entries(t).forEach(([i,o])=>{o==null||o===""||o instanceof Array&&!o.length?n.delete(i):o instanceof Array?(n.delete(i),o.forEach(s=>{n.append(i,String(s))})):n.set(i,String(o))});const r=n.toString();return r?`?${r}`:""}function Fi(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return Fi(r).reduce((o,s)=>[...o,...i.map(a=>a+s)],[])}const qo=100,Vi=mn(),or=mn(),Ct=()=>Ro(kt(Vi),"<A> and 'use' router primitives can be only used inside a Route."),jo=()=>kt(or)||Ct().base,Do=e=>{const t=jo();return I(()=>t.resolvePath(e()))},Fo=e=>{const t=Ct();return I(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},Ie=()=>Ct().navigatorFactory(),ar=()=>Ct().location,Ui=()=>Ct().params,Or=()=>{const e=ar(),t=Ie(),n=(r,i)=>{const o=re(()=>Oo(e.search,r)+e.hash);t(o,{scroll:!1,resolve:!1,...i})};return[e.query,n]};function Vo(e,t=""){const{component:n,preload:r,load:i,children:o,info:s}=e,a=!o||Array.isArray(o)&&!o.length,l={key:e,component:n,preload:r||i,info:s};return Ii(e.path).reduce((c,u)=>{for(const d of Fi(u)){const f=To(t,d);let h=a?f:f.split("/*",1)[0];h=h.split("/").map(g=>g.startsWith(":")||g.startsWith("*")?g:encodeURIComponent(g)).join("/"),c.push({...l,originalPath:u,pattern:h,matcher:Lo(h,!a,e.matchFilters)})}return c},[])}function Uo(e,t=0){return{routes:e,score:Mo(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const o=e[i],s=o.matcher(n);if(!s)return null;r.unshift({...s,route:o})}return r}}}function Ii(e){return Array.isArray(e)?e:[e]}function Bi(e,t="",n=[],r=[]){const i=Ii(e);for(let o=0,s=i.length;o<s;o++){const a=i[o];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=Vo(a,t);for(const c of l){n.push(c);const u=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!u)Bi(a.children,c.pattern,n,r);else{const d=Uo([...n],r.length);r.push(d)}n.pop()}}}return n.length?r:r.sort((o,s)=>s.score-o.score)}function kn(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function Io(e,t,n){const r=new URL(qi),i=I(u=>{const d=e();try{return new URL(d,r)}catch{return console.error(`Invalid path ${d}`),u}},r,{equals:(u,d)=>u.href===d.href}),o=I(()=>i().pathname),s=I(()=>i().search,!0),a=I(()=>i().hash),l=()=>"",c=tr(s,()=>ji(i()));return{get pathname(){return o()},get search(){return s()},get hash(){return a()},get state(){return t()},get key(){return l()},query:n?n(c):Di(c)}}let Me;function Bo(){return Me}function zo(e,t,n,r={}){const{signal:[i,o],utils:s={}}=e,a=s.parsePath||(M=>M),l=s.renderPath||(M=>M),c=s.beforeLeave||Oi(),u=Vt("",r.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!i().value&&o({value:u,replace:!0,scroll:!1});const[d,f]=O(!1);let h;const g=(M,L)=>{L.value===m()&&L.state===x()||(h===void 0&&f(!0),Me=M,h=L,Js(()=>{h===L&&(y(h.value),w(h.state),A[1](D=>D.filter(U=>U.pending)))}).finally(()=>{h===L&&ki(()=>{Me=void 0,M==="navigate"&&_(h),f(!1),h=void 0})}))},[m,y]=O(i().value),[x,w]=O(i().state),b=Io(m,x,s.queryWrapper),S=[],A=O([]),T=I(()=>typeof r.transformUrl=="function"?kn(t(),r.transformUrl(b.pathname)):kn(t(),b.pathname)),j=()=>{const M=T(),L={};for(let D=0;D<M.length;D++)Object.assign(L,M[D].params);return L},$=s.paramsWrapper?s.paramsWrapper(j,t):Di(j),k={pattern:u,path:()=>u,outlet:()=>null,resolvePath(M){return Vt(u,M)}};return E(tr(i,M=>g("native",M),{defer:!0})),{base:k,location:b,params:$,isRouting:d,renderPath:l,parsePath:a,navigatorFactory:v,matches:T,beforeLeave:c,preloadRoute:P,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:A};function R(M,L,D){re(()=>{if(typeof L=="number"){L&&(s.go?s.go(L):console.warn("Router integration does not support relative routing"));return}const U=!L||L[0]==="?",{replace:z,resolve:V,scroll:Le,state:xe}={replace:!1,resolve:!U,scroll:!0,...D},_e=V?M.resolvePath(L):Vt(U&&b.pathname||"",L);if(_e===void 0)throw new Error(`Path '${L}' is not a routable path`);if(S.length>=qo)throw new Error("Too many redirects");const Y=m();(_e!==Y||xe!==x())&&(Mi||c.confirm(_e,D)&&(S.push({value:Y,replace:z,scroll:Le,state:x()}),g("navigate",{value:_e,state:xe})))})}function v(M){return M=M||kt(or)||k,(L,D)=>R(M,L,D)}function _(M){const L=S[0];L&&(o({...M,replace:L.replace,scroll:L.scroll}),S.length=0)}function P(M,L){const D=kn(t(),M.pathname),U=Me;Me="preload";for(let z in D){const{route:V,params:Le}=D[z];V.component&&V.component.preload&&V.component.preload();const{preload:xe}=V;L&&xe&&Ci(n(),()=>xe({params:Le,location:{pathname:M.pathname,search:M.search,hash:M.hash,query:ji(M),state:null,key:""},intent:"preload"}))}Me=U}}function Yo(e,t,n,r){const{base:i,location:o,params:s}=e,{pattern:a,component:l,preload:c}=r().route,u=I(()=>r().path);l&&l.preload&&l.preload();const d=c?c({params:s,location:o,intent:Me||"initial"}):void 0;return{parent:t,pattern:a,path:u,outlet:()=>l?C(l,{params:s,location:o,data:d,get children(){return n()}}):n(),resolvePath(h){return Vt(i.path(),h,u())}}}const Ho=e=>t=>{const{base:n}=t,r=nr(()=>t.children),i=I(()=>Bi(r(),t.base||""));let o;const s=zo(e,i,()=>o,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(s),C(Vi.Provider,{value:s,get children(){return C(Go,{routerState:s,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[ae(()=>(o=Si())&&null),C(Wo,{routerState:s,get branches(){return i()}})]}})}})};function Go(e){const t=e.routerState.location,n=e.routerState.params,r=I(()=>e.preload&&re(()=>{e.preload({params:n,location:t,intent:Bo()||"initial"})}));return C(W,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>C(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function Wo(e){const t=[];let n;const r=I(tr(e.routerState.matches,(i,o,s)=>{let a=o&&i.length===o.length;const l=[];for(let c=0,u=i.length;c<u;c++){const d=o&&o[c],f=i[c];s&&d&&f.route.key===d.route.key?l[c]=s[c]:(a=!1,t[c]&&t[c](),dt(h=>{t[c]=h,l[c]=Yo(e.routerState,l[c-1]||e.routerState.base,qr(()=>r()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(i.length).forEach(c=>c()),s&&a?s:(n=l[0],l)}));return qr(()=>r()&&n)()}const qr=e=>()=>C(W,{get when(){return e()},keyed:!0,children:t=>C(or.Provider,{value:t,get children(){return t.outlet()}})}),ge=e=>{const t=nr(()=>e.children);return H(e,{get children(){return t()}})};function Ko([e,t],n,r){return[e,r?i=>t(r(i)):t]}function Qo(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=Ko(O(n(e.get()),{equals:(i,o)=>i.value===o.value&&i.state===o.state}),void 0,i=>(!t&&e.set(i),i));return e.init&&de(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),Ho({signal:r,create:e.create,utils:e.utils})}function Xo(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Zo(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Jo=new Map;function ea(e=!0,t=!1,n="/_server",r){return i=>{const o=i.base.path(),s=i.navigatorFactory(i.base);let a,l;function c(m){return m.namespaceURI==="http://www.w3.org/2000/svg"}function u(m){if(m.defaultPrevented||m.button!==0||m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)return;const y=m.composedPath().find(T=>T instanceof Node&&T.nodeName.toUpperCase()==="A");if(!y||t&&!y.hasAttribute("link"))return;const x=c(y),w=x?y.href.baseVal:y.href;if((x?y.target.baseVal:y.target)||!w&&!y.hasAttribute("state"))return;const S=(y.getAttribute("rel")||"").split(/\s+/);if(y.hasAttribute("download")||S&&S.includes("external"))return;const A=x?new URL(w,document.baseURI):new URL(w);if(!(A.origin!==window.location.origin||o&&A.pathname&&!A.pathname.toLowerCase().startsWith(o.toLowerCase())))return[y,A]}function d(m){const y=u(m);if(!y)return;const[x,w]=y,b=i.parsePath(w.pathname+w.search+w.hash),S=x.getAttribute("state");m.preventDefault(),s(b,{resolve:!1,replace:x.hasAttribute("replace"),scroll:!x.hasAttribute("noscroll"),state:S?JSON.parse(S):void 0})}function f(m){const y=u(m);if(!y)return;const[x,w]=y;r&&(w.pathname=r(w.pathname)),i.preloadRoute(w,x.getAttribute("preload")!=="false")}function h(m){clearTimeout(a);const y=u(m);if(!y)return l=null;const[x,w]=y;l!==x&&(r&&(w.pathname=r(w.pathname)),a=setTimeout(()=>{i.preloadRoute(w,x.getAttribute("preload")!=="false"),l=x},20))}function g(m){if(m.defaultPrevented)return;let y=m.submitter&&m.submitter.hasAttribute("formaction")?m.submitter.getAttribute("formaction"):m.target.getAttribute("action");if(!y)return;if(!y.startsWith("https://action/")){const w=new URL(y,qi);if(y=i.parsePath(w.pathname+w.search),!y.startsWith(n))return}if(m.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const x=Jo.get(y);if(x){m.preventDefault();const w=new FormData(m.target,m.submitter);x.call({r:i,f:m.target},m.target.enctype==="multipart/form-data"?w:new URLSearchParams(w))}}se(["click","submit"]),document.addEventListener("click",d),e&&(document.addEventListener("mousemove",h,{passive:!0}),document.addEventListener("focusin",f,{passive:!0}),document.addEventListener("touchstart",f,{passive:!0})),document.addEventListener("submit",g),de(()=>{document.removeEventListener("click",d),e&&(document.removeEventListener("mousemove",h),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",g)})}}function ta(e){const t=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,i=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:i}},n=Oi();return Qo({get:t,set({value:r,replace:i,scroll:o,state:s}){i?window.history.replaceState(Ao(s),"",r):window.history.pushState(s,"",r),Zo(decodeURIComponent(window.location.hash.slice(1)),o),sr()},init:r=>Xo(window,"popstate",Eo(r,i=>{if(i&&i<0)return!n.confirm(i);{const o=t();return!n.confirm(o.value,{state:o.state})}})),create:ea(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}var na=N("<a>");function Tt(e){e=H({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=Ri(e,["href","state","class","activeClass","inactiveClass","end"]),n=Do(()=>e.href),r=Fo(n),i=ar(),o=I(()=>{const s=n();if(s===void 0)return[!1,!1];const a=je(s.split(/[?#]/,1)[0]).toLowerCase(),l=decodeURI(je(i.pathname).toLowerCase());return[e.end?a===l:l.startsWith(a+"/")||l===a,a===l]});return(()=>{var s=na();return J(s,H(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!o()[0],[e.activeClass]:o()[0],...t.classList}},link:"",get"aria-current"(){return o()[1]?"page":void 0}}),!1,!1),s})()}const Vn=Symbol("store-raw"),Qe=Symbol("store-node"),ke=Symbol("store-has"),zi=Symbol("store-self");function Yi(e){let t=e[fe];if(!t&&(Object.defineProperty(e,fe,{value:t=new Proxy(e,sa)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,o=n.length;i<o;i++){const s=n[i];r[s].get&&Object.defineProperty(e,s,{enumerable:r[s].enumerable,get:r[s].get.bind(t)})}}return t}function Qt(e){let t;return e!=null&&typeof e=="object"&&(e[fe]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function wt(e,t=new Set){let n,r,i,o;if(n=e!=null&&e[Vn])return n;if(!Qt(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let s=0,a=e.length;s<a;s++)i=e[s],(r=wt(i,t))!==i&&(e[s]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const s=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,c=s.length;l<c;l++)o=s[l],!a[o].get&&(i=e[o],(r=wt(i,t))!==i&&(e[o]=r))}return e}function Xt(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function bt(e,t,n){if(e[t])return e[t];const[r,i]=O(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function ra(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===fe||t===Qe||(delete n.value,delete n.writable,n.get=()=>e[fe][t]),n}function Hi(e){On()&&bt(Xt(e,Qe),zi)()}function ia(e){return Hi(e),Reflect.ownKeys(e)}const sa={get(e,t,n){if(t===Vn)return e;if(t===fe)return n;if(t===Mn)return Hi(e),n;const r=Xt(e,Qe),i=r[t];let o=i?i():e[t];if(t===Qe||t===ke||t==="__proto__")return o;if(!i){const s=Object.getOwnPropertyDescriptor(e,t);On()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(s&&s.get)&&(o=bt(r,t,o)())}return Qt(o)?Yi(o):o},has(e,t){return t===Vn||t===fe||t===Mn||t===Qe||t===ke||t==="__proto__"?!0:(On()&&bt(Xt(e,ke),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:ia,getOwnPropertyDescriptor:ra};function Zt(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],o=e.length;n===void 0?(delete e[t],e[ke]&&e[ke][t]&&i!==void 0&&e[ke][t].$()):(e[t]=n,e[ke]&&e[ke][t]&&i===void 0&&e[ke][t].$());let s=Xt(e,Qe),a;if((a=bt(s,t,i))&&a.$(()=>n),Array.isArray(e)&&e.length!==o){for(let l=e.length;l<o;l++)(a=s[l])&&a.$();(a=bt(s,"length",o))&&a.$(e.length)}(a=s[zi])&&a.$()}function Gi(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Zt(e,i,t[i])}}function oa(e,t){if(typeof t=="function"&&(t=t(e)),t=wt(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Zt(e,n,i)}Zt(e,"length",r)}else Gi(e,t)}function st(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const s=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)st(e,[r[l]].concat(t),n);return}else if(a&&s==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&st(e,[l].concat(t),n);return}else if(a&&s==="object"){const{from:l=0,to:c=e.length-1,by:u=1}=r;for(let d=l;d<=c;d+=u)st(e,[d].concat(t),n);return}else if(t.length>1){st(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let o=t[0];typeof o=="function"&&(o=o(i,n),o===i)||r===void 0&&o==null||(o=wt(o),r===void 0||Qt(i)&&Qt(o)&&!Array.isArray(o)?Gi(i,o):Zt(e,r,o))}function aa(...[e,t]){const n=wt(e||{}),r=Array.isArray(n),i=Yi(n);function o(...s){ki(()=>{r&&s.length===1?oa(n,s[0]):st(n,s)})}return[i,o]}var la=N('<main class="flex flex-col items-center justify-center min-h-screen bg-gray-50 px-4"><div class="max-w-xl w-full text-center py-12"><h1 class="text-4xl font-bold mb-4 text-blue-700">CoRATES</h1><p class="text-lg text-gray-700 mb-6">Collaborative Research Appraisal Tool for Evidence Synthesis</p><p class="mb-8 text-gray-600">Interactively fill out and score AMSTAR 2 checklists for systematic reviews.<br>Works fully offline, saves your work automatically, and helps you visualize results.</p><div class="mt-10 text-xs text-gray-400"><a href=https://github.com/InfinityBowman/amstar2-checklist-scoring-app target=_blank rel=noopener>View on GitHub');function ca(){return la()}const K={q1:{text:"1. Did the research questions and inclusion criteria for the review include the components of PICO?",columns:[{label:"For Yes:",options:["Population","Intervention","Comparator group","Outcome"]},{label:"Optional (recommended):",options:["Timeframe for follow-up"]},{label:"",options:["Yes","No"]}]},q2:{text:"2. Did the report of the review contain an explicit statement that the review methods were established prior to the conduct of the review and did the report justify any significant deviations from the protocol?",columns:[{label:"For Partial Yes:",description:"The authors state that they had a written protocol or guide that included ALL the following:",options:["review question(s)","a search strategy","inclusion/exclusion criteria","risk of bias assessment"]},{label:"For Yes:",description:"As for Partial Yes, plus the protocol should be registered and should also have specified:",options:["a meta-analysis/synthesis plan, if appropriate, and","a plan for investigating causes of heterogeneity","a plan for investigating causes of heterogeneity"]},{label:"",description:"",options:["Yes","Partial Yes","No"]}]},q3:{text:"3. Did the review authors explain their selection of the study designs for inclusion in the review?",columns:[{label:"For Yes, the review should satisfy ONE of the following:",options:["Explanation for including only RCTs ","OR Explanation for including only NRSI","OR Explanation for including both RCTs and NRSI"]},{label:"",options:["Yes","No"]}]},q4:{text:"4. Did the review authors use a comprehensive literature search strategy? ",columns:[{label:"For Partial Yes (all the following):",options:["searched at least 2 databases (relevant to research question)","provided key word and/or search strategy","justified publication restrictions (e.g. language)"]},{label:"For Yes, should also have (all the following):",options:["searched the reference lists / bibliographies of included studies","searched trial/study registries","included/consulted content experts in the field","where relevant, searched for grey literature","conducted search within 24 months of completion of the review"]},{label:"",options:["Yes","Partial Yes","No"]}]},q5:{text:"5. Did the review authors perform study selection in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q6:{text:"6. Did the review authors perform data extraction in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q7:{text:"7. Did the review authors provide a list of excluded studies and justify the exclusions?",columns:[{label:"For Partial Yes:",options:["provided a list of all potentially relevant studies that were read in full-text form but excluded from the review"]},{label:"For Yes, must also have:",options:["Justified the exclusion from the review of each potentially relevant study"]},{label:"",options:["Yes","Partial Yes","No"]}]},q8:{text:"8. Did the review authors describe the included studies in adequate detail?",columns:[{label:"For Partial Yes (ALL the following):",options:["described populations","described interventions","described comparators","described outcomes","described research designs"]},{label:"For Yes, should also have ALL the following:",options:["described population in detail","described comparator in detail (including doses where relevant)","described study’s setting in detail","timeframe for follow-up"]},{label:"",options:["Yes","Partial Yes","No"]}]},q9:{text:"9. Did the review authors use a satisfactory technique for assessing the risk of bias (RoB) in individual studies that were included in the review?",subtitle:"RCTs",columns:[{label:"For Partial Yes, must have assessed RoB from",options:["unconcealed allocation, and","lack of blinding of patients and assessors when assessing outcomes (unnecessary for objective outcomes such as all-cause mortality)"]},{label:"For Yes, must also have assessed RoB from:",options:["allocation sequence that was not truly random, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",description:"",options:["Yes","Partial Yes","No"," Includes only NRSI"]}],subtitle2:"NRSI",columns2:[{label:"For Partial Yes, must have assessed RoB:",options:["from confounding, and","from selection bias"]},{label:"For Yes, must also have assessed RoB:",options:["methods used to ascertain exposures and outcomes, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",options:["Yes","Partial Yes","No","Includes only RCTs"]}]},q10:{text:"10. Did the review authors report on the sources of funding for the studies included in the review?",columns:[{label:"For Yes:",options:["Must have reported on the sources of funding for individual studies included in the review. Note: Reporting that the reviewers looked for this information but it was not reported by study authors also qualifies"]},{label:"",options:["Yes","No"]}]},q11:{text:"11. If meta-analysis was performed did the review authors use appropriate methods for statistical combination of results?",subtitle:"RCTs",columns:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results and adjusted for heterogeneity if present.","AND investigated the causes of any heterogeneity"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}],subtitle2:"NRSI",columns2:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results, adjusting for heterogeneity if present","AND they statistically combined effect estimates from NRSI that were adjusted for confounding, rather than combining raw data, or justified combining raw data when adjusted effect estimates were not available","AND they reported separate summary estimates for RCTs and NRSI separately when both were included in the review"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q12:{text:"12. If meta-analysis was performed, did the review authors assess the potential impact of RoB in individual studies on the results of the meta-analysis or other evidence synthesis?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if the pooled estimate was based on RCTs and/or NRSI at variable RoB, the authors performed analyses to investigate possible impact of RoB on summary estimates of effect."]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q13:{text:"13. Did the review authors account for RoB in individual studies when interpreting/ discussing the results of the review?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if RCTs with moderate or high RoB, or NRSI were included the review provided a discussion of the likely impact of RoB on the results"]},{label:"",options:["Yes","No"]}]},q14:{text:"14. Did the review authors provide a satisfactory explanation for, and discussion of, any heterogeneity observed in the results of the review?",columns:[{label:"For Yes:",options:["There was no significant heterogeneity in the results","OR if heterogeneity was present the authors performed an investigation of sources of any heterogeneity in the results and discussed the impact of this on the results of the review"]},{label:"",options:["Yes","No"]}]},q15:{text:"15. If they performed quantitative synthesis did the review authors carry out an adequate investigation of publication bias (small study bias) and discuss its likely impact on the results of the review?",columns:[{label:"For Yes:",options:["performed graphical or statistical tests for publication bias and discussed the likelihood and magnitude of impact of publication bias"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q16:{text:"16. Did the review authors report any potential sources of conflict of interest, including any funding they received for conducting the review?",options:["Yes","Partial Yes","No"],columns:[{label:"For Yes:",options:["The authors reported no competing interests OR","The authors described their funding sources and how they managed potential conflicts of interest"]},{label:"",options:["Yes","No"]}]}},ua="corates-app-db",Ne="checklists",we="projects",fa=1;function ht(e){return JSON.parse(JSON.stringify(e))}function Be(){return new Promise((e,t)=>{const n=indexedDB.open(ua,fa);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(Ne)||r.createObjectStore(Ne,{keyPath:"id"}),r.objectStoreNames.contains(we)||r.createObjectStore(we,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function Un(e){const t=await Be();return e=ht(e),new Promise((n,r)=>{const i=t.transaction(Ne,"readwrite");i.objectStore(Ne).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function da(){const e=await Be();return new Promise((t,n)=>{const o=e.transaction(Ne,"readonly").objectStore(Ne).getAll();o.onsuccess=()=>t(o.result),o.onerror=()=>n(o.error)})}async function ha(e){const t=await Be();return new Promise((n,r)=>{const i=t.transaction(Ne,"readwrite");i.objectStore(Ne).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function yn(e){const t=await Be();return e=ht(e),new Promise((n,r)=>{const i=t.transaction(we,"readwrite");i.objectStore(we).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function Wi(e){const t=await Be();return new Promise((n,r)=>{const o=t.transaction(we,"readonly").objectStore(we).get(e);o.onsuccess=()=>n(o.result),o.onerror=()=>r(o.error)})}async function ga(){const e=await Be();return new Promise((t,n)=>{const o=e.transaction(we,"readonly").objectStore(we).getAll();o.onsuccess=()=>t(o.result),o.onerror=()=>n(o.error)})}async function ma(e,t){try{const n=await Wi(e);if(!n)throw new Error(`Project with ID ${e} not found`);return n.checklists=n.checklists.filter(r=>r.id!==t),await yn(n),!0}catch(n){throw console.error("Error deleting checklist from project:",n),n}}async function jr(e,t){try{await Un(t);const n=await Wi(e);if(!n)throw new Error(`Project with ID ${e} not found`);const r=n.checklists.findIndex(i=>i.id===t.id);return r>=0?n.checklists[r]=ht(t):(console.log("Adding new checklist to project",ht(t)),n.checklists.push(ht(t))),await yn(n),n}catch(n){throw console.error("Error saving checklist to project:",n),n}}async function pa(e){const t=await Be();return new Promise((n,r)=>{const i=t.transaction(we,"readwrite");i.objectStore(we).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}function In(){return crypto.randomUUID()}const Ki=mn();function ya(e){const[t,n]=aa({projects:[],currentProject:null,currentChecklist:null,dataLoading:!0,checklists:[]});gn(async()=>{try{await r()}catch(f){console.error("Error loading data:",f)}finally{n("dataLoading",!1)}});async function r(){try{n("loading",!0);const f=await ga();f.sort((g,m)=>(g.createdAt||0)-(m.createdAt||0)),n("projects",f);const h=await da();n("checklists",h)}catch(f){throw console.error("Error loading IndexedDB data:",f),f}finally{n("loading",!1)}}async function i(f){try{return await yn(f),n("projects",h=>[...h,f]),f}catch(h){throw console.error("Error adding project:",h),h}}async function o(f){try{return await pa(f),n("projects",h=>h.filter(g=>g.id!==f)),t.currentProject?.id===f&&(n("currentProject",null),n("currentChecklist",null)),!0}catch(h){throw console.error("Error deleting project:",h),h}}function s(f){n("projects",f)}function a(f){let h=null;if(typeof f=="object"&&f!==null){if("project"in f&&f.project)h={...f.project};else if("id"in f)h=t.projects.find(g=>g.id===f.id);else if("name"in f){const g=t.projects.filter(m=>m.name===f.name);h=g[f.index??0]?{...g[f.index??0]}:null}}else typeof f=="string"&&(h=t.projects.find(g=>g.id===f),h||(h=t.projects.find(g=>g.name===f)),h=h?{...h}:null);n("currentProject",h),n("currentChecklist",{...h?.checklists?.[0]??null})}function l(f){let h=null;if(typeof f=="string"){for(const g of t.projects){const m=g.checklists.find(y=>y.id===f);if(m){h={...m};break}}if(!h){const g=t.checklists.find(m=>m.id===f);g&&(h={...g})}if(!h){console.warn(`setCurrentChecklist: Checklist with ID "${f}" not found.`),n("currentChecklist",null);return}}else if(typeof f=="object")h={...f};else{n("currentChecklist",null);return}n("currentChecklist",h)}async function c(f,h){if(f===null)try{return await Un(h),n("checklists",g=>[...g,h]),h}catch(g){throw console.error("Error adding checklist without project:",g),g}try{const g=await jr(f,h),m=t.projects.findIndex(y=>y.id===f);return m!==-1&&n("projects",m,g),h}catch(g){throw console.error("Error adding checklist:",g),g}}async function u(f){try{const h=t.projects.findIndex(g=>g.checklists.some(m=>m.id===f.id));if(h>=0){const g=t.projects[h].id;return await jr(g,f),n("projects",h,"checklists",m=>{const y=m.findIndex(x=>x.id===f.id);return y>=0?[...m.slice(0,y),{...f},...m.slice(y+1)]:m}),t.currentChecklist?.id===f.id&&n("currentChecklist",{...f}),f}else{const g=t.checklists.findIndex(m=>m.id===f.id);if(g>=0)return await Un(f),n("checklists",g,{...f}),t.currentChecklist?.id===f.id&&n("currentChecklist",{...f}),f;throw console.warn("Could not find checklist:",f.id),new Error(`Could not find checklist: ${f.id}`)}}catch(h){throw console.error("Error updating checklist:",h),h}}async function d(f,h){if(f===null)try{return await ha(h),n("checklists",g=>g.filter(m=>m.id!==h)),t.currentChecklist?.id===h&&n("currentChecklist",null),!0}catch(g){return console.error("Error adding checklist without project:",g),!1}try{await ma(f,h);const g=t.projects.findIndex(m=>m.id===f);if(g>=0&&(n("projects",g,"checklists",m=>m.filter(y=>y.id!==h)),t.currentChecklist?.id===h)){const m=t.projects[g];n("currentChecklist",m.checklists.length>0?m.checklists[0]:null)}return!0}catch(g){return console.error("Error removing checklist:",g),!1}}return C(Ki.Provider,{value:{projects:()=>t.projects,currentProject:()=>t.currentProject,currentChecklist:()=>t.currentChecklist,dataLoading:()=>t.dataLoading,checklists:()=>t.checklists,loadData:r,setProjects:s,addProject:i,deleteProject:o,setCurrentProject:a,setCurrentChecklist:l,addChecklist:c,updateChecklist:u,deleteChecklist:d},get children(){return e.children}})}function tt(){return kt(Ki)}var ne=N('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="flex gap-6">'),Fe=N('<div><div class="font-medium text-gray-800 mb-2 h-6"></div><div class="flex flex-col gap-2">'),Q=N('<label class="flex items-center space-x-2"><input type=checkbox class="w-4 h-4 shrink-0 text-blue-600 border-gray-300 focus:ring-blue-500"><span class=text-gray-700>'),wa=N('<div><div class="font-medium text-gray-800 mb-2 h-6"></div><div class="font-light text-gray-800 mb-4 h-12"></div><div class="flex flex-col gap-2">'),be=N('<div><div class="font-medium text-gray-800 h-8"></div><div class="flex flex-col gap-2">'),Qi=N('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6"></div><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6">'),ba=N("<div class=space-y-6>"),va=N('<div class="min-h-screen bg-linear-to-br from-blue-50 to-indigo-100"><div class="container mx-auto px-4 py-8 max-w-7xl"><div class="bg-white rounded-lg shadow-lg p-8 mb-8"><h1 class="text-3xl font-bold text-gray-900 mb-2">AMSTAR 2 Checklist</h1><p class="text-gray-600 mb-6">App description here</p><div class="grid md:grid-cols-3 gap-4 mb-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Title</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter review title"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Reviewer Name</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter your name"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Date</label><input type=date class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">'),xa=N("<div>Loading...");function _a(e){const t=()=>e.checklistState().q1.answers,n=K.q1;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].every(Boolean);s[2][0]=l,s[2][1]=!l}i===2&&(o===0&&s[2][0]&&(s[2][1]=!1),o===1&&s[2][1]&&(s[2][0]=!1));const a={...e.checklistState().q1,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Fe(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function $a(e){const t=()=>e.checklistState().q2.answers,n=K.q2;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q2,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=wa(),u=c.firstChild,d=u.nextSibling,f=d.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.description),p(f,()=>a.options.map((h,g)=>(()=>{var m=Q(),y=m.firstChild,x=y.nextSibling;return q(m,"key",g),y.addEventListener("change",()=>r(l,g)),p(x,h),E(()=>y.checked=t()[l][g]),m})())),E(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function ka(e){const t=()=>e.checklistState().q3.answers,n=K.q3;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q3,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=be(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Sa(e){const t=()=>e.checklistState().q4.answers,n=K.q4;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q4,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Fe(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Ca(e){const t=()=>e.checklistState().q5.answers,n=K.q5;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q5,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Fe(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Aa(e){const t=()=>e.checklistState().q6.answers,n=K.q6;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q6,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=be(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Ea(e){const t=()=>e.checklistState().q7.answers,n=K.q7;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q7,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Fe(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Pa(e){const t=()=>e.checklistState().q8.answers,n=K.q8;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0||i===1){const l=s[0].every(Boolean),c=l&&s[1].every(Boolean);s[2][0]=c,s[2][1]=!c&&l,s[2][2]=!c&&!l}i===2&&(s[2]=s[2].map((l,c)=>c===o?!t()[2][o]:!1));const a={...e.checklistState().q8,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=Fe(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Na(e){const t=()=>e.checklistState().q9a.answers,n=()=>e.checklistState().q9b.answers,r=K.q9;function i(s,a){const l=t().map(u=>[...u]);if(l[s][a]=!t()[s][a],s===0||s===1){const u=l[0].every(Boolean),d=u&&l[1].every(Boolean);l[2][0]=d,l[2][1]=!d&&u,l[2][2]=!d&&!u,l[2][3]=!1}s===2&&(l[2]=l[2].map((u,d)=>d===a?!t()[2][a]:!1));const c={...e.checklistState().q9a,answers:l};e.onUpdatea(c)}function o(s,a){const l=n().map(u=>[...u]);if(l[s][a]=!n()[s][a],s===0||s===1){const u=l[0].every(Boolean),d=u&&l[1].every(Boolean);l[2][0]=d,l[2][1]=!d&&u,l[2][2]=!d&&!u,l[2][3]=!1}s===2&&(l[2]=l[2].map((u,d)=>d===a?!n()[2][a]:!1));const c={...e.checklistState().q9b,answers:l};e.onUpdateb(c)}return(()=>{var s=Qi(),a=s.firstChild,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling,d=u.nextSibling;return p(a,()=>r.text),p(l,()=>r.subtitle),p(c,()=>r.columns.map((f,h)=>(()=>{var g=Fe(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),p(m,()=>f.label),p(y,()=>f.options.map((x,w)=>(()=>{var b=Q(),S=b.firstChild,A=S.nextSibling;return q(b,"key",w),S.addEventListener("change",()=>i(h,w)),p(A,x),E(()=>S.checked=t()[h][w]),b})())),E(()=>g.className=h===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),g})())),p(u,()=>r.subtitle2),p(d,()=>r.columns2.map((f,h)=>(()=>{var g=Fe(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),p(m,()=>f.label),p(y,()=>f.options.map((x,w)=>(()=>{var b=Q(),S=b.firstChild,A=S.nextSibling;return q(b,"key",w),S.addEventListener("change",()=>o(h,w)),p(A,x),E(()=>S.checked=n()[h][w]),b})())),E(()=>g.className=h===r.columns2.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),g})())),s})()}function Ra(e){const t=()=>e.checklistState().q10.answers,n=K.q10;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q10,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=be(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Ta(e){const t=()=>e.checklistState().q11a.answers,n=()=>e.checklistState().q11b.answers,r=K.q11;function i(s,a){const l=t().map(u=>[...u]);if(l[s][a]=!t()[s][a],s===0){const u=l[0].every(Boolean);l[1][0]=u,l[1][1]=!u,l[1][2]=!1}s===1&&(l[1]=l[1].map((u,d)=>d===a?!t()[1][a]:!1));const c={...e.checklistState().q11a,answers:l};e.onUpdatea(c)}function o(s,a){const l=n().map(u=>[...u]);if(l[s][a]=!n()[s][a],s===0){const u=l[0].every(Boolean);l[1][0]=u,l[1][1]=!u,l[1][2]=!1}s===1&&(l[1]=l[1].map((u,d)=>d===a?!n()[1][a]:!1));const c={...e.checklistState().q11b,answers:l};e.onUpdateb(c)}return(()=>{var s=Qi(),a=s.firstChild,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling,d=u.nextSibling;return p(a,()=>r.text),p(l,()=>r.subtitle),p(c,()=>r.columns.map((f,h)=>(()=>{var g=be(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),p(m,()=>f.label),p(y,()=>f.options.map((x,w)=>(()=>{var b=Q(),S=b.firstChild,A=S.nextSibling;return q(b,"key",w),S.addEventListener("change",()=>i(h,w)),p(A,x),E(()=>S.checked=t()[h][w]),b})())),E(()=>g.className=h===r.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),g})())),p(u,()=>r.subtitle2),p(d,()=>r.columns2.map((f,h)=>(()=>{var g=be(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),p(m,()=>f.label),p(y,()=>f.options.map((x,w)=>(()=>{var b=Q(),S=b.firstChild,A=S.nextSibling;return q(b,"key",w),S.addEventListener("change",()=>o(h,w)),p(A,x),E(()=>S.checked=n()[h][w]),b})())),E(()=>g.className=h===r.columns2.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),g})())),s})()}function La(e){const t=()=>e.checklistState().q12.answers,n=K.q12;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l,s[1][2]=!1}i===1&&(s[1]=s[1].map((l,c)=>c===o?!t()[1][o]:!1));const a={...e.checklistState().q12,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=be(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Ma(e){const t=()=>e.checklistState().q13.answers,n=K.q13;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q13,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=be(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Oa(e){const t=()=>e.checklistState().q14.answers,n=K.q14;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q14,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=be(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function qa(e){const t=()=>e.checklistState().q15.answers,n=K.q15;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l,s[1][2]=!1}i===1&&(s[1]=s[1].map((l,c)=>c===o?!t()[1][o]:!1));const a={...e.checklistState().q15,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=be(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function ja(e){const t=()=>e.checklistState().q16.answers,n=K.q16;function r(i,o){const s=t().map(l=>[...l]);if(s[i][o]=!t()[i][o],i===0){const l=s[0].some(Boolean);s[1][0]=l,s[1][1]=!l}i===1&&(o===0&&s[1][0]&&(s[1][1]=!1),o===1&&s[1][1]&&(s[1][0]=!1));const a={...e.checklistState().q16,answers:s};e.onUpdate(a)}return(()=>{var i=ne(),o=i.firstChild,s=o.nextSibling;return p(o,()=>n.text),p(s,()=>n.columns.map((a,l)=>(()=>{var c=be(),u=c.firstChild,d=u.nextSibling;return q(c,"key",l),p(u,()=>a.label),p(d,()=>a.options.map((f,h)=>(()=>{var g=Q(),m=g.firstChild,y=m.nextSibling;return q(g,"key",h),m.addEventListener("change",()=>r(l,h)),p(y,f),E(()=>m.checked=t()[l][h]),g})())),E(()=>c.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),i})()}function Da(){const[e,t]=O(""),[n,r]=O(""),[i,o]=O(""),{currentChecklist:s,setCurrentChecklist:a,updateChecklist:l,dataLoading:c}=tt(),u=Ui();X(()=>{u.id&&u.id!==s()?.id&&a(u.id),s()||(console.warn("AMSTAR2Checklist: No current checklist found for id",u.id),navigate("/dashboard"))}),X(()=>{s()&&(t(s().name||s().title||""),r(s().reviewerName||""),o(s().reviewDate||""))});const d=f=>{const h={...s(),...f};l(h)};return(()=>{var f=va(),h=f.firstChild,g=h.firstChild,m=g.firstChild,y=m.nextSibling,x=y.nextSibling,w=x.firstChild,b=w.firstChild,S=b.nextSibling,A=w.nextSibling,T=A.firstChild,j=T.nextSibling,$=A.nextSibling,k=$.firstChild,R=k.nextSibling;return S.addEventListener("change",v=>{t(v.target.value),d({title:v.target.value})}),j.addEventListener("change",v=>{r(v.target.value),d({reviewerName:v.target.value})}),R.addEventListener("change",v=>{o(v.target.value),d({reviewDate:v.target.value})}),p(h,C(W,{get when(){return ae(()=>!c())()&&s()},get fallback(){return xa()},get children(){var v=ba();return p(v,C(_a,{onUpdate:_=>d({q1:_}),checklistState:s}),null),p(v,C($a,{onUpdate:_=>d({q2:_}),checklistState:s}),null),p(v,C(ka,{onUpdate:_=>d({q3:_}),checklistState:s}),null),p(v,C(Sa,{onUpdate:_=>d({q4:_}),checklistState:s}),null),p(v,C(Ca,{onUpdate:_=>d({q5:_}),checklistState:s}),null),p(v,C(Aa,{onUpdate:_=>d({q6:_}),checklistState:s}),null),p(v,C(Ea,{onUpdate:_=>d({q7:_}),checklistState:s}),null),p(v,C(Pa,{onUpdate:_=>d({q8:_}),checklistState:s}),null),p(v,C(Na,{onUpdatea:_=>d({q9a:_}),onUpdateb:_=>d({q9b:_}),checklistState:s}),null),p(v,C(Ra,{onUpdate:_=>d({q10:_}),checklistState:s}),null),p(v,C(Ta,{onUpdatea:_=>d({q11a:_}),onUpdateb:_=>d({q11b:_}),checklistState:s}),null),p(v,C(La,{onUpdate:_=>d({q12:_}),checklistState:s}),null),p(v,C(Ma,{onUpdate:_=>d({q13:_}),checklistState:s}),null),p(v,C(Oa,{onUpdate:_=>d({q14:_}),checklistState:s}),null),p(v,C(qa,{onUpdate:_=>d({q15:_}),checklistState:s}),null),p(v,C(ja,{onUpdate:_=>d({q16:_}),checklistState:s}),null),v}}),null),E(()=>S.value=e()),E(()=>j.value=n()),E(()=>R.value=i()),f})()}function Ut(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Fa(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xi(e){let t,n,r;e.length!==2?(t=Ut,n=(a,l)=>Ut(e(a),l),r=(a,l)=>e(a)-l):(t=e===Ut||e===Fa?e:Va,n=e,r=e);function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function s(a,l,c=0,u=a.length){const d=i(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:i,center:s,right:o}}function Va(){return 0}function Ua(e){return e===null?NaN:+e}const Ia=Xi(Ut),Ba=Ia.right;Xi(Ua).center;class Dr extends Map{constructor(t,n=Ha){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Fr(this,t))}has(t){return super.has(Fr(this,t))}set(t,n){return super.set(za(this,t),n)}delete(t){return super.delete(Ya(this,t))}}function Fr({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function za({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ya({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ha(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Ga=Math.sqrt(50),Wa=Math.sqrt(10),Ka=Math.sqrt(2);function Jt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=Ga?10:o>=Wa?5:o>=Ka?2:1;let a,l,c;return i<0?(c=Math.pow(10,-i)/s,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*s,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?Jt(e,t,n*2):[a,l,c]}function Qa(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,s]=r?Jt(t,e,n):Jt(e,t,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let c=0;c<a;++c)l[c]=(o-c)/-s;else for(let c=0;c<a;++c)l[c]=(o-c)*s;else if(s<0)for(let c=0;c<a;++c)l[c]=(i+c)/-s;else for(let c=0;c<a;++c)l[c]=(i+c)*s;return l}function Bn(e,t,n){return t=+t,e=+e,n=+n,Jt(e,t,n)[2]}function Xa(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Bn(t,e,n):Bn(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Zi(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function Za(e){return e}var Ja=3,Vr=1e-6;function el(e){return"translate("+e+",0)"}function tl(e){return t=>+e(t)}function nl(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function rl(){return!this.__axis}function il(e,t){var n=[],r=null,i=null,o=6,s=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,u="y",d=el;function f(h){var g=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):Za),y=Math.max(o,0)+a,x=t.range(),w=+x[0]+l,b=+x[x.length-1]+l,S=(t.bandwidth?nl:tl)(t.copy(),l),A=h.selection?h.selection():h,T=A.selectAll(".domain").data([null]),j=A.selectAll(".tick").data(g,t).order(),$=j.exit(),k=j.enter().append("g").attr("class","tick"),R=j.select("line"),v=j.select("text");T=T.merge(T.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),j=j.merge(k),R=R.merge(k.append("line").attr("stroke","currentColor").attr(u+"2",c*o)),v=v.merge(k.append("text").attr("fill","currentColor").attr(u,c*y).attr("dy","0.71em")),h!==A&&(T=T.transition(h),j=j.transition(h),R=R.transition(h),v=v.transition(h),$=$.transition(h).attr("opacity",Vr).attr("transform",function(_){return isFinite(_=S(_))?d(_+l):this.getAttribute("transform")}),k.attr("opacity",Vr).attr("transform",function(_){var P=this.parentNode.__axis;return d((P&&isFinite(P=P(_))?P:S(_))+l)})),$.remove(),T.attr("d",s?"M"+w+","+c*s+"V"+l+"H"+b+"V"+c*s:"M"+w+","+l+"H"+b),j.attr("opacity",1).attr("transform",function(_){return d(S(_)+l)}),R.attr(u+"2",c*o),v.attr(u,c*y).text(m),A.filter(rl).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),A.each(function(){this.__axis=S})}return f.scale=function(h){return arguments.length?(t=h,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),f):n.slice()},f.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),f):r&&r.slice()},f.tickFormat=function(h){return arguments.length?(i=h,f):i},f.tickSize=function(h){return arguments.length?(o=s=+h,f):o},f.tickSizeInner=function(h){return arguments.length?(o=+h,f):o},f.tickSizeOuter=function(h){return arguments.length?(s=+h,f):s},f.tickPadding=function(h){return arguments.length?(a=+h,f):a},f.offset=function(h){return arguments.length?(l=+h,f):l},f}function sl(e){return il(Ja,e)}var ol={value:()=>{}};function Ji(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new It(n)}function It(e){this._=e}function al(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}It.prototype=Ji.prototype={constructor:It,on:function(e,t){var n=this._,r=al(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=ll(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=Ur(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ur(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new It(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function ll(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ur(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=ol,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var zn="http://www.w3.org/1999/xhtml";const Ir={svg:"http://www.w3.org/2000/svg",xhtml:zn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Ir.hasOwnProperty(t)?{space:Ir[t],local:e}:e}function cl(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===zn&&t.documentElement.namespaceURI===zn?t.createElement(e):t.createElementNS(n,e)}}function ul(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function es(e){var t=wn(e);return(t.local?ul:cl)(t)}function fl(){}function lr(e){return e==null?fl:function(){return this.querySelector(e)}}function dl(e){typeof e!="function"&&(e=lr(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new ie(r,this._parents)}function hl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function gl(){return[]}function ts(e){return e==null?gl:function(){return this.querySelectorAll(e)}}function ml(e){return function(){return hl(e.apply(this,arguments))}}function pl(e){typeof e=="function"?e=ml(e):e=ts(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new ie(r,i)}function ns(e){return function(){return this.matches(e)}}function rs(e){return function(t){return t.matches(e)}}var yl=Array.prototype.find;function wl(e){return function(){return yl.call(this.children,e)}}function bl(){return this.firstElementChild}function vl(e){return this.select(e==null?bl:wl(typeof e=="function"?e:rs(e)))}var xl=Array.prototype.filter;function _l(){return Array.from(this.children)}function $l(e){return function(){return xl.call(this.children,e)}}function kl(e){return this.selectAll(e==null?_l:$l(typeof e=="function"?e:rs(e)))}function Sl(e){typeof e!="function"&&(e=ns(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new ie(r,this._parents)}function is(e){return new Array(e.length)}function Cl(){return new ie(this._enter||this._groups.map(is),this._parents)}function en(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}en.prototype={constructor:en,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Al(e){return function(){return e}}function El(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new en(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function Pl(e,t,n,r,i,o,s){var a,l,c=new Map,u=t.length,d=o.length,f=new Array(u),h;for(a=0;a<u;++a)(l=t[a])&&(f[a]=h=s.call(l,l.__data__,a,t)+"",c.has(h)?i[a]=l:c.set(h,l));for(a=0;a<d;++a)h=s.call(e,o[a],a,o)+"",(l=c.get(h))?(r[a]=l,l.__data__=o[a],c.delete(h)):n[a]=new en(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(i[a]=l)}function Nl(e){return e.__data__}function Rl(e,t){if(!arguments.length)return Array.from(this,Nl);var n=t?Pl:El,r=this._parents,i=this._groups;typeof e!="function"&&(e=Al(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],d=i[c],f=d.length,h=Tl(e.call(u,u&&u.__data__,c,r)),g=h.length,m=a[c]=new Array(g),y=s[c]=new Array(g),x=l[c]=new Array(f);n(u,d,m,y,x,h,t);for(var w=0,b=0,S,A;w<g;++w)if(S=m[w]){for(w>=b&&(b=w+1);!(A=y[b])&&++b<g;);S._next=A||null}}return s=new ie(s,r),s._enter=a,s._exit=l,s}function Tl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Ll(){return new ie(this._exit||this._groups.map(is),this._parents)}function Ml(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Ol(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),h,g=0;g<d;++g)(h=c[g]||u[g])&&(f[g]=h);for(;l<i;++l)a[l]=n[l];return new ie(a,this._parents)}function ql(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function jl(e){e||(e=Dl);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new ie(i,this._parents).order()}function Dl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Fl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Vl(){return Array.from(this)}function Ul(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function Il(){let e=0;for(const t of this)++e;return e}function Bl(){return!this.node()}function zl(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function Yl(e){return function(){this.removeAttribute(e)}}function Hl(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Gl(e,t){return function(){this.setAttribute(e,t)}}function Wl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Kl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ql(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Xl(e,t){var n=wn(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?Hl:Yl:typeof t=="function"?n.local?Ql:Kl:n.local?Wl:Gl)(n,t))}function ss(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Zl(e){return function(){this.style.removeProperty(e)}}function Jl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ec(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function tc(e,t,n){return arguments.length>1?this.each((t==null?Zl:typeof t=="function"?ec:Jl)(e,t,n??"")):Ze(this.node(),e)}function Ze(e,t){return e.style.getPropertyValue(t)||ss(e).getComputedStyle(e,null).getPropertyValue(t)}function nc(e){return function(){delete this[e]}}function rc(e,t){return function(){this[e]=t}}function ic(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function sc(e,t){return arguments.length>1?this.each((t==null?nc:typeof t=="function"?ic:rc)(e,t)):this.node()[e]}function os(e){return e.trim().split(/^|\s+/)}function cr(e){return e.classList||new as(e)}function as(e){this._node=e,this._names=os(e.getAttribute("class")||"")}as.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function ls(e,t){for(var n=cr(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function cs(e,t){for(var n=cr(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function oc(e){return function(){ls(this,e)}}function ac(e){return function(){cs(this,e)}}function lc(e,t){return function(){(t.apply(this,arguments)?ls:cs)(this,e)}}function cc(e,t){var n=os(e+"");if(arguments.length<2){for(var r=cr(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?lc:t?oc:ac)(n,t))}function uc(){this.textContent=""}function fc(e){return function(){this.textContent=e}}function dc(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function hc(e){return arguments.length?this.each(e==null?uc:(typeof e=="function"?dc:fc)(e)):this.node().textContent}function gc(){this.innerHTML=""}function mc(e){return function(){this.innerHTML=e}}function pc(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function yc(e){return arguments.length?this.each(e==null?gc:(typeof e=="function"?pc:mc)(e)):this.node().innerHTML}function wc(){this.nextSibling&&this.parentNode.appendChild(this)}function bc(){return this.each(wc)}function vc(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xc(){return this.each(vc)}function _c(e){var t=typeof e=="function"?e:es(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $c(){return null}function kc(e,t){var n=typeof e=="function"?e:es(e),r=t==null?$c:typeof t=="function"?t:lr(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Sc(){var e=this.parentNode;e&&e.removeChild(this)}function Cc(){return this.each(Sc)}function Ac(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ec(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Pc(e){return this.select(e?Ec:Ac)}function Nc(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Rc(e){return function(t){e.call(this,t,this.__data__)}}function Tc(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Lc(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Mc(e,t,n){return function(){var r=this.__on,i,o=Rc(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Oc(e,t,n){var r=Tc(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?Mc:Lc,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function us(e,t,n){var r=ss(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function qc(e,t){return function(){return us(this,e,t)}}function jc(e,t){return function(){return us(this,e,t.apply(this,arguments))}}function Dc(e,t){return this.each((typeof t=="function"?jc:qc)(e,t))}function*Fc(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var fs=[null];function ie(e,t){this._groups=e,this._parents=t}function At(){return new ie([[document.documentElement]],fs)}function Vc(){return this}ie.prototype=At.prototype={constructor:ie,select:dl,selectAll:pl,selectChild:vl,selectChildren:kl,filter:Sl,data:Rl,enter:Cl,exit:Ll,join:Ml,merge:Ol,selection:Vc,order:ql,sort:jl,call:Fl,nodes:Vl,node:Ul,size:Il,empty:Bl,each:zl,attr:Xl,style:tc,property:sc,classed:cc,text:hc,html:yc,raise:bc,lower:xc,append:_c,insert:kc,remove:Cc,clone:Pc,datum:Nc,on:Oc,dispatch:Dc,[Symbol.iterator]:Fc};function ds(e){return typeof e=="string"?new ie([[document.querySelector(e)]],[document.documentElement]):new ie([[e]],fs)}function ur(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hs(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Et(){}var vt=.7,tn=1/vt,Xe="\\s*([+-]?\\d+)\\s*",xt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ye="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Uc=/^#([0-9a-f]{3,8})$/,Ic=new RegExp(`^rgb\\(${Xe},${Xe},${Xe}\\)$`),Bc=new RegExp(`^rgb\\(${ye},${ye},${ye}\\)$`),zc=new RegExp(`^rgba\\(${Xe},${Xe},${Xe},${xt}\\)$`),Yc=new RegExp(`^rgba\\(${ye},${ye},${ye},${xt}\\)$`),Hc=new RegExp(`^hsl\\(${xt},${ye},${ye}\\)$`),Gc=new RegExp(`^hsla\\(${xt},${ye},${ye},${xt}\\)$`),Br={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ur(Et,Ve,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:zr,formatHex:zr,formatHex8:Wc,formatHsl:Kc,formatRgb:Yr,toString:Yr});function zr(){return this.rgb().formatHex()}function Wc(){return this.rgb().formatHex8()}function Kc(){return gs(this).formatHsl()}function Yr(){return this.rgb().formatRgb()}function Ve(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Uc.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Hr(t):n===3?new te(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Lt(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Lt(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Ic.exec(e))?new te(t[1],t[2],t[3],1):(t=Bc.exec(e))?new te(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=zc.exec(e))?Lt(t[1],t[2],t[3],t[4]):(t=Yc.exec(e))?Lt(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Hc.exec(e))?Kr(t[1],t[2]/100,t[3]/100,1):(t=Gc.exec(e))?Kr(t[1],t[2]/100,t[3]/100,t[4]):Br.hasOwnProperty(e)?Hr(Br[e]):e==="transparent"?new te(NaN,NaN,NaN,0):null}function Hr(e){return new te(e>>16&255,e>>8&255,e&255,1)}function Lt(e,t,n,r){return r<=0&&(e=t=n=NaN),new te(e,t,n,r)}function Qc(e){return e instanceof Et||(e=Ve(e)),e?(e=e.rgb(),new te(e.r,e.g,e.b,e.opacity)):new te}function Yn(e,t,n,r){return arguments.length===1?Qc(e):new te(e,t,n,r??1)}function te(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}ur(te,Yn,hs(Et,{brighter(e){return e=e==null?tn:Math.pow(tn,e),new te(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vt:Math.pow(vt,e),new te(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new te(De(this.r),De(this.g),De(this.b),nn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Gr,formatHex:Gr,formatHex8:Xc,formatRgb:Wr,toString:Wr}));function Gr(){return`#${Oe(this.r)}${Oe(this.g)}${Oe(this.b)}`}function Xc(){return`#${Oe(this.r)}${Oe(this.g)}${Oe(this.b)}${Oe((isNaN(this.opacity)?1:this.opacity)*255)}`}function Wr(){const e=nn(this.opacity);return`${e===1?"rgb(":"rgba("}${De(this.r)}, ${De(this.g)}, ${De(this.b)}${e===1?")":`, ${e})`}`}function nn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function De(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Oe(e){return e=De(e),(e<16?"0":"")+e.toString(16)}function Kr(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new ue(e,t,n,r)}function gs(e){if(e instanceof ue)return new ue(e.h,e.s,e.l,e.opacity);if(e instanceof Et||(e=Ve(e)),!e)return new ue;if(e instanceof ue)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new ue(s,a,l,e.opacity)}function Zc(e,t,n,r){return arguments.length===1?gs(e):new ue(e,t,n,r??1)}function ue(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}ur(ue,Zc,hs(Et,{brighter(e){return e=e==null?tn:Math.pow(tn,e),new ue(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vt:Math.pow(vt,e),new ue(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new te(Sn(e>=240?e-240:e+120,i,r),Sn(e,i,r),Sn(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new ue(Qr(this.h),Mt(this.s),Mt(this.l),nn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=nn(this.opacity);return`${e===1?"hsl(":"hsla("}${Qr(this.h)}, ${Mt(this.s)*100}%, ${Mt(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Qr(e){return e=(e||0)%360,e<0?e+360:e}function Mt(e){return Math.max(0,Math.min(1,e||0))}function Sn(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const fr=e=>()=>e;function Jc(e,t){return function(n){return e+n*t}}function eu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function tu(e){return(e=+e)==1?ms:function(t,n){return n-t?eu(t,n,e):fr(isNaN(t)?n:t)}}function ms(e,t){var n=t-e;return n?Jc(e,n):fr(isNaN(e)?t:e)}const rn=(function e(t){var n=tu(t);function r(i,o){var s=n((i=Yn(i)).r,(o=Yn(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=ms(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r})(1);function nu(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function ru(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iu(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=dr(e[s],t[s]);for(;s<n;++s)o[s]=t[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function su(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function le(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ou(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=dr(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Hn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Cn=new RegExp(Hn.source,"g");function au(e){return function(){return e}}function lu(e){return function(t){return e(t)+""}}function ps(e,t){var n=Hn.lastIndex=Cn.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Hn.exec(e))&&(i=Cn.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:le(r,i)})),n=Cn.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?lu(l[0].x):au(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function dr(e,t){var n=typeof t,r;return t==null||n==="boolean"?fr(t):(n==="number"?le:n==="string"?(r=Ve(t))?(t=r,rn):ps:t instanceof Ve?rn:t instanceof Date?su:ru(t)?nu:Array.isArray(t)?iu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?ou:le)(e,t)}function cu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Xr=180/Math.PI,Gn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ys(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Xr,skewX:Math.atan(l)*Xr,scaleX:s,scaleY:a}}var Ot;function uu(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Gn:ys(t.a,t.b,t.c,t.d,t.e,t.f)}function fu(e){return e==null||(Ot||(Ot=document.createElementNS("http://www.w3.org/2000/svg","g")),Ot.setAttribute("transform",e),!(e=Ot.transform.baseVal.consolidate()))?Gn:(e=e.matrix,ys(e.a,e.b,e.c,e.d,e.e,e.f))}function ws(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,d,f,h,g){if(c!==d||u!==f){var m=h.push("translate(",null,t,null,n);g.push({i:m-4,x:le(c,d)},{i:m-2,x:le(u,f)})}else(d||f)&&h.push("translate("+d+t+f+n)}function s(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(i(d)+"rotate(",null,r)-2,x:le(c,u)})):u&&d.push(i(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(i(d)+"skewX(",null,r)-2,x:le(c,u)}):u&&d.push(i(d)+"skewX("+u+r)}function l(c,u,d,f,h,g){if(c!==d||u!==f){var m=h.push(i(h)+"scale(",null,",",null,")");g.push({i:m-4,x:le(c,d)},{i:m-2,x:le(u,f)})}else(d!==1||f!==1)&&h.push(i(h)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,d,f),s(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(h){for(var g=-1,m=f.length,y;++g<m;)d[(y=f[g]).i]=y.x(h);return d.join("")}}}var du=ws(uu,"px, ","px)","deg)"),hu=ws(fu,", ",")",")"),Je=0,ot=0,nt=0,bs=1e3,sn,at,on=0,Ue=0,bn=0,_t=typeof performance=="object"&&performance.now?performance:Date,vs=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function hr(){return Ue||(vs(gu),Ue=_t.now()+bn)}function gu(){Ue=0}function an(){this._call=this._time=this._next=null}an.prototype=xs.prototype={constructor:an,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?hr():+n)+(t==null?0:+t),!this._next&&at!==this&&(at?at._next=this:sn=this,at=this),this._call=e,this._time=n,Wn()},stop:function(){this._call&&(this._call=null,this._time=1/0,Wn())}};function xs(e,t,n){var r=new an;return r.restart(e,t,n),r}function mu(){hr(),++Je;for(var e=sn,t;e;)(t=Ue-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Je}function Zr(){Ue=(on=_t.now())+bn,Je=ot=0;try{mu()}finally{Je=0,yu(),Ue=0}}function pu(){var e=_t.now(),t=e-on;t>bs&&(bn-=t,on=e)}function yu(){for(var e,t=sn,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:sn=n);at=e,Wn(r)}function Wn(e){if(!Je){ot&&(ot=clearTimeout(ot));var t=e-Ue;t>24?(e<1/0&&(ot=setTimeout(Zr,e-_t.now()-bn)),nt&&(nt=clearInterval(nt))):(nt||(on=_t.now(),nt=setInterval(pu,bs)),Je=1,vs(Zr))}}function Jr(e,t,n){var r=new an;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var wu=Ji("start","end","cancel","interrupt"),bu=[],_s=0,ei=1,Kn=2,Bt=3,ti=4,Qn=5,zt=6;function vn(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;vu(e,n,{name:t,index:r,group:i,on:wu,tween:bu,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:_s})}function gr(e,t){var n=he(e,t);if(n.state>_s)throw new Error("too late; already scheduled");return n}function ve(e,t){var n=he(e,t);if(n.state>Bt)throw new Error("too late; already running");return n}function he(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function vu(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=xs(o,0,n.time);function o(c){n.state=ei,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,d,f,h;if(n.state!==ei)return l();for(u in r)if(h=r[u],h.name===n.name){if(h.state===Bt)return Jr(s);h.state===ti?(h.state=zt,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[u]):+u<t&&(h.state=zt,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[u])}if(Jr(function(){n.state===Bt&&(n.state=ti,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Kn,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Kn){for(n.state=Bt,i=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(h=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=Qn,1),d=-1,f=i.length;++d<f;)i[d].call(e,u);n.state===Qn&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=zt,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function xu(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>Kn&&r.state<Qn,r.state=zt,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function _u(e){return this.each(function(){xu(this,e)})}function $u(e,t){var n,r;return function(){var i=ve(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function ku(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ve(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function Su(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=he(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?$u:ku)(n,e,t))}function mr(e,t,n){var r=e._id;return e.each(function(){var i=ve(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return he(i,r).value[t]}}function $s(e,t){var n;return(typeof t=="number"?le:t instanceof Ve?rn:(n=Ve(t))?(t=n,rn):ps)(e,t)}function Cu(e){return function(){this.removeAttribute(e)}}function Au(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Eu(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function Pu(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function Nu(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function Ru(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function Tu(e,t){var n=wn(e),r=n==="transform"?hu:$s;return this.attrTween(e,typeof t=="function"?(n.local?Ru:Nu)(n,r,mr(this,"attr."+e,t)):t==null?(n.local?Au:Cu)(n):(n.local?Pu:Eu)(n,r,t))}function Lu(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Mu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Ou(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Mu(e,o)),n}return i._value=t,i}function qu(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&Lu(e,o)),n}return i._value=t,i}function ju(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=wn(e);return this.tween(n,(r.local?Ou:qu)(r,t))}function Du(e,t){return function(){gr(this,e).delay=+t.apply(this,arguments)}}function Fu(e,t){return t=+t,function(){gr(this,e).delay=t}}function Vu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Du:Fu)(t,e)):he(this.node(),t).delay}function Uu(e,t){return function(){ve(this,e).duration=+t.apply(this,arguments)}}function Iu(e,t){return t=+t,function(){ve(this,e).duration=t}}function Bu(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Uu:Iu)(t,e)):he(this.node(),t).duration}function zu(e,t){if(typeof t!="function")throw new Error;return function(){ve(this,e).ease=t}}function Yu(e){var t=this._id;return arguments.length?this.each(zu(t,e)):he(this.node(),t).ease}function Hu(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ve(this,e).ease=n}}function Gu(e){if(typeof e!="function")throw new Error;return this.each(Hu(this._id,e))}function Wu(e){typeof e!="function"&&(e=ns(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new Ae(r,this._parents,this._name,this._id)}function Ku(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,d=s[a]=new Array(u),f,h=0;h<u;++h)(f=l[h]||c[h])&&(d[h]=f);for(;a<r;++a)s[a]=t[a];return new Ae(s,this._parents,this._name,this._id)}function Qu(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Xu(e,t,n){var r,i,o=Qu(t)?gr:ve;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function Zu(e,t){var n=this._id;return arguments.length<2?he(this.node(),n).on.on(e):this.each(Xu(n,e,t))}function Ju(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function ef(){return this.on("end.remove",Ju(this._id))}function tf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=lr(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,vn(c[f],t,n,f,c,he(u,n)));return new Ae(o,this._parents,t,n)}function nf(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ts(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),h,g=he(u,n),m=0,y=f.length;m<y;++m)(h=f[m])&&vn(h,t,n,m,f,g);o.push(f),s.push(u)}return new Ae(o,s,t,n)}var rf=At.prototype.constructor;function sf(){return new rf(this._groups,this._parents)}function of(e,t){var n,r,i;return function(){var o=Ze(this,e),s=(this.style.removeProperty(e),Ze(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function ks(e){return function(){this.style.removeProperty(e)}}function af(e,t,n){var r,i=n+"",o;return function(){var s=Ze(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function lf(e,t,n){var r,i,o;return function(){var s=Ze(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Ze(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function cf(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=ve(this,e),c=l.on,u=l.value[o]==null?a||(a=ks(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function uf(e,t,n){var r=(e+="")=="transform"?du:$s;return t==null?this.styleTween(e,of(e,r)).on("end.style."+e,ks(e)):typeof t=="function"?this.styleTween(e,lf(e,r,mr(this,"style."+e,t))).each(cf(this._id,e)):this.styleTween(e,af(e,r,t),n).on("end.style."+e,null)}function ff(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function df(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&ff(e,s,n)),r}return o._value=t,o}function hf(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,df(e,t,n??""))}function gf(e){return function(){this.textContent=e}}function mf(e){return function(){var t=e(this);this.textContent=t??""}}function pf(e){return this.tween("text",typeof e=="function"?mf(mr(this,"text",e)):gf(e==null?"":e+""))}function yf(e){return function(t){this.textContent=e.call(this,t)}}function wf(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&yf(i)),t}return r._value=e,r}function bf(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,wf(e))}function vf(){for(var e=this._name,t=this._id,n=Ss(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=he(l,t);vn(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new Ae(r,this._parents,e,n)}function xf(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=ve(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var _f=0;function Ae(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Ss(){return++_f}var $e=At.prototype;Ae.prototype={constructor:Ae,select:tf,selectAll:nf,selectChild:$e.selectChild,selectChildren:$e.selectChildren,filter:Wu,merge:Ku,selection:sf,transition:vf,call:$e.call,nodes:$e.nodes,node:$e.node,size:$e.size,empty:$e.empty,each:$e.each,on:Zu,attr:Tu,attrTween:ju,style:uf,styleTween:hf,text:pf,textTween:bf,remove:ef,tween:Su,delay:Vu,duration:Bu,ease:Yu,easeVarying:Gu,end:xf,[Symbol.iterator]:$e[Symbol.iterator]};function $f(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var kf={time:null,delay:0,duration:250,ease:$f};function Sf(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Cf(e){var t,n;e instanceof Ae?(t=e._id,e=e._name):(t=Ss(),(n=kf).time=hr(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&vn(l,e,t,c,s,n||Sf(l,t));return new Ae(r,this._parents,e,t)}At.prototype.interrupt=_u;At.prototype.transition=Cf;function Af(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ln(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function et(e){return e=ln(Math.abs(e)),e?e[1]:NaN}function Ef(e,t){return function(n,r){for(var i=n.length,o=[],s=0,a=e[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=e[s=(s+1)%e.length];return o.reverse().join(t)}}function Pf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Nf=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function cn(e){if(!(t=Nf.exec(e)))throw new Error("invalid format: "+e);var t;return new pr({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}cn.prototype=pr.prototype;function pr(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}pr.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Rf(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Cs;function Tf(e,t){var n=ln(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(Cs=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ln(e,Math.max(0,t+o-1))[0]}function ni(e,t){var n=ln(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ri={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Af,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ni(e*100,t),r:ni,s:Tf,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function ii(e){return e}var si=Array.prototype.map,oi=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Lf(e){var t=e.grouping===void 0||e.thousands===void 0?ii:Ef(si.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?ii:Pf(si.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=cn(d);var f=d.fill,h=d.align,g=d.sign,m=d.symbol,y=d.zero,x=d.width,w=d.comma,b=d.precision,S=d.trim,A=d.type;A==="n"?(w=!0,A="g"):ri[A]||(b===void 0&&(b=12),S=!0,A="g"),(y||f==="0"&&h==="=")&&(y=!0,f="0",h="=");var T=m==="$"?n:m==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",j=m==="$"?r:/[%p]/.test(A)?s:"",$=ri[A],k=/[defgprs%]/.test(A);b=b===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function R(v){var _=T,P=j,M,L,D;if(A==="c")P=$(v)+P,v="";else{v=+v;var U=v<0||1/v<0;if(v=isNaN(v)?l:$(Math.abs(v),b),S&&(v=Rf(v)),U&&+v==0&&g!=="+"&&(U=!1),_=(U?g==="("?g:a:g==="-"||g==="("?"":g)+_,P=(A==="s"?oi[8+Cs/3]:"")+P+(U&&g==="("?")":""),k){for(M=-1,L=v.length;++M<L;)if(D=v.charCodeAt(M),48>D||D>57){P=(D===46?i+v.slice(M+1):v.slice(M))+P,v=v.slice(0,M);break}}}w&&!y&&(v=t(v,1/0));var z=_.length+v.length+P.length,V=z<x?new Array(x-z+1).join(f):"";switch(w&&y&&(v=t(V+v,V.length?x-P.length:1/0),V=""),h){case"<":v=_+v+P+V;break;case"=":v=_+V+v+P;break;case"^":v=V.slice(0,z=V.length>>1)+_+v+P+V.slice(z);break;default:v=V+_+v+P;break}return o(v)}return R.toString=function(){return d+""},R}function u(d,f){var h=c((d=cn(d),d.type="f",d)),g=Math.max(-8,Math.min(8,Math.floor(et(f)/3)))*3,m=Math.pow(10,-g),y=oi[8+g/3];return function(x){return h(m*x)+y}}return{format:c,formatPrefix:u}}var qt,As,Es;Mf({thousands:",",grouping:[3],currency:["$",""]});function Mf(e){return qt=Lf(e),As=qt.format,Es=qt.formatPrefix,qt}function Of(e){return Math.max(0,-et(Math.abs(e)))}function qf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(et(t)/3)))*3-et(Math.abs(e)))}function jf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,et(t)-et(e))+1}function yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const ai=Symbol("implicit");function Ps(){var e=new Dr,t=[],n=[],r=ai;function i(o){let s=e.get(o);if(s===void 0){if(r!==ai)return r;e.set(o,s=t.push(o)-1)}return n[s%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Dr;for(const s of o)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ps(t,n).unknown(r)},yr.apply(i,arguments),i}function Ns(){var e=Ps().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,s,a=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,h=i<r,g=h?i:r,m=h?r:i;o=(m-g)/Math.max(1,f-l+c*2),a&&(o=Math.floor(o)),g+=(m-g-o*(f-l))*u,s=o*(1-l),a&&(g=Math.round(g),s=Math.round(s));var y=Zi(f).map(function(x){return g+o*x});return n(h?y.reverse():y)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,a=!0,d()},e.bandwidth=function(){return s},e.step=function(){return o},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return Ns(t(),[r,i]).round(a).paddingInner(l).paddingOuter(c).align(u)},yr.apply(d(),arguments)}function Df(e){return function(){return e}}function Ff(e){return+e}var li=[0,1];function Ke(e){return e}function Xn(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Df(isNaN(t)?NaN:.5)}function Vf(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function Uf(e,t,n){var r=e[0],i=e[1],o=t[0],s=t[1];return i<r?(r=Xn(i,r),o=n(s,o)):(r=Xn(r,i),o=n(o,s)),function(a){return o(r(a))}}function If(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Xn(e[s],e[s+1]),o[s]=n(t[s],t[s+1]);return function(a){var l=Ba(e,a,1,r)-1;return o[l](i[l](a))}}function Bf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function zf(){var e=li,t=li,n=dr,r,i,o,s=Ke,a,l,c;function u(){var f=Math.min(e.length,t.length);return s!==Ke&&(s=Vf(e[0],e[f-1])),a=f>2?If:Uf,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?o:(l||(l=a(e.map(r),t,n)))(r(s(f)))}return d.invert=function(f){return s(i((c||(c=a(t,e.map(r),le)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,Ff),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=cu,u()},d.clamp=function(f){return arguments.length?(s=f?!0:Ke,u()):s!==Ke},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(o=f,d):o},function(f,h){return r=f,i=h,u()}}function Yf(){return zf()(Ke,Ke)}function Hf(e,t,n,r){var i=Xa(e,t,n),o;switch(r=cn(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=qf(i,s))&&(r.precision=o),Es(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=jf(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Of(i))&&(r.precision=o-(r.type==="%")*2);break}}return As(r)}function Gf(e){var t=e.domain;return e.ticks=function(n){var r=t();return Qa(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Hf(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,s=r[i],a=r[o],l,c,u=10;for(a<s&&(c=s,s=a,a=c,c=i,i=o,o=c);u-- >0;){if(c=Bn(s,a,n),c===l)return r[i]=s,r[o]=a,t(r);if(c>0)s=Math.floor(s/c)*c,a=Math.ceil(a/c)*c;else if(c<0)s=Math.ceil(s*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function Rs(){var e=Yf();return e.copy=function(){return Bf(e,Rs())},yr.apply(e,arguments),Gf(e)}function lt(e,t,n){this.k=e,this.x=t,this.y=n}lt.prototype={constructor:lt,scale:function(e){return e===1?this:new lt(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new lt(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};lt.prototype;var Wf=N('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function Kf(e){let t;const[n,r]=O({width:900,height:600});X(()=>{function w(){if(t&&t.parentElement){const b=t.parentElement.getBoundingClientRect();r({width:Math.max(b.width,600),height:Math.max(b.height,400)})}}w(),window.addEventListener("resize",w),de(()=>window.removeEventListener("resize",w))});const i=()=>e.data??[],o=16,s=()=>e.width??n().width,a=()=>e.height??n().height,l=()=>e.title??"AMSTAR-2 Quality Assessment",c={top:60,right:170,bottom:60,left:120},u=()=>(s()-c.left-c.right)/o,d=()=>(a()-c.top-c.bottom)/i().length,f=()=>Math.min(u(),d()),h=()=>f()*o,g=()=>f()*i().length,m=()=>c.left+h()+c.right,y=()=>c.top+g()+c.bottom,x={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return X(()=>{const w=ds(t).attr("width",m()).attr("height",y()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');w.selectAll("*").remove(),w.append("g").attr("class","grid"),w.append("g").attr("class","footer").selectAll("text").data(Zi(1,o+1)).enter().append("text").attr("x",(k,R)=>c.left+R*f()+f()/2).attr("y",c.top+g()+20).attr("text-anchor","middle").attr("font-size",Math.max(10,f()*.4)).attr("font-weight","600").attr("fill","#374151").text(k=>`Q${k}`),w.append("g").attr("class","rows").selectAll("text").data(i()).enter().append("text").attr("x",c.left-15).attr("y",(k,R)=>c.top+R*f()+f()/2).attr("text-anchor","end").attr("font-size",Math.max(10,f()*.45)).attr("font-weight","500").attr("fill","#374151").attr("dominant-baseline","middle").text(k=>k.label);const A=w.append("g").attr("class","cells");i().forEach((k,R)=>{for(let v=0;v<o;v++){const _=k.questions[v]?.toLowerCase?.()??"",P=x[_]??"#e5e7eb";A.append("rect").attr("x",c.left+v*f()+2).attr("y",c.top+R*f()+2).attr("width",f()-4).attr("height",f()-4).attr("fill",P).attr("stroke","#ffffff").attr("stroke-width",1).attr("rx",Math.max(2,f()*.12)).style("filter","drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))")}});const T=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],$=w.append("g").attr("class","legend").attr("transform",`translate(${m()-c.right+20}, ${c.top+20})`).selectAll(".legend-item").data(T).enter().append("g").attr("class","legend-item").attr("transform",(k,R)=>`translate(0, ${R*25})`);$.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",k=>x[k.key]).attr("stroke","#ffffff").attr("stroke-width",1),$.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(k=>k.label),w.append("text").attr("x",m()/2).attr("y",40).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),de(()=>{w.selectAll("*").remove()})}),(()=>{var w=Wf(),b=w.firstChild,S=t;return typeof S=="function"?pt(S,b):t=b,E(A=>pn(b,`width: 100%; height: ${y()}px; max-width: 100%; display: block;`,A)),w})()}var Qf=N('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function Xf(e){let t,n;const r=()=>e.data??[],[i,o]=O({width:900,height:600});gn(()=>{const h=()=>{if(n){const g=n.getBoundingClientRect();o({width:Math.max(g.width,400),height:Math.max(g.height,400)})}};h(),window.addEventListener("resize",h),de(()=>window.removeEventListener("resize",h))}),X(()=>{if(n){const h=n.getBoundingClientRect();o({width:Math.max(h.width,400),height:Math.max(h.height,400)})}});const s=()=>e.width??i().width,a=()=>e.height??i().width/1.5,l=()=>e.title??"Distribution of AMSTAR Ratings on Each Item Across Included Reviews",c={top:50,right:150,bottom:60,left:80},u=()=>s()-c.left-c.right,d=()=>a()-c.top-c.bottom,f={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return X(()=>{if(!r().length)return;const h=ds(t).attr("width",s()).attr("height",a()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');h.selectAll("*").remove();const g=[],m=Math.max(...r().map($=>$.questions?.length||0)),y=r().length;for(let $=0;$<m;$++){const k={question:$+1,label:`Q${$+1}`,counts:{yes:0,"partial yes":0,no:0,"no ma":0}};r().forEach(R=>{const v=R.questions[$]?.toLowerCase?.()??"no ma";k.counts.hasOwnProperty(v)&&k.counts[v]++}),k.percentages={},Object.keys(k.counts).forEach(R=>{k.percentages[R]=k.counts[R]/y*100}),g.push(k)}const x=Ns().domain(g.map($=>$.label)).range([0,d()]).padding(.1),w=Rs().domain([0,100]).range([0,u()]),b=h.append("g").attr("transform",`translate(${c.left}, ${c.top})`);h.append("text").attr("x",s()/2).attr("y",30).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),g.forEach($=>{let k=0;const R=x.bandwidth(),v=x($.label);["yes","partial yes","no ma","no"].forEach(_=>{const P=$.percentages[_],M=w(P);P>0&&(b.append("rect").attr("x",w(k)).attr("y",v).attr("width",M).attr("height",R).attr("fill",f[_]).attr("stroke","#ffffff").attr("stroke-width",1),P>=5&&b.append("text").attr("x",w(k)+M/2).attr("y",v+R/2).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","12px").attr("font-weight","600").attr("fill",_==="partial yes"?"#000000":"#ffffff").text(`${P.toFixed(1)}`)),k+=P})}),b.selectAll(".y-label").data(g).enter().append("text").attr("class","y-label").attr("x",-10).attr("y",$=>x($.label)+x.bandwidth()/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label);const S=sl(w).tickFormat($=>`${$}`).ticks(5);b.append("g").attr("class","x-axis").attr("transform",`translate(0, ${d()})`).call(S).selectAll("text").attr("font-size","12px").attr("fill","#374151"),b.append("text").attr("x",u()/2).attr("y",d()+50).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text(`Percentage of SRs (%), N=${y}`),h.append("text").attr("transform","rotate(-90)").attr("x",-a()/2).attr("y",20).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text("Items of AMSTAR-2");const A=h.append("g").attr("class","legend").attr("transform",`translate(${s()-c.right+20}, ${c.top+20})`),T=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],j=A.selectAll(".legend-item").data(T).enter().append("g").attr("class","legend-item").attr("transform",($,k)=>`translate(0, ${k*25})`);j.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",$=>f[$.key]).attr("stroke","#ffffff").attr("stroke-width",1),j.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label),de(()=>{h.selectAll("*").remove()})}),(()=>{var h=Qf(),g=h.firstChild,m=n;typeof m=="function"?pt(m,h):n=h;var y=t;return typeof y=="function"?pt(y,g):t=g,E(x=>pn(g,`width: 100%; height: ${a()}px; max-width: 100%; display: block;`,x)),h})()}class Ce{static CreateChecklist({name:t=null,id:n=null,createdAt:r=Date.now(),reviewerName:i=""}={}){if(!n||typeof n!="string"||!n.trim())throw new Error("AMSTAR2Checklist requires a non-empty string id.");if(!t||typeof t!="string"||!t.trim())throw new Error("AMSTAR2Checklist requires a non-empty string name.");return{name:t,reviewerName:i||"",createdAt:r,id:n,q1:{answers:[[!1,!1,!1,!1],[!1],[!1,!0]],critical:!1},q2:{answers:[[!1,!1,!1,!1],[!1,!1,!1],[!1,!1,!0]],critical:!0},q3:{answers:[[!1,!1,!1],[!1,!0]],critical:!1},q4:{answers:[[!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!0]],critical:!0},q5:{answers:[[!1,!1],[!1,!0]],critical:!1},q6:{answers:[[!1,!1],[!1,!0]],critical:!1},q7:{answers:[[!1],[!1],[!1,!1,!0]],critical:!0},q8:{answers:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!0]],critical:!1},q9a:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q9b:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q10:{answers:[[!1],[!1,!0]],critical:!1},q11a:{answers:[[!1,!1,!1],[!1,!0,!1]],critical:!0},q11b:{answers:[[!1,!1,!1,!1],[!1,!0,!1]],critical:!0},q12:{answers:[[!1,!1],[!1,!0,!1]],critical:!1},q13:{answers:[[!1,!1],[!1,!0]],critical:!0},q14:{answers:[[!1,!1],[!1,!0]],critical:!1},q15:{answers:[[!1],[!1,!0,!1]],critical:!0},q16:{answers:[[!1,!1],[!1,!0]],critical:!1}}}static scoreChecklist(t){if(!t||typeof t!="object")return"Error";let n=0,r=0;return Object.entries(t).forEach(([i,o])=>{if(!/^q\d+[a-z]*$/i.test(i)||!o||!Array.isArray(o.answers))return;Ce.getSelectedAnswer(o.answers,i)!=="Yes"&&(o.critical?n++:r++)}),n>1?"Critically Low":n===1?"Low":r>1?"Moderate":"High"}static getSelectedAnswer(t,n){const r=["q11a","q11b","q12","q15"],i=["Yes","Partial Yes","No","No MA"],o=["Yes","No","No MA"];if(!Array.isArray(t)||t.length===0)return null;const s=t[t.length-1];if(!Array.isArray(s))return null;const a=s.findIndex(l=>l===!0);return a===-1?null:r.includes(n)?o[a]||null:s.length===2?a===0?"Yes":"No":s.length>=3&&i[a]||null}static getAnswers(t){if(!t||typeof t!="object")return null;const n={};return Object.entries(t).forEach(([r,i])=>{if(!/^q\d+[a-z]*$/i.test(r)||!i||!Array.isArray(i.answers))return;const o=Ce.getSelectedAnswer(i.answers,r);n[r]=o}),n}static exportChecklistsToCSV(t){const n=Array.isArray(t)?t:[t],r=Object.keys(K),i=["Checklist Name","Reviewer","Created At","Checklist ID"],o=r.map(u=>K[u]?.text?.replace(/\s+/g," ").trim()||u),s=[...i,...o],a=n.map(u=>{const d=Ce.getAnswers(u);return[u.name||"",u.reviewerName||"",u.createdAt?new Date(u.createdAt).toISOString():"",u.id||"",...r.map(f=>d[f]||"")]}),l=u=>`"${String(u).replace(/"/g,'""').replace(/\n/g," ")}"`;return s.map(l).join(",")+`
`+a.map(u=>u.map(l).join(",")).join(`
`)}}var Zf=N('<div class=p-8><h2 class="text-2xl font-bold mb-4"> Dashboard</h2><button class="bg-red-500 text-white px-4 py-2 rounded">Delete Project</button><div class="mb-4 text-gray-600">Created: </div><div class=mb-6><strong>Total Checklists:</strong> </div><div class=mb-6><h3 class="text-xl font-semibold mb-2">Add New Checklist</h3><div class="flex gap-2 items-center"><input type=text class="px-3 py-2 border rounded w-64"placeholder="Checklist name"><button class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">+ Add Checklist</button></div></div><div><h3 class="text-xl font-semibold mb-2">Checklists</h3><ul class="list-disc pl-6">'),Jf=N("<div class=p-8>Project not found."),ed=N("<li>");function td(){const{currentProject:e,setCurrentProject:t,addChecklist:n,deleteProject:r}=tt(),i=Ui(),o=Ie(),[s,a]=O(""),[l,c]=O([]);X(()=>{if(i.name&&i.index!==void 0){const d=decodeURIComponent(i.name),f=Number(i.index);t({name:d,index:f})}e()||(console.warn("ProjectDashboard: No current project found for",i.name,i.index),o("/dashboard"))});const u=async()=>{if(!s().trim())return;const d=Ce.CreateChecklist({name:s(),id:crypto.randomUUID(),createdAt:Date.now()});await n(e().id,d),a("")};return X(()=>{const d=(e()?.checklists||[]).map(f=>{const h=Ce.getAnswers(f);return{label:f.name||f.title||f.id,questions:Object.values(h||{})}});c(d)}),C(W,{get when(){return e()},get fallback(){return Jf()},get children(){var d=Zf(),f=d.firstChild,h=f.firstChild,g=f.nextSibling,m=g.nextSibling;m.firstChild;var y=m.nextSibling,x=y.firstChild;x.nextSibling;var w=y.nextSibling,b=w.firstChild,S=b.nextSibling,A=S.firstChild,T=A.nextSibling,j=w.nextSibling,$=j.firstChild,k=$.nextSibling;return p(f,()=>e().name,h),g.$$click=()=>r(e().id),p(m,()=>new Date(e().createdAt).toLocaleDateString(),null),p(y,()=>e().checklists?.length||0,null),A.$$input=R=>a(R.target.value),T.$$click=u,p(k,()=>(e().checklists||[]).map(R=>(()=>{var v=ed();return p(v,()=>R.name||R.title||R.id),E(()=>q(v,"key",R.id)),v})())),p(d,C(Kf,{get data(){return l()},width:900,height:600}),null),p(d,C(Xf,{get data(){return l()},width:900,height:600}),null),E(()=>T.disabled=!s().trim()),E(()=>A.value=s()),d}})}se(["click","input"]);function Ts({id:e,name:t,createdAt:n=Date.now(),checklists:r=[]}={}){if(t===null)throw new Error("Project name cannot be null");return{id:e,name:t,createdAt:n,checklists:r}}async function nd(){const e=["Review 1","Review 2","Review 3","Review 4","Review 5"];let t=[];for(const r of e){const i=Ce.CreateChecklist({name:r,id:In(),createdAt:Date.now()});t.push(i)}const n=Ts({id:In(),name:"Example Project",createdAt:Date.now(),checklists:t});await yn(n)}const rd="http://localhost:8000",rt="/api/v1";let me=rd;me.endsWith("/api/v1")&&(me=me.replace("/api/v1",""));const Ee={SIGNUP:`${me}${rt}/auth/signup`,SIGNIN:`${me}${rt}/auth/signin`,SIGNOUT:`${me}${rt}/auth/signout`,REFRESH:`${me}${rt}/auth/refresh`,CURRENT_USER:`${me}${rt}/users/me`,HEALTH:`${me}/healthz`,HEALTH_DB:`${me}/healthz/db`};async function id(e,t,n){console.log("Signup URL:",Ee.SIGNUP);const r=Intl.DateTimeFormat().resolvedOptions().timeZone,i=navigator.language,o=await fetch(Ee.SIGNUP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n,timezone:r,locale:i})});if(!o.ok){const s=await o.text();throw console.error("Signup error:",s),new Error(s||"Signup failed")}}let $t=null;async function sd(e,t){const n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=navigator.language;console.log("Signin URL:",Ee.SIGNIN);const i=await fetch(Ee.SIGNIN,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t,timezone:n,locale:r})});if(!i.ok){const s=await i.text();throw console.error("Sign in failed:",s),new Error(s||"Sign in failed")}$t=(await i.json()).accessToken}async function An(){const e=await Ls(Ee.CURRENT_USER);if(!e.ok){const t=await e.text();throw console.error("Failed to fetch user:",t),new Error(t||"Failed to fetch user")}return await e.json()}async function Ls(e,t={}){t.headers={...t.headers||{},Authorization:`Bearer ${$t}`},t.credentials="include";let n=await fetch(e,t);if(n.status===401||n.status===403)try{await Zn(),t.headers.Authorization=`Bearer ${$t}`,t.credentials="include",n=await fetch(e,t)}catch{throw await Ms(),new Error("Session expired. Please log in again.")}return n}async function Zn(){const e=await fetch(Ee.REFRESH,{method:"POST",credentials:"include"});if(!e.ok){const n=await e.text();throw console.error("Refresh failed:",n),new Error(n||"Refresh failed")}$t=(await e.json()).accessToken}async function Ms(){await fetch(Ee.SIGNOUT,{method:"POST",credentials:"include"}),$t=null}async function od(e){const t=await fetch("http://localhost:8000/auth/send-verification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(!t.ok){const n=await t.text();throw console.error("Send verification error:",n),new Error(n||"Failed to send verification email")}}async function ad(e,t){const n=await fetch("http://localhost:8000/auth/verify-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,code:t})});if(!n.ok){const r=await n.text();throw console.error("Verify email error:",r),new Error(r||"Email verification failed")}}async function ld(){const e=await fetch(Ee.HEALTH,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}async function cd(){const e=await fetch(Ee.HEALTH_DB,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health DB check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}var ud=N('<div class=p-6><h2 class="text-2xl font-bold mb-4">Your Projects</h2><div class="mt-6 flex items-center gap-2"><input type=text class="px-3 py-2 border rounded w-64"placeholder="Project name"><button class="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition">+ Add New Project</button></div><div class=mt-6><button class="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600 transition">Load Example Project</button><button class="p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">Check Health</button><button class="p-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition">Check Health DB'),fd=N("<div>No projects found."),dd=N("<ul class=space-y-2>"),hd=N('<li><div class=font-semibold></div><div class="text-sm text-gray-600"></div><div class="text-xs text-gray-400">Created: </div><button class="ml-4 px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition">Delete');function gd(){const{projects:e,currentProject:t,addProject:n,deleteProject:r}=tt(),i=Ie(),[o,s]=O(""),a=u=>{const f=e().filter(h=>h.name===u.name).findIndex(h=>h.id===u.id);i(`/project/${encodeURIComponent(u.name)}/${f}`)},l=async()=>{if(!o().trim())return;const u=await n(Ts({id:In(),name:o().trim(),createdAt:Date.now(),checklists:[]}));s(""),a(u)},c=async u=>{window.confirm("Are you sure you want to delete this project?")&&await r(u)};return(()=>{var u=ud(),d=u.firstChild,f=d.nextSibling,h=f.firstChild,g=h.nextSibling,m=f.nextSibling,y=m.firstChild,x=y.nextSibling,w=x.nextSibling;return p(u,(()=>{var b=ae(()=>e().length===0);return()=>b()?fd():(()=>{var S=dd();return p(S,()=>e().map(A=>(()=>{var T=hd(),j=T.firstChild,$=j.nextSibling,k=$.nextSibling;k.firstChild;var R=k.nextSibling;return T.$$click=()=>a(A),p(j,()=>A.name),p($,()=>A.description),p(k,()=>new Date(A.createdAt).toLocaleDateString(),null),R.$$click=()=>c(A.id),E(v=>{var _=A.id,P=`p-4 border rounded cursor-pointer transition ${t()&&t().id===A.id?"bg-blue-100 border-blue-400":"hover:bg-gray-100"}`;return _!==v.e&&q(T,"key",v.e=_),P!==v.t&&ce(T,v.t=P),v},{e:void 0,t:void 0}),T})())),S})()})(),f),h.$$input=b=>s(b.target.value),g.$$click=l,y.$$click=async()=>{const b=await nd();console.log("Loaded example project:",b),window.location.reload()},pe(x,"click",ld,!0),pe(w,"click",cd,!0),E(()=>g.disabled=!o().trim()),E(()=>h.value=o()),u})()}se(["input","click"]);const[md,Os]=O(navigator.onLine);window.addEventListener("online",()=>{console.log("Went online"),Os(!0)});window.addEventListener("offline",()=>{console.log("Went offline"),Os(!1)});function qs(){return md}const js=mn();function pd(e){const[t,n]=O(!1),[r,i]=O(null),[o,s]=O(!0),a=qs();let l=a();gn(()=>{if(console.log("onmount auth"),!a()){s(!1);return}c()}),X(()=>{console.log("Online status changed:",a(),"wasonline:",l,"User:",r()),a()&&!l&&!r()&&c(),l=a()});async function c(){console.log("Initializing auth..."),s(!0);try{await Zn();const w=await An();i(w)}catch{i(null),n(!1)}finally{s(!1)}}async function u(w,b,S){await id(w,b,S)}async function d(w){await od(w)}async function f(w,b){await ad(w,b)}async function h(w,b){await sd(w,b),n(!0),i(await An())}async function g(){await Ms(),n(!1),i(null)}async function m(){const w=await An();return i(w),w}async function y(){await Zn()}async function x(w,b={}){return await Ls(w,b)}return C(js.Provider,{value:{isLoggedIn:t,user:r,signup:u,signin:h,signout:g,getCurrentUser:m,refreshAccessToken:y,authFetch:x,authLoading:o,sendEmailVerification:d,verifyEmail:f},get children(){return e.children}})}function Pt(){return kt(js)}var yd=N("<div>");function qe(e){const[t,n]=O(!1),[r,i]=O(!1);let o,s;const a=()=>e.duration??300,l=()=>e.timingFunction??"ease-in-out";return X(()=>{e.when?(i(!0),requestAnimationFrame(()=>{n(!0)})):(n(!1),clearTimeout(s),s=setTimeout(()=>{i(!1)},a()))}),de(()=>{clearTimeout(s)}),[ae(()=>ae(()=>!!r())()&&(()=>{var c=yd(),u=o;return typeof u=="function"?pt(u,c):o=c,p(c,()=>e.children),E(d=>{var f=t()?1:0,h=`opacity ${a()}ms ${l()}`,g=e.ariaLive||"polite",m=e.role||"alert";return f!==d.e&&Rr(c,"opacity",d.e=f),h!==d.t&&Rr(c,"transition",d.t=h),g!==d.a&&q(c,"aria-live",d.a=g),m!==d.o&&q(c,"role",d.o=m),d},{e:void 0,t:void 0,a:void 0,o:void 0}),c})()),ae(()=>ae(()=>!e.when)()&&e.fallback)]}var ct=(e,t=[])=>({parts:(...n)=>{if(wd(t))return ct(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>ct(e,[...t,...n]),omit:(...n)=>ct(e,t.filter(r=>!n.includes(r))),rename:n=>ct(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Ye(e)}"][data-part="${Ye(r)}"]`,`& [data-scope="${Ye(e)}"][data-part="${Ye(r)}"]`].join(", "),attrs:{"data-scope":Ye(e),"data-part":Ye(r)}}}),{})}),Ye=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),wd=e=>e.length===0,G=e=>e?"":void 0,bd=e=>e?"true":void 0,vd=e=>e.button===0,xd=Function.prototype.toString;xd.call(Object);var _d=(()=>{let e=0;return()=>(e++,e.toString(36))})();var $d=()=>e=>Array.from(new Set(e)),kd=ct("password-input").parts("root","input","label","control","indicator","visibilityTrigger"),He=kd.build(),Yt=e=>e.ids?.input??`p-input-${e.id}-input`,Jn=e=>e.getById(Yt(e));function Sd(e,t){const{scope:n,prop:r,context:i}=e,o=i.get("visible"),s=!!r("disabled"),a=!!r("invalid"),l=!!r("readOnly"),c=!!r("required"),u=!(l||s),d=r("translations");return{visible:o,disabled:s,invalid:a,focus(){Jn(n)?.focus()},setVisible(f){e.send({type:"VISIBILITY.SET",value:f})},toggleVisible(){e.send({type:"VISIBILITY.SET",value:!o})},getRootProps(){return t.element({...He.root.attrs,dir:r("dir"),"data-disabled":G(s),"data-invalid":G(a),"data-readonly":G(l)})},getLabelProps(){return t.label({...He.label.attrs,htmlFor:Yt(n),"data-disabled":G(s),"data-invalid":G(a),"data-readonly":G(l),"data-required":G(c)})},getInputProps(){return t.input({...He.input.attrs,id:Yt(n),autoCapitalize:"off",name:r("name"),required:r("required"),autoComplete:r("autoComplete"),spellCheck:!1,readOnly:l,disabled:s,type:o?"text":"password","data-state":o?"visible":"hidden","aria-invalid":bd(a),"data-disabled":G(s),"data-invalid":G(a),"data-readonly":G(l),...r("ignorePasswordManagers")?Cd:{}})},getVisibilityTriggerProps(){return t.button({...He.visibilityTrigger.attrs,type:"button",tabIndex:-1,"aria-controls":Yt(n),"aria-expanded":o,"data-readonly":G(l),disabled:s,"data-disabled":G(s),"data-state":o?"visible":"hidden","aria-label":d?.visibilityTrigger?.(o),onPointerDown(f){vd(f)&&u&&(f.preventDefault(),e.send({type:"TRIGGER.CLICK"}))}})},getIndicatorProps(){return t.element({...He.indicator.attrs,"aria-hidden":!0,"data-state":o?"visible":"hidden","data-disabled":G(s),"data-invalid":G(a),"data-readonly":G(l)})},getControlProps(){return t.element({...He.control.attrs,"data-disabled":G(s),"data-invalid":G(a),"data-readonly":G(l)})}}}var Cd={"data-1p-ignore":"","data-lpignore":"true","data-bwignore":"true","data-form-type":"other","data-protonpass-ignore":"true"},Ad={props({props:e}){return{id:_d(),defaultVisible:!1,autoComplete:"current-password",ignorePasswordManagers:!1,...e,translations:{visibilityTrigger(t){return t?"Hide password":"Show password"},...e.translations}}},context({prop:e,bindable:t}){return{visible:t(()=>({value:e("visible"),defaultValue:e("defaultVisible"),onChange(n){e("onVisibilityChange")?.({visible:n})}}))}},initialState(){return"idle"},effects:["trackFormEvents"],states:{idle:{on:{"VISIBILITY.SET":{actions:["setVisibility"]},"TRIGGER.CLICK":{actions:["toggleVisibility","focusInputEl"]}}}},implementations:{actions:{setVisibility({context:e,event:t}){e.set("visible",t.value)},toggleVisibility({context:e}){e.set("visible",t=>!t)},focusInputEl({scope:e}){Jn(e)?.focus()}},effects:{trackFormEvents({scope:e,send:t}){const r=Jn(e)?.form;if(!r)return;const i=e.getWin(),o=new i.AbortController;return r.addEventListener("reset",s=>{s.defaultPrevented||t({type:"VISIBILITY.SET",value:!1})},{signal:o.signal}),r.addEventListener("submit",()=>{t({type:"VISIBILITY.SET",value:!1})},{signal:o.signal}),()=>o.abort()}}}};$d()(["defaultVisible","dir","id","onVisibilityChange","visible","ids","getRootNode","disabled","invalid","required","readOnly","translations","ignorePasswordManagers","autoComplete","name"]);function Ed(e){return e==null?[]:Array.isArray(e)?e:[e]}var ci=e=>e?.constructor.name==="Array",Pd=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!wr(e[n],t[n]))return!1;return!0},wr=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(ci(e)&&ci(t))return Pd(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(e,n[i]))return!1;for(let i=0;i<r;i++){const o=n[i];if(!wr(e[o],t[o]))return!1}return!0},Nd=e=>Array.isArray(e),Ds=e=>e!=null&&typeof e=="object",Rd=e=>Ds(e)&&!Nd(e),Td=e=>typeof e=="number"&&!Number.isNaN(e),br=e=>typeof e=="string",Pe=e=>typeof e=="function",Ld=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),Md=e=>Object.prototype.toString.call(e),Fs=Function.prototype.toString,Od=Fs.call(Object),qd=e=>{if(!Ds(e)||Md(e)!="[object Object]"||Fd(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=Ld(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Fs.call(n)==Od},jd=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,Dd=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,Fd=e=>jd(e)||Dd(e);function Vs(e){if(!qd(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const i=e[r];i!==void 0&&(n[r]=Vs(i))}return n}function ui(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Vd(e,t){if(e==null)throw new Error(t())}var Us=e=>typeof e=="object"&&e!==null,Ud=9,Id=e=>Us(e)&&e.nodeType===Ud,Bd=e=>Us(e)&&e===e.window;function zd(e){if(!e)return!1;const t=e.getRootNode();return Is(t)===e}function Yd(e){return Id(e)?e:Bd(e)?e.document:e?.ownerDocument??document}function Is(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}var We=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(We||{}),En="__init__";function Hd(e){const t=()=>e.getRootNode?.()??document,n=()=>Yd(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>Is(t()),isActiveElement:zd,getById:s=>t().getElementById(s)}}function Gd(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}function un(e){const t=e().value??e().defaultValue,n=e().isEqual??Object.is,[r,i]=O(t),o=I(()=>e().value!=null),s={current:r()},a={current:void 0};X(()=>{const u=o()?e().value:r();a.current=u,s.current=u});const l=u=>{const d=a.current,f=Pe(u)?u(s.current):u;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:f,prev:d}),o()||i(f),n(f,d)||e().onChange?.(f,d)};function c(){const u=o()?e().value:r;return Pe(u)?u():u}return{initial:t,ref:s,get:c,set:l,invoke(u,d){e().onChange?.(u,d)},hash(u){return e().hash?.(u)??String(u)}}}un.cleanup=e=>{de(()=>e())};un.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function Wd(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}function Pn(e){return Pe(e)?e():e}var Kd=(e,t)=>{let n=[],r=!0;X(()=>{if(r){n=e.map(o=>Pn(o)),r=!1;return}let i=!1;for(let o=0;o<e.length;o++)if(!wr(n[o],Pn(e[o]))){i=!0;break}i&&(n=e.map(o=>Pn(o)),t())})};function Bs(e,t={}){const n=I(()=>{const{id:$,ids:k,getRootNode:R}=Nn(t);return Hd({id:$,ids:k,getRootNode:R})}),r=(...$)=>{e.debug&&console.log(...$)},i=I(()=>e.props?.({props:Vs(Nn(t)),scope:n()})??Nn(t)),o=Qd(i),s=e.context?.({prop:o,bindable:un,get scope(){return n()},flush:fi,getContext(){return a},getComputed(){return S},getRefs(){return g},getEvent(){return f()}}),a={get($){return s?.[$].get()},set($,k){s?.[$].set(k)},initial($){return s?.[$].initial},hash($){const k=s?.[$].get();return s?.[$].hash(k)}},l={current:new Map},c={current:null},u={current:null},d={current:{type:""}},f=()=>H(d.current,{current(){return d.current},previous(){return u.current}}),h=()=>H(A,{matches(...$){const k=A.get();return $.includes(k)},hasTag($){const k=A.get();return!!e.states[k]?.tags?.includes($)}}),g=Wd(e.refs?.({prop:o,context:a})??{}),m=()=>({state:h(),context:a,event:f(),prop:o,send:j,action:y,guard:x,track:Kd,refs:g,computed:S,flush:fi,get scope(){return n()},choose:b}),y=$=>{const k=Pe($)?$(m()):$;if(!k)return;const R=k.map(v=>{const _=e.implementations?.actions?.[v];return _||ui(`[zag-js] No implementation found for action "${JSON.stringify(v)}"`),_});for(const v of R)v?.(m())},x=$=>Pe($)?$(m()):e.implementations?.guards?.[$](m()),w=$=>{const k=Pe($)?$(m()):$;if(!k)return;const R=k.map(_=>{const P=e.implementations?.effects?.[_];return P||ui(`[zag-js] No implementation found for effect "${JSON.stringify(_)}"`),P}),v=[];for(const _ of R){const P=_?.(m());P&&v.push(P)}return()=>v.forEach(_=>_?.())},b=$=>Ed($).find(k=>{let R=!k.guard;return br(k.guard)?R=!!x(k.guard):Pe(k.guard)&&(R=k.guard(m())),R}),S=$=>{Vd(e.computed,()=>"[zag-js] No computed object found on machine");const k=e.computed[$];return k({context:a,event:d.current,prop:o,refs:g,scope:n(),computed:S})},A=un(()=>({defaultValue:e.initialState({prop:o}),onChange($,k){k&&(l.current.get(k)?.(),l.current.delete(k)),k&&y(e.states[k]?.exit),y(c.current?.actions);const R=w(e.states[$]?.effects);if(R&&l.current.set($,R),k===En){y(e.entry);const v=w(e.effects);v&&l.current.set(En,v)}y(e.states[$]?.entry)}}));let T=We.NotStarted;gn(()=>{const $=T===We.Started;T=We.Started,r($?"rehydrating...":"initializing..."),A.invoke(A.initial,En)}),de(()=>{r("unmounting..."),T=We.Stopped,l.current.forEach(k=>k?.()),l.current=new Map,c.current=null,y(e.exit)});const j=$=>{if(T!==We.Started)return;u.current=d.current,d.current=$;let k=A.get();const R=e.states[k].on?.[$.type]??e.on?.[$.type],v=b(R);if(!v)return;c.current=v;const _=v.target??k;r("transition",$.type,v.target||k,`(${v.actions})`);const P=_!==k;P?A.set(_):v.reenter&&!P?A.invoke(k,k):y(v.actions)};return e.watch?.(m()),{state:h(),send:j,context:a,prop:o,get scope(){return n()},refs:g,computed:S,event:f(),getStatus:()=>T}}function fi(e){e()}function Nn(e){return Pe(e)?e():e}function Qd(e){return function(n){return e()[n]}}var di={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"},Xd=e=>e.startsWith("--")?e:rh(e);function Zd(e){return e in di?di[e]:e}var zs=Gd(e=>{const t={};for(const n in e){const r=e[n];if(!(n==="readOnly"&&r===!1)){if(n==="style"&&Rd(r)){t.style=Jd(r);continue}if(n==="children"){br(r)&&(t.textContent=r);continue}t[Zd(n)]=r}}return t});function Jd(e){let t={};for(const n in e){const r=e[n];!br(r)&&!Td(r)||(t[Xd(n)]=r)}return t}var eh=/[A-Z]/g,th=/^ms-/;function nh(e){return"-"+e.toLowerCase()}var Rn={};function rh(e){if(Rn.hasOwnProperty(e))return Rn[e];var t=e.replace(eh,nh);return Rn[e]=th.test(t)?"-"+t:t}var ih=N("<svg stroke-width=0>");function vr(e,t){const n=H(e.a,t),[r,i]=Ri(n,["src"]),[o,s]=O(""),a=I(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return X(()=>s(a())),de(()=>{s("")}),(()=>{var l=ih();return J(l,H({get stroke(){return e.a?.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},i,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return o()}}),!0,!0),p(l,()=>Mi),l})()}function sh(e){return vr({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><path d="M1 1 23 23"/>'},e)}function oh(e){return vr({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><path d="M12 9A3 3 0 1 0 12 15 3 3 0 1 0 12 9z"/>'},e)}var ah=N("<div><label>Password</label><div><input><button><span>");function Ys(e){const t=Bs(Ad,{id:Ti(),autoComplete:e.autoComplete||"new-password",value:e.password||"",required:e.required||!1}),n=I(()=>Sd(t,zs)),r=e.inputClass||"w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder",i=e.iconSize||22;return(()=>{var o=ah(),s=o.firstChild,a=s.nextSibling,l=a.firstChild,c=l.nextSibling,u=c.firstChild;return J(o,H(()=>n().getRootProps(),{get class(){return e.class}}),!1,!0),J(s,H(()=>n().getLabelProps(),{class:"block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"}),!1,!0),J(a,H(()=>n().getControlProps(),{class:"relative"}),!1,!0),J(l,H(()=>n().getInputProps(),{class:r,onInput:d=>e.onPasswordChange?.(d.target.value),placeholder:"••••••••"}),!1,!1),J(c,H(()=>n().getVisibilityTriggerProps(),{class:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-gray-400"}),!1,!0),J(u,H(()=>n().getIndicatorProps()),!1,!0),p(u,C(W,{get when(){return n().visible},get fallback(){return C(sh,{size:i-2})},get children(){return C(oh,{size:i})}})),o})()}function fn(e){return vr({a:{viewBox:"0 0 1024 1024"},c:'<path d="M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"/>'},e)}var lh=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">'),ch=N('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-2 sm:px-4 py-6 sm:py-12"><form aria-labelledby=signin-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-16 space-y-6 sm:space-y-8 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=signin-heading>Welcome Back</h2><p class="text-gray-500 text-base sm:text-lg">Sign in to your account.</p></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div><div></div><button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Don&apos;t have an account? <a href=/signup class="text-indigo-600 hover:underline font-semibold">Sign Up');function uh(){const[e,t]=O(""),[n,r]=O(""),[i,o]=O(""),[s,a]=O(!1),l=Ie(),{signin:c}=Pt();async function u(d){if(d.preventDefault(),o(""),!e()||!n()){o("Please enter email and password");return}try{a(!0),await c(e(),n()),l("/dashboard",{replace:!0})}catch{o("Incorrect email or password")}finally{a(!1)}}return(()=>{var d=ch(),f=d.firstChild,h=f.firstChild,g=h.nextSibling,m=g.firstChild,y=m.nextSibling,x=g.nextSibling,w=x.nextSibling,b=w.nextSibling,S=b.firstChild,A=S.nextSibling;return f.addEventListener("submit",u),y.$$input=T=>t(T.target.value),p(x,C(Ys,{get password(){return n()},onPasswordChange:r,autoComplete:"current-password",required:!0}),null),p(x,C(qe,{get when(){return!!i()},get children(){var T=lh();return p(T,i),T}}),null),p(w,C(W,{get when(){return s()},get children(){return C(fn,{class:"animate-spin mr-2",size:22})}}),null),p(w,()=>s()?"Signing In...":"Sign In",null),A.$$click=T=>{T.preventDefault(),l("/signup")},E(()=>w.disabled=s()),E(()=>y.value=e()),d})()}se(["input","click"]);var fh=N('<div class="w-full mt-3 sm:mt-4"><div class="text-sm sm:text-base text-gray-700"id=password-requirements aria-live=polite><ul class="pace-y-0.5 sm:space-y-1">'),dh=N('<li class="flex items-center gap-2"><span aria-hidden=true></span><span>'),hh=N('<svg class="w-2 h-2 sm:w-4 sm:h-4"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M4 8l3 3 5-5">'),gh=N('<svg class="w-2 h-2 sm:w-4 sm:h-4"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M5 5l6 6M11 5l-6 6">');const ut=[{label:"At least 8 characters",test:e=>e.length>=8,error:"at least 8 characters"},{label:"Uppercase letter (A-Z)",test:e=>/[A-Z]/.test(e),error:"an uppercase letter"},{label:"Lowercase letter (a-z)",test:e=>/[a-z]/.test(e),error:"a lowercase letter"},{label:"Number (0-9)",test:e=>/\d/.test(e),error:"a number"},{label:"Special character (e.g. !?<>@#$%)",test:e=>/[^A-Za-z0-9]/.test(e),error:"a special character"}];function mh(e){if(!e)return{met:[],unmet:ut.map(i=>i.label)};const t=ut.filter(i=>i.test(e)).map(i=>i.label),n=ut.filter(i=>!i.test(e)).map(i=>i.label),r=ut.filter(i=>!i.test(e)).map(i=>i.error);return{met:t,unmet:n,errors:r}}function ph(e){const t=I(()=>mh(e.password||""));return X(()=>{e.onUnmet?.(t().errors)}),(()=>{var n=fh(),r=n.firstChild,i=r.firstChild;return p(i,()=>ut.map(o=>{const s=t().met.includes(o.label);return(()=>{var a=dh(),l=a.firstChild,c=l.nextSibling;return ce(l,`w-3 h-3 sm:w-4 sm:h-4 ml-1 rounded-full flex items-center justify-center ${s?"bg-white text-green-500 border-green-500 border-[1.5px]":"border-red-500 border-[1.5px] text-red-500"}`),p(l,s?hh():gh()),ce(c,s?"text-green-500":"text-red-500"),p(c,()=>o.label),a})()})),n})()}var yh=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">Password must include '),wh=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">'),bh=N('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-2 sm:px-4 py-6 sm:py-12"><form aria-labelledby=signup-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-16 space-y-6 sm:space-y-8 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=signup-heading>Get Started</h2><p class="text-gray-500 text-base sm:text-lg">Create a new account.</p></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=name-input>Name</label><div class=relative><input type=text autocomplete=name autocapitalize=words spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=name-input placeholder="What should we call you?"></div></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><div class=relative><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div></div><div></div><div><label class="block text-base sm:text-lg font-semibold text-gray-700 mb-1 sm:mb-2"for=confirm-password-input>Confirm Password</label><div class=relative><input type=password autocomplete=new-password autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-base sm:text-lg border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder"required id=confirm-password-input placeholder=••••••••></div></div><button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Already have an account? <a href=/signin class="text-indigo-600 hover:underline font-semibold">Sign In');function vh(){const[e,t]=O(""),[n,r]=O(""),[i,o]=O(""),[s,a]=O(""),[l,c]=O(""),[u,d]=O(!1),[f,h]=O([]),[g,m]=O(!1),y=Ie(),{signup:x}=Pt();async function w(b){if(b.preventDefault(),d(!0),c(""),!e()||!n()||!i()||!s()){c("Please fill out all fields");return}if(i()!==s()){c("Passwords do not match");return}if(!(f().length>0)){m(!0);try{await x(n(),i(),e()),y("/verify-email",{replace:!0})}catch(S){console.error("Signup error:",S),c("Sign up failed")}finally{m(!1)}}}return X(()=>{i()===s()&&c("")}),(()=>{var b=bh(),S=b.firstChild,A=S.firstChild,T=A.nextSibling,j=T.firstChild,$=j.nextSibling,k=$.firstChild,R=T.nextSibling,v=R.firstChild,_=v.nextSibling,P=_.firstChild,M=R.nextSibling,L=M.nextSibling,D=L.firstChild,U=D.nextSibling,z=U.firstChild,V=L.nextSibling,Le=V.nextSibling,xe=Le.firstChild,_e=xe.nextSibling;return S.addEventListener("submit",w),k.$$input=Y=>t(Y.target.value),P.$$input=Y=>r(Y.target.value),p(M,C(Ys,{get password(){return i()},onPasswordChange:o,autoComplete:"new-password",required:!0}),null),p(M,C(qe,{get when(){return ae(()=>!!u())()&&f().length>0},get children(){var Y=yh();return Y.firstChild,p(Y,()=>f()?.[0],null),Y}}),null),p(M,C(ph,{get password(){return i()},onUnmet:h}),null),z.$$input=Y=>a(Y.target.value),p(L,C(qe,{get when(){return!!l()},get children(){var Y=wh();return p(Y,l),Y}}),null),p(V,C(W,{get when(){return g()},get children(){return C(fn,{class:"animate-spin mr-2",size:22})}}),null),p(V,()=>g()?"Signing Up...":"Sign Up",null),_e.$$click=Y=>{Y.preventDefault(),y("/signin")},E(()=>V.disabled=g()),E(()=>k.value=e()),E(()=>P.value=n()),E(()=>z.value=s()),b})()}se(["input","click"]);var ft=(e,t=[])=>({parts:(...n)=>{if(xh(t))return ft(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>ft(e,[...t,...n]),omit:(...n)=>ft(e,t.filter(r=>!n.includes(r))),rename:n=>ft(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Ge(e)}"][data-part="${Ge(r)}"]`,`& [data-scope="${Ge(e)}"][data-part="${Ge(r)}"]`].join(", "),attrs:{"data-scope":Ge(e),"data-part":Ge(r)}}}),{})}),Ge=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),xh=e=>e.length===0,xr=e=>typeof e=="object"&&e!==null,oe=e=>e?"":void 0,_h=e=>e?"true":void 0,$h=1,kh=9,Sh=11,Hs=e=>xr(e)&&e.nodeType===$h&&typeof e.nodeName=="string",Ch=e=>xr(e)&&e.nodeType===kh,Ah=e=>xr(e)&&e.nodeType!==void 0,Eh=e=>Ah(e)&&e.nodeType===Sh&&"host"in e;function _r(e){return Eh(e)?_r(e.host):Ch(e)?e.defaultView??window:Hs(e)?e.ownerDocument?.defaultView??window:window}function Ph(e){const{selectionStart:t,selectionEnd:n,value:r}=e.currentTarget,i=e.data;return r.slice(0,t)+(i??"")+r.slice(n)}function Nh(e){return Gs(e).isComposing||e.keyCode===229}var Rh=e=>e.ctrlKey||e.altKey||e.metaKey,Th={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},hi={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Lh(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let i=e.key;return i=Th[i]??i,n==="rtl"&&r==="horizontal"&&i in hi&&(i=hi[i]),i}function Gs(e){return e.nativeEvent??e}function Mh(e,t){const{type:n="HTMLInputElement",property:r="value"}=t,i=_r(e)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function Oh(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function qh(e,t,n="value"){if(!e)return;const r=Oh(e);r&&Mh(e,{type:r,property:n}).set?.call(e,t),e.setAttribute(n,t)}function jh(e,t){const{value:n,bubbles:r=!0}=t;if(!e)return;const i=_r(e);e instanceof i.HTMLInputElement&&(qh(e,`${n}`),e.dispatchEvent(new i.Event("input",{bubbles:r})))}function jt(e){let t;const n=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(n),t?.()}}function Dh(e,t){return Array.from(e?.querySelectorAll(t)??[])}var Fh={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},gi=e=>e?.constructor.name==="Array",Vh=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!$r(e[n],t[n]))return!1;return!0},$r=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(gi(e)&&gi(t))return Vh(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(e,n[i]))return!1;for(let i=0;i<r;i++){const o=n[i];if(!$r(e[o],t[o]))return!1}return!0},Uh=Function.prototype.toString;Uh.call(Object);var Tn=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)];function Ih(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Bh(){return{and:(...e)=>function(n){return e.every(r=>n.guard(r))},or:(...e)=>function(n){return e.some(r=>n.guard(r))},not:e=>function(n){return!n.guard(e)}}}function zh(){return{guards:Bh(),createMachine:e=>e,choose:e=>function({choose:n}){return n(e)?.actions}}}var Yh=()=>e=>Array.from(new Set(e)),Hh=ft("pinInput").parts("root","label","input","control"),Dt=Hh.build(),gt=e=>e.ids?.root??`pin-input:${e.id}`,Gh=(e,t)=>e.ids?.input?.(t)??`pin-input:${e.id}:${t}`,er=e=>e.ids?.hiddenInput??`pin-input:${e.id}:hidden`,Wh=e=>e.ids?.label??`pin-input:${e.id}:label`,Kh=e=>e.ids?.control??`pin-input:${e.id}:control`,Qh=e=>e.getById(gt(e)),dn=e=>{const n=`input[data-ownedby=${CSS.escape(gt(e))}]`;return Dh(Qh(e),n)},it=(e,t)=>dn(e)[t],Xh=e=>dn(e)[0],mi=e=>e.getById(er(e)),Ln=(e,t)=>{e.value=t,e.setAttribute("value",t)},Zh={numeric:/^[0-9]+$/,alphabetic:/^[A-Za-z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i};function Jh(e,t){return e?!!Zh[e]?.test(t):!0}function eg(e,t,n){return n?new RegExp(n,"g").test(e):Jh(t,e)}function tg(e,t){const{send:n,context:r,computed:i,prop:o,scope:s}=e,a=i("isValueComplete"),l=!!o("disabled"),c=!!o("readOnly"),u=!!o("invalid"),d=!!o("required"),f=o("translations"),h=r.get("focusedIndex");function g(){Xh(s)?.focus()}return{focus:g,count:r.get("count"),items:Array.from({length:r.get("count")}).map((m,y)=>y),value:r.get("value"),valueAsString:i("valueAsString"),complete:a,setValue(m){Array.isArray(m)||Ih("[pin-input/setValue] value must be an array"),n({type:"VALUE.SET",value:m})},clearValue(){n({type:"VALUE.CLEAR"})},setValueAtIndex(m,y){n({type:"VALUE.SET",value:y,index:m})},getRootProps(){return t.element({dir:o("dir"),...Dt.root.attrs,id:gt(s),"data-invalid":oe(u),"data-disabled":oe(l),"data-complete":oe(a),"data-readonly":oe(c)})},getLabelProps(){return t.label({...Dt.label.attrs,dir:o("dir"),htmlFor:er(s),id:Wh(s),"data-invalid":oe(u),"data-disabled":oe(l),"data-complete":oe(a),"data-required":oe(d),"data-readonly":oe(c),onClick(m){m.preventDefault(),g()}})},getHiddenInputProps(){return t.input({"aria-hidden":!0,type:"text",tabIndex:-1,id:er(s),readOnly:c,disabled:l,required:d,name:o("name"),form:o("form"),style:Fh,maxLength:i("valueLength"),defaultValue:i("valueAsString")})},getControlProps(){return t.element({...Dt.control.attrs,dir:o("dir"),id:Kh(s)})},getInputProps(m){const{index:y}=m,x=o("type")==="numeric"?"tel":"text";return t.input({...Dt.input.attrs,dir:o("dir"),disabled:l,"data-disabled":oe(l),"data-complete":oe(a),id:Gh(s,y.toString()),"data-index":y,"data-ownedby":gt(s),"aria-label":f?.inputLabel?.(y,i("valueLength")),inputMode:o("otp")||o("type")==="numeric"?"numeric":"text","aria-invalid":_h(u),"data-invalid":oe(u),type:o("mask")?"password":x,defaultValue:r.get("value")[y]||"",readOnly:c,autoCapitalize:"none",autoComplete:o("otp")?"one-time-code":"off",placeholder:h===y?"":o("placeholder"),onBeforeInput(w){try{const b=Ph(w);eg(b,o("type"),o("pattern"))||(n({type:"VALUE.INVALID",value:b}),w.preventDefault()),b.length>2&&w.currentTarget.setSelectionRange(0,1,"forward")}catch{}},onChange(w){const b=Gs(w),{value:S}=w.currentTarget;if(b.inputType==="insertFromPaste"||S.length>2){n({type:"INPUT.PASTE",value:S}),w.currentTarget.value=S[0],w.preventDefault();return}if(b.inputType==="deleteContentBackward"){n({type:"INPUT.BACKSPACE"});return}n({type:"INPUT.CHANGE",value:S,index:y})},onKeyDown(w){if(w.defaultPrevented||Nh(w)||Rh(w))return;const S={Backspace(){n({type:"INPUT.BACKSPACE"})},Delete(){n({type:"INPUT.DELETE"})},ArrowLeft(){n({type:"INPUT.ARROW_LEFT"})},ArrowRight(){n({type:"INPUT.ARROW_RIGHT"})},Enter(){n({type:"INPUT.ENTER"})}}[Lh(w,{dir:o("dir"),orientation:"horizontal"})];S&&(S(w),w.preventDefault())},onFocus(){n({type:"INPUT.FOCUS",index:y})},onBlur(w){const b=w.relatedTarget;Hs(b)&&b.dataset.ownedby===gt(s)||n({type:"INPUT.BLUR",index:y})}})}}}var{choose:ng,createMachine:rg}=zh(),ig=rg({props({props:e}){return{placeholder:"○",otp:!1,type:"numeric",defaultValue:e.count?Ft([],e.count):[],...e,translations:{inputLabel:(t,n)=>`pin code ${t+1} of ${n}`,...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({value:e("value"),defaultValue:e("defaultValue"),isEqual:$r,onChange(n){e("onValueChange")?.({value:n,valueAsString:n.join("")})}})),focusedIndex:t(()=>({sync:!0,defaultValue:-1})),count:t(()=>({defaultValue:e("count")}))}},computed:{_value:({context:e})=>Ft(e.get("value"),e.get("count")),valueLength:({computed:e})=>e("_value").length,filledValueLength:({computed:e})=>e("_value").filter(t=>t?.trim()!=="").length,isValueComplete:({computed:e})=>e("valueLength")===e("filledValueLength"),valueAsString:({computed:e})=>e("_value").join(""),focusedValue:({computed:e,context:t})=>e("_value")[t.get("focusedIndex")]||""},entry:ng([{guard:"autoFocus",actions:["setInputCount","setFocusIndexToFirst"]},{actions:["setInputCount"]}]),watch({action:e,track:t,context:n,computed:r}){t([()=>n.get("focusedIndex")],()=>{e(["focusInput","selectInputIfNeeded"])}),t([()=>n.get("value").join(",")],()=>{e(["syncInputElements","dispatchInputEvent"])}),t([()=>r("isValueComplete")],()=>{e(["invokeOnComplete","blurFocusedInputIfNeeded"])})},on:{"VALUE.SET":[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],"VALUE.CLEAR":{actions:["clearValue","setFocusIndexToFirst"]}},states:{idle:{on:{"INPUT.FOCUS":{target:"focused",actions:["setFocusedIndex"]}}},focused:{on:{"INPUT.CHANGE":{actions:["setFocusedValue","syncInputValue","setNextFocusedIndex"]},"INPUT.PASTE":{actions:["setPastedValue","setLastValueFocusIndex"]},"INPUT.FOCUS":{actions:["setFocusedIndex"]},"INPUT.BLUR":{target:"idle",actions:["clearFocusedIndex"]},"INPUT.DELETE":{guard:"hasValue",actions:["clearFocusedValue"]},"INPUT.ARROW_LEFT":{actions:["setPrevFocusedIndex"]},"INPUT.ARROW_RIGHT":{actions:["setNextFocusedIndex"]},"INPUT.BACKSPACE":[{guard:"hasValue",actions:["clearFocusedValue"]},{actions:["setPrevFocusedIndex","clearFocusedValue"]}],"INPUT.ENTER":{guard:"isValueComplete",actions:["requestFormSubmit"]},"VALUE.INVALID":{actions:["invokeOnInvalid"]}}}},implementations:{guards:{autoFocus:({prop:e})=>!!e("autoFocus"),hasValue:({context:e})=>e.get("value")[e.get("focusedIndex")]!=="",isValueComplete:({computed:e})=>e("isValueComplete"),hasIndex:({event:e})=>e.index!==void 0},actions:{dispatchInputEvent({computed:e,scope:t}){const n=mi(t);jh(n,{value:e("valueAsString")})},setInputCount({scope:e,context:t,prop:n}){if(n("count"))return;const r=dn(e);t.set("count",r.length)},focusInput({context:e,scope:t}){const n=e.get("focusedIndex");n!==-1&&it(t,n)?.focus({preventScroll:!0})},selectInputIfNeeded({context:e,prop:t,scope:n}){const r=e.get("focusedIndex");!t("selectOnFocus")||r===-1||jt(()=>{it(n,r)?.select()})},invokeOnComplete({computed:e,prop:t}){e("isValueComplete")&&t("onValueComplete")?.({value:e("_value"),valueAsString:e("valueAsString")})},invokeOnInvalid({context:e,event:t,prop:n}){n("onValueInvalid")?.({value:t.value,index:e.get("focusedIndex")})},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},setValue({context:e,event:t}){const n=Ft(t.value,e.get("count"));e.set("value",n)},setFocusedValue({context:e,event:t,computed:n,flush:r}){const i=n("focusedValue"),o=e.get("focusedIndex"),s=pi(i,t.value);r(()=>{e.set("value",Tn(n("_value"),o,s))})},revertInputValue({context:e,computed:t,scope:n}){const r=it(n,e.get("focusedIndex"));Ln(r,t("focusedValue"))},syncInputValue({context:e,event:t,scope:n}){const r=e.get("value"),i=it(n,t.index);Ln(i,r[t.index])},syncInputElements({context:e,scope:t}){const n=dn(t),r=e.get("value");n.forEach((i,o)=>{Ln(i,r[o])})},setPastedValue({context:e,event:t,computed:n,flush:r}){jt(()=>{const i=n("valueAsString"),o=e.get("focusedIndex"),s=n("valueLength"),a=n("filledValueLength"),l=Math.min(o,a),c=l>0?i.substring(0,o):"",u=t.value.substring(0,s-l),d=Ft(`${c}${u}`.split(""),s);r(()=>{e.set("value",d)})})},setValueAtIndex({context:e,event:t,computed:n}){const r=pi(n("focusedValue"),t.value);e.set("value",Tn(n("_value"),t.index,r))},clearValue({context:e}){const t=Array.from({length:e.get("count")}).fill("");queueMicrotask(()=>{e.set("value",t)})},clearFocusedValue({context:e,computed:t}){const n=e.get("focusedIndex");n!==-1&&e.set("value",Tn(t("_value"),n,""))},setFocusIndexToFirst({context:e}){e.set("focusedIndex",0)},setNextFocusedIndex({context:e,computed:t}){e.set("focusedIndex",Math.min(e.get("focusedIndex")+1,t("valueLength")-1))},setPrevFocusedIndex({context:e}){e.set("focusedIndex",Math.max(e.get("focusedIndex")-1,0))},setLastValueFocusIndex({context:e,computed:t}){jt(()=>{e.set("focusedIndex",Math.min(t("filledValueLength"),t("valueLength")-1))})},blurFocusedInputIfNeeded({context:e,prop:t,scope:n}){t("blurOnComplete")&&jt(()=>{it(n,e.get("focusedIndex"))?.blur()})},requestFormSubmit({computed:e,prop:t,scope:n}){if(!t("name")||!e("isValueComplete"))return;mi(n)?.form?.requestSubmit()}}}});function pi(e,t){let n=t;e[0]===t[0]?n=t[1]:e[0]===t[1]&&(n=t[0]);const r=n.split("");return n=r[r.length-1],n??""}function Ft(e,t){return Array.from({length:t}).fill("").map((n,r)=>e[r]||n)}Yh()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var sg=N('<div class="flex flex-col items-center"><div><input><input><input><input><input><input>');function og(e){const t=Bs(ig,{id:Ti(),required:e.required||!0,autoComplete:e.autoComplete||"one-time-code"}),n=I(()=>tg(t,zs));return(()=>{var r=sg(),i=r.firstChild,o=i.firstChild,s=o.nextSibling,a=s.nextSibling,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling;return J(i,H(()=>n().getRootProps(),{class:"flex justify-center gap-3 my-6"}),!1,!0),J(o,H(()=>n().getInputProps({index:0}),{class:"w-14 h-14 rounded-lg border-2 border-gray-300 bg-gray-50 text-center text-xl font-semibold focus:border-orange-500 focus:ring-2 focus:ring-orange-400 outline-none"}),!1,!1),J(s,H(()=>n().getInputProps({index:1}),{class:"w-14 h-14 rounded-lg border-2 border-gray-300 bg-gray-50 text-center text-xl font-semibold focus:border-orange-500 focus:ring-2 focus:ring-orange-400 outline-none"}),!1,!1),J(a,H(()=>n().getInputProps({index:2}),{class:"w-14 h-14 rounded-lg border-2 border-gray-300 bg-gray-50 text-center text-xl font-semibold focus:border-orange-500 focus:ring-2 focus:ring-orange-400 outline-none"}),!1,!1),J(l,H(()=>n().getInputProps({index:3}),{class:"w-14 h-14 rounded-lg border-2 border-gray-300 bg-gray-50 text-center text-xl font-semibold focus:border-orange-500 focus:ring-2 focus:ring-orange-400 outline-none"}),!1,!1),J(c,H(()=>n().getInputProps({index:4}),{class:"w-14 h-14 rounded-lg border-2 border-gray-300 bg-gray-50 text-center text-xl font-semibold focus:border-orange-500 focus:ring-2 focus:ring-orange-400 outline-none"}),!1,!1),J(u,H(()=>n().getInputProps({index:5}),{class:"w-14 h-14 rounded-lg border-2 border-gray-300 bg-gray-50 text-center text-xl font-semibold focus:border-orange-500 focus:ring-2 focus:ring-orange-400 outline-none"}),!1,!1),r})()}var ag=N('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-base sm:text-lg">'),lg=N('<p class="pt-2 sm:pt-3 px-2 text-green-600 text-base sm:text-lg">Email verified! Redirecting to sign in...'),cg=N('<button type=submit class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center">'),ug=N(`<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-2 sm:px-4 py-6 sm:py-12"><form aria-labelledby=verifyemail-heading class="w-full max-w-md sm:max-w-2xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-16 space-y-6 sm:space-y-8 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-2xl sm:text-4xl font-bold text-gray-900 mb-1 sm:mb-2"id=verifyemail-heading>Verify Your Email</h2><p class="text-gray-500 text-base sm:text-lg">Enter the verification code sent to your email.</p></div><div></div><div class="text-center text-base sm:text-lg text-gray-500 mt-2 sm:mt-4">Didn't get a code? <a href=# class="text-indigo-600 hover:underline font-semibold">Resend`),fg=N('<button class="w-full py-3 sm:py-4 px-4 sm:px-6 text-lg sm:text-xl bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"type=button>');function dg(){const[e,t]=O(""),[n,r]=O(""),[i,o]=O(!1),[s,a]=O(!1),[l,c]=O(!1),u=Ie(),{verifyEmail:d}=Pt();async function f(h){h.preventDefault(),r(""),o(!0);try{await d(e()),a(!0),setTimeout(()=>{u("/signin",{replace:!0})},1e3)}catch{r("Invalid code. Please try again.")}finally{o(!1)}}return createEffect(async()=>{if(Or.code){o(!0);try{await d(Or.code),a(!0),u("/signin",{replace:!0})}catch{r("Invalid or expired link.")}finally{o(!1)}}}),(()=>{var h=ug(),g=h.firstChild,m=g.firstChild,y=m.nextSibling,x=y.nextSibling;return g.addEventListener("submit",f),p(g,C(qe,{get when(){return!!n()},get children(){var w=ag();return p(w,n),w}}),x),p(g,C(qe,{get when(){return s()},get children(){return lg()}}),x),p(g,C(W,{get when(){return l()},get fallback(){return(()=>{var w=fg();return w.$$click=()=>c(!0),p(w,C(qe,{get when(){return i()},get children(){return C(fn,{class:"animate-spin mr-2",size:22})}}),null),p(w,()=>i()?"Verifying...":"Send Code",null),E(()=>w.disabled=i()),w})()},get children(){return[C(og,{required:!0}),(()=>{var w=cg();return p(w,C(qe,{get when(){return i()},get children(){return C(fn,{class:"animate-spin mr-2",size:22})}}),null),p(w,()=>i()?"Verifying...":"Verify Email",null),E(()=>w.disabled=i()),w})()]}}),x),h})()}se(["click"]);var hg=N("<div>Reset Password Page");function gg(){return hg()}var mg=N('<div class="ml-1 border-l border-gray-100 pl-2 mt-1 space-y-1">'),pg=N('<div class=mb-2><div class="flex items-center justify-between cursor-pointer select-none rounded-lg transition-colors px-2 py-2 font-semibold text-gray-800 hover:bg-gray-100"tabindex=0 role=button><span class=truncate></span><button class="ml-2 flex items-center justify-center w-8 h-8 rounded hover:bg-gray-200 transition-colors"tabindex=0 type=button><svg fill=none stroke=currentColor stroke-width=2.2 viewBox="0 0 20 20"><polyline points="6 8 10 12 14 8"fill=none stroke-linecap=round stroke-linejoin=round>');function yg(e){const[t,n]=O({}),{projects:r}=tt(),i=()=>r().find(a=>a.id===e.projectId),o=()=>i()&&t()[i().id],s=a=>{a.stopPropagation(),n(l=>({...l,[i().id]:!l[i().id]}))};return(()=>{var a=pg(),l=a.firstChild,c=l.firstChild,u=c.nextSibling,d=u.firstChild;return l.$$click=()=>e.onSelect?.({project:i()}),p(c,()=>i().name||i().id),u.$$click=s,p(a,C(W,{get when(){return ae(()=>!!o())()&&i().checklists?.length>0},get children(){var f=mg();return p(f,C(Li,{get each(){return i().checklists},children:h=>e.children(h)})),f}}),null),E(f=>{var h=o()?"Collapse project":"Expand project",g=`transition-transform duration-200 w-5 h-5 text-gray-500 ${o()?"rotate-90":""}`;return h!==f.e&&q(u,"aria-label",f.e=h),g!==f.t&&q(d,"class",f.t=g),f},{e:void 0,t:void 0}),a})()}se(["click"]);var wg=N('<div style=max-width:100vw><div><div class="flex-1 overflow-y-auto sidebar-scrollbar"><div class=p-4><div class=mb-4><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Projects</h3></div><div class=space-y-2><button class="w-full bg-gray-900 hover:bg-gray-800 text-white px-4 py-3 rounded-lg transition-colors duration-200 flex items-center gap-3 text-base font-medium"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2.5 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>New Project</button></div></div><div class=px-4><div class=mb-4><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Checklists</h3></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Actions</h3></div><div class=space-y-1><button class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Export CSV</button><label class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>Import CSV<input type=file accept=.csv,text/csv class=hidden></label><button class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF URL</button><label class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-3 text-base cursor-pointer"><svg class="w-5 h-5 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF File<input type=file accept=application/pdf class=hidden></label></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Settings</h3></div><div class=space-y-1><button class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-red-600 hover:bg-red-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-red-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear all data</button><div class=mt-20>'),bg=N('<div class="text-center py-12 px-4"><div class="w-12 h-12 bg-gray-100 rounded-lg mx-auto mb-4 flex items-center justify-center"><svg class="w-6 h-6 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-base text-gray-500 font-medium">No projects yet'),vg=N('<div style=flex:1><button class="flex-1 flex items-center gap-3 px-3 py-2.5 text-left focus:outline-none"tabindex=0><svg class="w-5 h-5 text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><div class="flex-1 min-w-0"><div class="flex gap-3 items-center"><div class="text-base font-medium truncate"></div><span></span></div><div class="text-sm text-gray-500 mt-1"></div></div></button><button aria-label="Delete checklist"tabindex=-1><svg class="w-5 h-5"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),xg=N('<span class="inline-block w-2 h-2 rounded-full"style=background:currentColor>');function _g(e){const{projects:t,currentChecklist:n,checklists:r}=tt(),i=Ie();function o(){const a=window.prompt("Enter PDF URL:");a&&e.setPdfUrl(a)}function s(a){const l=a.target.files[0];if(l&&l.type==="application/pdf"){const c=URL.createObjectURL(l);e.setPdfUrl(c)}else alert("Please select a valid PDF file.")}return(()=>{var a=wg(),l=a.firstChild,c=l.firstChild,u=c.firstChild,d=u.firstChild,f=d.nextSibling,h=f.firstChild,g=u.nextSibling,m=g.nextSibling,y=m.firstChild,x=y.nextSibling,w=x.firstChild,b=w.nextSibling,S=b.firstChild,A=S.nextSibling,T=A.nextSibling,j=b.nextSibling,$=j.nextSibling,k=$.firstChild,R=k.nextSibling,v=R.nextSibling,_=m.nextSibling,P=_.firstChild,M=P.nextSibling,L=M.firstChild;return pe(h,"click",e.onAddProject,!0),p(f,C(W,{get when(){return t()?.length>0},get fallback(){return bg()},get children(){return C(Li,{get each(){return t()},children:D=>C(yg,{get projectId(){return D.id},onSelect:()=>{const z=t().filter(V=>V.name===D.name).findIndex(V=>V.id===D.id);i(`/project/${encodeURIComponent(D.name)}/${z}`)},children:U=>(()=>{var z=vg(),V=z.firstChild,Le=V.firstChild,xe=Le.nextSibling,_e=xe.firstChild,Y=_e.firstChild,kr=Y.nextSibling,Ks=_e.nextSibling,Sr=V.nextSibling;return V.$$click=ee=>{ee.stopPropagation(),i(`/checklist/${U.id}`)},p(Y,()=>U.name),p(kr,()=>{if(!U)return"Unknown";const ee=Ce.scoreChecklist(U);return ee.length+(U.name?.length||0)<30?ee:xg()}),p(Ks,()=>new Date(U.createdAt).toLocaleDateString()),Sr.$$click=ee=>{ee.stopPropagation(),e.onDeleteChecklist(D.id,U.id)},E(ee=>{var Cr=`
            flex items-center group rounded-lg transition-colors
            ${n()&&U.id===n().id?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}
          `,Ar=`
                                text-xs font-semibold px-2 py-0.5 rounded
                                ${(()=>{const Nt=Ce.scoreChecklist(U);return Nt==="High"?"bg-green-100 text-green-800":Nt==="Moderate"?"bg-yellow-100 text-yellow-800":Nt==="Low"?"bg-orange-100 text-orange-800":Nt==="Critically Low"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"})()}
                              `,Er=`
                          p-2 mr-2 rounded transition-colors text-gray-400 hover:text-red-600 hover:bg-red-50
                          ${n()&&U.id!==n().id?"opacity-0 group-hover:opacity-100":""}
                        `;return Cr!==ee.e&&ce(z,ee.e=Cr),Ar!==ee.t&&ce(kr,ee.t=Ar),Er!==ee.a&&ce(Sr,ee.a=Er),ee},{e:void 0,t:void 0,a:void 0}),z})()})})}}),null),pe(w,"click",e.onExportCSV,!0),pe(T,"change",e.onImportCSV),j.$$click=o,v.addEventListener("change",s),pe(L,"click",e.onDeleteAll,!0),E(D=>{var U=`
        transition-all duration-200 ease-in-out
        bg-white border-r border-gray-200 h-screen overflow-x-hidden
        ${e.open?"w-90":"w-0"}
        
        /* Mobile: Fixed overlay */
        md:relative
        ${e.open?"":"md:w-0"}
        
        /* Mobile overlay behavior */
        fixed top-0 left-0 z-30 md:static md:z-auto
        ${e.open?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,z=`
          flex flex-col h-full
          transition-opacity duration-100
          ${e.open?"duration-500 opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
        `;return U!==D.e&&ce(a,D.e=U),z!==D.t&&ce(l,D.t=z),D},{e:void 0,t:void 0}),a})()}se(["click"]);var $g=N('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 mx-2 animate-fade-in"><div class=mb-4><h2 class="text-lg font-semibold text-gray-900"></h2></div><div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"autofocus>Cancel</button><button class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors">'),kg=N('<p class="mt-2 text-gray-600">');function yi(e){return C(W,{get when(){return e.open},get children(){var t=$g(),n=t.firstChild,r=n.firstChild,i=r.firstChild,o=r.nextSibling,s=o.firstChild,a=s.nextSibling;return p(i,()=>e.title||"Are you sure?"),p(r,(()=>{var l=ae(()=>!!e.description);return()=>l()&&(()=>{var c=kg();return p(c,()=>e.description),c})()})(),null),pe(s,"click",e.onCancel,!0),pe(a,"click",e.onConfirm,!0),p(a,()=>e.confirmText||"Delete"),t}})}se(["click"]);var Sg=N('<div><div class="w-full h-full overflow-auto"></div><div role=separator tabindex=0 style=touch-action:none>');function Cg(e){const t=e.direction||"horizontal",n=t==="horizontal"?"right":"bottom",r=e.position||n,i=e.min??200,o=e.max??800,s=e.initial??400,[a,l]=O(s);let c=!1,u=0,d=0,f=null;const h=x=>{c=!0,f=x.pointerId,u=t==="horizontal"?x.clientX:x.clientY,d=a(),document.body.style.userSelect="none",x.target.setPointerCapture(f),window.addEventListener("pointermove",g),window.addEventListener("pointerup",m)},g=x=>{if(!c)return;let w=t==="horizontal"?x.clientX-u:x.clientY-u;(r==="left"||r==="top")&&(w=-w);let b=d+w;b=Math.max(i,Math.min(o,b)),l(b)},m=x=>{if(c=!1,document.body.style.userSelect="",x.target.releasePointerCapture&&f!==null)try{x.target.releasePointerCapture(f)}catch{}window.removeEventListener("pointermove",g),window.removeEventListener("pointerup",m),f=null};let y="";return t==="horizontal"?y=r==="right"?"top-0 right-0 h-full w-2 cursor-col-resize":"top-0 left-0 h-full w-2 cursor-col-resize":y=r==="bottom"?"left-0 bottom-0 w-full h-2 cursor-row-resize":"left-0 top-0 w-full h-2 cursor-row-resize",(()=>{var x=Sg(),w=x.firstChild,b=w.nextSibling;return ce(x,`relative ${t==="horizontal"?"h-full":"w-full"}`),p(w,()=>e.children),b.$$pointerdown=h,ce(b,`absolute ${y} bg-gray-200 hover:bg-gray-300 transition-colors z-10`),q(b,"aria-orientation",t),E(S=>pn(x,t==="horizontal"?`width: ${a()}px; min-width:0;`:`height: ${a()}px; min-height:0;`,S)),x})()}se(["pointerdown"]);var Ag=N('<svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16">'),Eg=N('<button class="ml-[-12px] bg-white/80 text-blue-700 p-2 rounded-full shadow hover:bg-white transition-all duration-200 border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"aria-label="Toggle sidebar open or closed">'),wi=N("<span class=font-medium>Hello, "),bi=N('<button class="hover:bg-blue-600 px-3 py-2 rounded transition font-medium">Sign Out'),Pg=N('<nav class="flex items-center justify-between bg-gradient-to-r from-blue-700 to-blue-500 text-white px-8 py-4 shadow-lg"><div class="flex items-center space-x-4"></div><div class="flex space-x-6 items-center">'),Ng=N('<svg fill=none stroke=currentColor class="w-6 h-6"viewBox="0 0 20 20"><path d="M3.5 3C3.77614 3 4 3.22386 4 3.5V16.5L3.99023 16.6006C3.94371 16.8286 3.74171 17 3.5 17C3.25829 17 3.05629 16.8286 3.00977 16.6006L3 16.5V3.5C3 3.22386 3.22386 3 3.5 3ZM11.2471 5.06836C11.4476 4.95058 11.7104 4.98547 11.8721 5.16504C12.0338 5.34471 12.0407 5.60979 11.9023 5.79688L11.835 5.87207L7.80371 9.5H16.5C16.7761 9.5 17 9.72386 17 10C17 10.2761 16.7761 10.5 16.5 10.5H7.80371L11.835 14.1279C12.0402 14.3127 12.0568 14.6297 11.8721 14.835C11.6873 15.0402 11.3703 15.0568 11.165 14.8721L6.16504 10.3721L6.09473 10.2939C6.03333 10.2093 6 10.1063 6 10C6 9.85828 6.05972 9.72275 6.16504 9.62793L11.165 5.12793L11.2471 5.06836Z">');function vi(e){return e.endsWith("/")?e.slice(0,-1):e}function Rg(e){const{user:t,signout:n,authLoading:r}=Pt(),i=ar(),o=()=>vi(i.pathname)===vi(Ws),s=localStorage.getItem("userName"),a=!!s;return X(()=>{t()?localStorage.setItem("userName",t().name):localStorage.removeItem("userName")}),(()=>{var l=Pg(),c=l.firstChild,u=c.nextSibling;return p(c,C(W,{get when(){return!o()},get children(){var d=Eg();return pe(d,"click",e.toggleSidebar,!0),p(d,C(W,{get when(){return!e.open},get fallback(){return Ng()},get children(){return Ag()}})),d}}),null),p(c,C(Tt,{href:"/",class:"font-extrabold text-2xl tracking-tight drop-shadow",children:"CoRATES"}),null),p(u,C(Tt,{href:"/dashboard",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Dashboard"}),null),p(u,C(W,{get when(){return t()},get fallback(){return ae(()=>!!(a&&r()))()?[(()=>{var d=wi();return d.firstChild,p(d,s,null),d})(),bi()]:[C(Tt,{href:"/signin",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Sign In"}),C(Tt,{href:"/signup",class:"hover:bg-blue-600 px-3 py-2 rounded transition font-medium",children:"Sign Up"})]},get children(){return[(()=>{var d=wi();return d.firstChild,p(d,()=>t().name,null),d})(),(()=>{var d=bi();return d.$$click=async()=>{await n()},d})()]}}),null),l})()}se(["click"]);var Tg=N('<div class="flex-1 min-h-0 overflow-y-auto">'),Lg=N('<div class="sm:hidden fixed inset-0 bg-black/50 z-20 transition-opacity duration-300">'),Mg=N('<div class="h-full border-l border-gray-200 bg-white flex flex-col"><iframe class="w-full h-full"title="PDF Viewer"style=min-width:300px>'),Og=N('<div class="flex flex-col h-screen overflow-y-hidden"><div class="flex flex-1 h-0 min-h-0"><div>'),qg=N('<div class="p-8 text-center">Loading projects...');function jg(e){const[t,n]=O(!1),[r,i]=O(!1),[o,s]=O(!1),[a,l]=O(null),[c,u]=O(null),{authLoading:d}=Pt(),{projects:f,dataLoading:h,loadData:g,setProjects:m,currentProject:y,addProject:x,deleteChecklist:w,currentChecklist:b,setCurrentChecklist:S,updateChecklist:A}=tt(),T=async()=>{try{S(null),alert("All checklists deleted!")}catch(_){console.error("Error removing all checklists:",_),alert("Error deleting checklists!")}finally{i(!1)}},j=()=>{let _="this checklist";const P=a();if(P&&P.projectId&&P.checklistId){const M=f().find(L=>L.id===P.projectId);if(M){const L=M.checklists.find(D=>D.id===P.checklistId);L&&(_=L.title||L.name||"Untitled Checklist")}}return`Are you sure you want to delete ${_}? This action cannot be undone.`},$=()=>i(!1),k=(_,P)=>{console.log("Request to delete checklist id:",P,"from project:",_),l({projectId:_,checklistId:P}),s(!0)},R=async()=>{const _=a();if(!(!_||!_.projectId||!_.checklistId))try{console.log("Deleting checklist id:",_.checklistId,"from project:",_.projectId),await w(_.projectId,_.checklistId)}catch(P){console.error("Error deleting checklist:",P),alert("Error deleting checklist!")}finally{s(!1),l(null)}},v=()=>{s(!1),l(null)};return(()=>{var _=Og(),P=_.firstChild,M=P.firstChild;return p(_,C(Rg,{toggleSidebar:()=>n(L=>!L),get open(){return t()}}),P),p(M,C(_g,{get open(){return t()},onClose:()=>n(!1),setPdfUrl:u,onDeleteChecklist:k})),p(P,C(W,{get when(){return ae(()=>!h())()&&!d()},get fallback(){return qg()},get children(){var L=Tg();return p(L,()=>e.children),L}}),null),p(P,C(W,{get when(){return t()},get children(){var L=Lg();return L.$$click=()=>n(!1),L}}),null),p(P,C(W,{get when(){return c()},get children(){return C(Cg,{direction:"horizontal",min:250,max:1600,initial:500,position:"left",get children(){var L=Mg(),D=L.firstChild;return E(()=>q(D,"src",c())),L}})}}),null),p(_,C(yi,{get open(){return o()},title:"Delete checklist?",get description(){return j()},confirmText:"Delete",onCancel:v,onConfirm:R}),null),p(_,C(yi,{get open(){return r()},title:"Delete all checklists?",description:"Are you sure you want to delete all saved checklists? This action cannot be undone.",confirmText:"Delete all",onCancel:$,onConfirm:T}),null),_})()}se(["click"]);var Dg=N("<h1>404 - Not Found");function Fg(){return Dg()}var Vg=N("<h1>You are offline, you must be online to access this page.");function Ug(){return Vg()}const Ws="/amstar2-checklist-scoring-app";function Ig(){return C(ta,{base:Ws,get children(){return C(ge,{path:"/",component:jg,get children(){return[C(ge,{path:"/",component:ca}),C(ge,{path:"/dashboard",component:gd}),C(ge,{path:"/project/:name/:index",component:td}),C(ge,{path:"/checklist/:id",component:Da}),'""',C(ge,{path:"/signin",component:()=>C(Bg,{get children(){return C(uh,{})}})}),C(ge,{path:"/signup",component:vh}),C(ge,{path:"/verify-email",component:dg}),C(ge,{path:"/reset-password",component:gg}),C(ge,{path:"*",component:Fg})]}})}})}function Bg(e){const t=qs();return C(W,{get when(){return t()},get fallback(){return C(Ug,{})},get children(){return e.children}})}vo(()=>C(ya,{get children(){return C(pd,{get children(){return C(Ig,{})}})}}),document.getElementById("root"));
