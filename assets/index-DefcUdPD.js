(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const br=!1,_r=(e,t)=>e===t,xr=Symbol("solid-track"),Ue={equals:_r};let qn=Dn;const de=1,Ie=2,En={owned:null,cleanups:null,context:null,owner:null};var z=null;let _t=null,$r=null,B=null,V=null,oe=null,mt=0;function Ge(e,t){const n=B,r=z,i=e.length===0,a=t===void 0?r:t,s=i?En:{owned:null,cleanups:null,context:a?a.context:null,owner:a},l=i?e:()=>e(()=>ge(()=>Re(s)));z=s,B=null;try{return Le(l,!0)}finally{B=n,z=r}}function X(e,t){t=t?Object.assign({},Ue,t):Ue;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Tn(n,i));return[Rn.bind(n),r]}function q(e,t,n){const r=Lt(e,t,!1,de);Ye(r)}function et(e,t,n){qn=Cr;const r=Lt(e,t,!1,de);r.user=!0,oe?oe.push(r):Ye(r)}function Ee(e,t,n){n=n?Object.assign({},Ue,n):Ue;const r=Lt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Ye(r),Rn.bind(r)}function ge(e){if(B===null)return e();const t=B;B=null;try{return e()}finally{B=t}}function Yt(e){et(()=>ge(e))}function yt(e){return z===null||(z.cleanups===null?z.cleanups=[e]:z.cleanups.push(e)),e}function Rn(){if(this.sources&&this.state)if(this.state===de)Ye(this);else{const e=V;V=null,Le(()=>nt(this),!1),V=e}if(B){const e=this.observers?this.observers.length:0;B.sources?(B.sources.push(this),B.sourceSlots.push(e)):(B.sources=[this],B.sourceSlots=[e]),this.observers?(this.observers.push(B),this.observerSlots.push(B.sources.length-1)):(this.observers=[B],this.observerSlots=[B.sources.length-1])}return this.value}function Tn(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Le(()=>{for(let i=0;i<e.observers.length;i+=1){const a=e.observers[i],s=_t&&_t.running;s&&_t.disposed.has(a),(s?!a.tState:!a.state)&&(a.pure?V.push(a):oe.push(a),a.observers&&Pn(a)),s||(a.state=de)}if(V.length>1e6)throw V=[],new Error},!1)),t}function Ye(e){if(!e.fn)return;Re(e);const t=mt;kr(e,e.value,t)}function kr(e,t,n){let r;const i=z,a=B;B=z=e;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=de,e.owned&&e.owned.forEach(Re),e.owned=null),e.updatedAt=n+1,Yn(s)}finally{B=a,z=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Tn(e,r):e.value=r,e.updatedAt=n)}function Lt(e,t,n,r=de,i){const a={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:z,context:z?z.context:null,pure:n};return z===null||z!==En&&(z.owned?z.owned.push(a):z.owned=[a]),a}function tt(e){if(e.state===0)return;if(e.state===Ie)return nt(e);if(e.suspense&&ge(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<mt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===de)Ye(e);else if(e.state===Ie){const r=V;V=null,Le(()=>nt(e,t[0]),!1),V=r}}function Le(e,t){if(V)return e();let n=!1;t||(V=[]),oe?n=!0:oe=[],mt++;try{const r=e();return Ar(n),r}catch(r){n||(oe=null),V=null,Yn(r)}}function Ar(e){if(V&&(Dn(V),V=null),e)return;const t=oe;oe=null,t.length&&Le(()=>qn(t),!1)}function Dn(e){for(let t=0;t<e.length;t++)tt(e[t])}function Cr(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:tt(r)}for(t=0;t<n;t++)tt(e[t])}function nt(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===de?r!==t&&(!r.updatedAt||r.updatedAt<mt)&&tt(r):i===Ie&&nt(r,t)}}}function Pn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ie,n.pure?V.push(n):oe.push(n),n.observers&&Pn(n))}}function Re(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const a=i.pop(),s=n.observerSlots.pop();r<i.length&&(a.sourceSlots[s]=r,i[r]=a,n.observerSlots[r]=s)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Re(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Re(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Nr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Yn(e,t=z){throw Nr(e)}const Sr=Symbol("fallback");function Ut(e){for(let t=0;t<e.length;t++)e[t]()}function Mr(e,t,n={}){let r=[],i=[],a=[],s=0,l=t.length>1?[]:null;return yt(()=>Ut(a)),()=>{let o=e()||[],c=o.length,f,u;return o[xr],ge(()=>{let g,w,m,y,d,b,A,E,R;if(c===0)s!==0&&(Ut(a),a=[],r=[],i=[],s=0,l&&(l=[])),n.fallback&&(r=[Sr],i[0]=Ge(k=>(a[0]=k,n.fallback())),s=1);else if(s===0){for(i=new Array(c),u=0;u<c;u++)r[u]=o[u],i[u]=Ge(h);s=c}else{for(m=new Array(c),y=new Array(c),l&&(d=new Array(c)),b=0,A=Math.min(s,c);b<A&&r[b]===o[b];b++);for(A=s-1,E=c-1;A>=b&&E>=b&&r[A]===o[E];A--,E--)m[E]=i[A],y[E]=a[A],l&&(d[E]=l[A]);for(g=new Map,w=new Array(E+1),u=E;u>=b;u--)R=o[u],f=g.get(R),w[u]=f===void 0?-1:f,g.set(R,u);for(f=b;f<=A;f++)R=r[f],u=g.get(R),u!==void 0&&u!==-1?(m[u]=i[f],y[u]=a[f],l&&(d[u]=l[f]),u=w[u],g.set(R,u)):a[f]();for(u=b;u<c;u++)u in m?(i[u]=m[u],a[u]=y[u],l&&(l[u]=d[u],l[u](u))):i[u]=Ge(h);i=i.slice(0,s=c),r=o.slice(0)}return i});function h(g){if(a[u]=g,l){const[w,m]=X(u);return l[u]=m,t(o[u],w)}return t(o[u])}}}function P(e,t){return ge(()=>e(t||{}))}const qr=e=>`Stale read from <${e}>.`;function It(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Ee(Mr(()=>e.each,e.children,t||void 0))}function ae(e){const t=e.keyed,n=Ee(()=>e.when,void 0,void 0),r=t?n:Ee(n,void 0,{equals:(i,a)=>!i==!a});return Ee(()=>{const i=r();if(i){const a=e.children;return typeof a=="function"&&a.length>0?ge(()=>a(t?i:()=>{if(!ge(r))throw qr("Show");return n()})):a}return e.fallback},void 0,void 0)}const Ot=e=>Ee(()=>e());function Er(e,t,n){let r=n.length,i=t.length,a=r,s=0,l=0,o=t[i-1].nextSibling,c=null;for(;s<i||l<a;){if(t[s]===n[l]){s++,l++;continue}for(;t[i-1]===n[a-1];)i--,a--;if(i===s){const f=a<r?l?n[l-1].nextSibling:n[a-l]:o;for(;l<a;)e.insertBefore(n[l++],f)}else if(a===l)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[a-1]&&n[l]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[l++],t[s++].nextSibling),e.insertBefore(n[--a],f),t[i]=n[a]}else{if(!c){c=new Map;let u=l;for(;u<a;)c.set(n[u],u++)}const f=c.get(t[s]);if(f!=null)if(l<f&&f<a){let u=s,h=1,g;for(;++u<i&&u<a&&!((g=c.get(t[u]))==null||g!==f+h);)h++;if(h>f-l){const w=t[s];for(;l<f;)e.insertBefore(n[l++],w)}else e.replaceChild(n[l++],t[s++])}else s++;else t[s++].remove()}}}const en="_$DX_DELEGATE";function Rr(e,t,n,r={}){let i;return Ge(a=>{i=a,t===document?e():p(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function L(e,t,n,r){let i;const a=()=>{const l=document.createElement("template");return l.innerHTML=e,l.content.firstChild},s=()=>(i||(i=a())).cloneNode(!0);return s.cloneNode=s,s}function pt(e,t=window.document){const n=t[en]||(t[en]=new Set);for(let r=0,i=e.length;r<i;r++){const a=e[r];n.has(a)||(n.add(a),t.addEventListener(a,Tr))}}function D(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function me(e,t){t==null?e.removeAttribute("class"):e.className=t}function he(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=a=>i.call(e,n[1],a))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Ft(e,t,n){if(!t)return n?D(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,a;for(a in n)t[a]==null&&r.removeProperty(a),delete n[a];for(a in t)i=t[a],i!==n[a]&&(r.setProperty(a,i),n[a]=i);return n}function Ln(e,t,n){return ge(()=>e(t,n))}function p(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return rt(e,t,r,n);q(i=>rt(e,t(),i,n),r)}function Tr(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,a=o=>Object.defineProperty(e,"target",{configurable:!0,value:o}),s=()=>{const o=t[n];if(o&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?o.call(t,c,e):o.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&a(t.host),!0},l=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const o=e.composedPath();a(o[0]);for(let c=0;c<o.length-2&&(t=o[c],!!s());c++){if(t._$host){t=t._$host,l();break}if(t.parentNode===i)break}}else l();a(r)}function rt(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const a=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,a==="string"||a==="number"){if(a==="number"&&(t=t.toString(),t===n))return n;if(s){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=be(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||a==="boolean")n=be(e,n,r);else{if(a==="function")return q(()=>{let l=t();for(;typeof l=="function";)l=l();n=rt(e,l,n,r)}),()=>n;if(Array.isArray(t)){const l=[],o=n&&Array.isArray(n);if(Ct(l,t,n,i))return q(()=>n=rt(e,l,n,r,!0)),()=>n;if(l.length===0){if(n=be(e,n,r),s)return n}else o?n.length===0?tn(e,l,r):Er(e,n,l):(n&&be(e),tn(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=be(e,n,r,t);be(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ct(e,t,n,r){let i=!1;for(let a=0,s=t.length;a<s;a++){let l=t[a],o=n&&n[e.length],c;if(!(l==null||l===!0||l===!1))if((c=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))i=Ct(e,l,o)||i;else if(c==="function")if(r){for(;typeof l=="function";)l=l();i=Ct(e,Array.isArray(l)?l:[l],Array.isArray(o)?o:[o])||i}else e.push(l),i=!0;else{const f=String(l);o&&o.nodeType===3&&o.data===f?e.push(o):e.push(document.createTextNode(f))}}return i}function tn(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function be(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let a=!1;for(let s=t.length-1;s>=0;s--){const l=t[s];if(i!==l){const o=l.parentNode===e;!a&&!s?o?e.replaceChild(i,l):e.insertBefore(i,n):o&&l.remove()}else a=!0}}else e.insertBefore(i,n);return[i]}const j={q1:{text:"1. Did the research questions and inclusion criteria for the review include the components of PICO?",columns:[{label:"For Yes:",options:["Population","Intervention","Comparator group","Outcome"]},{label:"Optional (recommended):",options:["Timeframe for follow-up"]},{label:"",options:["Yes","No"]}]},q2:{text:"2. Did the report of the review contain an explicit statement that the review methods were established prior to the conduct of the review and did the report justify any significant deviations from the protocol?",columns:[{label:"For Partial Yes:",description:"The authors state that they had a written protocol or guide that included ALL the following:",options:["review question(s)","a search strategy","inclusion/exclusion criteria","risk of bias assessment"]},{label:"For Yes:",description:"As for Partial Yes, plus the protocol should be registered and should also have specified:",options:["a meta-analysis/synthesis plan, if appropriate, and","a plan for investigating causes of heterogeneity","a plan for investigating causes of heterogeneity"]},{label:"",description:"",options:["Yes","Partial Yes","No"]}]},q3:{text:"3. Did the review authors explain their selection of the study designs for inclusion in the review?",columns:[{label:"For Yes, the review should satisfy ONE of the following:",options:["Explanation for including only RCTs ","OR Explanation for including only NRSI","OR Explanation for including both RCTs and NRSI"]},{label:"",options:["Yes","No"]}]},q4:{text:"4. Did the review authors use a comprehensive literature search strategy? ",columns:[{label:"For Partial Yes (all the following):",options:["searched at least 2 databases (relevant to research question)","provided key word and/or search strategy","justified publication restrictions (e.g. language)"]},{label:"For Yes, should also have (all the following):",options:["searched the reference lists / bibliographies of included studies","searched trial/study registries","included/consulted content experts in the field","where relevant, searched for grey literature","conducted search within 24 months of completion of the review"]},{label:"",options:["Yes","Partial Yes","No"]}]},q5:{text:"5. Did the review authors perform study selection in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q6:{text:"6. Did the review authors perform data extraction in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q7:{text:"7. Did the review authors provide a list of excluded studies and justify the exclusions?",columns:[{label:"For Partial Yes:",options:["provided a list of all potentially relevant studies that were read in full-text form but excluded from the review"]},{label:"For Yes, must also have:",options:["Justified the exclusion from the review of each potentially relevant study"]},{label:"",options:["Yes","Partial Yes","No"]}]},q8:{text:"8. Did the review authors describe the included studies in adequate detail?",columns:[{label:"For Partial Yes (ALL the following):",options:["described populations","described interventions","described comparators","described outcomes","described research designs"]},{label:"For Yes, should also have ALL the following:",options:["described population in detail","described comparator in detail (including doses where relevant)","described study’s setting in detail","timeframe for follow-up"]},{label:"",options:["Yes","Partial Yes","No"]}]},q9:{text:"9. Did the review authors use a satisfactory technique for assessing the risk of bias (RoB) in individual studies that were included in the review?",subtitle:"RCTs",columns:[{label:"For Partial Yes, must have assessed RoB from",options:["unconcealed allocation, and","lack of blinding of patients and assessors when assessing outcomes (unnecessary for objective outcomes such as all-cause mortality)"]},{label:"For Yes, must also have assessed RoB from:",options:["allocation sequence that was not truly random, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",description:"",options:["Yes","Partial Yes","No"," Includes only NRSI"]}],subtitle2:"NRSI",columns2:[{label:"For Partial Yes, must have assessed RoB:",options:["from confounding, and","from selection bias"]},{label:"For Yes, must also have assessed RoB:",options:["methods used to ascertain exposures and outcomes, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",options:["Yes","Partial Yes","No","Includes only RCTs"]}]},q10:{text:"10. Did the review authors report on the sources of funding for the studies included in the review?",columns:[{label:"For Yes:",options:["Must have reported on the sources of funding for individual studies included in the review. Note: Reporting that the reviewers looked for this information but it was not reported by study authors also qualifies"]},{label:"",options:["Yes","No"]}]},q11:{text:"11. If meta-analysis was performed did the review authors use appropriate methods for statistical combination of results?",subtitle:"RCTs",columns:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results and adjusted for heterogeneity if present.","AND investigated the causes of any heterogeneity"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}],subtitle2:"NRSI",columns2:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results, adjusting for heterogeneity if present","AND they statistically combined effect estimates from NRSI that were adjusted for confounding, rather than combining raw data, or justified combining raw data when adjusted effect estimates were not available","AND they reported separate summary estimates for RCTs and NRSI separately when both were included in the review"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q12:{text:"12. If meta-analysis was performed, did the review authors assess the potential impact of RoB in individual studies on the results of the meta-analysis or other evidence synthesis?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if the pooled estimate was based on RCTs and/or NRSI at variable RoB, the authors performed analyses to investigate possible impact of RoB on summary estimates of effect."]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q13:{text:"13. Did the review authors account for RoB in individual studies when interpreting/ discussing the results of the review?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if RCTs with moderate or high RoB, or NRSI were included the review provided a discussion of the likely impact of RoB on the results"]},{label:"",options:["Yes","No"]}]},q14:{text:"14. Did the review authors provide a satisfactory explanation for, and discussion of, any heterogeneity observed in the results of the review?",columns:[{label:"For Yes:",options:["There was no significant heterogeneity in the results","OR if heterogeneity was present the authors performed an investigation of sources of any heterogeneity in the results and discussed the impact of this on the results of the review"]},{label:"",options:["Yes","No"]}]},q15:{text:"15. If they performed quantitative synthesis did the review authors carry out an adequate investigation of publication bias (small study bias) and discuss its likely impact on the results of the review?",columns:[{label:"For Yes:",options:["performed graphical or statistical tests for publication bias and discussed the likelihood and magnitude of impact of publication bias"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q16:{text:"16. Did the review authors report any potential sources of conflict of interest, including any funding they received for conducting the review?",columns:[{label:"For Yes:",options:["The authors reported no competing interests OR","The authors described their funding sources and how they managed potential conflicts of interest"]},{label:"",options:["Yes","No"]}]}};var Dr=L('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"> </h3><div class="flex gap-6">'),Pr=L('<div><div class="font-medium text-gray-800 mb-2 h-6"></div><div class="flex flex-col gap-2">'),H=L('<label class="flex items-center space-x-2"><input type=checkbox class="w-4 h-4 flex-shrink-0 text-blue-600 border-gray-300 focus:ring-blue-500"><span class=text-gray-700>'),K=L('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="flex gap-6">'),Yr=L('<div><div class="font-medium text-gray-800 h-6"></div><div class="font-light text-gray-800 mb-4 h-12"></div><div class="flex flex-col gap-2">'),Q=L('<div><div class="font-medium text-gray-800 h-8"></div><div class="flex flex-col gap-2">'),On=L('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6"></div><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6">'),Lr=L('<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100"><div class="container mx-auto px-4 py-8 max-w-7xl"><div class="bg-white rounded-lg shadow-lg p-8 mb-8"><h1 class="text-3xl font-bold text-gray-900 mb-2">AMSTAR 2 Checklist</h1><p class="text-gray-600 mb-6">App description here</p><div class="grid md:grid-cols-3 gap-4 mb-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Title</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter review title"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Reviewer Name</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter your name"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Date</label><input type=date class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></div></div></div><div class=space-y-6>');function Or({onUpdate:e,checklistState:t}){const n=()=>t().state.q1,r=j.q1;function i(s,l,o){e(s,l,o),n()[0].every((f,u)=>s===0&&u===l?o:f)?(n()[2][0]||e(2,0,!0),n()[2][1]&&e(2,1,!1)):(n()[2][0]&&e(2,0,!1),n()[2][1]||e(2,1,!0))}function a(s,l,o){l===0&&o?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&o?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,o)}return(()=>{var s=Dr(),l=s.firstChild,o=l.firstChild,c=l.nextSibling;return p(l,()=>r.text,o),p(c,()=>r.columns.map((f,u)=>(()=>{var h=Pr(),g=h.firstChild,w=g.nextSibling;return D(h,"key",u),p(g,()=>f.label),p(w,()=>f.options.map((m,y)=>(()=>{var d=H(),b=d.firstChild,A=b.nextSibling;return D(d,"key",y),b.addEventListener("change",()=>u===0?i(u,y,!n()[u][y]):u===2?a(u,y,!n()[u][y]):e(u,y,!n()[u][y])),p(A,m),q(()=>b.checked=n()[u][y]),d})())),q(()=>h.className=u===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),h})())),s})()}function Fr({onUpdate:e,checklistState:t}){const n=()=>t().state.q2,r=j.q2;function i(s,l,o){const c=n()[0].every((u,h)=>s===0&&h===l?o:u),f=c&&n()[1].every((u,h)=>s===1&&h===l?o:u);e(s,l,o),f?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):c?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function a(s,l,o){o?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Yr(),h=u.firstChild,g=h.nextSibling,w=g.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.description),p(w,()=>c.options.map((m,y)=>(()=>{var d=H(),b=d.firstChild,A=b.nextSibling;return D(d,"key",y),b.addEventListener("change",()=>f===0||f===1?i(f,y,!n()[f][y]):a(f,y,!n()[f][y])),p(A,m),q(()=>b.checked=n()[f][y]),d})())),q(()=>u.className=f===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Br({onUpdate:e,checklistState:t}){const n=()=>t().state.q3,r=j.q3;function i(s,l,o){const f=(s===0?n()[0].map((u,h)=>h===l?o:u):n()[0]).some(Boolean);e(s,l,o),f?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,o){l===0&&o?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&o?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function zr({onUpdate:e,checklistState:t}){const n=()=>t().state.q4,r=j.q4;function i(s,l,o){const c=s===0?n()[0].map((g,w)=>w===l?o:g):n()[0],f=s===1?n()[1].map((g,w)=>w===l?o:g):n()[1],u=c.every(Boolean),h=u&&f.every(Boolean);e(s,l,o),h?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):u?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function a(s,l,o){o?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0||f===1?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Hr({onUpdate:e,checklistState:t}){const n=()=>t().state.q5,r=j.q5;function i(s,l,o){const f=(s===0?n()[0].map((u,h)=>h===l?o:u):n()[0]).some(Boolean);e(s,l,o),f?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,o){l===0&&o?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&o?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Vr({onUpdate:e,checklistState:t}){const n=()=>t().state.q6,r=j.q6;function i(s,l,o){const f=(s===0?n()[0].map((u,h)=>h===l?o:u):n()[0]).some(Boolean);e(s,l,o),f?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,o){l===0&&o?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&o?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Qr({onUpdate:e,checklistState:t}){const n=()=>t().state.q7,r=j.q7;function i(s,l,o){const c=s===0?n()[0].map((g,w)=>w===l?o:g):n()[0],f=s===1?n()[1].map((g,w)=>w===l?o:g):n()[1],u=c.every(Boolean),h=u&&f.every(Boolean);e(s,l,o),h?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):u?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function a(s,l,o){o?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0||f===1?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function jr({onUpdate:e,checklistState:t}){const n=()=>t().state.q8,r=j.q8;function i(s,l,o){const c=s===0?n()[0].map((g,w)=>w===l?o:g):n()[0],f=s===1?n()[1].map((g,w)=>w===l?o:g):n()[1],u=c.every(Boolean),h=u&&f.every(Boolean);e(s,l,o),h?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):u?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function a(s,l,o){o?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0||f===1?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Xr({onUpdatea:e,onUpdateb:t,checklistState:n}){const r=()=>n().state.q9a,i=()=>n().state.q9b,a=j.q9;function s(f,u,h){const g=f===0?r()[0].map((d,b)=>b===u?h:d):r()[0],w=f===1?r()[1].map((d,b)=>b===u?h:d):r()[1],m=g.every(Boolean),y=m&&w.every(Boolean);e(f,u,h),y?(e(2,0,!0),e(2,1,!1),e(2,2,!1),e(2,3,!1)):m?(e(2,0,!1),e(2,1,!0),e(2,2,!1),e(2,3,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0),e(2,3,!1))}function l(f,u,h){h?(e(f,0,u===0),e(f,1,u===1),e(f,2,u===2),e(f,3,u===3)):e(f,u,h)}function o(f,u,h){const g=f===0?i()[0].map((d,b)=>b===u?h:d):i()[0],w=f===1?i()[1].map((d,b)=>b===u?h:d):i()[1],m=g.every(Boolean),y=m&&w.every(Boolean);t(f,u,h),y?(t(2,0,!0),t(2,1,!1),t(2,2,!1),t(2,3,!1)):m?(t(2,0,!1),t(2,1,!0),t(2,2,!1),t(2,3,!1)):(t(2,0,!1),t(2,1,!1),t(2,2,!0),t(2,3,!1))}function c(f,u,h){h?(t(f,0,u===0),t(f,1,u===1),t(f,2,u===2),t(f,3,u===3)):t(f,u,h)}return(()=>{var f=On(),u=f.firstChild,h=u.nextSibling,g=h.nextSibling,w=g.nextSibling,m=w.nextSibling;return p(u,()=>a.text),p(h,()=>a.subtitle),p(g,()=>a.columns.map((y,d)=>(()=>{var b=Q(),A=b.firstChild,E=A.nextSibling;return D(b,"key",d),p(A,()=>y.label),p(E,()=>y.options.map((R,k)=>(()=>{var $=H(),_=$.firstChild,x=_.nextSibling;return D($,"key",k),_.addEventListener("change",()=>d===0||d===1?s(d,k,!r()[d][k]):l(d,k,!r()[d][k])),p(x,R),q(()=>_.checked=r()[d][k]),$})())),q(()=>b.className=d===a.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),b})())),p(w,()=>a.subtitle2),p(m,()=>a.columns2.map((y,d)=>(()=>{var b=Q(),A=b.firstChild,E=A.nextSibling;return D(b,"key",d),p(A,()=>y.label),p(E,()=>y.options.map((R,k)=>(()=>{var $=H(),_=$.firstChild,x=_.nextSibling;return D($,"key",k),_.addEventListener("change",()=>d===0||d===1?o(d,k,!i()[d][k]):c(d,k,!i()[d][k])),p(x,R),q(()=>_.checked=i()[d][k]),$})())),q(()=>b.className=d===a.columns2.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),b})())),f})()}function Gr({onUpdate:e,checklistState:t}){const n=()=>t().state.q10,r=j.q10;function i(s,l,o){const f=(s===0?n()[0].map((u,h)=>h===l?o:u):n()[0]).some(Boolean);e(s,l,o),f?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,o){l===0&&o?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&o?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Jr({onUpdatea:e,onUpdateb:t,checklistState:n}){const r=()=>n().state.q11a,i=()=>n().state.q11b,a=j.q11;function s(f,u,h){const w=(f===0?r()[0].map((m,y)=>y===u?h:m):r()[0]).every(Boolean);e(f,u,h),w?(e(1,0,!0),e(1,1,!1),e(1,2,!1)):(e(1,0,!1),e(1,1,!0),e(1,2,!1))}function l(f,u,h){h?(e(f,0,u===0),e(f,1,u===1),e(f,2,u===2)):e(f,u,h)}function o(f,u,h){const w=(f===0?i()[0].map((m,y)=>y===u?h:m):i()[0]).every(Boolean);t(f,u,h),w?(t(1,0,!0),t(1,1,!1),t(1,2,!1)):(t(1,0,!1),t(1,1,!0),t(1,2,!1))}function c(f,u,h){h?(t(f,0,u===0),t(f,1,u===1),t(f,2,u===2)):t(f,u,h)}return(()=>{var f=On(),u=f.firstChild,h=u.nextSibling,g=h.nextSibling,w=g.nextSibling,m=w.nextSibling;return p(u,()=>a.text),p(h,()=>a.subtitle),p(g,()=>a.columns.map((y,d)=>(()=>{var b=Q(),A=b.firstChild,E=A.nextSibling;return D(b,"key",d),p(A,()=>y.label),p(E,()=>y.options.map((R,k)=>(()=>{var $=H(),_=$.firstChild,x=_.nextSibling;return D($,"key",k),_.addEventListener("change",()=>d===0?s(d,k,!r()[d][k]):l(d,k,!r()[d][k])),p(x,R),q(()=>_.checked=r()[d][k]),$})())),q(()=>b.className=d===a.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),b})())),p(w,()=>a.subtitle2),p(m,()=>a.columns2.map((y,d)=>(()=>{var b=Q(),A=b.firstChild,E=A.nextSibling;return D(b,"key",d),p(A,()=>y.label),p(E,()=>y.options.map((R,k)=>(()=>{var $=H(),_=$.firstChild,x=_.nextSibling;return D($,"key",k),_.addEventListener("change",()=>d===0?o(d,k,!i()[d][k]):c(d,k,!i()[d][k])),p(x,R),q(()=>_.checked=i()[d][k]),$})())),q(()=>b.className=d===a.columns2.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),b})())),f})()}function Kr({onUpdate:e,checklistState:t}){const n=()=>t().state.q12,r=j.q12;function i(s,l,o){const f=(s===0?n()[0].map((u,h)=>h===l?o:u):n()[0]).some(Boolean);e(s,l,o),f?(e(1,0,!0),e(1,1,!1),e(1,2,!1)):(e(1,0,!1),e(1,1,!0),e(1,2,!1))}function a(s,l,o){o?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Wr({onUpdate:e,checklistState:t}){const n=()=>t().state.q13,r=j.q13;function i(s,l,o){const f=(s===0?n()[0].map((u,h)=>h===l?o:u):n()[0]).some(Boolean);e(s,l,o),f?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,o){l===0&&o?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&o?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Zr({onUpdate:e,checklistState:t}){const n=()=>t().state.q14,r=j.q14;function i(s,l,o){const f=(s===0?n()[0].map((u,h)=>h===l?o:u):n()[0]).some(Boolean);e(s,l,o),f?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,o){l===0&&o?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&o?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Ur({onUpdate:e,checklistState:t}){const n=()=>t().state.q15,r=j.q15;function i(s,l,o){const f=(s===0?n()[0].map((u,h)=>h===l?o:u):n()[0]).some(Boolean);e(s,l,o),f?(e(1,0,!0),e(1,1,!1),e(1,2,!1)):(e(1,0,!1),e(1,1,!0),e(1,2,!1))}function a(s,l,o){o?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Ir({onUpdate:e,checklistState:t}){const n=()=>t().state.q16,r=j.q16;function i(s,l,o){const f=(s===0?n()[0].map((u,h)=>h===l?o:u):n()[0]).some(Boolean);e(s,l,o),f?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,o){l===0&&o?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&o?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,o)}return(()=>{var s=K(),l=s.firstChild,o=l.nextSibling;return p(l,()=>r.text),p(o,()=>r.columns.map((c,f)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return D(u,"key",f),p(h,()=>c.label),p(g,()=>c.options.map((w,m)=>(()=>{var y=H(),d=y.firstChild,b=d.nextSibling;return D(y,"key",m),d.addEventListener("change",()=>f===0?i(f,m,!n()[f][m]):a(f,m,!n()[f][m])),p(b,w),q(()=>d.checked=n()[f][m]),y})())),q(()=>u.className=f===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function ei({checklistState:e,onChecklistChange:t}){const[n,r]=X(""),[i,a]=X(""),[s,l]=X("");return et(()=>{const o=e().state;r(o.title||""),a(o.reviewerName||""),l(o.reviewDate||"")}),(()=>{var o=Lr(),c=o.firstChild,f=c.firstChild,u=f.firstChild,h=u.nextSibling,g=h.nextSibling,w=g.firstChild,m=w.firstChild,y=m.nextSibling,d=w.nextSibling,b=d.firstChild,A=b.nextSibling,E=d.nextSibling,R=E.firstChild,k=R.nextSibling,$=f.nextSibling;return y.addEventListener("change",_=>{r(_.target.value),e().state.title=_.target.value,t({...e().state})}),A.addEventListener("change",_=>{a(_.target.value),e().state.reviewerName=_.target.value,t({...e().state})}),k.addEventListener("change",_=>{l(_.target.value),e().state.reviewDate=_.target.value,t({...e().state})}),p($,P(Or,{onUpdate:(_,x,N)=>{const v=e().state.q1.map(C=>[...C]);v[_][x]=N,t({...e().state,q1:v})},checklistState:e}),null),p($,P(Fr,{onUpdate:(_,x,N)=>{const v=e().state.q2.map(C=>[...C]);v[_][x]=N,t({...e().state,q2:v})},checklistState:e}),null),p($,P(Br,{onUpdate:(_,x,N)=>{const v=e().state.q3.map(C=>[...C]);v[_][x]=N,t({...e().state,q3:v})},checklistState:e}),null),p($,P(zr,{onUpdate:(_,x,N)=>{const v=e().state.q4.map(C=>[...C]);v[_][x]=N,t({...e().state,q4:v})},checklistState:e}),null),p($,P(Hr,{onUpdate:(_,x,N)=>{const v=e().state.q5.map(C=>[...C]);v[_][x]=N,t({...e().state,q5:v})},checklistState:e}),null),p($,P(Vr,{onUpdate:(_,x,N)=>{const v=e().state.q6.map(C=>[...C]);v[_][x]=N,t({...e().state,q6:v})},checklistState:e}),null),p($,P(Qr,{onUpdate:(_,x,N)=>{const v=e().state.q7.map(C=>[...C]);v[_][x]=N,t({...e().state,q7:v})},checklistState:e}),null),p($,P(jr,{onUpdate:(_,x,N)=>{const v=e().state.q8.map(C=>[...C]);v[_][x]=N,t({...e().state,q8:v})},checklistState:e}),null),p($,P(Xr,{onUpdatea:(_,x,N)=>{const v=e().state.q9a.map(C=>[...C]);v[_][x]=N,t({...e().state,q9a:v})},onUpdateb:(_,x,N)=>{const v=e().state.q9b.map(C=>[...C]);v[_][x]=N,t({...e().state,q9b:v})},checklistState:e}),null),p($,P(Gr,{onUpdate:(_,x,N)=>{const v=e().state.q10.map(C=>[...C]);v[_][x]=N,t({...e().state,q10:v})},checklistState:e}),null),p($,P(Jr,{onUpdatea:(_,x,N)=>{const v=e().state.q11a.map(C=>[...C]);v[_][x]=N,t({...e().state,q11a:v})},onUpdateb:(_,x,N)=>{const v=e().state.q11b.map(C=>[...C]);v[_][x]=N,t({...e().state,q11b:v})},checklistState:e}),null),p($,P(Kr,{onUpdate:(_,x,N)=>{const v=e().state.q12.map(C=>[...C]);v[_][x]=N,t({...e().state,q12:v})},checklistState:e}),null),p($,P(Wr,{onUpdate:(_,x,N)=>{const v=e().state.q13.map(C=>[...C]);v[_][x]=N,t({...e().state,q13:v})},checklistState:e}),null),p($,P(Zr,{onUpdate:(_,x,N)=>{const v=e().state.q14.map(C=>[...C]);v[_][x]=N,t({...e().state,q14:v})},checklistState:e}),null),p($,P(Ur,{onUpdate:(_,x,N)=>{const v=e().state.q15.map(C=>[...C]);v[_][x]=N,t({...e().state,q15:v})},checklistState:e}),null),p($,P(Ir,{onUpdate:(_,x,N)=>{const v=e().state.q16.map(C=>[...C]);v[_][x]=N,t({...e().state,q16:v})},checklistState:e}),null),q(()=>y.value=n()),q(()=>A.value=i()),q(()=>k.value=s()),o})()}const ti="amstar2-checklists",re="checklists",it="projects",ni=2;function Oe(){return new Promise((e,t)=>{const n=indexedDB.open(ti,ni);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(re)||r.createObjectStore(re,{keyPath:"id"}),r.objectStoreNames.contains(it)||r.createObjectStore(it,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function xt(e){const t=await Oe();return new Promise((n,r)=>{const i=t.transaction(re,"readwrite");i.objectStore(re).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function $t(){const e=await Oe();return new Promise((t,n)=>{const a=e.transaction(re,"readonly").objectStore(re).getAll();a.onsuccess=()=>t(a.result),a.onerror=()=>n(a.error)})}async function ri(e){const t=await Oe();return new Promise((n,r)=>{const i=t.transaction(re,"readwrite");i.objectStore(re).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function ii(){const e=await Oe();return new Promise((t,n)=>{const a=e.transaction(re,"readwrite").objectStore(re).clear();a.onsuccess=()=>t(),a.onerror=()=>n(a.error)})}async function si(){const e=await Oe();return new Promise((t,n)=>{const a=e.transaction(it,"readonly").objectStore(it).getAll();a.onsuccess=()=>t(a.result),a.onerror=()=>n(a.error)})}function nn(){return crypto.randomUUID()}class _e{constructor(t=null,{title:n=null,id:r=null,createdAt:i=Date.now(),reviewerName:a=null}={}){this.state=t||this.getDefaultState(),this.title=n,this.id=r,this.createdAt=i,this.reviewerName=a}getDefaultState(){return{title:this.title,id:this.id,createdAt:this.createdAt,reviewerName:this.reviewerName,q1:[[!1,!1,!1,!1],[!1],[!1,!0]],q2:[[!1,!1,!1,!1],[!1,!1,!1],[!1,!1,!0]],q3:[[!1,!1,!1],[!1,!0]],q4:[[!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!0]],q5:[[!1,!1],[!1,!0]],q6:[[!1,!1],[!1,!0]],q7:[[!1],[!1],[!1,!1,!0]],q8:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!0]],q9a:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],q9b:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],q10:[[!1],[!1,!0]],q11a:[[!1,!1,!1],[!1,!0,!1]],q11b:[[!1,!1,!1,!1],[!1,!0,!1]],q12:[[!1,!1],[!1,!0,!1]],q13:[[!1,!1],[!1,!0]],q14:[[!1,!1],[!1,!0]],q15:[[!1],[!1,!0,!1]],q16:[[!1,!1],[!1,!0]]}}updateAnswer(t,n,r,i){this.state[t]&&this.state[t][n]&&(this.state[t][n][r]=i)}exportState(){return JSON.stringify(this.state,null,2)}importState(t){try{return this.state=JSON.parse(t),!0}catch(n){return console.error("Invalid JSON format:",n),!1}}exportFlat(){const t={};return this.state.title&&(t.title=this.state.title),Object.entries(this.state).forEach(([n,r])=>{if(/^q\d+[a-z]*$/i.test(n)&&Array.isArray(r)){const i=r.flat().map(a=>a?"1":"0");t[n]=i}}),t}importFlat(t){const n=this.getDefaultState();Object.entries(t).forEach(([r,i])=>{if(!n[r])return;const a=n[r],s=a.map(o=>o.length);let l=0;for(let o=0;o<a.length;o++)for(let c=0;c<s[o];c++)a[o][c]=i[l]==="1",l++}),this.state=n}static scoreChecklist(t){if(!t||typeof t!="object")return"Error";const n=["q2","q4","q7","q9a","q9b","q11a","q11b","q13","q15"];let r=0,i=0;const a=s=>{if(!Array.isArray(s)||s.length===0)return null;const l=s[s.length-1];if(!Array.isArray(l))return null;const o=l.findIndex(c=>c===!0);return o===-1?null:l.length===2?o===0?"Yes":"No":l.length===3?["Yes","Partial Yes","No"][o]||null:l.length===4&&["Yes","Partial Yes","No","Other"][o]||null};return Object.entries(t).forEach(([s,l])=>{if(!/^q\d+[a-z]*$/i.test(s))return;const o=a(l);o&&o!=="Yes"&&(n.includes(s)?r++:i++)}),r>1?"Critically Low":r===1?"Low":i>1?"Moderate":"High"}}function li(e){const t=typeof e.exportFlat=="function"?e.exportFlat():e;let n=[];t.title&&(n=[["Title",`${String(t.title).replace(/"/g,'""')}`]],delete t.title);const r=Math.max(...Object.values(t).map(u=>Array.isArray(u)?u.length:0)),i=["Question"];for(let u=1;u<=r;u++)i.push(`A${u}`);const a=[i];Object.entries(t).forEach(([u,h])=>{const g=Array.isArray(h)?[...h,...Array(r-h.length).fill("")]:[];a.push([u,...g])});const l=(n.length?[...n,[],...a]:a).map(u=>u.map(h=>`"${String(h).replace(/"/g,'""')}"`).join(",")).join(`\r
`),o=new Blob([l],{type:"text/csv"}),c=URL.createObjectURL(o),f=document.createElement("a");f.href=c,f.download="checklist.csv",document.body.appendChild(f),f.click(),document.body.removeChild(f),URL.revokeObjectURL(c)}function ai(e){const t=e.split(/\r?\n/).filter(i=>i.trim()!=="");let n={},r=null;for(let i=0;i<t.length;i++){const a=t[i].split(",").map(s=>s.replace(/^"|"$/g,"").replace(/""/g,'"'));a[0]==="Title"?r=a[1]:a[0]==="Question"||/^q\d+[a-z]*$/i.test(a[0])&&(n[a[0]]=a.slice(1).filter(s=>s!=="").map(s=>s==="1"?"1":"0"))}return r&&(n.title=r),n}var oi=L('<div style=max-width:100vw><div><div class="flex items-center justify-between px-4 py-3 border-b border-gray-100"><span class="font-semibold text-xl text-gray-900">Sidebar</span><button class="w-10 h-10 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 flex items-center justify-center transition-colors"aria-label="Close sidebar"><svg fill=none stroke=currentColor class="w-6 h-6"viewBox="0 0 20 20"><path d="M3.5 3C3.77614 3 4 3.22386 4 3.5V16.5L3.99023 16.6006C3.94371 16.8286 3.74171 17 3.5 17C3.25829 17 3.05629 16.8286 3.00977 16.6006L3 16.5V3.5C3 3.22386 3.22386 3 3.5 3ZM11.2471 5.06836C11.4476 4.95058 11.7104 4.98547 11.8721 5.16504C12.0338 5.34471 12.0407 5.60979 11.9023 5.79688L11.835 5.87207L7.80371 9.5H16.5C16.7761 9.5 17 9.72386 17 10C17 10.2761 16.7761 10.5 16.5 10.5H7.80371L11.835 14.1279C12.0402 14.3127 12.0568 14.6297 11.8721 14.835C11.6873 15.0402 11.3703 15.0568 11.165 14.8721L6.16504 10.3721L6.09473 10.2939C6.03333 10.2093 6 10.1063 6 10C6 9.85828 6.05972 9.72275 6.16504 9.62793L11.165 5.12793L11.2471 5.06836Z"></path></svg></button></div><div class="flex-1 overflow-y-auto sidebar-scrollbar"><div class="p-4 border-b border-gray-100"><button class="w-full bg-gray-900 hover:bg-gray-800 text-white px-4 py-3 rounded-lg transition-colors duration-200 flex items-center gap-3 text-base font-medium"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2.5 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>New checklist</button></div><div class=p-4><div class=mb-4><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Recent</h3></div><div class=space-y-2><button class="w-full bg-gray-900 hover:bg-gray-800 text-white px-4 py-3 rounded-lg transition-colors duration-200 flex items-center gap-3 text-base font-medium"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2.5 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>Project</button></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Actions</h3></div><div class=space-y-1><button class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Export CSV</button><label class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>Import CSV<input type=file accept=.csv,text/csv class=hidden></label></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Settings</h3></div><div class=space-y-1><button class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-red-600 hover:bg-red-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-red-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear all data</button><div class=mt-20>'),fi=L('<div class="text-center py-12 px-4"><div class="w-12 h-12 bg-gray-100 rounded-lg mx-auto mb-4 flex items-center justify-center"><svg class="w-6 h-6 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-base text-gray-500 font-medium">No checklists yet'),ui=L("<div><div>hello: "),ci=L("<div>No checklists found"),hi=L('<div><button class="flex-1 flex items-center gap-3 px-3 py-2.5 text-left focus:outline-none"tabindex=0><svg class="w-5 h-5 text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><div class="flex-1 min-w-0"><div class="flex gap-3 items-center"><div class="text-base font-medium truncate"></div><span></span></div><div class="text-sm text-gray-500 mt-1"></div></div></button><button aria-label="Delete checklist"tabindex=-1><svg class="w-5 h-5"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">');function gi(e){return(()=>{var t=oi(),n=t.firstChild,r=n.firstChild,i=r.firstChild,a=i.nextSibling,s=r.nextSibling,l=s.firstChild,o=l.firstChild,c=l.nextSibling,f=c.firstChild,u=f.nextSibling,h=u.firstChild,g=c.nextSibling,w=g.firstChild,m=w.nextSibling,y=m.firstChild,d=y.nextSibling,b=d.firstChild,A=b.nextSibling,E=A.nextSibling,R=g.nextSibling,k=R.firstChild,$=k.nextSibling,_=$.firstChild;return he(a,"click",e.onClose,!0),he(o,"click",e.onAddChecklist,!0),he(h,"click",e.onSetProject,!0),p(u,P(ae,{get when(){return e.checklists?.length>0},get fallback(){return fi()},get children(){return P(It,{get each(){return e.projects},children:(x,N)=>(console.log(x),(()=>{var v=ui(),C=v.firstChild;return C.firstChild,p(C,()=>x.title,null),p(v,P(ae,{get when(){return Ot(()=>!!x.checklists)()&&x.checklists.length>0},get children(){return P(It,{get each(){return x.checklists},get fallback(){return ci()},children:(Y,I)=>((!Y.title||Y.title.trim()==="")&&(Y.title=`Review ${I()+1}`),console.log(Y),(()=>{var ue=hi(),ee=ue.firstChild,S=ee.firstChild,T=S.nextSibling,M=T.firstChild,O=M.firstChild,F=O.nextSibling,ce=M.nextSibling,te=ee.nextSibling;return ee.$$click=()=>e.onSelectChecklist(Y.id),p(O,()=>Y.title),p(F,()=>_e.scoreChecklist(Y)),p(ce,()=>new Date(Y.createdAt).toLocaleDateString()),te.$$click=()=>e.onDeleteChecklist(Y.id),q(se=>{var ze=`
                          flex items-center group rounded-lg transition-colors
                          ${Y.id===e.currentId?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}
                        `,Wt=`
                    text-xs font-semibold px-2 py-0.5 rounded
                    ${(()=>{const He=_e.scoreChecklist(Y);return He==="High"?"bg-green-100 text-green-800":He==="Moderate"?"bg-yellow-100 text-yellow-800":He==="Low"?"bg-orange-100 text-orange-800":He==="Critically Low"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"})()}
                  `,Zt=`
                            p-2 mr-2 rounded transition-colors text-gray-400 hover:text-red-600 hover:bg-red-50
                            ${Y.id!==e.currentId?"opacity-0 group-hover:opacity-100":""}
                          `;return ze!==se.e&&me(ue,se.e=ze),Wt!==se.t&&me(F,se.t=Wt),Zt!==se.a&&me(te,se.a=Zt),se},{e:void 0,t:void 0,a:void 0}),ue})())})}}),null),v})())})}}),null),he(y,"click",e.onExportCSV,!0),he(E,"change",e.onImportCSV),he(_,"click",e.onDeleteAll,!0),q(x=>{var N=`
        transition-all duration-200 ease-in-out
        bg-white border-r border-gray-200 h-screen overflow-x-hidden
        ${e.open?"w-90":"w-0"}
        ∆
        /* Mobile: Fixed overlay */
        md:relative
        ${e.open?"":"md:w-0"}
        
        /* Mobile overlay behavior */
        fixed top-0 left-0 z-30 md:static md:z-auto
        ${e.open?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,v=`
          flex flex-col h-full
          transition-opacity duration-100
          ${e.open?"duration-500 opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
        `,C=!e.currentChecklistState;return N!==x.e&&me(t,x.e=N),v!==x.t&&me(n,x.t=v),C!==x.a&&(y.disabled=x.a=C),x},{e:void 0,t:void 0,a:void 0}),t})()}pt(["click"]);var di=L('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 mx-2 animate-fade-in"><div class=mb-4><h2 class="text-lg font-semibold text-gray-900"></h2></div><div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"autofocus>Cancel</button><button class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors">'),mi=L('<p class="mt-2 text-gray-600">');function rn(e){return P(ae,{get when(){return e.open},get children(){var t=di(),n=t.firstChild,r=n.firstChild,i=r.firstChild,a=r.nextSibling,s=a.firstChild,l=s.nextSibling;return p(i,()=>e.title||"Are you sure?"),p(r,(()=>{var o=Ot(()=>!!e.description);return()=>o()&&(()=>{var c=mi();return p(c,()=>e.description),c})()})(),null),he(s,"click",e.onCancel,!0),he(l,"click",e.onConfirm,!0),p(l,()=>e.confirmText||"Delete"),t}})}pt(["click"]);var yi=L('<div><div class="w-full h-full overflow-auto"></div><div role=separator tabindex=0 style=touch-action:none>');function pi(e){const t=e.direction||"horizontal",n=t==="horizontal"?"right":"bottom",r=e.position||n,i=e.min??200,a=e.max??800,s=e.initial??400,[l,o]=X(s);let c=!1,f=0,u=0,h=null;const g=d=>{c=!0,h=d.pointerId,f=t==="horizontal"?d.clientX:d.clientY,u=l(),document.body.style.userSelect="none",d.target.setPointerCapture(h),window.addEventListener("pointermove",w),window.addEventListener("pointerup",m)},w=d=>{if(!c)return;let b=t==="horizontal"?d.clientX-f:d.clientY-f;(r==="left"||r==="top")&&(b=-b);let A=u+b;A=Math.max(i,Math.min(a,A)),o(A)},m=d=>{if(c=!1,document.body.style.userSelect="",d.target.releasePointerCapture&&h!==null)try{d.target.releasePointerCapture(h)}catch{}window.removeEventListener("pointermove",w),window.removeEventListener("pointerup",m),h=null};let y="";return t==="horizontal"?y=r==="right"?"top-0 right-0 h-full w-2 cursor-col-resize":"top-0 left-0 h-full w-2 cursor-col-resize":y=r==="bottom"?"left-0 bottom-0 w-full h-2 cursor-row-resize":"left-0 top-0 w-full h-2 cursor-row-resize",(()=>{var d=yi(),b=d.firstChild,A=b.nextSibling;return me(d,`relative ${t==="horizontal"?"h-full":"w-full"}`),p(b,()=>e.children),A.$$pointerdown=g,me(A,`absolute ${y} bg-gray-200 hover:bg-gray-300 transition-colors z-10`),D(A,"aria-orientation",t),q(E=>Ft(d,t==="horizontal"?`width: ${l()}px; min-width:0;`:`height: ${l()}px; min-height:0;`,E)),d})()}pt(["pointerdown"]);function Je(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Fn(e){let t,n,r;e.length!==2?(t=Je,n=(l,o)=>Je(e(l),o),r=(l,o)=>e(l)-o):(t=e===Je||e===wi?e:vi,n=e,r=e);function i(l,o,c=0,f=l.length){if(c<f){if(t(o,o)!==0)return f;do{const u=c+f>>>1;n(l[u],o)<0?c=u+1:f=u}while(c<f)}return c}function a(l,o,c=0,f=l.length){if(c<f){if(t(o,o)!==0)return f;do{const u=c+f>>>1;n(l[u],o)<=0?c=u+1:f=u}while(c<f)}return c}function s(l,o,c=0,f=l.length){const u=i(l,o,c,f-1);return u>c&&r(l[u-1],o)>-r(l[u],o)?u-1:u}return{left:i,center:s,right:a}}function vi(){return 0}function bi(e){return e===null?NaN:+e}const _i=Fn(Je),xi=_i.right;Fn(bi).center;class sn extends Map{constructor(t,n=Ai){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ln(this,t))}has(t){return super.has(ln(this,t))}set(t,n){return super.set($i(this,t),n)}delete(t){return super.delete(ki(this,t))}}function ln({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $i({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ki({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ai(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Ci=Math.sqrt(50),Ni=Math.sqrt(10),Si=Math.sqrt(2);function st(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Ci?10:a>=Ni?5:a>=Si?2:1;let l,o,c;return i<0?(c=Math.pow(10,-i)/s,l=Math.round(e*c),o=Math.round(t*c),l/c<e&&++l,o/c>t&&--o,c=-c):(c=Math.pow(10,i)*s,l=Math.round(e/c),o=Math.round(t/c),l*c<e&&++l,o*c>t&&--o),o<l&&.5<=n&&n<2?st(e,t,n*2):[l,o,c]}function Mi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?st(t,e,n):st(e,t,n);if(!(a>=i))return[];const l=a-i+1,o=new Array(l);if(r)if(s<0)for(let c=0;c<l;++c)o[c]=(a-c)/-s;else for(let c=0;c<l;++c)o[c]=(a-c)*s;else if(s<0)for(let c=0;c<l;++c)o[c]=(i+c)/-s;else for(let c=0;c<l;++c)o[c]=(i+c)*s;return o}function Nt(e,t,n){return t=+t,e=+e,n=+n,st(e,t,n)[2]}function qi(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Nt(t,e,n):Nt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Bn(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ei(e){return e}var Ri=3,an=1e-6;function Ti(e){return"translate("+e+",0)"}function Di(e){return t=>+e(t)}function Pi(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Yi(){return!this.__axis}function Li(e,t){var n=[],r=null,i=null,a=6,s=6,l=3,o=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,f="y",u=Ti;function h(g){var w=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):Ei),y=Math.max(a,0)+l,d=t.range(),b=+d[0]+o,A=+d[d.length-1]+o,E=(t.bandwidth?Pi:Di)(t.copy(),o),R=g.selection?g.selection():g,k=R.selectAll(".domain").data([null]),$=R.selectAll(".tick").data(w,t).order(),_=$.exit(),x=$.enter().append("g").attr("class","tick"),N=$.select("line"),v=$.select("text");k=k.merge(k.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(x),N=N.merge(x.append("line").attr("stroke","currentColor").attr(f+"2",c*a)),v=v.merge(x.append("text").attr("fill","currentColor").attr(f,c*y).attr("dy","0.71em")),g!==R&&(k=k.transition(g),$=$.transition(g),N=N.transition(g),v=v.transition(g),_=_.transition(g).attr("opacity",an).attr("transform",function(C){return isFinite(C=E(C))?u(C+o):this.getAttribute("transform")}),x.attr("opacity",an).attr("transform",function(C){var Y=this.parentNode.__axis;return u((Y&&isFinite(Y=Y(C))?Y:E(C))+o)})),_.remove(),k.attr("d",s?"M"+b+","+c*s+"V"+o+"H"+A+"V"+c*s:"M"+b+","+o+"H"+A),$.attr("opacity",1).attr("transform",function(C){return u(E(C)+o)}),N.attr(f+"2",c*a),v.attr(f,c*y).text(m),R.filter(Yi).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),R.each(function(){this.__axis=E})}return h.scale=function(g){return arguments.length?(t=g,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),h):n.slice()},h.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),h):r&&r.slice()},h.tickFormat=function(g){return arguments.length?(i=g,h):i},h.tickSize=function(g){return arguments.length?(a=s=+g,h):a},h.tickSizeInner=function(g){return arguments.length?(a=+g,h):a},h.tickSizeOuter=function(g){return arguments.length?(s=+g,h):s},h.tickPadding=function(g){return arguments.length?(l=+g,h):l},h.offset=function(g){return arguments.length?(o=+g,h):o},h}function Oi(e){return Li(Ri,e)}var Fi={value:()=>{}};function zn(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ke(n)}function Ke(e){this._=e}function Bi(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ke.prototype=zn.prototype={constructor:Ke,on:function(e,t){var n=this._,r=Bi(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=zi(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=on(n[i],e.name,t);else if(t==null)for(i in n)n[i]=on(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ke(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function zi(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function on(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Fi,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var St="http://www.w3.org/1999/xhtml";const fn={svg:"http://www.w3.org/2000/svg",xhtml:St,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),fn.hasOwnProperty(t)?{space:fn[t],local:e}:e}function Hi(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===St&&t.documentElement.namespaceURI===St?t.createElement(e):t.createElementNS(n,e)}}function Vi(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Hn(e){var t=wt(e);return(t.local?Vi:Hi)(t)}function Qi(){}function Bt(e){return e==null?Qi:function(){return this.querySelector(e)}}function ji(e){typeof e!="function"&&(e=Bt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,l=r[i]=new Array(s),o,c,f=0;f<s;++f)(o=a[f])&&(c=e.call(o,o.__data__,f,a))&&("__data__"in o&&(c.__data__=o.__data__),l[f]=c);return new J(r,this._parents)}function Xi(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Gi(){return[]}function Vn(e){return e==null?Gi:function(){return this.querySelectorAll(e)}}function Ji(e){return function(){return Xi(e.apply(this,arguments))}}function Ki(e){typeof e=="function"?e=Ji(e):e=Vn(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],l=s.length,o,c=0;c<l;++c)(o=s[c])&&(r.push(e.call(o,o.__data__,c,s)),i.push(o));return new J(r,i)}function Qn(e){return function(){return this.matches(e)}}function jn(e){return function(t){return t.matches(e)}}var Wi=Array.prototype.find;function Zi(e){return function(){return Wi.call(this.children,e)}}function Ui(){return this.firstElementChild}function Ii(e){return this.select(e==null?Ui:Zi(typeof e=="function"?e:jn(e)))}var es=Array.prototype.filter;function ts(){return Array.from(this.children)}function ns(e){return function(){return es.call(this.children,e)}}function rs(e){return this.selectAll(e==null?ts:ns(typeof e=="function"?e:jn(e)))}function is(e){typeof e!="function"&&(e=Qn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,l=r[i]=[],o,c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new J(r,this._parents)}function Xn(e){return new Array(e.length)}function ss(){return new J(this._enter||this._groups.map(Xn),this._parents)}function lt(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}lt.prototype={constructor:lt,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ls(e){return function(){return e}}function as(e,t,n,r,i,a){for(var s=0,l,o=t.length,c=a.length;s<c;++s)(l=t[s])?(l.__data__=a[s],r[s]=l):n[s]=new lt(e,a[s]);for(;s<o;++s)(l=t[s])&&(i[s]=l)}function os(e,t,n,r,i,a,s){var l,o,c=new Map,f=t.length,u=a.length,h=new Array(f),g;for(l=0;l<f;++l)(o=t[l])&&(h[l]=g=s.call(o,o.__data__,l,t)+"",c.has(g)?i[l]=o:c.set(g,o));for(l=0;l<u;++l)g=s.call(e,a[l],l,a)+"",(o=c.get(g))?(r[l]=o,o.__data__=a[l],c.delete(g)):n[l]=new lt(e,a[l]);for(l=0;l<f;++l)(o=t[l])&&c.get(h[l])===o&&(i[l]=o)}function fs(e){return e.__data__}function us(e,t){if(!arguments.length)return Array.from(this,fs);var n=t?os:as,r=this._parents,i=this._groups;typeof e!="function"&&(e=ls(e));for(var a=i.length,s=new Array(a),l=new Array(a),o=new Array(a),c=0;c<a;++c){var f=r[c],u=i[c],h=u.length,g=cs(e.call(f,f&&f.__data__,c,r)),w=g.length,m=l[c]=new Array(w),y=s[c]=new Array(w),d=o[c]=new Array(h);n(f,u,m,y,d,g,t);for(var b=0,A=0,E,R;b<w;++b)if(E=m[b]){for(b>=A&&(A=b+1);!(R=y[A])&&++A<w;);E._next=R||null}}return s=new J(s,r),s._enter=l,s._exit=o,s}function cs(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hs(){return new J(this._exit||this._groups.map(Xn),this._parents)}function gs(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function ds(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),l=new Array(i),o=0;o<s;++o)for(var c=n[o],f=r[o],u=c.length,h=l[o]=new Array(u),g,w=0;w<u;++w)(g=c[w]||f[w])&&(h[w]=g);for(;o<i;++o)l[o]=n[o];return new J(l,this._parents)}function ms(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function ys(e){e||(e=ps);function t(u,h){return u&&h?e(u.__data__,h.__data__):!u-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],l=s.length,o=i[a]=new Array(l),c,f=0;f<l;++f)(c=s[f])&&(o[f]=c);o.sort(t)}return new J(i,this._parents).order()}function ps(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ws(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function vs(){return Array.from(this)}function bs(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function _s(){let e=0;for(const t of this)++e;return e}function xs(){return!this.node()}function $s(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,l;a<s;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function ks(e){return function(){this.removeAttribute(e)}}function As(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cs(e,t){return function(){this.setAttribute(e,t)}}function Ns(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ss(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ms(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qs(e,t){var n=wt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?As:ks:typeof t=="function"?n.local?Ms:Ss:n.local?Ns:Cs)(n,t))}function Gn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Es(e){return function(){this.style.removeProperty(e)}}function Rs(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ts(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ds(e,t,n){return arguments.length>1?this.each((t==null?Es:typeof t=="function"?Ts:Rs)(e,t,n??"")):ke(this.node(),e)}function ke(e,t){return e.style.getPropertyValue(t)||Gn(e).getComputedStyle(e,null).getPropertyValue(t)}function Ps(e){return function(){delete this[e]}}function Ys(e,t){return function(){this[e]=t}}function Ls(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Os(e,t){return arguments.length>1?this.each((t==null?Ps:typeof t=="function"?Ls:Ys)(e,t)):this.node()[e]}function Jn(e){return e.trim().split(/^|\s+/)}function zt(e){return e.classList||new Kn(e)}function Kn(e){this._node=e,this._names=Jn(e.getAttribute("class")||"")}Kn.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Wn(e,t){for(var n=zt(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Zn(e,t){for(var n=zt(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Fs(e){return function(){Wn(this,e)}}function Bs(e){return function(){Zn(this,e)}}function zs(e,t){return function(){(t.apply(this,arguments)?Wn:Zn)(this,e)}}function Hs(e,t){var n=Jn(e+"");if(arguments.length<2){for(var r=zt(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?zs:t?Fs:Bs)(n,t))}function Vs(){this.textContent=""}function Qs(e){return function(){this.textContent=e}}function js(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Xs(e){return arguments.length?this.each(e==null?Vs:(typeof e=="function"?js:Qs)(e)):this.node().textContent}function Gs(){this.innerHTML=""}function Js(e){return function(){this.innerHTML=e}}function Ks(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ws(e){return arguments.length?this.each(e==null?Gs:(typeof e=="function"?Ks:Js)(e)):this.node().innerHTML}function Zs(){this.nextSibling&&this.parentNode.appendChild(this)}function Us(){return this.each(Zs)}function Is(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function el(){return this.each(Is)}function tl(e){var t=typeof e=="function"?e:Hn(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function nl(){return null}function rl(e,t){var n=typeof e=="function"?e:Hn(e),r=t==null?nl:typeof t=="function"?t:Bt(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function il(){var e=this.parentNode;e&&e.removeChild(this)}function sl(){return this.each(il)}function ll(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function al(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ol(e){return this.select(e?al:ll)}function fl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ul(e){return function(t){e.call(this,t,this.__data__)}}function cl(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function hl(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function gl(e,t,n){return function(){var r=this.__on,i,a=ul(t);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function dl(e,t,n){var r=cl(e+""),i,a=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var o=0,c=l.length,f;o<c;++o)for(i=0,f=l[o];i<a;++i)if((s=r[i]).type===f.type&&s.name===f.name)return f.value}return}for(l=t?gl:hl,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function Un(e,t,n){var r=Gn(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ml(e,t){return function(){return Un(this,e,t)}}function yl(e,t){return function(){return Un(this,e,t.apply(this,arguments))}}function pl(e,t){return this.each((typeof t=="function"?yl:ml)(e,t))}function*wl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var In=[null];function J(e,t){this._groups=e,this._parents=t}function Fe(){return new J([[document.documentElement]],In)}function vl(){return this}J.prototype=Fe.prototype={constructor:J,select:ji,selectAll:Ki,selectChild:Ii,selectChildren:rs,filter:is,data:us,enter:ss,exit:hs,join:gs,merge:ds,selection:vl,order:ms,sort:ys,call:ws,nodes:vs,node:bs,size:_s,empty:xs,each:$s,attr:qs,style:Ds,property:Os,classed:Hs,text:Xs,html:Ws,raise:Us,lower:el,append:tl,insert:rl,remove:sl,clone:ol,datum:fl,on:dl,dispatch:pl,[Symbol.iterator]:wl};function er(e){return typeof e=="string"?new J([[document.querySelector(e)]],[document.documentElement]):new J([[e]],In)}function Ht(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function tr(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Be(){}var Te=.7,at=1/Te,$e="\\s*([+-]?\\d+)\\s*",De="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ne="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bl=/^#([0-9a-f]{3,8})$/,_l=new RegExp(`^rgb\\(${$e},${$e},${$e}\\)$`),xl=new RegExp(`^rgb\\(${ne},${ne},${ne}\\)$`),$l=new RegExp(`^rgba\\(${$e},${$e},${$e},${De}\\)$`),kl=new RegExp(`^rgba\\(${ne},${ne},${ne},${De}\\)$`),Al=new RegExp(`^hsl\\(${De},${ne},${ne}\\)$`),Cl=new RegExp(`^hsla\\(${De},${ne},${ne},${De}\\)$`),un={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ht(Be,we,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:cn,formatHex:cn,formatHex8:Nl,formatHsl:Sl,formatRgb:hn,toString:hn});function cn(){return this.rgb().formatHex()}function Nl(){return this.rgb().formatHex8()}function Sl(){return nr(this).formatHsl()}function hn(){return this.rgb().formatRgb()}function we(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?gn(t):n===3?new G(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Ve(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Ve(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_l.exec(e))?new G(t[1],t[2],t[3],1):(t=xl.exec(e))?new G(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$l.exec(e))?Ve(t[1],t[2],t[3],t[4]):(t=kl.exec(e))?Ve(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Al.exec(e))?yn(t[1],t[2]/100,t[3]/100,1):(t=Cl.exec(e))?yn(t[1],t[2]/100,t[3]/100,t[4]):un.hasOwnProperty(e)?gn(un[e]):e==="transparent"?new G(NaN,NaN,NaN,0):null}function gn(e){return new G(e>>16&255,e>>8&255,e&255,1)}function Ve(e,t,n,r){return r<=0&&(e=t=n=NaN),new G(e,t,n,r)}function Ml(e){return e instanceof Be||(e=we(e)),e?(e=e.rgb(),new G(e.r,e.g,e.b,e.opacity)):new G}function Mt(e,t,n,r){return arguments.length===1?Ml(e):new G(e,t,n,r??1)}function G(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ht(G,Mt,tr(Be,{brighter(e){return e=e==null?at:Math.pow(at,e),new G(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Te:Math.pow(Te,e),new G(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new G(pe(this.r),pe(this.g),pe(this.b),ot(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dn,formatHex:dn,formatHex8:ql,formatRgb:mn,toString:mn}));function dn(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}`}function ql(){return`#${ye(this.r)}${ye(this.g)}${ye(this.b)}${ye((isNaN(this.opacity)?1:this.opacity)*255)}`}function mn(){const e=ot(this.opacity);return`${e===1?"rgb(":"rgba("}${pe(this.r)}, ${pe(this.g)}, ${pe(this.b)}${e===1?")":`, ${e})`}`}function ot(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function pe(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ye(e){return e=pe(e),(e<16?"0":"")+e.toString(16)}function yn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Z(e,t,n,r)}function nr(e){if(e instanceof Z)return new Z(e.h,e.s,e.l,e.opacity);if(e instanceof Be||(e=we(e)),!e)return new Z;if(e instanceof Z)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,o=(a+i)/2;return l?(t===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-t)/l+2:s=(t-n)/l+4,l/=o<.5?a+i:2-a-i,s*=60):l=o>0&&o<1?0:s,new Z(s,l,o,e.opacity)}function El(e,t,n,r){return arguments.length===1?nr(e):new Z(e,t,n,r??1)}function Z(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ht(Z,El,tr(Be,{brighter(e){return e=e==null?at:Math.pow(at,e),new Z(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Te:Math.pow(Te,e),new Z(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new G(kt(e>=240?e-240:e+120,i,r),kt(e,i,r),kt(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Z(pn(this.h),Qe(this.s),Qe(this.l),ot(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ot(this.opacity);return`${e===1?"hsl(":"hsla("}${pn(this.h)}, ${Qe(this.s)*100}%, ${Qe(this.l)*100}%${e===1?")":`, ${e})`}`}}));function pn(e){return e=(e||0)%360,e<0?e+360:e}function Qe(e){return Math.max(0,Math.min(1,e||0))}function kt(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Vt=e=>()=>e;function Rl(e,t){return function(n){return e+n*t}}function Tl(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Dl(e){return(e=+e)==1?rr:function(t,n){return n-t?Tl(t,n,e):Vt(isNaN(t)?n:t)}}function rr(e,t){var n=t-e;return n?Rl(e,n):Vt(isNaN(e)?t:e)}const ft=function e(t){var n=Dl(t);function r(i,a){var s=n((i=Mt(i)).r,(a=Mt(a)).r),l=n(i.g,a.g),o=n(i.b,a.b),c=rr(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=l(f),i.b=o(f),i.opacity=c(f),i+""}}return r.gamma=e,r}(1);function Pl(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Yl(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ll(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Qt(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Ol(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function W(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fl(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Qt(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var qt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,At=new RegExp(qt.source,"g");function Bl(e){return function(){return e}}function zl(e){return function(t){return e(t)+""}}function ir(e,t){var n=qt.lastIndex=At.lastIndex=0,r,i,a,s=-1,l=[],o=[];for(e=e+"",t=t+"";(r=qt.exec(e))&&(i=At.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,o.push({i:s,x:W(r,i)})),n=At.lastIndex;return n<t.length&&(a=t.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?o[0]?zl(o[0].x):Bl(t):(t=o.length,function(c){for(var f=0,u;f<t;++f)l[(u=o[f]).i]=u.x(c);return l.join("")})}function Qt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Vt(t):(n==="number"?W:n==="string"?(r=we(t))?(t=r,ft):ir:t instanceof we?ft:t instanceof Date?Ol:Yl(t)?Pl:Array.isArray(t)?Ll:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fl:W)(e,t)}function Hl(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var wn=180/Math.PI,Et={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function sr(e,t,n,r,i,a){var s,l,o;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(o=e*n+t*r)&&(n-=e*o,r-=t*o),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,o/=l),e*r<t*n&&(e=-e,t=-t,o=-o,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*wn,skewX:Math.atan(o)*wn,scaleX:s,scaleY:l}}var je;function Vl(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Et:sr(t.a,t.b,t.c,t.d,t.e,t.f)}function Ql(e){return e==null||(je||(je=document.createElementNS("http://www.w3.org/2000/svg","g")),je.setAttribute("transform",e),!(e=je.transform.baseVal.consolidate()))?Et:(e=e.matrix,sr(e.a,e.b,e.c,e.d,e.e,e.f))}function lr(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,f,u,h,g,w){if(c!==u||f!==h){var m=g.push("translate(",null,t,null,n);w.push({i:m-4,x:W(c,u)},{i:m-2,x:W(f,h)})}else(u||h)&&g.push("translate("+u+t+h+n)}function s(c,f,u,h){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),h.push({i:u.push(i(u)+"rotate(",null,r)-2,x:W(c,f)})):f&&u.push(i(u)+"rotate("+f+r)}function l(c,f,u,h){c!==f?h.push({i:u.push(i(u)+"skewX(",null,r)-2,x:W(c,f)}):f&&u.push(i(u)+"skewX("+f+r)}function o(c,f,u,h,g,w){if(c!==u||f!==h){var m=g.push(i(g)+"scale(",null,",",null,")");w.push({i:m-4,x:W(c,u)},{i:m-2,x:W(f,h)})}else(u!==1||h!==1)&&g.push(i(g)+"scale("+u+","+h+")")}return function(c,f){var u=[],h=[];return c=e(c),f=e(f),a(c.translateX,c.translateY,f.translateX,f.translateY,u,h),s(c.rotate,f.rotate,u,h),l(c.skewX,f.skewX,u,h),o(c.scaleX,c.scaleY,f.scaleX,f.scaleY,u,h),c=f=null,function(g){for(var w=-1,m=h.length,y;++w<m;)u[(y=h[w]).i]=y.x(g);return u.join("")}}}var jl=lr(Vl,"px, ","px)","deg)"),Xl=lr(Ql,", ",")",")"),Ae=0,Se=0,Ne=0,ar=1e3,ut,Me,ct=0,ve=0,vt=0,Pe=typeof performance=="object"&&performance.now?performance:Date,or=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function jt(){return ve||(or(Gl),ve=Pe.now()+vt)}function Gl(){ve=0}function ht(){this._call=this._time=this._next=null}ht.prototype=fr.prototype={constructor:ht,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?jt():+n)+(t==null?0:+t),!this._next&&Me!==this&&(Me?Me._next=this:ut=this,Me=this),this._call=e,this._time=n,Rt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Rt())}};function fr(e,t,n){var r=new ht;return r.restart(e,t,n),r}function Jl(){jt(),++Ae;for(var e=ut,t;e;)(t=ve-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Ae}function vn(){ve=(ct=Pe.now())+vt,Ae=Se=0;try{Jl()}finally{Ae=0,Wl(),ve=0}}function Kl(){var e=Pe.now(),t=e-ct;t>ar&&(vt-=t,ct=e)}function Wl(){for(var e,t=ut,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ut=n);Me=e,Rt(r)}function Rt(e){if(!Ae){Se&&(Se=clearTimeout(Se));var t=e-ve;t>24?(e<1/0&&(Se=setTimeout(vn,e-Pe.now()-vt)),Ne&&(Ne=clearInterval(Ne))):(Ne||(ct=Pe.now(),Ne=setInterval(Kl,ar)),Ae=1,or(vn))}}function bn(e,t,n){var r=new ht;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Zl=zn("start","end","cancel","interrupt"),Ul=[],ur=0,_n=1,Tt=2,We=3,xn=4,Dt=5,Ze=6;function bt(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Il(e,n,{name:t,index:r,group:i,on:Zl,tween:Ul,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:ur})}function Xt(e,t){var n=U(e,t);if(n.state>ur)throw new Error("too late; already scheduled");return n}function ie(e,t){var n=U(e,t);if(n.state>We)throw new Error("too late; already running");return n}function U(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Il(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=fr(a,0,n.time);function a(c){n.state=_n,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var f,u,h,g;if(n.state!==_n)return o();for(f in r)if(g=r[f],g.name===n.name){if(g.state===We)return bn(s);g.state===xn?(g.state=Ze,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[f]):+f<t&&(g.state=Ze,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[f])}if(bn(function(){n.state===We&&(n.state=xn,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=Tt,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Tt){for(n.state=We,i=new Array(h=n.tween.length),f=0,u=-1;f<h;++f)(g=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=g);i.length=u+1}}function l(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(o),n.state=Dt,1),u=-1,h=i.length;++u<h;)i[u].call(e,f);n.state===Dt&&(n.on.call("end",e,e.__data__,n.index,n.group),o())}function o(){n.state=Ze,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function ea(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>Tt&&r.state<Dt,r.state=Ze,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function ta(e){return this.each(function(){ea(this,e)})}function na(e,t){var n,r;return function(){var i=ie(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function ra(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=ie(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var l={name:t,value:n},o=0,c=i.length;o<c;++o)if(i[o].name===t){i[o]=l;break}o===c&&i.push(l)}a.tween=i}}function ia(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=U(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?na:ra)(n,e,t))}function Gt(e,t,n){var r=e._id;return e.each(function(){var i=ie(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return U(i,r).value[t]}}function cr(e,t){var n;return(typeof t=="number"?W:t instanceof we?ft:(n=we(t))?(t=n,ft):ir)(e,t)}function sa(e){return function(){this.removeAttribute(e)}}function la(e){return function(){this.removeAttributeNS(e.space,e.local)}}function aa(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function oa(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function fa(e,t,n){var r,i,a;return function(){var s,l=n(this),o;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),o=l+"",s===o?null:s===r&&o===i?a:(i=o,a=t(r=s,l)))}}function ua(e,t,n){var r,i,a;return function(){var s,l=n(this),o;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),o=l+"",s===o?null:s===r&&o===i?a:(i=o,a=t(r=s,l)))}}function ca(e,t){var n=wt(e),r=n==="transform"?Xl:cr;return this.attrTween(e,typeof t=="function"?(n.local?ua:fa)(n,r,Gt(this,"attr."+e,t)):t==null?(n.local?la:sa)(n):(n.local?oa:aa)(n,r,t))}function ha(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ga(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function da(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&ga(e,a)),n}return i._value=t,i}function ma(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&ha(e,a)),n}return i._value=t,i}function ya(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=wt(e);return this.tween(n,(r.local?da:ma)(r,t))}function pa(e,t){return function(){Xt(this,e).delay=+t.apply(this,arguments)}}function wa(e,t){return t=+t,function(){Xt(this,e).delay=t}}function va(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?pa:wa)(t,e)):U(this.node(),t).delay}function ba(e,t){return function(){ie(this,e).duration=+t.apply(this,arguments)}}function _a(e,t){return t=+t,function(){ie(this,e).duration=t}}function xa(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ba:_a)(t,e)):U(this.node(),t).duration}function $a(e,t){if(typeof t!="function")throw new Error;return function(){ie(this,e).ease=t}}function ka(e){var t=this._id;return arguments.length?this.each($a(t,e)):U(this.node(),t).ease}function Aa(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ie(this,e).ease=n}}function Ca(e){if(typeof e!="function")throw new Error;return this.each(Aa(this._id,e))}function Na(e){typeof e!="function"&&(e=Qn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,l=r[i]=[],o,c=0;c<s;++c)(o=a[c])&&e.call(o,o.__data__,c,a)&&l.push(o);return new fe(r,this._parents,this._name,this._id)}function Sa(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),l=0;l<a;++l)for(var o=t[l],c=n[l],f=o.length,u=s[l]=new Array(f),h,g=0;g<f;++g)(h=o[g]||c[g])&&(u[g]=h);for(;l<r;++l)s[l]=t[l];return new fe(s,this._parents,this._name,this._id)}function Ma(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qa(e,t,n){var r,i,a=Ma(t)?Xt:ie;return function(){var s=a(this,e),l=s.on;l!==r&&(i=(r=l).copy()).on(t,n),s.on=i}}function Ea(e,t){var n=this._id;return arguments.length<2?U(this.node(),n).on.on(e):this.each(qa(n,e,t))}function Ra(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ta(){return this.on("end.remove",Ra(this._id))}function Da(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Bt(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var l=r[s],o=l.length,c=a[s]=new Array(o),f,u,h=0;h<o;++h)(f=l[h])&&(u=e.call(f,f.__data__,h,l))&&("__data__"in f&&(u.__data__=f.__data__),c[h]=u,bt(c[h],t,n,h,c,U(f,n)));return new fe(a,this._parents,t,n)}function Pa(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vn(e));for(var r=this._groups,i=r.length,a=[],s=[],l=0;l<i;++l)for(var o=r[l],c=o.length,f,u=0;u<c;++u)if(f=o[u]){for(var h=e.call(f,f.__data__,u,o),g,w=U(f,n),m=0,y=h.length;m<y;++m)(g=h[m])&&bt(g,t,n,m,h,w);a.push(h),s.push(f)}return new fe(a,s,t,n)}var Ya=Fe.prototype.constructor;function La(){return new Ya(this._groups,this._parents)}function Oa(e,t){var n,r,i;return function(){var a=ke(this,e),s=(this.style.removeProperty(e),ke(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function hr(e){return function(){this.style.removeProperty(e)}}function Fa(e,t,n){var r,i=n+"",a;return function(){var s=ke(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function Ba(e,t,n){var r,i,a;return function(){var s=ke(this,e),l=n(this),o=l+"";return l==null&&(o=l=(this.style.removeProperty(e),ke(this,e))),s===o?null:s===r&&o===i?a:(i=o,a=t(r=s,l))}}function za(e,t){var n,r,i,a="style."+t,s="end."+a,l;return function(){var o=ie(this,e),c=o.on,f=o.value[a]==null?l||(l=hr(t)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(s,i=f),o.on=r}}function Ha(e,t,n){var r=(e+="")=="transform"?jl:cr;return t==null?this.styleTween(e,Oa(e,r)).on("end.style."+e,hr(e)):typeof t=="function"?this.styleTween(e,Ba(e,r,Gt(this,"style."+e,t))).each(za(this._id,e)):this.styleTween(e,Fa(e,r,t),n).on("end.style."+e,null)}function Va(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Qa(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Va(e,s,n)),r}return a._value=t,a}function ja(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Qa(e,t,n??""))}function Xa(e){return function(){this.textContent=e}}function Ga(e){return function(){var t=e(this);this.textContent=t??""}}function Ja(e){return this.tween("text",typeof e=="function"?Ga(Gt(this,"text",e)):Xa(e==null?"":e+""))}function Ka(e){return function(t){this.textContent=e.call(this,t)}}function Wa(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ka(i)),t}return r._value=e,r}function Za(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Wa(e))}function Ua(){for(var e=this._name,t=this._id,n=gr(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],l=s.length,o,c=0;c<l;++c)if(o=s[c]){var f=U(o,t);bt(o,e,n,c,s,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new fe(r,this._parents,e,n)}function Ia(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var l={value:s},o={value:function(){--i===0&&a()}};n.each(function(){var c=ie(this,r),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(o)),c.on=t}),i===0&&a()})}var eo=0;function fe(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function gr(){return++eo}var le=Fe.prototype;fe.prototype={constructor:fe,select:Da,selectAll:Pa,selectChild:le.selectChild,selectChildren:le.selectChildren,filter:Na,merge:Sa,selection:La,transition:Ua,call:le.call,nodes:le.nodes,node:le.node,size:le.size,empty:le.empty,each:le.each,on:Ea,attr:ca,attrTween:ya,style:Ha,styleTween:ja,text:Ja,textTween:Za,remove:Ta,tween:ia,delay:va,duration:xa,ease:ka,easeVarying:Ca,end:Ia,[Symbol.iterator]:le[Symbol.iterator]};function to(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var no={time:null,delay:0,duration:250,ease:to};function ro(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function io(e){var t,n;e instanceof fe?(t=e._id,e=e._name):(t=gr(),(n=no).time=jt(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],l=s.length,o,c=0;c<l;++c)(o=s[c])&&bt(o,e,t,c,s,n||ro(o,t));return new fe(r,this._parents,e,t)}Fe.prototype.interrupt=ta;Fe.prototype.transition=io;function so(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function gt(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ce(e){return e=gt(Math.abs(e)),e?e[1]:NaN}function lo(e,t){return function(n,r){for(var i=n.length,a=[],s=0,l=e[0],o=0;i>0&&l>0&&(o+l+1>r&&(l=Math.max(1,r-o)),a.push(n.substring(i-=l,i+l)),!((o+=l+1)>r));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function ao(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var oo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function dt(e){if(!(t=oo.exec(e)))throw new Error("invalid format: "+e);var t;return new Jt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}dt.prototype=Jt.prototype;function Jt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fo(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var dr;function uo(e,t){var n=gt(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(dr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+gt(e,Math.max(0,t+a-1))[0]}function $n(e,t){var n=gt(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:so,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>$n(e*100,t),r:$n,s:uo,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function An(e){return e}var Cn=Array.prototype.map,Nn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function co(e){var t=e.grouping===void 0||e.thousands===void 0?An:lo(Cn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?An:ao(Cn.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",o=e.nan===void 0?"NaN":e.nan+"";function c(u){u=dt(u);var h=u.fill,g=u.align,w=u.sign,m=u.symbol,y=u.zero,d=u.width,b=u.comma,A=u.precision,E=u.trim,R=u.type;R==="n"?(b=!0,R="g"):kn[R]||(A===void 0&&(A=12),E=!0,R="g"),(y||h==="0"&&g==="=")&&(y=!0,h="0",g="=");var k=m==="$"?n:m==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",$=m==="$"?r:/[%p]/.test(R)?s:"",_=kn[R],x=/[defgprs%]/.test(R);A=A===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function N(v){var C=k,Y=$,I,ue,ee;if(R==="c")Y=_(v)+Y,v="";else{v=+v;var S=v<0||1/v<0;if(v=isNaN(v)?o:_(Math.abs(v),A),E&&(v=fo(v)),S&&+v==0&&w!=="+"&&(S=!1),C=(S?w==="("?w:l:w==="-"||w==="("?"":w)+C,Y=(R==="s"?Nn[8+dr/3]:"")+Y+(S&&w==="("?")":""),x){for(I=-1,ue=v.length;++I<ue;)if(ee=v.charCodeAt(I),48>ee||ee>57){Y=(ee===46?i+v.slice(I+1):v.slice(I))+Y,v=v.slice(0,I);break}}}b&&!y&&(v=t(v,1/0));var T=C.length+v.length+Y.length,M=T<d?new Array(d-T+1).join(h):"";switch(b&&y&&(v=t(M+v,M.length?d-Y.length:1/0),M=""),g){case"<":v=C+v+Y+M;break;case"=":v=C+M+v+Y;break;case"^":v=M.slice(0,T=M.length>>1)+C+v+Y+M.slice(T);break;default:v=M+C+v+Y;break}return a(v)}return N.toString=function(){return u+""},N}function f(u,h){var g=c((u=dt(u),u.type="f",u)),w=Math.max(-8,Math.min(8,Math.floor(Ce(h)/3)))*3,m=Math.pow(10,-w),y=Nn[8+w/3];return function(d){return g(m*d)+y}}return{format:c,formatPrefix:f}}var Xe,mr,yr;ho({thousands:",",grouping:[3],currency:["$",""]});function ho(e){return Xe=co(e),mr=Xe.format,yr=Xe.formatPrefix,Xe}function go(e){return Math.max(0,-Ce(Math.abs(e)))}function mo(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ce(t)/3)))*3-Ce(Math.abs(e)))}function yo(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ce(t)-Ce(e))+1}function Kt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Sn=Symbol("implicit");function pr(){var e=new sn,t=[],n=[],r=Sn;function i(a){let s=e.get(a);if(s===void 0){if(r!==Sn)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new sn;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return pr(t,n).unknown(r)},Kt.apply(i,arguments),i}function wr(){var e=pr().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,l=!1,o=0,c=0,f=.5;delete e.unknown;function u(){var h=t().length,g=i<r,w=g?i:r,m=g?r:i;a=(m-w)/Math.max(1,h-o+c*2),l&&(a=Math.floor(a)),w+=(m-w-a*(h-o))*f,s=a*(1-o),l&&(w=Math.round(w),s=Math.round(s));var y=Bn(h).map(function(d){return w+a*d});return n(g?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),u()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,u()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,u()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,u()):l},e.padding=function(h){return arguments.length?(o=Math.min(1,c=+h),u()):o},e.paddingInner=function(h){return arguments.length?(o=Math.min(1,h),u()):o},e.paddingOuter=function(h){return arguments.length?(c=+h,u()):c},e.align=function(h){return arguments.length?(f=Math.max(0,Math.min(1,h)),u()):f},e.copy=function(){return wr(t(),[r,i]).round(l).paddingInner(o).paddingOuter(c).align(f)},Kt.apply(u(),arguments)}function po(e){return function(){return e}}function wo(e){return+e}var Mn=[0,1];function xe(e){return e}function Pt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:po(isNaN(t)?NaN:.5)}function vo(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function bo(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Pt(i,r),a=n(s,a)):(r=Pt(r,i),a=n(a,s)),function(l){return a(r(l))}}function _o(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Pt(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(l){var o=xi(e,l,1,r)-1;return a[o](i[o](l))}}function xo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $o(){var e=Mn,t=Mn,n=Qt,r,i,a,s=xe,l,o,c;function f(){var h=Math.min(e.length,t.length);return s!==xe&&(s=vo(e[0],e[h-1])),l=h>2?_o:bo,o=c=null,u}function u(h){return h==null||isNaN(h=+h)?a:(o||(o=l(e.map(r),t,n)))(r(s(h)))}return u.invert=function(h){return s(i((c||(c=l(t,e.map(r),W)))(h)))},u.domain=function(h){return arguments.length?(e=Array.from(h,wo),f()):e.slice()},u.range=function(h){return arguments.length?(t=Array.from(h),f()):t.slice()},u.rangeRound=function(h){return t=Array.from(h),n=Hl,f()},u.clamp=function(h){return arguments.length?(s=h?!0:xe,f()):s!==xe},u.interpolate=function(h){return arguments.length?(n=h,f()):n},u.unknown=function(h){return arguments.length?(a=h,u):a},function(h,g){return r=h,i=g,f()}}function ko(){return $o()(xe,xe)}function Ao(e,t,n,r){var i=qi(e,t,n),a;switch(r=dt(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=mo(i,s))&&(r.precision=a),yr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=yo(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=go(i))&&(r.precision=a-(r.type==="%")*2);break}}return mr(r)}function Co(e){var t=e.domain;return e.ticks=function(n){var r=t();return Mi(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ao(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],l=r[a],o,c,f=10;for(l<s&&(c=s,s=l,l=c,c=i,i=a,a=c);f-- >0;){if(c=Nt(s,l,n),c===o)return r[i]=s,r[a]=l,t(r);if(c>0)s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c;else if(c<0)s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c;else break;o=c}return e},e}function vr(){var e=ko();return e.copy=function(){return xo(e,vr())},Kt.apply(e,arguments),Co(e)}function qe(e,t,n){this.k=e,this.x=t,this.y=n}qe.prototype={constructor:qe,scale:function(e){return e===1?this:new qe(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new qe(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};qe.prototype;var No=L('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function So(e){let t;const n=e.data??[],r=16,i=e.width??900,a=e.height??600,s=e.title??"AMSTAR-2 Quality Assessment",l={top:60,right:170,bottom:60,left:100},o=(i-l.left-l.right)/r,c=(a-l.top-l.bottom)/n.length,f=Math.min(o,c),u=f*r,h=f*n.length,g=l.left+u+l.right,w=l.top+h+l.bottom,m={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return Yt(()=>{const y=er(t).attr("width",g).attr("height",w).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');y.selectAll("*").remove(),y.append("g").attr("class","grid"),y.append("g").attr("class","footer").selectAll("text").data(Bn(1,r+1)).enter().append("text").attr("x",($,_)=>l.left+_*f+f/2).attr("y",l.top+h+20).attr("text-anchor","middle").attr("font-size",Math.max(10,f*.4)).attr("font-weight","600").attr("fill","#374151").text($=>`Q${$}`),y.append("g").attr("class","rows").selectAll("text").data(n).enter().append("text").attr("x",l.left-15).attr("y",($,_)=>l.top+_*f+f/2).attr("text-anchor","end").attr("font-size",Math.max(10,f*.45)).attr("font-weight","500").attr("fill","#374151").attr("dominant-baseline","middle").text($=>$.label);const A=y.append("g").attr("class","cells");n.forEach(($,_)=>{for(let x=0;x<r;x++){const N=$.questions[x]?.toLowerCase?.()??"",v=m[N]??"#e5e7eb";A.append("rect").attr("x",l.left+x*f+2).attr("y",l.top+_*f+2).attr("width",f-4).attr("height",f-4).attr("fill",v).attr("stroke","#ffffff").attr("stroke-width",1).attr("rx",Math.max(2,f*.12)).style("filter","drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))")}});const E=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],k=y.append("g").attr("class","legend").attr("transform",`translate(${g-l.right+20}, ${l.top+20})`).selectAll(".legend-item").data(E).enter().append("g").attr("class","legend-item").attr("transform",($,_)=>`translate(0, ${_*25})`);k.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",$=>m[$.key]).attr("stroke","#ffffff").attr("stroke-width",1),k.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label),y.append("text").attr("x",g/2).attr("y",40).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(s),yt(()=>{y.selectAll("*").remove()})}),(()=>{var y=No(),d=y.firstChild,b=t;return typeof b=="function"?Ln(b,d):t=d,q(A=>Ft(d,`width: 100%; height: ${w}px; max-width: 100%; display: block;`,A)),y})()}var Mo=L('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function qo(e){let t;const n=e.data??[],r=e.width??900,i=e.height??600,a=e.title??"Distribution of AMSTAR Ratings on Each Item Across Included Reviews",s={top:50,right:10,bottom:10,left:80},l=r-s.left-s.right,o=i-s.top-s.bottom,c=s.top+i+s.bottom,f={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return Yt(()=>{if(!n.length)return;const u=er(t).attr("width",r).attr("height",i).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');u.selectAll("*").remove();const h=[],g=Math.max(...n.map(k=>k.questions?.length||0)),w=n.length;for(let k=0;k<g;k++){const $={question:k+1,label:`Q${k+1}`,counts:{yes:0,"partial yes":0,no:0,"no ma":0}};n.forEach(_=>{const x=_.questions[k]?.toLowerCase?.()??"no ma";$.counts.hasOwnProperty(x)&&$.counts[x]++}),$.percentages={},Object.keys($.counts).forEach(_=>{$.percentages[_]=$.counts[_]/w*100}),h.push($)}const m=wr().domain(h.map(k=>k.label)).range([0,o]).padding(.1),y=vr().domain([0,100]).range([0,l]),d=u.append("g").attr("transform",`translate(${s.left}, ${s.top})`);u.append("text").attr("x",r/2).attr("y",30).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(a),h.forEach(k=>{let $=0;const _=m.bandwidth(),x=m(k.label);["yes","partial yes","no ma","no"].forEach(N=>{const v=k.percentages[N],C=y(v);v>0&&(d.append("rect").attr("x",y($)).attr("y",x).attr("width",C).attr("height",_).attr("fill",f[N]).attr("stroke","#ffffff").attr("stroke-width",1),v>=5&&d.append("text").attr("x",y($)+C/2).attr("y",x+_/2).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","12px").attr("font-weight","600").attr("fill",N==="partial yes"?"#000000":"#ffffff").text(`${v.toFixed(1)}`)),$+=v})}),d.selectAll(".y-label").data(h).enter().append("text").attr("class","y-label").attr("x",-10).attr("y",k=>m(k.label)+m.bandwidth()/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(k=>k.label);const b=Oi(y).tickFormat(k=>`${k}`).ticks(5);d.append("g").attr("class","x-axis").attr("transform",`translate(0, ${o})`).call(b).selectAll("text").attr("font-size","12px").attr("fill","#374151"),d.append("text").attr("x",l/2).attr("y",o+50).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text(`Percentage of SRs (%), N=${w}`),u.append("text").attr("transform","rotate(-90)").attr("x",-i/2).attr("y",20).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text("Items of AMSTAR-2");const A=u.append("g").attr("class","legend").attr("transform",`translate(${r-s.right+20}, ${s.top+20})`),E=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],R=A.selectAll(".legend-item").data(E).enter().append("g").attr("class","legend-item").attr("transform",(k,$)=>`translate(0, ${$*25})`);R.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",k=>f[k.key]).attr("stroke","#ffffff").attr("stroke-width",1),R.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(k=>k.label),yt(()=>{u.selectAll("*").remove()})}),(()=>{var u=Mo(),h=u.firstChild,g=t;return typeof g=="function"?Ln(g,h):t=h,q(w=>Ft(h,`width: 100%; height: ${c}px; max-width: 100%; display: block;`,w)),u})()}var Eo=L("<div class=p-8>No project selected."),Ro=L('<div class=p-8><h2 class="text-2xl font-bold mb-4"> Dashboard</h2><div class="mb-4 text-gray-600">Created: </div><div class=mb-6><strong>Total Checklists:</strong> </div><div><h3 class="text-xl font-semibold mb-2">Checklists</h3><ul class="list-disc pl-6">'),To=L("<li>");function Do({project:e}){if(!e)return Eo();let t=[{label:"Review 1",questions:["yes","partial yes","no","no ma","yes","yes","partial yes","no","yes","partial yes","no","no ma","yes","partial yes","no","invalid"]},{label:"Review 2",questions:["partial yes","partial yes","yes","no","yes","no","partial yes","yes","no","partial yes","yes","no","yes","partial yes","no","yes"]},{label:"Review 3",questions:["yes","yes","partial yes","no","no ma","yes","partial yes","no","yes","partial yes","no","no ma","yes","partial yes","no","yes"]},{label:"Review 4",questions:["no","no","no ma","partial yes","yes","yes","partial yes","no","yes","partial yes","no","no ma","yes","partial yes","no","yes"]},{label:"Review 5",questions:["partial yes","yes","yes","yes","partial yes","no","no ma","yes","partial yes","no","yes","partial yes","no","no ma","yes","yes"]},{label:"Review 6",questions:["no ma","no","partial yes","yes","yes","partial yes","no","yes","partial yes","no","yes","partial yes","no","no ma","yes","yes"]}];return(()=>{var n=Ro(),r=n.firstChild,i=r.firstChild,a=r.nextSibling;a.firstChild;var s=a.nextSibling,l=s.firstChild;l.nextSibling;var o=s.nextSibling,c=o.firstChild,f=c.nextSibling;return p(r,()=>e.name,i),p(a,()=>new Date(e.createdAt).toLocaleDateString(),null),p(s,()=>e.checklists?.length||0,null),p(f,()=>(e.checklists||[]).map(u=>(()=>{var h=To();return p(h,()=>u.title||u.name||u.id),q(()=>D(h,"key",u.id)),h})())),p(n,P(So,{data:t,width:900,height:600}),null),p(n,P(qo,{data:t,width:900,height:600}),null),n})()}var Po=L('<button class="fixed top-4 left-4 z-40 bg-white/90 backdrop-blur-sm text-slate-700 p-3 rounded-xl shadow-lg border border-slate-200 hover:bg-white hover:shadow-xl transition-all duration-200 group"aria-label="Open menu"><svg class="w-5 h-5 transition-transform group-hover:scale-110"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16">'),Yo=L('<div class="sm:hidden fixed inset-0 bg-black/50 z-20 transition-opacity duration-300">'),Lo=L('<div class="flex-1 h-screen overflow-y-auto">'),Oo=L('<div class="flex-1 h-screen overflow-y-auto"><div class="p-4 border-b border-gray-100"><input type=file accept=application/pdf>'),Fo=L('<div class="h-full border-l border-gray-200 bg-white flex flex-col"><iframe class="w-full h-full"title="PDF Viewer"style=min-width:300px>'),Bo=L('<div class="flex h-screen"><div>'),zo=L('<div class="p-8 text-center text-gray-600">No checklist selected.');function Ho(){const[e,t]=X([]),[n,r]=X(null),[i,a]=X(null),[s,l]=X(!1),[o,c]=X(!1),[f,u]=X(!1),[h,g]=X(null),[w,m]=X(null),[y,d]=X(null),[b,A]=X([]);let E=null;const R=()=>{y()?d(null):d({id:"dummy-project",name:"All Checklists Project",createdAt:Date.now(),checklists:e()})};Yt(async()=>{try{const S=await $t();S.sort((M,O)=>(M.createdAt||0)-(O.createdAt||0)),t(S),r(S.length>0?S[0].id:null);const T=await si();console.log("All Projects:",T),T.sort((M,O)=>(M.createdAt||0)-(O.createdAt||0)),A(T)}catch(S){console.error("Error loading checklists:",S)}}),et(()=>{const S=e().find(T=>T.id===n());a(S?new _e(S):null)}),et(()=>{const S=i();!S||!S.state||(E&&(clearTimeout(E),E=null),E=setTimeout(async()=>{try{const T=S.state;await xt(JSON.parse(JSON.stringify(T))),t(M=>{const O=M.findIndex(F=>F.id===T.id);if(O===-1){const F=[...M,T];return F.sort((ce,te)=>(ce.createdAt||0)-(te.createdAt||0)),F}else if(JSON.stringify(M[O])!==JSON.stringify(T)){const F=[...M];return F[O]=T,F}return M}),r(M=>M||T.id)}catch(T){console.error("Error saving checklist:",T)}E=null},400))}),yt(()=>{E&&clearTimeout(E)});const k=()=>{c(!0)},$=async()=>{try{await ii(),t([]),r(null),a(null),alert("All checklists deleted!")}catch(S){console.error("Error removing all checklists:",S),alert("Error deleting checklists!")}finally{c(!1)}},_=()=>c(!1),x=async()=>{try{const S={...new _e({id:nn(),createdAt:Date.now()}).state};await xt(S);const T=await $t();T.sort((M,O)=>(M.createdAt||0)-(O.createdAt||0)),t(T),r(S.id)}catch(S){console.error("Error adding new checklist:",S)}},N=S=>{r(S)},v=S=>{const T=new _e(S);a(T),t(M=>{const O=M.findIndex(F=>F.id===T.state.id);if(O!==-1){const F=[...M];return F[O]={...F[O],...T.state},F}return M})},C=S=>{g(S),u(!0)},Y=async()=>{const S=h();if(S)try{await ri(S);const T=e().filter(M=>M.id!==S);t(T),n()===S&&(T.length>0?r(T[0].id):(r(null),a(null)))}catch(T){console.error("Error deleting checklist:",T),alert("Error deleting checklist!")}finally{u(!1),g(null)}},I=()=>{u(!1),g(null)},ue=()=>{const S=i();if(!(!S||!S.state))try{li(S)}catch(T){console.error("Error exporting checklist:",T),alert("Error exporting checklist!")}},ee=async S=>{const T=S.target.files[0];if(T)try{const M=await T.text(),O=ai(M),F=new _e;F.importFlat(O),O.title&&(F.state.title=O.title);const ce={id:nn(),createdAt:Date.now(),...F.state};await xt(ce);const te=await $t();te.sort((se,ze)=>(se.createdAt||0)-(ze.createdAt||0)),t(te),r(ce.id)}catch(M){console.error("Error importing checklist:",M),alert("Error importing checklist!")}finally{S.target.value=""}};return(()=>{var S=Bo(),T=S.firstChild;return p(T,P(gi,{get open(){return s()},onClose:()=>l(!1),onAddChecklist:x,onDeleteAll:k,onDeleteChecklist:C,onExportCSV:ue,onImportCSV:ee,get checklists(){return e()},get projects(){return b()},get currentId(){return n()},get currentChecklistState(){return i()},onSelectChecklist:N,onSetProject:R})),p(S,P(ae,{get when(){return!s()},get children(){var M=Po();return M.$$click=()=>l(!0),M}}),null),p(S,P(ae,{get when(){return s()},get children(){var M=Yo();return M.$$click=()=>l(!1),M}}),null),p(S,P(ae,{get when(){return y()},get children(){var M=Lo();return p(M,P(Do,{get project(){return y()}})),M}}),null),p(S,P(ae,{get when(){return!y()},get children(){return P(ae,{get when(){return Ot(()=>!!i())()&&i().state},get fallback(){return zo()},get children(){var M=Oo(),O=M.firstChild,F=O.firstChild;return F.addEventListener("change",ce=>{const te=ce.target.files[0];te&&m(URL.createObjectURL(te))}),p(M,P(ei,{checklistState:i,onChecklistChange:v}),null),M}})}}),null),p(S,P(ae,{get when(){return w()},get children(){return P(pi,{direction:"horizontal",min:250,max:1600,initial:500,position:"left",get children(){var M=Fo(),O=M.firstChild;return q(()=>D(O,"src",w())),M}})}}),null),p(S,P(rn,{get open(){return f()},title:"Delete checklist?",get description(){return`Are you sure you want to delete ${e().find(M=>M.id===h()).title}? This action cannot be undone.`},confirmText:"Delete",onCancel:I,onConfirm:Y}),null),p(S,P(rn,{get open(){return o()},title:"Delete all checklists?",description:"Are you sure you want to delete all saved checklists? This action cannot be undone.",confirmText:"Delete all",onCancel:_,onConfirm:$}),null),S})()}pt(["click"]);Rr(()=>P(Ho,{}),document.getElementById("root"));
