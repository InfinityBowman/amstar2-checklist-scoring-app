(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const ih=!1,oh=(e,t)=>e===t,Nt=Symbol("solid-proxy"),du=typeof Proxy=="function",qo=Symbol("solid-track"),di={equals:oh};let fu=vu;const bn=1,fi=2,hu={owned:null,cleanups:null,context:null,owner:null};var Se=null;let mo=null,ah=null,Ne=null,ot=null,tn=null,zi=0;function In(e,t){const n=Ne,r=Se,s=e.length===0,i=t===void 0?r:t,o=s?hu:{owned:null,cleanups:null,context:i?i.context:null,owner:i},a=s?e:()=>e(()=>ht(()=>ts(o)));Se=o,Ne=null;try{return xn(a,!0)}finally{Ne=n,Se=r}}function z(e,t){t=t?Object.assign({},di,t):di;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=s=>(typeof s=="function"&&(s=s(n.value)),wu(n,s));return[mu.bind(n),r]}function ie(e,t,n){const r=ya(e,t,!1,bn);ys(r)}function De(e,t,n){fu=dh;const r=ya(e,t,!1,bn);(!n||!n.render)&&(r.user=!0),tn?tn.push(r):ys(r)}function Me(e,t,n){n=n?Object.assign({},di,n):di;const r=ya(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,ys(r),mu.bind(r)}function gu(e){return xn(e,!1)}function ht(e){if(Ne===null)return e();const t=Ne;Ne=null;try{return e()}finally{Ne=t}}function ha(e,t,n){const r=Array.isArray(e);let s,i=n&&n.defer;return o=>{let a;if(r){a=Array(e.length);for(let c=0;c<e.length;c++)a[c]=e[c]()}else a=e();if(i)return i=!1,o;const l=ht(()=>t(a,s,o));return s=a,l}}function ga(e){De(()=>ht(e))}function gt(e){return Se===null||(Se.cleanups===null?Se.cleanups=[e]:Se.cleanups.push(e)),e}function Fo(){return Ne}function pa(){return Se}function ma(e,t){const n=Se,r=Ne;Se=e,Ne=null;try{return xn(t,!0)}catch(s){ba(s)}finally{Se=n,Ne=r}}function lh(e){const t=Ne,n=Se;return Promise.resolve().then(()=>{Ne=t,Se=n;let r;return xn(e,!1),Ne=Se=null,r?r.done:void 0})}const[z_,W_]=z(!1);function pu(e,t){const n=Symbol("context");return{id:n,Provider:hh(n),defaultValue:e}}function wa(e){let t;return Se&&Se.context&&(t=Se.context[e.id])!==void 0?t:e.defaultValue}function va(e){const t=Me(e),n=Me(()=>Io(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function mu(){if(this.sources&&this.state)if(this.state===bn)ys(this);else{const e=ot;ot=null,xn(()=>gi(this),!1),ot=e}if(Ne){const e=this.observers?this.observers.length:0;Ne.sources?(Ne.sources.push(this),Ne.sourceSlots.push(e)):(Ne.sources=[this],Ne.sourceSlots=[e]),this.observers?(this.observers.push(Ne),this.observerSlots.push(Ne.sources.length-1)):(this.observers=[Ne],this.observerSlots=[Ne.sources.length-1])}return this.value}function wu(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&xn(()=>{for(let s=0;s<e.observers.length;s+=1){const i=e.observers[s],o=mo&&mo.running;o&&mo.disposed.has(i),(o?!i.tState:!i.state)&&(i.pure?ot.push(i):tn.push(i),i.observers&&yu(i)),o||(i.state=bn)}if(ot.length>1e6)throw ot=[],new Error},!1)),t}function ys(e){if(!e.fn)return;ts(e);const t=zi;ch(e,e.value,t)}function ch(e,t,n){let r;const s=Se,i=Ne;Ne=Se=e;try{r=e.fn(t)}catch(o){return e.pure&&(e.state=bn,e.owned&&e.owned.forEach(ts),e.owned=null),e.updatedAt=n+1,ba(o)}finally{Ne=i,Se=s}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?wu(e,r):e.value=r,e.updatedAt=n)}function ya(e,t,n,r=bn,s){const i={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:Se,context:Se?Se.context:null,pure:n};return Se===null||Se!==hu&&(Se.owned?Se.owned.push(i):Se.owned=[i]),i}function hi(e){if(e.state===0)return;if(e.state===fi)return gi(e);if(e.suspense&&ht(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<zi);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===bn)ys(e);else if(e.state===fi){const r=ot;ot=null,xn(()=>gi(e,t[0]),!1),ot=r}}function xn(e,t){if(ot)return e();let n=!1;t||(ot=[]),tn?n=!0:tn=[],zi++;try{const r=e();return uh(n),r}catch(r){n||(tn=null),ot=null,ba(r)}}function uh(e){if(ot&&(vu(ot),ot=null),e)return;const t=tn;tn=null,t.length&&xn(()=>fu(t),!1)}function vu(e){for(let t=0;t<e.length;t++)hi(e[t])}function dh(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:hi(r)}for(t=0;t<n;t++)hi(e[t])}function gi(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const s=r.state;s===bn?r!==t&&(!r.updatedAt||r.updatedAt<zi)&&hi(r):s===fi&&gi(r,t)}}}function yu(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=fi,n.pure?ot.push(n):tn.push(n),n.observers&&yu(n))}}function ts(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),s=n.observers;if(s&&s.length){const i=s.pop(),o=n.observerSlots.pop();r<s.length&&(i.sourceSlots[o]=r,s[r]=i,n.observerSlots[r]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)ts(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)ts(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function fh(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function ba(e,t=Se){throw fh(e)}function Io(e){if(typeof e=="function"&&!e.length)return Io(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Io(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function hh(e,t){return function(r){let s;return ie(()=>s=ht(()=>(Se.context={...Se.context,[e]:r.value},va(()=>r.children))),void 0),s}}const gh=Symbol("fallback");function Bl(e){for(let t=0;t<e.length;t++)e[t]()}function ph(e,t,n={}){let r=[],s=[],i=[],o=0,a=t.length>1?[]:null;return gt(()=>Bl(i)),()=>{let l=e()||[],c=l.length,u,d;return l[qo],ht(()=>{let m,v,x,C,R,_,P,L,O;if(c===0)o!==0&&(Bl(i),i=[],r=[],s=[],o=0,a&&(a=[])),n.fallback&&(r=[gh],s[0]=In(M=>(i[0]=M,n.fallback())),o=1);else if(o===0){for(s=new Array(c),d=0;d<c;d++)r[d]=l[d],s[d]=In(f);o=c}else{for(x=new Array(c),C=new Array(c),a&&(R=new Array(c)),_=0,P=Math.min(o,c);_<P&&r[_]===l[_];_++);for(P=o-1,L=c-1;P>=_&&L>=_&&r[P]===l[L];P--,L--)x[L]=s[P],C[L]=i[P],a&&(R[L]=a[P]);for(m=new Map,v=new Array(L+1),d=L;d>=_;d--)O=l[d],u=m.get(O),v[d]=u===void 0?-1:u,m.set(O,d);for(u=_;u<=P;u++)O=r[u],d=m.get(O),d!==void 0&&d!==-1?(x[d]=s[u],C[d]=i[u],a&&(R[d]=a[u]),d=v[d],m.set(O,d)):i[u]();for(d=_;d<c;d++)d in x?(s[d]=x[d],i[d]=C[d],a&&(a[d]=R[d],a[d](d))):s[d]=In(f);s=s.slice(0,o=c),r=l.slice(0)}return s});function f(m){if(i[d]=m,a){const[v,x]=z(d);return a[d]=x,t(l[d],v)}return t(l[d])}}}function $(e,t){return ht(()=>e(t||{}))}function qs(){return!0}const Vo={get(e,t,n){return t===Nt?n:e.get(t)},has(e,t){return t===Nt?!0:e.has(t)},set:qs,deleteProperty:qs,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:qs,deleteProperty:qs}},ownKeys(e){return e.keys()}};function wo(e){return(e=typeof e=="function"?e():e)?e:{}}function mh(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function be(...e){let t=!1;for(let o=0;o<e.length;o++){const a=e[o];t=t||!!a&&Nt in a,e[o]=typeof a=="function"?(t=!0,Me(a)):a}if(du&&t)return new Proxy({get(o){for(let a=e.length-1;a>=0;a--){const l=wo(e[a])[o];if(l!==void 0)return l}},has(o){for(let a=e.length-1;a>=0;a--)if(o in wo(e[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<e.length;a++)o.push(...Object.keys(wo(e[a])));return[...new Set(o)]}},Vo);const n={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const a=e[o];if(!a)continue;const l=Object.getOwnPropertyNames(a);for(let c=l.length-1;c>=0;c--){const u=l[c];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,u);if(!r[u])r[u]=d.get?{enumerable:!0,configurable:!0,get:mh.bind(n[u]=[d.get.bind(a)])}:d.value!==void 0?d:void 0;else{const f=n[u];f&&(d.get?f.push(d.get.bind(a)):d.value!==void 0&&f.push(()=>d.value))}}}const s={},i=Object.keys(r);for(let o=i.length-1;o>=0;o--){const a=i[o],l=r[a];l&&l.get?Object.defineProperty(s,a,l):s[a]=l?l.value:void 0}return s}function bu(e,...t){if(du&&Nt in e){const s=new Set(t.length>1?t.flat():t[0]),i=t.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},Vo));return i.push(new Proxy({get(o){return s.has(o)?void 0:e[o]},has(o){return s.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!s.has(o))}},Vo)),i}const n={},r=t.map(()=>({}));for(const s of Object.getOwnPropertyNames(e)){const i=Object.getOwnPropertyDescriptor(e,s),o=!i.get&&!i.set&&i.enumerable&&i.writable&&i.configurable;let a=!1,l=0;for(const c of t)c.includes(s)&&(a=!0,o?r[l][s]=i.value:Object.defineProperty(r[l],s,i)),++l;a||(o?n[s]=i.value:Object.defineProperty(n,s,i))}return[...r,n]}let wh=0;function xu(){return`cl-${wh++}`}const vh=e=>`Stale read from <${e}>.`;function it(e){const t="fallback"in e&&{fallback:()=>e.fallback};return Me(ph(()=>e.each,e.children,t||void 0))}function _e(e){const t=e.keyed,n=Me(()=>e.when,void 0,void 0),r=t?n:Me(n,void 0,{equals:(s,i)=>!s==!i});return Me(()=>{const s=r();if(s){const i=e.children;return typeof i=="function"&&i.length>0?ht(()=>i(t?s:()=>{if(!ht(r))throw vh("Show");return n()})):i}return e.fallback},void 0,void 0)}const yh=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],bh=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...yh]),xh=new Set(["innerHTML","textContent","innerText","children"]),_h=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),kh=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function Sh(e,t){const n=kh[e];return typeof n=="object"?n[t]?n.$:void 0:n}const $h=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Ch={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},je=e=>Me(()=>e());function Eh(e,t,n){let r=n.length,s=t.length,i=r,o=0,a=0,l=t[s-1].nextSibling,c=null;for(;o<s||a<i;){if(t[o]===n[a]){o++,a++;continue}for(;t[s-1]===n[i-1];)s--,i--;if(s===o){const u=i<r?a?n[a-1].nextSibling:n[i-a]:l;for(;a<i;)e.insertBefore(n[a++],u)}else if(i===a)for(;o<s;)(!c||!c.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[i-1]&&n[a]===t[s-1]){const u=t[--s].nextSibling;e.insertBefore(n[a++],t[o++].nextSibling),e.insertBefore(n[--i],u),t[s]=n[i]}else{if(!c){c=new Map;let d=a;for(;d<i;)c.set(n[d],d++)}const u=c.get(t[o]);if(u!=null)if(a<u&&u<i){let d=o,f=1,m;for(;++d<s&&d<i&&!((m=c.get(t[d]))==null||m!==u+f);)f++;if(f>u-a){const v=t[o];for(;a<u;)e.insertBefore(n[a++],v)}else e.replaceChild(n[a++],t[o++])}else o++;else t[o++].remove()}}}const zl="_$DX_DELEGATE";function Ah(e,t,n,r={}){let s;return In(i=>{s=i,t===document?e():k(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{s(),t.textContent=""}}function j(e,t,n,r){let s;const i=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},o=()=>(s||(s=i())).cloneNode(!0);return o.cloneNode=o,o}function Be(e,t=window.document){const n=t[zl]||(t[zl]=new Set);for(let r=0,s=e.length;r<s;r++){const i=e[r];n.has(i)||(n.add(i),t.addEventListener(i,Nh))}}function pt(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Rh(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function Ph(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function We(e,t){t==null?e.removeAttribute("class"):e.className=t}function Mt(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const s=n[0];e.addEventListener(t,n[0]=i=>s.call(e,n[1],i))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Th(e,t,n={}){const r=Object.keys(t||{}),s=Object.keys(n);let i,o;for(i=0,o=s.length;i<o;i++){const a=s[i];!a||a==="undefined"||t[a]||(Wl(e,a,!1),delete n[a])}for(i=0,o=r.length;i<o;i++){const a=r[i],l=!!t[a];!a||a==="undefined"||n[a]===l||!l||(Wl(e,a,!0),n[a]=l)}return n}function Wi(e,t,n){if(!t)return n?pt(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let s,i;for(i in n)t[i]==null&&r.removeProperty(i),delete n[i];for(i in t)s=t[i],s!==n[i]&&(r.setProperty(i,s),n[i]=s);return n}function Yr(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function ct(e,t={},n,r){const s={};return r||ie(()=>s.children=rs(e,t.children,s.children)),ie(()=>typeof t.ref=="function"&&ns(t.ref,e)),ie(()=>Mh(e,t,n,!0,s,!0)),s}function ns(e,t,n){return ht(()=>e(t,n))}function k(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return rs(e,t,r,n);ie(s=>rs(e,t(),s,n),r)}function Mh(e,t,n,r,s={},i=!1){t||(t={});for(const o in s)if(!(o in t)){if(o==="children")continue;s[o]=Yl(e,o,null,s[o],n,i,t)}for(const o in t){if(o==="children")continue;const a=t[o];s[o]=Yl(e,o,a,s[o],n,i,t)}}function Lh(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Wl(e,t,n){const r=t.trim().split(/\s+/);for(let s=0,i=r.length;s<i;s++)e.classList.toggle(r[s],n)}function Yl(e,t,n,r,s,i,o){let a,l,c,u,d;if(t==="style")return Wi(e,n,r);if(t==="classList")return Th(e,n,r);if(n===r)return r;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);r&&e.removeEventListener(f,r,typeof r!="function"&&r),n&&e.addEventListener(f,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);r&&e.removeEventListener(f,r,!0),n&&e.addEventListener(f,n,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),m=$h.has(f);if(!m&&r){const v=Array.isArray(r)?r[0]:r;e.removeEventListener(f,v)}(m||n)&&(Mt(e,f,n,m),m&&Be([f]))}else if(t.slice(0,5)==="attr:")pt(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")Ph(e,t.slice(5),n);else if((d=t.slice(0,5)==="prop:")||(c=xh.has(t))||!s&&((u=Sh(t,e.tagName))||(l=bh.has(t)))||(a=e.nodeName.includes("-")||"is"in o))d&&(t=t.slice(5),l=!0),t==="class"||t==="className"?We(e,n):a&&!l&&!c?e[Lh(t)]=n:e[u||t]=n;else{const f=s&&t.indexOf(":")>-1&&Ch[t.split(":")[0]];f?Rh(e,f,t,n):pt(e,_h[t]||t,n)}return n}function Nh(e){let t=e.target;const n=`$$${e.type}`,r=e.target,s=e.currentTarget,i=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),o=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},a=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();i(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!o());c++){if(t._$host){t=t._$host,a();break}if(t.parentNode===s)break}}else a();i(r)}function rs(e,t,n,r,s){for(;typeof n=="function";)n=n();if(t===n)return n;const i=typeof t,o=r!==void 0;if(e=o&&n[0]&&n[0].parentNode||e,i==="string"||i==="number"){if(i==="number"&&(t=t.toString(),t===n))return n;if(o){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=Xn(e,n,r,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||i==="boolean")n=Xn(e,n,r);else{if(i==="function")return ie(()=>{let a=t();for(;typeof a=="function";)a=a();n=rs(e,a,n,r)}),()=>n;if(Array.isArray(t)){const a=[],l=n&&Array.isArray(n);if(Uo(a,t,n,s))return ie(()=>n=rs(e,a,n,r,!0)),()=>n;if(a.length===0){if(n=Xn(e,n,r),o)return n}else l?n.length===0?Ql(e,a,r):Eh(e,n,a):(n&&Xn(e),Ql(e,a));n=a}else if(t.nodeType){if(Array.isArray(n)){if(o)return n=Xn(e,n,r,t);Xn(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Uo(e,t,n,r){let s=!1;for(let i=0,o=t.length;i<o;i++){let a=t[i],l=n&&n[e.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))s=Uo(e,a,l)||s;else if(c==="function")if(r){for(;typeof a=="function";)a=a();s=Uo(e,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||s}else e.push(a),s=!0;else{const u=String(a);l&&l.nodeType===3&&l.data===u?e.push(l):e.push(document.createTextNode(u))}}return s}function Ql(e,t,n=null){for(let r=0,s=t.length;r<s;r++)e.insertBefore(t[r],n)}function Xn(e,t,n,r){if(n===void 0)return e.textContent="";const s=r||document.createTextNode("");if(t.length){let i=!1;for(let o=t.length-1;o>=0;o--){const a=t[o];if(s!==a){const l=a.parentNode===e;!i&&!o?l?e.replaceChild(s,a):e.insertBefore(s,n):l&&a.remove()}else i=!0}}else e.insertBefore(s,n);return[s]}const _u=!1,Oh="http://www.w3.org/2000/svg";function jh(e,t=!1,n=void 0){return t?document.createElementNS(Oh,e):document.createElement(e,{is:n})}function ku(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,s=pa();let i;return De(()=>{i||(i=ma(s,()=>Me(()=>e.children)));const o=r();if(o instanceof HTMLHeadElement){const[a,l]=z(!1),c=()=>l(!0);In(u=>k(o,()=>a()?u():i(),null)),gt(c)}else{const a=jh(e.isSVG?"g":"div",e.isSVG),l=t&&a.attachShadow?a.attachShadow({mode:"open"}):a;Object.defineProperty(a,"_$host",{get(){return n.parentNode},configurable:!0}),k(l,i),o.appendChild(a),e.ref&&e.ref(a),gt(()=>o.removeChild(a))}},void 0,{render:!0}),n}function Su(){let e=new Set;function t(s){return e.add(s),()=>e.delete(s)}let n=!1;function r(s,i){if(n)return!(n=!1);const o={to:s,options:i,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const a of e)a.listener({...o,from:a.location,retry:l=>{l&&(n=!0),a.navigate(s,{...i,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:r}}let Ho;function xa(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Ho=window.history.state._depth}xa();function Dh(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function qh(e,t){let n=!1;return()=>{const r=Ho;xa();const s=r==null?null:Ho-r;if(n){n=!1;return}s&&t(s)?(n=!0,window.history.go(-s)):e()}}const Fh=/^(?:[a-z0-9]+:)?\/\//i,Ih=/^\/+|(\/)\/+$/g,$u="http://sr";function Vn(e,t=!1){const n=e.replace(Ih,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function ni(e,t,n){if(Fh.test(t))return;const r=Vn(e),s=n&&Vn(n);let i="";return!s||t.startsWith("/")?i=r:s.toLowerCase().indexOf(r.toLowerCase())!==0?i=r+s:i=s,(i||"/")+Vn(t,!i)}function Vh(e,t){if(e==null)throw new Error(t);return e}function Uh(e,t){return Vn(e).replace(/\/*(\*.*)?$/g,"")+Vn(t)}function Cu(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function Hh(e,t,n){const[r,s]=e.split("/*",2),i=r.split("/").filter(Boolean),o=i.length;return a=>{const l=a.split("/").filter(Boolean),c=l.length-o;if(c<0||c>0&&s===void 0&&!t)return null;const u={path:o?"":"/",params:{}},d=f=>n===void 0?void 0:n[f];for(let f=0;f<o;f++){const m=i[f],v=m[0]===":",x=v?l[f]:l[f].toLowerCase(),C=v?m.slice(1):m.toLowerCase();if(v&&vo(x,d(C)))u.params[C]=x;else if(v||!vo(x,C))return null;u.path+=`/${x}`}if(s){const f=c?l.slice(-c).join("/"):"";if(vo(f,d(s)))u.params[s]=f;else return null}return u}}function vo(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Bh(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((s,i)=>s+(i.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Eu(e){const t=new Map,n=pa();return new Proxy({},{get(r,s){return t.has(s)||ma(n,()=>t.set(s,Me(()=>e()[s]))),t.get(s)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function zh(e,t){const n=new URLSearchParams(e);Object.entries(t).forEach(([s,i])=>{i==null||i===""||i instanceof Array&&!i.length?n.delete(s):i instanceof Array?(n.delete(s),i.forEach(o=>{n.append(s,String(o))})):n.set(s,String(i))});const r=n.toString();return r?`?${r}`:""}function Au(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const s=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)s.push(n+=t[1]),r=r.slice(t[0].length);return Au(r).reduce((i,o)=>[...i,...s.map(a=>a+o)],[])}const Wh=100,Ru=pu(),_a=pu(),bs=()=>Vh(wa(Ru),"<A> and 'use' router primitives can be only used inside a Route."),Yh=()=>wa(_a)||bs().base,Qh=e=>{const t=Yh();return Me(()=>t.resolvePath(e()))},Kh=e=>{const t=bs();return Me(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},zt=()=>bs().navigatorFactory(),ka=()=>bs().location,Yi=()=>bs().params,Gh=()=>{const e=ka(),t=zt(),n=(r,s)=>{const i=ht(()=>zh(e.search,r)+e.hash);t(i,{scroll:!1,resolve:!1,...s})};return[e.query,n]};function Jh(e,t=""){const{component:n,preload:r,load:s,children:i,info:o}=e,a=!i||Array.isArray(i)&&!i.length,l={key:e,component:n,preload:r||s,info:o};return Pu(e.path).reduce((c,u)=>{for(const d of Au(u)){const f=Uh(t,d);let m=a?f:f.split("/*",1)[0];m=m.split("/").map(v=>v.startsWith(":")||v.startsWith("*")?v:encodeURIComponent(v)).join("/"),c.push({...l,originalPath:u,pattern:m,matcher:Hh(m,!a,e.matchFilters)})}return c},[])}function Xh(e,t=0){return{routes:e,score:Bh(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let s=e.length-1;s>=0;s--){const i=e[s],o=i.matcher(n);if(!o)return null;r.unshift({...o,route:i})}return r}}}function Pu(e){return Array.isArray(e)?e:[e]}function Tu(e,t="",n=[],r=[]){const s=Pu(e);for(let i=0,o=s.length;i<o;i++){const a=s[i];if(a&&typeof a=="object"){a.hasOwnProperty("path")||(a.path="");const l=Jh(a,t);for(const c of l){n.push(c);const u=Array.isArray(a.children)&&a.children.length===0;if(a.children&&!u)Tu(a.children,c.pattern,n,r);else{const d=Xh([...n],r.length);r.push(d)}n.pop()}}}return n.length?r:r.sort((i,o)=>o.score-i.score)}function yo(e,t){for(let n=0,r=e.length;n<r;n++){const s=e[n].matcher(t);if(s)return s}return[]}function Zh(e,t,n){const r=new URL($u),s=Me(u=>{const d=e();try{return new URL(d,r)}catch{return console.error(`Invalid path ${d}`),u}},r,{equals:(u,d)=>u.href===d.href}),i=Me(()=>s().pathname),o=Me(()=>s().search,!0),a=Me(()=>s().hash),l=()=>"",c=ha(o,()=>Cu(s()));return{get pathname(){return i()},get search(){return o()},get hash(){return a()},get state(){return t()},get key(){return l()},query:n?n(c):Eu(c)}}let Rn;function e0(){return Rn}function t0(e,t,n,r={}){const{signal:[s,i],utils:o={}}=e,a=o.parsePath||(H=>H),l=o.renderPath||(H=>H),c=o.beforeLeave||Su(),u=ni("",r.base||"");if(u===void 0)throw new Error(`${u} is not a valid base path`);u&&!s().value&&i({value:u,replace:!0,scroll:!1});const[d,f]=z(!1);let m;const v=(H,G)=>{G.value===x()&&G.state===R()||(m===void 0&&f(!0),Rn=H,m=G,lh(()=>{m===G&&(C(m.value),_(m.state),O[1](te=>te.filter(B=>B.pending)))}).finally(()=>{m===G&&gu(()=>{Rn=void 0,H==="navigate"&&E(m),f(!1),m=void 0})}))},[x,C]=z(s().value),[R,_]=z(s().state),P=Zh(x,R,o.queryWrapper),L=[],O=z([]),M=Me(()=>typeof r.transformUrl=="function"?yo(t(),r.transformUrl(P.pathname)):yo(t(),P.pathname)),A=()=>{const H=M(),G={};for(let te=0;te<H.length;te++)Object.assign(G,H[te].params);return G},g=o.paramsWrapper?o.paramsWrapper(A,t):Eu(A),p={pattern:u,path:()=>u,outlet:()=>null,resolvePath(H){return ni(u,H)}};return ie(ha(s,H=>v("native",H),{defer:!0})),{base:p,location:P,params:g,isRouting:d,renderPath:l,parsePath:a,navigatorFactory:b,matches:M,beforeLeave:c,preloadRoute:V,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:O};function w(H,G,te){ht(()=>{if(typeof G=="number"){G&&(o.go?o.go(G):console.warn("Router integration does not support relative routing"));return}const B=!G||G[0]==="?",{replace:F,resolve:N,scroll:Z,state:I}={replace:!1,resolve:!B,scroll:!0,...te},W=N?H.resolvePath(G):ni(B&&P.pathname||"",G);if(W===void 0)throw new Error(`Path '${G}' is not a routable path`);if(L.length>=Wh)throw new Error("Too many redirects");const T=x();(W!==T||I!==R())&&(_u||c.confirm(W,te)&&(L.push({value:T,replace:F,scroll:Z,state:R()}),v("navigate",{value:W,state:I})))})}function b(H){return H=H||wa(_a)||p,(G,te)=>w(H,G,te)}function E(H){const G=L[0];G&&(i({...H,replace:G.replace,scroll:G.scroll}),L.length=0)}function V(H,G){const te=yo(t(),H.pathname),B=Rn;Rn="preload";for(let F in te){const{route:N,params:Z}=te[F];N.component&&N.component.preload&&N.component.preload();const{preload:I}=N;G&&I&&ma(n(),()=>I({params:Z,location:{pathname:H.pathname,search:H.search,hash:H.hash,query:Cu(H),state:null,key:""},intent:"preload"}))}Rn=B}}function n0(e,t,n,r){const{base:s,location:i,params:o}=e,{pattern:a,component:l,preload:c}=r().route,u=Me(()=>r().path);l&&l.preload&&l.preload();const d=c?c({params:o,location:i,intent:Rn||"initial"}):void 0;return{parent:t,pattern:a,path:u,outlet:()=>l?$(l,{params:o,location:i,data:d,get children(){return n()}}):n(),resolvePath(m){return ni(s.path(),m,u())}}}const r0=e=>t=>{const{base:n}=t,r=va(()=>t.children),s=Me(()=>Tu(r(),t.base||""));let i;const o=t0(e,s,()=>i,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(o),$(Ru.Provider,{value:o,get children(){return $(s0,{routerState:o,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[je(()=>(i=pa())&&null),$(i0,{routerState:o,get branches(){return s()}})]}})}})};function s0(e){const t=e.routerState.location,n=e.routerState.params,r=Me(()=>e.preload&&ht(()=>{e.preload({params:n,location:t,intent:e0()||"initial"})}));return $(_e,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:s=>$(s,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function i0(e){const t=[];let n;const r=Me(ha(e.routerState.matches,(s,i,o)=>{let a=i&&s.length===i.length;const l=[];for(let c=0,u=s.length;c<u;c++){const d=i&&i[c],f=s[c];o&&d&&f.route.key===d.route.key?l[c]=o[c]:(a=!1,t[c]&&t[c](),In(m=>{t[c]=m,l[c]=n0(e.routerState,l[c-1]||e.routerState.base,Kl(()=>r()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(s.length).forEach(c=>c()),o&&a?o:(n=l[0],l)}));return Kl(()=>r()&&n)()}const Kl=e=>()=>$(_e,{get when(){return e()},keyed:!0,children:t=>$(_a.Provider,{value:t,get children(){return t.outlet()}})}),yt=e=>{const t=va(()=>e.children);return be(e,{get children(){return t()}})};function o0([e,t],n,r){return[e,r?s=>t(r(s)):t]}function a0(e){let t=!1;const n=s=>typeof s=="string"?{value:s}:s,r=o0(z(n(e.get()),{equals:(s,i)=>s.value===i.value&&s.state===i.state}),void 0,s=>(!t&&e.set(s),s));return e.init&&gt(e.init((s=e.get())=>{t=!0,r[1](n(s)),t=!1})),r0({signal:r,create:e.create,utils:e.utils})}function l0(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function c0(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const u0=new Map;function d0(e=!0,t=!1,n="/_server",r){return s=>{const i=s.base.path(),o=s.navigatorFactory(s.base);let a,l;function c(x){return x.namespaceURI==="http://www.w3.org/2000/svg"}function u(x){if(x.defaultPrevented||x.button!==0||x.metaKey||x.altKey||x.ctrlKey||x.shiftKey)return;const C=x.composedPath().find(M=>M instanceof Node&&M.nodeName.toUpperCase()==="A");if(!C||t&&!C.hasAttribute("link"))return;const R=c(C),_=R?C.href.baseVal:C.href;if((R?C.target.baseVal:C.target)||!_&&!C.hasAttribute("state"))return;const L=(C.getAttribute("rel")||"").split(/\s+/);if(C.hasAttribute("download")||L&&L.includes("external"))return;const O=R?new URL(_,document.baseURI):new URL(_);if(!(O.origin!==window.location.origin||i&&O.pathname&&!O.pathname.toLowerCase().startsWith(i.toLowerCase())))return[C,O]}function d(x){const C=u(x);if(!C)return;const[R,_]=C,P=s.parsePath(_.pathname+_.search+_.hash),L=R.getAttribute("state");x.preventDefault(),o(P,{resolve:!1,replace:R.hasAttribute("replace"),scroll:!R.hasAttribute("noscroll"),state:L?JSON.parse(L):void 0})}function f(x){const C=u(x);if(!C)return;const[R,_]=C;r&&(_.pathname=r(_.pathname)),s.preloadRoute(_,R.getAttribute("preload")!=="false")}function m(x){clearTimeout(a);const C=u(x);if(!C)return l=null;const[R,_]=C;l!==R&&(r&&(_.pathname=r(_.pathname)),a=setTimeout(()=>{s.preloadRoute(_,R.getAttribute("preload")!=="false"),l=R},20))}function v(x){if(x.defaultPrevented)return;let C=x.submitter&&x.submitter.hasAttribute("formaction")?x.submitter.getAttribute("formaction"):x.target.getAttribute("action");if(!C)return;if(!C.startsWith("https://action/")){const _=new URL(C,$u);if(C=s.parsePath(_.pathname+_.search),!C.startsWith(n))return}if(x.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const R=u0.get(C);if(R){x.preventDefault();const _=new FormData(x.target,x.submitter);R.call({r:s,f:x.target},x.target.enctype==="multipart/form-data"?_:new URLSearchParams(_))}}Be(["click","submit"]),document.addEventListener("click",d),e&&(document.addEventListener("mousemove",m,{passive:!0}),document.addEventListener("focusin",f,{passive:!0}),document.addEventListener("touchstart",f,{passive:!0})),document.addEventListener("submit",v),gt(()=>{document.removeEventListener("click",d),e&&(document.removeEventListener("mousemove",m),document.removeEventListener("focusin",f),document.removeEventListener("touchstart",f)),document.removeEventListener("submit",v)})}}function f0(e){const t=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,s=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:s}},n=Su();return a0({get:t,set({value:r,replace:s,scroll:i,state:o}){s?window.history.replaceState(Dh(o),"",r):window.history.pushState(o,"",r),c0(decodeURIComponent(window.location.hash.slice(1)),i),xa()},init:r=>l0(window,"popstate",qh(r,s=>{if(s&&s<0)return!n.confirm(s);{const i=t();return!n.confirm(i.value,{state:i.state})}})),create:d0(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}var h0=j("<a>");function or(e){e=be({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=bu(e,["href","state","class","activeClass","inactiveClass","end"]),n=Qh(()=>e.href),r=Kh(n),s=ka(),i=Me(()=>{const o=n();if(o===void 0)return[!1,!1];const a=Vn(o.split(/[?#]/,1)[0]).toLowerCase(),l=decodeURI(Vn(s.pathname).toLowerCase());return[e.end?a===l:l.startsWith(a+"/")||l===a,a===l]});return(()=>{var o=h0();return ct(o,be(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!i()[0],[e.activeClass]:i()[0],...t.classList}},link:"",get"aria-current"(){return i()[1]?"page":void 0}}),!1,!1),o})()}const Bo=Symbol("store-raw"),ur=Symbol("store-node"),Zt=Symbol("store-has"),Mu=Symbol("store-self");function Lu(e){let t=e[Nt];if(!t&&(Object.defineProperty(e,Nt,{value:t=new Proxy(e,m0)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let s=0,i=n.length;s<i;s++){const o=n[s];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(t)})}}return t}function pi(e){let t;return e!=null&&typeof e=="object"&&(e[Nt]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ss(e,t=new Set){let n,r,s,i;if(n=e!=null&&e[Bo])return n;if(!pi(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let o=0,a=e.length;o<a;o++)s=e[o],(r=ss(s,t))!==s&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const o=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let l=0,c=o.length;l<c;l++)i=o[l],!a[i].get&&(s=e[i],(r=ss(s,t))!==s&&(e[i]=r))}return e}function mi(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function is(e,t,n){if(e[t])return e[t];const[r,s]=z(n,{equals:!1,internal:!0});return r.$=s,e[t]=r}function g0(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Nt||t===ur||(delete n.value,delete n.writable,n.get=()=>e[Nt][t]),n}function Nu(e){Fo()&&is(mi(e,ur),Mu)()}function p0(e){return Nu(e),Reflect.ownKeys(e)}const m0={get(e,t,n){if(t===Bo)return e;if(t===Nt)return n;if(t===qo)return Nu(e),n;const r=mi(e,ur),s=r[t];let i=s?s():e[t];if(t===ur||t===Zt||t==="__proto__")return i;if(!s){const o=Object.getOwnPropertyDescriptor(e,t);Fo()&&(typeof i!="function"||e.hasOwnProperty(t))&&!(o&&o.get)&&(i=is(r,t,i)())}return pi(i)?Lu(i):i},has(e,t){return t===Bo||t===Nt||t===qo||t===ur||t===Zt||t==="__proto__"?!0:(Fo()&&is(mi(e,Zt),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:p0,getOwnPropertyDescriptor:g0};function wi(e,t,n,r=!1){if(!r&&e[t]===n)return;const s=e[t],i=e.length;n===void 0?(delete e[t],e[Zt]&&e[Zt][t]&&s!==void 0&&e[Zt][t].$()):(e[t]=n,e[Zt]&&e[Zt][t]&&s===void 0&&e[Zt][t].$());let o=mi(e,ur),a;if((a=is(o,t,s))&&a.$(()=>n),Array.isArray(e)&&e.length!==i){for(let l=e.length;l<i;l++)(a=o[l])&&a.$();(a=is(o,"length",i))&&a.$(e.length)}(a=o[Mu])&&a.$()}function Ou(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const s=n[r];wi(e,s,t[s])}}function w0(e,t){if(typeof t=="function"&&(t=t(e)),t=ss(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const s=t[n];e[n]!==s&&wi(e,n,s)}wi(e,"length",r)}else Ou(e,t)}function Nr(e,t,n=[]){let r,s=e;if(t.length>1){r=t.shift();const o=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)Nr(e,[r[l]].concat(t),n);return}else if(a&&o==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&Nr(e,[l].concat(t),n);return}else if(a&&o==="object"){const{from:l=0,to:c=e.length-1,by:u=1}=r;for(let d=l;d<=c;d+=u)Nr(e,[d].concat(t),n);return}else if(t.length>1){Nr(e[r],t,[r].concat(n));return}s=e[r],n=[r].concat(n)}let i=t[0];typeof i=="function"&&(i=i(s,n),i===s)||r===void 0&&i==null||(i=ss(i),r===void 0||pi(s)&&pi(i)&&!Array.isArray(i)?Ou(s,i):wi(e,r,i))}function v0(...[e,t]){const n=ss(e||{}),r=Array.isArray(n),s=Lu(n);function i(...o){gu(()=>{r&&o.length===1?w0(n,o[0]):Nr(n,o)})}return[s,i]}var y0=j('<svg class="w-5 h-5 mr-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6">'),b0=j('<svg class="w-5 h-5 mr-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">'),x0=j('<main class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50"><div class="flex flex-col items-center justify-center min-h-screen px-4"><div class="max-w-4xl w-full text-center"><div class=mb-8><div class="mx-auto w-20 h-20 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"><svg class="w-10 h-10 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div><h1 class="text-6xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent">CoRATES</h1><p class="text-xl md:text-2xl text-gray-600 mb-4 font-medium">Collaborative Research Appraisal Tool for Evidence Synthesis</p><p class="text-lg text-gray-500 mb-12 max-w-2xl mx-auto leading-relaxed">Streamline your systematic review process with our interactive AMSTAR 2 checklist tool. Create, score, and visualize research appraisals with confidence.</p><div class="flex flex-col sm:flex-row gap-4 justify-center mb-16"></div></div></div><div class="py-20 px-4 bg-white/50 backdrop-blur-sm"><div class="max-w-6xl mx-auto"><h2 class="text-3xl md:text-4xl font-bold text-center mb-16 text-gray-800">Why Choose CoRATES?</h2><div class="grid md:grid-cols-3 gap-8"><div class="text-center p-8 rounded-2xl bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100"><div class="w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-6"><svg class="w-8 h-8 text-blue-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"></path></svg></div><h3 class="text-xl font-semibold mb-4 text-gray-800">Works Offline</h3><p class="text-gray-600 leading-relaxed">Complete your assessments anywhere, anytime. No internet connection required once loaded.</p></div><div class="text-center p-8 rounded-2xl bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100"><div class="w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-6"><svg class="w-8 h-8 text-green-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h3 class="text-xl font-semibold mb-4 text-gray-800">Auto-Save</h3><p class="text-gray-600 leading-relaxed">Never lose your progress. Your work is automatically saved as you go.</p></div><div class="text-center p-8 rounded-2xl bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100"><div class="w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-6"><svg class="w-8 h-8 text-purple-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div><h3 class="text-xl font-semibold mb-4 text-gray-800">Visual Results</h3><p class="text-gray-600 leading-relaxed">Generate clear, professional charts and summaries of your AMSTAR 2 assessments.</p></div></div></div></div><div class="py-20 px-4"><div class="max-w-4xl mx-auto text-center"><h2 class="text-3xl md:text-4xl font-bold mb-8 text-gray-800">About AMSTAR 2</h2><p class="text-lg text-gray-600 leading-relaxed mb-8">AMSTAR 2 (A MeaSurement Tool to Assess systematic Reviews) is a critical appraisal tool for systematic reviews that include randomized or non-randomized studies of healthcare interventions.</p><div class="bg-blue-50 rounded-2xl p-8 border border-blue-100"><p class="text-blue-800 font-medium">Our tool makes it easy to apply the 16 AMSTAR 2 criteria to evaluate the methodological quality of systematic reviews, helping researchers make informed decisions about evidence quality.</p></div></div></div><footer class="py-12 px-4 bg-gray-50 border-t border-gray-200"><div class="max-w-4xl mx-auto text-center"><div class="flex flex-col sm:flex-row items-center justify-center gap-6 text-sm text-gray-500"><a href=https://github.com/InfinityBowman/amstar2-checklist-scoring-app target=_blank rel=noopener class="flex items-center gap-2 hover:text-blue-600 transition-colors duration-200"><svg class="w-4 h-4"fill=currentColor viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>View on GitHub</a><span class=text-gray-300>•</span><span>Built for researchers, by researchers</span><span class=text-gray-300>•</span><span>Free & Open Source');function _0(){return(()=>{var e=x0(),t=e.firstChild,n=t.firstChild,r=n.firstChild,s=r.nextSibling,i=s.nextSibling,o=i.nextSibling,a=o.nextSibling;return k(a,$(or,{href:"/checklist/new",class:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",get children(){return[y0(),"Start New Checklist"]}}),null),k(a,$(or,{href:"/dashboard",class:"inline-flex items-center px-8 py-4 bg-white text-gray-700 font-semibold rounded-xl border-2 border-gray-200 hover:border-blue-300 hover:text-blue-600 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",get children(){return[b0(),"View Saved Work"]}}),null),e})()}const tt={q1:{text:"1. Did the research questions and inclusion criteria for the review include the components of PICO?",columns:[{label:"For Yes:",options:["Population","Intervention","Comparator group","Outcome"]},{label:"Optional (recommended):",options:["Timeframe for follow-up"]},{label:"",options:["Yes","No"]}]},q2:{text:"2. Did the report of the review contain an explicit statement that the review methods were established prior to the conduct of the review and did the report justify any significant deviations from the protocol?",columns:[{label:"For Partial Yes:",description:"The authors state that they had a written protocol or guide that included ALL the following:",options:["review question(s)","a search strategy","inclusion/exclusion criteria","risk of bias assessment"]},{label:"For Yes:",description:"As for Partial Yes, plus the protocol should be registered and should also have specified:",options:["a meta-analysis/synthesis plan, if appropriate, and","a plan for investigating causes of heterogeneity","a plan for investigating causes of heterogeneity"]},{label:"",description:"",options:["Yes","Partial Yes","No"]}]},q3:{text:"3. Did the review authors explain their selection of the study designs for inclusion in the review?",columns:[{label:"For Yes, the review should satisfy ONE of the following:",options:["Explanation for including only RCTs ","OR Explanation for including only NRSI","OR Explanation for including both RCTs and NRSI"]},{label:"",options:["Yes","No"]}]},q4:{text:"4. Did the review authors use a comprehensive literature search strategy? ",columns:[{label:"For Partial Yes (all the following):",options:["searched at least 2 databases (relevant to research question)","provided key word and/or search strategy","justified publication restrictions (e.g. language)"]},{label:"For Yes, should also have (all the following):",options:["searched the reference lists / bibliographies of included studies","searched trial/study registries","included/consulted content experts in the field","where relevant, searched for grey literature","conducted search within 24 months of completion of the review"]},{label:"",options:["Yes","Partial Yes","No"]}]},q5:{text:"5. Did the review authors perform study selection in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q6:{text:"6. Did the review authors perform data extraction in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q7:{text:"7. Did the review authors provide a list of excluded studies and justify the exclusions?",columns:[{label:"For Partial Yes:",options:["provided a list of all potentially relevant studies that were read in full-text form but excluded from the review"]},{label:"For Yes, must also have:",options:["Justified the exclusion from the review of each potentially relevant study"]},{label:"",options:["Yes","Partial Yes","No"]}]},q8:{text:"8. Did the review authors describe the included studies in adequate detail?",columns:[{label:"For Partial Yes (ALL the following):",options:["described populations","described interventions","described comparators","described outcomes","described research designs"]},{label:"For Yes, should also have ALL the following:",options:["described population in detail","described comparator in detail (including doses where relevant)","described study’s setting in detail","timeframe for follow-up"]},{label:"",options:["Yes","Partial Yes","No"]}]},q9:{text:"9. Did the review authors use a satisfactory technique for assessing the risk of bias (RoB) in individual studies that were included in the review?",subtitle:"RCTs",columns:[{label:"For Partial Yes, must have assessed RoB from",options:["unconcealed allocation, and","lack of blinding of patients and assessors when assessing outcomes (unnecessary for objective outcomes such as all-cause mortality)"]},{label:"For Yes, must also have assessed RoB from:",options:["allocation sequence that was not truly random, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",description:"",options:["Yes","Partial Yes","No"," Includes only NRSI"]}],subtitle2:"NRSI",columns2:[{label:"For Partial Yes, must have assessed RoB:",options:["from confounding, and","from selection bias"]},{label:"For Yes, must also have assessed RoB:",options:["methods used to ascertain exposures and outcomes, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",options:["Yes","Partial Yes","No","Includes only RCTs"]}]},q10:{text:"10. Did the review authors report on the sources of funding for the studies included in the review?",columns:[{label:"For Yes:",options:["Must have reported on the sources of funding for individual studies included in the review. Note: Reporting that the reviewers looked for this information but it was not reported by study authors also qualifies"]},{label:"",options:["Yes","No"]}]},q11:{text:"11. If meta-analysis was performed did the review authors use appropriate methods for statistical combination of results?",subtitle:"RCTs",columns:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results and adjusted for heterogeneity if present.","AND investigated the causes of any heterogeneity"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}],subtitle2:"NRSI",columns2:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results, adjusting for heterogeneity if present","AND they statistically combined effect estimates from NRSI that were adjusted for confounding, rather than combining raw data, or justified combining raw data when adjusted effect estimates were not available","AND they reported separate summary estimates for RCTs and NRSI separately when both were included in the review"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q12:{text:"12. If meta-analysis was performed, did the review authors assess the potential impact of RoB in individual studies on the results of the meta-analysis or other evidence synthesis?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if the pooled estimate was based on RCTs and/or NRSI at variable RoB, the authors performed analyses to investigate possible impact of RoB on summary estimates of effect."]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q13:{text:"13. Did the review authors account for RoB in individual studies when interpreting/ discussing the results of the review?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if RCTs with moderate or high RoB, or NRSI were included the review provided a discussion of the likely impact of RoB on the results"]},{label:"",options:["Yes","No"]}]},q14:{text:"14. Did the review authors provide a satisfactory explanation for, and discussion of, any heterogeneity observed in the results of the review?",columns:[{label:"For Yes:",options:["There was no significant heterogeneity in the results","OR if heterogeneity was present the authors performed an investigation of sources of any heterogeneity in the results and discussed the impact of this on the results of the review"]},{label:"",options:["Yes","No"]}]},q15:{text:"15. If they performed quantitative synthesis did the review authors carry out an adequate investigation of publication bias (small study bias) and discuss its likely impact on the results of the review?",columns:[{label:"For Yes:",options:["performed graphical or statistical tests for publication bias and discussed the likelihood and magnitude of impact of publication bias"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q16:{text:"16. Did the review authors report any potential sources of conflict of interest, including any funding they received for conducting the review?",options:["Yes","Partial Yes","No"],columns:[{label:"For Yes:",options:["The authors reported no competing interests OR","The authors described their funding sources and how they managed potential conflicts of interest"]},{label:"",options:["Yes","No"]}]}},k0="modulepreload",S0=function(e){return"/amstar2-checklist-scoring-app/"+e},Gl={},Jl=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){let l=function(c){return Promise.all(c.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");s=l(n.map(c=>{if(c=S0(c),c in Gl)return;Gl[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":k0,u||(f.as="script"),f.crossOrigin="",f.href=c,a&&f.setAttribute("nonce",a),document.head.appendChild(f),u)return new Promise((m,v)=>{f.addEventListener("load",m),f.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})},$0="corates-app-db",vn="checklists",Bt="projects",C0=1,ju=new BroadcastChannel("corates-sync");function Qi(){ju.postMessage("initiate-sync")}function E0(e){ju.onmessage=t=>{t.data==="initiate-sync"&&e()}}function gr(e){return JSON.parse(JSON.stringify(e))}function Qn(){return new Promise((e,t)=>{const n=indexedDB.open($0,C0);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(vn)||r.createObjectStore(vn,{keyPath:"id"}),r.objectStoreNames.contains(Bt)||r.createObjectStore(Bt,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function Du(e){const t=await Qn();return e=gr(e),new Promise((n,r)=>{const s=t.transaction(vn,"readwrite");s.objectStore(vn).put(e),s.oncomplete=()=>{n(),Qi()},s.onerror=()=>r(s.error)})}async function qu(){const e=await Qn();return new Promise((t,n)=>{const i=e.transaction(vn,"readonly").objectStore(vn).getAll();i.onsuccess=()=>t(i.result),i.onerror=()=>n(i.error)})}async function A0(e){const t=await Qn();return new Promise((n,r)=>{const s=t.transaction(vn,"readwrite");s.objectStore(vn).delete(e),s.oncomplete=()=>{n(),Qi()},s.onerror=()=>r(s.error)})}async function kr(e){const t=await Qn();return e=gr(e),new Promise((n,r)=>{const s=t.transaction(Bt,"readwrite");s.objectStore(Bt).put(e),s.oncomplete=()=>{n(),Qi()},s.onerror=()=>r(s.error)})}async function Ki(e){const t=await Qn();return new Promise((n,r)=>{const i=t.transaction(Bt,"readonly").objectStore(Bt).get(e);i.onsuccess=()=>n(i.result),i.onerror=()=>r(i.error)})}async function Fu(){const e=await Qn();return new Promise((t,n)=>{const i=e.transaction(Bt,"readonly").objectStore(Bt).getAll();i.onsuccess=()=>t(i.result),i.onerror=()=>n(i.error)})}async function Iu(e,t,n){try{const r=await Ki(e);if(!r)throw new Error(`Project with ID ${e} not found`);r.reviews||(r.reviews=[]);const s=r.reviews.findIndex(a=>a.id===t);if(s===-1)throw new Error(`Review with ID ${t} not found in project ${e}`);const i=r.reviews[s];i.checklists||(i.checklists=[]);const o=i.checklists.findIndex(a=>a.id===n.id);return o>=0?i.checklists[o]=gr(n):i.checklists.push(gr(n)),await kr(r),r}catch(r){throw console.error("Error saving checklist to review:",r),r}}async function R0(e,t,n){try{const r=await Ki(e);if(!r)throw new Error(`Project with ID ${e} not found`);r.reviews||(r.reviews=[]);const s=r.reviews.findIndex(a=>a.id===t);if(s===-1)throw new Error(`Review with ID ${t} not found in project ${e}`);const i=r.reviews[s];i.checklists||(i.checklists=[]);const o=i.checklists.length;return i.checklists=i.checklists.filter(a=>a.id!==n),i.checklists.length===o?!1:(await kr(r),!0)}catch(r){throw console.error("Error deleting checklist from review:",r),r}}async function Vu(e,t){try{const n=await Ki(e);if(!n)throw new Error(`Project with ID ${e} not found`);n.reviews||(n.reviews=[]);const r=n.reviews.findIndex(s=>s.id===t.id);return r>=0?n.reviews[r]=gr(t):n.reviews.push(gr(t)),await kr(n),n}catch(n){console.error("Error saving review to project:",n)}}async function P0(e,t){try{const n=await Ki(e);if(!n)throw new Error(`Project with ID ${e} not found`);n.reviews||(n.reviews=[]);const r=n.reviews.length;return n.reviews=n.reviews.filter(s=>s.id!==t),n.reviews.length===r?!1:(await kr(n),!0)}catch(n){throw console.error("Error deleting review from project:",n),n}}async function T0(e){const t=await Qn();return new Promise((n,r)=>{const s=t.transaction(Bt,"readwrite");s.objectStore(Bt).delete(e),s.oncomplete=()=>{n(),Qi()},s.onerror=()=>r(s.error)})}async function Un(){const[e,t]=await Promise.all([Fu(),qu()]),n=new Set;for(const s of e){n.add(s.id);for(const i of s.reviews||[]){n.add(i.id);for(const o of i.checklists||[])n.add(o.id)}}for(const s of t)n.add(s.id);let r;do r=crypto.randomUUID().split("-")[0];while(n.has(r));return r}const[$e,Oe]=v0({projects:[],currentProject:null,currentChecklist:null,dataLoading:!0,checklists:[]});async function M0(){try{await zo(),E0(zo)}catch(e){console.error("Error loading data:",e)}finally{Oe("dataLoading",!1)}}M0();async function zo(){try{Oe("loading",!0);const e=await Fu()||[];e.sort((n,r)=>(n.createdAt||0)-(r.createdAt||0)),Oe("projects",e);const t=await qu()||[];Oe("checklists",t)}catch(e){throw console.error("Error loading IndexedDB data:",e),e}finally{Oe("loading",!1)}}async function L0(e){try{return await kr(e),Oe("projects",t=>[...t,e]),e}catch(t){throw console.error("Error adding project:",t),t}}async function N0(e){try{return await T0(e),Oe("projects",t=>t.filter(n=>n.id!==e)),$e.currentProject?.id===e&&(Oe("currentProject",null),Oe("currentChecklist",null)),!0}catch(t){throw console.error("Error deleting project:",t),t}}function O0(e){Oe("projects",e)}function j0(e){let t=null;if(typeof e=="object"&&e!==null){if("project"in e&&e.project)t={...e.project};else if("id"in e)t=$e.projects.find(n=>n.id===e.id);else if("name"in e){const n=$e.projects.filter(r=>r.name===e.name);t=n[e.index??0]?{...n[e.index??0]}:null}}else typeof e=="string"&&(t=$e.projects.find(n=>n.id===e),t||(t=$e.projects.find(n=>n.name===e)),t=t?{...t}:null);Oe("currentProject",t)}function D0(e){if(e==null)return Oe("currentChecklist",null),!1;const t=Uu(e);return Oe("currentChecklist",t||null),!!t}async function q0(e,t,n){if(!e||!t)try{return await Du(n),Oe("checklists",r=>[...r,n]),n}catch(r){throw console.error("Error adding checklist without project/review:",r),r}try{const r=await Iu(e,t,n),s=$e.projects.findIndex(i=>i.id===e);if(s!==-1){const i=($e.projects[s].reviews||[]).findIndex(o=>o.id===t);i!==-1&&Oe("projects",s,"reviews",i,r.reviews[i])}return n}catch(r){throw console.error("Error adding checklist:",r),r}}async function F0(e){const t=Gi(e.id);if(!t)throw console.warn("Could not find checklist to update:",e.id),new Error(`Could not find checklist to update: ${e.id}`);try{const{projectIndex:n,reviewIndex:r,checklistIndex:s,review:i,project:o}=t;if(n>=0)await Iu(o.id,i.id,e),Oe("projects",n,"reviews",r,"checklists",s,{...e});else{const a=$e.checklists.findIndex(l=>l.id===e.id);if(a>=0)await Du(e),Oe("checklists",a,{...e});else throw console.warn("Could not find checklist:",e.id),new Error(`Could not find checklist: ${e.id}`)}return $e.currentChecklist?.id===e.id&&Oe("currentChecklist",{...e}),e}catch(n){throw console.error("Error updating checklist:",n),n}}async function I0(e,t,n){if(!e||!t)try{return await A0(n),Oe("checklists",r=>r.filter(s=>s.id!==n)),$e.currentChecklist?.id===n&&Oe("currentChecklist",null),!0}catch(r){return console.error("Error deleting checklist without project/review:",r),!1}try{await R0(e,t,n);const r=$e.projects.findIndex(s=>s.id===e);if(r!==-1){const s=($e.projects[r].reviews||[]).findIndex(i=>i.id===t);s!==-1&&Oe("projects",r,"reviews",s,"checklists",i=>i.filter(o=>o.id!==n))}return $e.currentChecklist?.id===n&&Oe("currentChecklist",null),!0}catch(r){return console.error("Error deleting checklist:",r),!1}}function Uu(e){let t=Gi(e);return t?.checklist?{...t.checklist}:null}function V0(e,t){let n=Gi(e);if(n&&typeof n.checklistIndex=="number")return n.checklistIndex;let r=-1;return e?r=$e.checklists.findIndex(s=>s.id===e):t&&(r=$e.checklists.findIndex(s=>s.name===t)),r}function Gi(e){if(typeof e=="object"&&e!==null){if("checklist"in e&&e.checklist)return Gi({id:e.checklist.id});if("id"in e)for(let t=0;t<$e.projects.length;t++){const n=$e.projects[t];for(let r=0;r<(n.reviews||[]).length;r++){const s=n.reviews[r],i=(s.checklists||[]).findIndex(o=>o.id===e.id);if(i!==-1)return{project:n,projectIndex:t,review:s,reviewIndex:r,checklist:s.checklists[i],checklistIndex:i}}}else if("name"in e){let t=[];for(let n=0;n<$e.projects.length;n++){const r=$e.projects[n];for(let s=0;s<(r.reviews||[]).length;s++){const i=r.reviews[s];(i.checklists||[]).forEach((o,a)=>{o.name===e.name&&t.push({project:r,projectIndex:n,review:i,reviewIndex:s,checklist:o,checklistIndex:a})})}}return t[e.index??0]||null}}else if(typeof e=="string"){for(let n=0;n<$e.projects.length;n++){const r=$e.projects[n];for(let s=0;s<(r.reviews||[]).length;s++){const i=r.reviews[s],o=(i.checklists||[]).findIndex(a=>a.id===e);if(o!==-1)return{project:r,projectIndex:n,review:i,reviewIndex:s,checklist:i.checklists[o],checklistIndex:o}}}let t=[];for(let n=0;n<$e.projects.length;n++){const r=$e.projects[n];for(let s=0;s<(r.reviews||[]).length;s++){const i=r.reviews[s];(i.checklists||[]).forEach((o,a)=>{o.name===e&&t.push({project:r,projectIndex:n,review:i,reviewIndex:s,checklist:o,checklistIndex:a})})}}return t[0]||null}return null}async function U0(e,t){try{const n=$e.projects.findIndex(s=>s.id===e);if(n===-1)throw new Error("Project not found");const r=await Vu(e,t);return Oe("projects",n,r),t}catch(n){throw console.error("Error adding review:",n),n}}async function H0(e,t){try{const n=$e.projects.findIndex(s=>s.id===e);if(n===-1)throw new Error("Project not found");const r=await Vu(e,t);return Oe("projects",n,r),t}catch(n){throw console.error("Error updating review:",n),n}}async function B0(e,t){try{const n=$e.projects.findIndex(s=>s.id===e);if(n===-1)throw new Error("Project not found");if(!await P0(e,t))throw new Error("Review not found or could not be deleted");return Oe("projects",n,s=>({...s,reviews:(s.reviews||[]).filter(i=>i.id!==t)})),!0}catch(n){throw console.error("Error deleting review:",n),n}}function Wt(){return{projects:()=>$e.projects,currentProject:()=>$e.currentProject,currentChecklist:()=>$e.currentChecklist,dataLoading:()=>$e.dataLoading,checklists:()=>$e.checklists,loadData:zo,setProjects:O0,addProject:L0,deleteProject:N0,setCurrentProject:j0,setCurrentChecklist:D0,addChecklist:q0,updateChecklist:F0,deleteChecklist:I0,getChecklist:Uu,getChecklistIndex:V0,addReview:U0,updateReview:H0,deleteReview:B0,searchUsers:async(e,t=10)=>{const{searchUsers:n}=await Jl(async()=>{const{searchUsers:r}=await import("./AppStore.api-D3Ndjpn9.js");return{searchUsers:r}},[]);return n(e,t)},addUserToProjectByEmail:async(e,t)=>{const{addUserToProjectByEmail:n}=await Jl(async()=>{const{addUserToProjectByEmail:r}=await import("./AppStore.api-D3Ndjpn9.js");return{addUserToProjectByEmail:r}},[]);return n(e,t)}}}var ri={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var z0=ri.exports,Xl;function W0(){return Xl||(Xl=1,(function(e,t){((n,r)=>{e.exports=r()})(z0,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},s,i=!r.document&&!!r.postMessage,o=r.IS_PAPA_WORKER||!1,a={},l=0,c={};function u(g){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(p){var w=O(p);w.chunkSize=parseInt(w.chunkSize),p.step||p.chunk||(w.chunkSize=null),this._handle=new x(w),(this._handle.streamer=this)._config=w}.call(this,g),this.parseChunk=function(p,w){var b=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<b){let V=this._config.newline;V||(E=this._config.quoteChar||'"',V=this._handle.guessLineEndings(p,E)),p=[...p.split(V).slice(b)].join(V)}this.isFirstChunk&&A(this._config.beforeFirstChunk)&&(E=this._config.beforeFirstChunk(p))!==void 0&&(p=E),this.isFirstChunk=!1,this._halted=!1;var b=this._partialLine+p,E=(this._partialLine="",this._handle.parse(b,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(p=E.meta.cursor,b=(this._finished||(this._partialLine=b.substring(p-this._baseIndex),this._baseIndex=p),E&&E.data&&(this._rowCount+=E.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),o)r.postMessage({results:E,workerId:c.WORKER_ID,finished:b});else if(A(this._config.chunk)&&!w){if(this._config.chunk(E,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=E=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(E.data),this._completeResults.errors=this._completeResults.errors.concat(E.errors),this._completeResults.meta=E.meta),this._completed||!b||!A(this._config.complete)||E&&E.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),b||E&&E.meta.paused||this._nextChunk(),E}this._halted=!0},this._sendError=function(p){A(this._config.error)?this._config.error(p):o&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:p,finished:!1})}}function d(g){var p;(g=g||{}).chunkSize||(g.chunkSize=c.RemoteChunkSize),u.call(this,g),this._nextChunk=i?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(p=new XMLHttpRequest,this._config.withCredentials&&(p.withCredentials=this._config.withCredentials),i||(p.onload=M(this._chunkLoaded,this),p.onerror=M(this._chunkError,this)),p.open(this._config.downloadRequestBody?"POST":"GET",this._input,!i),this._config.downloadRequestHeaders){var w,b=this._config.downloadRequestHeaders;for(w in b)p.setRequestHeader(w,b[w])}var E;this._config.chunkSize&&(E=this._start+this._config.chunkSize-1,p.setRequestHeader("Range","bytes="+this._start+"-"+E));try{p.send(this._config.downloadRequestBody)}catch(V){this._chunkError(V.message)}i&&p.status===0&&this._chunkError()}},this._chunkLoaded=function(){p.readyState===4&&(p.status<200||400<=p.status?this._chunkError():(this._start+=this._config.chunkSize||p.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(p),this.parseChunk(p.responseText)))},this._chunkError=function(w){w=p.statusText||w,this._sendError(new Error(w))}}function f(g){(g=g||{}).chunkSize||(g.chunkSize=c.LocalChunkSize),u.call(this,g);var p,w,b=typeof FileReader<"u";this.stream=function(E){this._input=E,w=E.slice||E.webkitSlice||E.mozSlice,b?((p=new FileReader).onload=M(this._chunkLoaded,this),p.onerror=M(this._chunkError,this)):p=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var E=this._input,V=(this._config.chunkSize&&(V=Math.min(this._start+this._config.chunkSize,this._input.size),E=w.call(E,this._start,V)),p.readAsText(E,this._config.encoding));b||this._chunkLoaded({target:{result:V}})},this._chunkLoaded=function(E){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(E.target.result)},this._chunkError=function(){this._sendError(p.error)}}function m(g){var p;u.call(this,g=g||{}),this.stream=function(w){return p=w,this._nextChunk()},this._nextChunk=function(){var w,b;if(!this._finished)return w=this._config.chunkSize,p=w?(b=p.substring(0,w),p.substring(w)):(b=p,""),this._finished=!p,this.parseChunk(b)}}function v(g){u.call(this,g=g||{});var p=[],w=!0,b=!1;this.pause=function(){u.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){u.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(E){this._input=E,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){b&&p.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),p.length?this.parseChunk(p.shift()):w=!0},this._streamData=M(function(E){try{p.push(typeof E=="string"?E:E.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(p.shift()))}catch(V){this._streamError(V)}},this),this._streamError=M(function(E){this._streamCleanUp(),this._sendError(E)},this),this._streamEnd=M(function(){this._streamCleanUp(),b=!0,this._streamData("")},this),this._streamCleanUp=M(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function x(g){var p,w,b,E,V=Math.pow(2,53),H=-V,G=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,te=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,B=this,F=0,N=0,Z=!1,I=!1,W=[],T={data:[],errors:[],meta:{}};function ee(ne){return g.skipEmptyLines==="greedy"?ne.join("").trim()==="":ne.length===1&&ne[0].length===0}function J(){if(T&&b&&(we("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),b=!1),g.skipEmptyLines&&(T.data=T.data.filter(function(Q){return!ee(Q)})),oe()){let Q=function(ge,pe){A(g.transformHeader)&&(ge=g.transformHeader(ge,pe)),W.push(ge)};if(T)if(Array.isArray(T.data[0])){for(var ne=0;oe()&&ne<T.data.length;ne++)T.data[ne].forEach(Q);T.data.splice(0,1)}else T.data.forEach(Q)}function se(Q,ge){for(var pe=g.header?{}:[],re=0;re<Q.length;re++){var ve=re,de=Q[re],de=((Ye,ce)=>(ke=>(g.dynamicTypingFunction&&g.dynamicTyping[ke]===void 0&&(g.dynamicTyping[ke]=g.dynamicTypingFunction(ke)),(g.dynamicTyping[ke]||g.dynamicTyping)===!0))(Ye)?ce==="true"||ce==="TRUE"||ce!=="false"&&ce!=="FALSE"&&((ke=>{if(G.test(ke)&&(ke=parseFloat(ke),H<ke&&ke<V))return 1})(ce)?parseFloat(ce):te.test(ce)?new Date(ce):ce===""?null:ce):ce)(ve=g.header?re>=W.length?"__parsed_extra":W[re]:ve,de=g.transform?g.transform(de,ve):de);ve==="__parsed_extra"?(pe[ve]=pe[ve]||[],pe[ve].push(de)):pe[ve]=de}return g.header&&(re>W.length?we("FieldMismatch","TooManyFields","Too many fields: expected "+W.length+" fields but parsed "+re,N+ge):re<W.length&&we("FieldMismatch","TooFewFields","Too few fields: expected "+W.length+" fields but parsed "+re,N+ge)),pe}var le;T&&(g.header||g.dynamicTyping||g.transform)&&(le=1,!T.data.length||Array.isArray(T.data[0])?(T.data=T.data.map(se),le=T.data.length):T.data=se(T.data,0),g.header&&T.meta&&(T.meta.fields=W),N+=le)}function oe(){return g.header&&W.length===0}function we(ne,se,le,Q){ne={type:ne,code:se,message:le},Q!==void 0&&(ne.row=Q),T.errors.push(ne)}A(g.step)&&(E=g.step,g.step=function(ne){T=ne,oe()?J():(J(),T.data.length!==0&&(F+=ne.data.length,g.preview&&F>g.preview?w.abort():(T.data=T.data[0],E(T,B))))}),this.parse=function(ne,se,le){var Q=g.quoteChar||'"',Q=(g.newline||(g.newline=this.guessLineEndings(ne,Q)),b=!1,g.delimiter?A(g.delimiter)&&(g.delimiter=g.delimiter(ne),T.meta.delimiter=g.delimiter):((Q=((ge,pe,re,ve,de)=>{var Ye,ce,ke,at;de=de||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var ut=0;ut<de.length;ut++){for(var Ke,rt=de[ut],ze=0,Ze=0,qe=0,Qe=(ke=void 0,new R({comments:ve,delimiter:rt,newline:pe,preview:10}).parse(ge)),wt=0;wt<Qe.data.length;wt++)re&&ee(Qe.data[wt])?qe++:(Ke=Qe.data[wt].length,Ze+=Ke,ke===void 0?ke=Ke:0<Ke&&(ze+=Math.abs(Ke-ke),ke=Ke));0<Qe.data.length&&(Ze/=Qe.data.length-qe),(ce===void 0||ze<=ce)&&(at===void 0||at<Ze)&&1.99<Ze&&(ce=ze,Ye=rt,at=Ze)}return{successful:!!(g.delimiter=Ye),bestDelimiter:Ye}})(ne,g.newline,g.skipEmptyLines,g.comments,g.delimitersToGuess)).successful?g.delimiter=Q.bestDelimiter:(b=!0,g.delimiter=c.DefaultDelimiter),T.meta.delimiter=g.delimiter),O(g));return g.preview&&g.header&&Q.preview++,p=ne,w=new R(Q),T=w.parse(p,se,le),J(),Z?{meta:{paused:!0}}:T||{meta:{paused:!1}}},this.paused=function(){return Z},this.pause=function(){Z=!0,w.abort(),p=A(g.chunk)?"":p.substring(w.getCharIndex())},this.resume=function(){B.streamer._halted?(Z=!1,B.streamer.parseChunk(p,!0)):setTimeout(B.resume,3)},this.aborted=function(){return I},this.abort=function(){I=!0,w.abort(),T.meta.aborted=!0,A(g.complete)&&g.complete(T),p=""},this.guessLineEndings=function(ge,Q){ge=ge.substring(0,1048576);var Q=new RegExp(C(Q)+"([^]*?)"+C(Q),"gm"),le=(ge=ge.replace(Q,"")).split("\r"),Q=ge.split(`
`),ge=1<Q.length&&Q[0].length<le[0].length;if(le.length===1||ge)return`
`;for(var pe=0,re=0;re<le.length;re++)le[re][0]===`
`&&pe++;return pe>=le.length/2?`\r
`:"\r"}}function C(g){return g.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function R(g){var p=(g=g||{}).delimiter,w=g.newline,b=g.comments,E=g.step,V=g.preview,H=g.fastMode,G=null,te=!1,B=g.quoteChar==null?'"':g.quoteChar,F=B;if(g.escapeChar!==void 0&&(F=g.escapeChar),(typeof p!="string"||-1<c.BAD_DELIMITERS.indexOf(p))&&(p=","),b===p)throw new Error("Comment character same as delimiter");b===!0?b="#":(typeof b!="string"||-1<c.BAD_DELIMITERS.indexOf(b))&&(b=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var N=0,Z=!1;this.parse=function(I,W,T){if(typeof I!="string")throw new Error("Input must be a string");var ee=I.length,J=p.length,oe=w.length,we=b.length,ne=A(E),se=[],le=[],Q=[],ge=N=0;if(!I)return ze();if(H||H!==!1&&I.indexOf(B)===-1){for(var pe=I.split(w),re=0;re<pe.length;re++){if(Q=pe[re],N+=Q.length,re!==pe.length-1)N+=w.length;else if(T)return ze();if(!b||Q.substring(0,we)!==b){if(ne){if(se=[],at(Q.split(p)),Ze(),Z)return ze()}else at(Q.split(p));if(V&&V<=re)return se=se.slice(0,V),ze(!0)}}return ze()}for(var ve=I.indexOf(p,N),de=I.indexOf(w,N),Ye=new RegExp(C(F)+C(B),"g"),ce=I.indexOf(B,N);;)if(I[N]===B)for(ce=N,N++;;){if((ce=I.indexOf(B,ce+1))===-1)return T||le.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:se.length,index:N}),Ke();if(ce===ee-1)return Ke(I.substring(N,ce).replace(Ye,B));if(B===F&&I[ce+1]===F)ce++;else if(B===F||ce===0||I[ce-1]!==F){ve!==-1&&ve<ce+1&&(ve=I.indexOf(p,ce+1));var ke=ut((de=de!==-1&&de<ce+1?I.indexOf(w,ce+1):de)===-1?ve:Math.min(ve,de));if(I.substr(ce+1+ke,J)===p){Q.push(I.substring(N,ce).replace(Ye,B)),I[N=ce+1+ke+J]!==B&&(ce=I.indexOf(B,N)),ve=I.indexOf(p,N),de=I.indexOf(w,N);break}if(ke=ut(de),I.substring(ce+1+ke,ce+1+ke+oe)===w){if(Q.push(I.substring(N,ce).replace(Ye,B)),rt(ce+1+ke+oe),ve=I.indexOf(p,N),ce=I.indexOf(B,N),ne&&(Ze(),Z))return ze();if(V&&se.length>=V)return ze(!0);break}le.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:se.length,index:N}),ce++}}else if(b&&Q.length===0&&I.substring(N,N+we)===b){if(de===-1)return ze();N=de+oe,de=I.indexOf(w,N),ve=I.indexOf(p,N)}else if(ve!==-1&&(ve<de||de===-1))Q.push(I.substring(N,ve)),N=ve+J,ve=I.indexOf(p,N);else{if(de===-1)break;if(Q.push(I.substring(N,de)),rt(de+oe),ne&&(Ze(),Z))return ze();if(V&&se.length>=V)return ze(!0)}return Ke();function at(qe){se.push(qe),ge=N}function ut(qe){var Qe=0;return Qe=qe!==-1&&(qe=I.substring(ce+1,qe))&&qe.trim()===""?qe.length:Qe}function Ke(qe){return T||(qe===void 0&&(qe=I.substring(N)),Q.push(qe),N=ee,at(Q),ne&&Ze()),ze()}function rt(qe){N=qe,at(Q),Q=[],de=I.indexOf(w,N)}function ze(qe){if(g.header&&!W&&se.length&&!te){var Qe=se[0],wt=Object.create(null),Gn=new Set(Qe);let Sr=!1;for(let Qt=0;Qt<Qe.length;Qt++){let _t=Qe[Qt];if(wt[_t=A(g.transformHeader)?g.transformHeader(_t,Qt):_t]){let sn,kn=wt[_t];for(;sn=_t+"_"+kn,kn++,Gn.has(sn););Gn.add(sn),Qe[Qt]=sn,wt[_t]++,Sr=!0,(G=G===null?{}:G)[sn]=_t}else wt[_t]=1,Qe[Qt]=_t;Gn.add(_t)}Sr&&console.warn("Duplicate headers found and renamed."),te=!0}return{data:se,errors:le,meta:{delimiter:p,linebreak:w,aborted:Z,truncated:!!qe,cursor:ge+(W||0),renamedHeaders:G}}}function Ze(){E(ze()),se=[],le=[]}},this.abort=function(){Z=!0},this.getCharIndex=function(){return N}}function _(g){var p=g.data,w=a[p.workerId],b=!1;if(p.error)w.userError(p.error,p.file);else if(p.results&&p.results.data){var E={abort:function(){b=!0,P(p.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:L,resume:L};if(A(w.userStep)){for(var V=0;V<p.results.data.length&&(w.userStep({data:p.results.data[V],errors:p.results.errors,meta:p.results.meta},E),!b);V++);delete p.results}else A(w.userChunk)&&(w.userChunk(p.results,E,p.file),delete p.results)}p.finished&&!b&&P(p.workerId,p.results)}function P(g,p){var w=a[g];A(w.userComplete)&&w.userComplete(p),w.terminate(),delete a[g]}function L(){throw new Error("Not implemented.")}function O(g){if(typeof g!="object"||g===null)return g;var p,w=Array.isArray(g)?[]:{};for(p in g)w[p]=O(g[p]);return w}function M(g,p){return function(){g.apply(p,arguments)}}function A(g){return typeof g=="function"}return c.parse=function(g,p){var w=(p=p||{}).dynamicTyping||!1;if(A(w)&&(p.dynamicTypingFunction=w,w={}),p.dynamicTyping=w,p.transform=!!A(p.transform)&&p.transform,!p.worker||!c.WORKERS_SUPPORTED)return w=null,c.NODE_STREAM_INPUT,typeof g=="string"?(g=(b=>b.charCodeAt(0)!==65279?b:b.slice(1))(g),w=new(p.download?d:m)(p)):g.readable===!0&&A(g.read)&&A(g.on)?w=new v(p):(r.File&&g instanceof File||g instanceof Object)&&(w=new f(p)),w.stream(g);(w=(()=>{var b;return!!c.WORKERS_SUPPORTED&&(b=(()=>{var E=r.URL||r.webkitURL||null,V=n.toString();return c.BLOB_URL||(c.BLOB_URL=E.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",V,")();"],{type:"text/javascript"})))})(),(b=new r.Worker(b)).onmessage=_,b.id=l++,a[b.id]=b)})()).userStep=p.step,w.userChunk=p.chunk,w.userComplete=p.complete,w.userError=p.error,p.step=A(p.step),p.chunk=A(p.chunk),p.complete=A(p.complete),p.error=A(p.error),delete p.worker,w.postMessage({input:g,config:p,workerId:w.id})},c.unparse=function(g,p){var w=!1,b=!0,E=",",V=`\r
`,H='"',G=H+H,te=!1,B=null,F=!1,N=((()=>{if(typeof p=="object"){if(typeof p.delimiter!="string"||c.BAD_DELIMITERS.filter(function(W){return p.delimiter.indexOf(W)!==-1}).length||(E=p.delimiter),typeof p.quotes!="boolean"&&typeof p.quotes!="function"&&!Array.isArray(p.quotes)||(w=p.quotes),typeof p.skipEmptyLines!="boolean"&&typeof p.skipEmptyLines!="string"||(te=p.skipEmptyLines),typeof p.newline=="string"&&(V=p.newline),typeof p.quoteChar=="string"&&(H=p.quoteChar),typeof p.header=="boolean"&&(b=p.header),Array.isArray(p.columns)){if(p.columns.length===0)throw new Error("Option columns is empty");B=p.columns}p.escapeChar!==void 0&&(G=p.escapeChar+H),p.escapeFormulae instanceof RegExp?F=p.escapeFormulae:typeof p.escapeFormulae=="boolean"&&p.escapeFormulae&&(F=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(H),"g"));if(typeof g=="string"&&(g=JSON.parse(g)),Array.isArray(g)){if(!g.length||Array.isArray(g[0]))return Z(null,g,te);if(typeof g[0]=="object")return Z(B||Object.keys(g[0]),g,te)}else if(typeof g=="object")return typeof g.data=="string"&&(g.data=JSON.parse(g.data)),Array.isArray(g.data)&&(g.fields||(g.fields=g.meta&&g.meta.fields||B),g.fields||(g.fields=Array.isArray(g.data[0])?g.fields:typeof g.data[0]=="object"?Object.keys(g.data[0]):[]),Array.isArray(g.data[0])||typeof g.data[0]=="object"||(g.data=[g.data])),Z(g.fields||[],g.data||[],te);throw new Error("Unable to serialize unrecognized input");function Z(W,T,ee){var J="",oe=(typeof W=="string"&&(W=JSON.parse(W)),typeof T=="string"&&(T=JSON.parse(T)),Array.isArray(W)&&0<W.length),we=!Array.isArray(T[0]);if(oe&&b){for(var ne=0;ne<W.length;ne++)0<ne&&(J+=E),J+=I(W[ne],ne);0<T.length&&(J+=V)}for(var se=0;se<T.length;se++){var le=(oe?W:T[se]).length,Q=!1,ge=oe?Object.keys(T[se]).length===0:T[se].length===0;if(ee&&!oe&&(Q=ee==="greedy"?T[se].join("").trim()==="":T[se].length===1&&T[se][0].length===0),ee==="greedy"&&oe){for(var pe=[],re=0;re<le;re++){var ve=we?W[re]:re;pe.push(T[se][ve])}Q=pe.join("").trim()===""}if(!Q){for(var de=0;de<le;de++){0<de&&!ge&&(J+=E);var Ye=oe&&we?W[de]:de;J+=I(T[se][Ye],de)}se<T.length-1&&(!ee||0<le&&!ge)&&(J+=V)}}return J}function I(W,T){var ee,J;return W==null?"":W.constructor===Date?JSON.stringify(W).slice(1,25):(J=!1,F&&typeof W=="string"&&F.test(W)&&(W="'"+W,J=!0),ee=W.toString().replace(N,G),(J=J||w===!0||typeof w=="function"&&w(W,T)||Array.isArray(w)&&w[T]||((oe,we)=>{for(var ne=0;ne<we.length;ne++)if(-1<oe.indexOf(we[ne]))return!0;return!1})(ee,c.BAD_DELIMITERS)||-1<ee.indexOf(E)||ee.charAt(0)===" "||ee.charAt(ee.length-1)===" ")?H+ee+H:ee)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!i&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=R,c.ParserHandle=x,c.NetworkStreamer=d,c.FileStreamer=f,c.StringStreamer=m,c.ReadableStreamStreamer=v,r.jQuery&&((s=r.jQuery).fn.parse=function(g){var p=g.config||{},w=[];return this.each(function(V){if(!(s(this).prop("tagName").toUpperCase()==="INPUT"&&s(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var H=0;H<this.files.length;H++)w.push({file:this.files[H],inputElem:this,instanceConfig:s.extend({},p)})}),b(),this;function b(){if(w.length===0)A(g.complete)&&g.complete();else{var V,H,G,te,B=w[0];if(A(g.before)){var F=g.before(B.file,B.inputElem);if(typeof F=="object"){if(F.action==="abort")return V="AbortError",H=B.file,G=B.inputElem,te=F.reason,void(A(g.error)&&g.error({name:V},H,G,te));if(F.action==="skip")return void E();typeof F.config=="object"&&(B.instanceConfig=s.extend(B.instanceConfig,F.config))}else if(F==="skip")return void E()}var N=B.instanceConfig.complete;B.instanceConfig.complete=function(Z){A(N)&&N(Z,B.file,B.inputElem),E()},c.parse(B.file,B.instanceConfig)}}function E(){w.splice(0,1),b()}}),o&&(r.onmessage=function(g){g=g.data,c.WORKER_ID===void 0&&g&&(c.WORKER_ID=g.workerId),typeof g.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(g.input,g.config),finished:!0}):(r.File&&g.input instanceof File||g.input instanceof Object)&&(g=c.parse(g.input,g.config))&&r.postMessage({workerId:c.WORKER_ID,results:g,finished:!0})}),(d.prototype=Object.create(u.prototype)).constructor=d,(f.prototype=Object.create(u.prototype)).constructor=f,(m.prototype=Object.create(m.prototype)).constructor=m,(v.prototype=Object.create(u.prototype)).constructor=v,c})})(ri)),ri.exports}W0();function Sa({name:e=null,id:t=null,createdAt:n=Date.now(),reviewerName:r=""}){if(!t||typeof t!="string"||!t.trim())throw new Error("AMSTAR2Checklist requires a non-empty string id.");if(!e||typeof e!="string"||!e.trim())throw new Error("AMSTAR2Checklist requires a non-empty string name.");return{name:e,reviewerName:r||"",createdAt:n,id:t,q1:{answers:[[!1,!1,!1,!1],[!1],[!1,!0]],critical:!1},q2:{answers:[[!1,!1,!1,!1],[!1,!1,!1],[!1,!1,!0]],critical:!0},q3:{answers:[[!1,!1,!1],[!1,!0]],critical:!1},q4:{answers:[[!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!0]],critical:!0},q5:{answers:[[!1,!1],[!1,!0]],critical:!1},q6:{answers:[[!1,!1],[!1,!0]],critical:!1},q7:{answers:[[!1],[!1],[!1,!1,!0]],critical:!0},q8:{answers:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!0]],critical:!1},q9a:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q9b:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q10:{answers:[[!1],[!1,!0]],critical:!1},q11a:{answers:[[!1,!1,!1],[!1,!0,!1]],critical:!0},q11b:{answers:[[!1,!1,!1,!1],[!1,!0,!1]],critical:!0},q12:{answers:[[!1,!1],[!1,!0,!1]],critical:!1},q13:{answers:[[!1,!1],[!1,!0]],critical:!0},q14:{answers:[[!1,!1],[!1,!0]],critical:!1},q15:{answers:[[!1],[!1,!0,!1]],critical:!0},q16:{answers:[[!1,!1],[!1,!0]],critical:!1}}}function Zl(e){if(!e||typeof e!="object")return"Error";let t=0,n=0;return Object.entries(e).forEach(([r,s])=>{if(!/^q\d+[a-z]*$/i.test(r)||!s||!Array.isArray(s.answers))return;const i=$a(s.answers,r);(!i||i==="No")&&(s.critical?t++:n++)}),t>1?"Critically Low":t===1?"Low":n>1?"Moderate":"High"}function $a(e,t){const n=["q11a","q11b","q12","q15"],r=["Yes","No","No MA"],s=["Yes","Partial Yes","No","No MA"];if(!Array.isArray(e)||e.length===0)return null;const i=e[e.length-1];if(!Array.isArray(i))return null;const o=i.findIndex(a=>a===!0);return o===-1?null:n.includes(t)?r[o]||null:i.length===2?o===0?"Yes":"No":i.length>=3&&s[o]||null}function Y0(e){if(!e||typeof e!="object")return null;const t={};return Object.entries(e).forEach(([n,r])=>{if(!/^q\d+[a-z]*$/i.test(n)||!r||!Array.isArray(r.answers))return;const s=$a(r.answers,n);t[n]=s}),"q9a"in t&&"q9b"in t&&(t.q9a==="No"||t.q9b==="No"?t.q9="No":t.q9a==="No MA"&&t.q9b==="No MA"?t.q9="No MA":t.q9="Yes"),delete t.q9a,delete t.q9b,"q11a"in t&&"q11b"in t&&(t.q11a==="No"||t.q11b==="No"?t.q11="No":t.q11a==="No MA"&&t.q11b==="No MA"?t.q11="No MA":t.q11="Yes"),delete t.q11a,delete t.q11b,t}function Q0(e){const t=Array.isArray(e)?e:[e],n=Object.keys(tt),r=["Checklist Name","Reviewer","Question","Question Text","Column Label","Option Text","Selected","Selected Answer"],s=[];t.forEach(a=>{n.forEach(l=>{const c=tt[l],u=c?.text||l,d=c?.columns||[],f=a[l]?.answers||[],m=a[l]?.critical||!1,v=$a(f,l)||"";d.forEach((x,C)=>{const R=x.label||"",_=x.options||[],P=f[C]||[];_.forEach((L,O)=>{const M=P[O]===!0?"TRUE":"FALSE";s.push([a.name||"",a.reviewerName||"",m,l,u,R,L,M,v])})})})});const i=a=>`"${String(a).replace(/"/g,'""').replace(/\n/g," ")}"`;return r.map(i).join(",")+`
`+s.map(a=>a.map(i).join(",")).join(`
`)}var K0=j('<div class="bg-white rounded-lg shadow-md p-8 text-sm"><div class=flex><h3 class="font-semibold text-gray-900"></h3></div><div class="font-semibold text-gray-900 h-4 mt-2 mb-1"></div><div class="font-semibold text-gray-900 h-4 mt-2">'),G0=j('<div class="bg-white rounded-lg shadow-md p-8 text-sm"><div class=flex><h3 class="font-semibold text-gray-900"></h3></div><div class="font-semibold text-gray-900 h-4 mt-2"></div><div class="font-semibold text-gray-900 h-4 mt-4">'),J0=j('<div class="bg-white rounded-lg shadow-md p-7"><div class=flex><h3 class="font-semibold text-sm text-gray-900 mb-1">'),X0=j("<div class=ml-auto><button>"),Z0=j('<div class="flex flex-col gap-4 sm:flex-row sm:gap-6">'),eg=j('<div><div class="font-semibold text-gray-800 text-xs break-words whitespace-normal min-w-0 w-full min-h-[2rem] flex items-center">'),tg=j('<div class="flex flex-col gap-2 mt-1">'),ng=j('<label class="flex items-center space-x-2 text-xs"><input type=radio class="w-3.5 h-3.5 text-blue-600 border-gray-300 focus:ring-blue-500 cursor-pointer"><span class="text-gray-700 break-words">'),rg=j('<div class="flex flex-col gap-2">'),sg=j('<label class="flex items-center space-x-2 text-xs"><input type=checkbox class="w-3 h-3 shrink-0 text-blue-600 border-gray-300 focus:ring-blue-500"><span class="text-gray-700 break-words">'),ig=j("<div class=space-y-6>"),og=j('<div class="min-h-screen bg-linear-to-br from-blue-50 to-indigo-100"><div class="container mx-auto px-4 py-6 max-w-5xl"><div class="bg-white rounded-lg shadow-lg p-6 mb-8"><h1 class="text-2xl font-bold text-gray-900 mb-4">AMSTAR 2 Checklist</h1><div class="grid md:grid-cols-3 gap-4 text-xs"><div><label for=reviewName class="block font-medium text-gray-700 mb-2">Review Title</label><input type=text id=reviewName class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs"placeholder="Enter review title"></div><div><label for=reviewerName class="block font-medium text-gray-700 mb-2">Reviewer Name</label><input type=text id=reviewerName class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs"placeholder="Enter your name"></div><div><label for=reviewDate class="block font-medium text-gray-700 mb-2">Review Date</label><input type=date id=reviewDate class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs">'),ag=j("<div>Loading...");function lg(e){const t=()=>e.checklistState().q1,n=tt.q1;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0){const l=o[0].every(Boolean);o[2][0]=l,o[2][1]=!l}s===2&&(i===0&&o[2][0]&&(o[2][1]=!1),i===1&&o[2][1]&&(o[2][0]=!1));const a={...e.checklistState().q1,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function cg(e){const t=()=>e.checklistState().q2,n=tt.q2;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0||s===1){const l=o[0].every(Boolean),c=l&&o[1].every(Boolean);o[2][0]=c,o[2][1]=!c&&l,o[2][2]=!c&&!l}s===2&&(o[2]=o[2].map((l,c)=>c===i?!t().answers[2][i]:!1));const a={...e.checklistState().q2,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function ug(e){const t=()=>e.checklistState().q3,n=tt.q3;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}s===1&&(i===0&&o[1][0]&&(o[1][1]=!1),i===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q3,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function dg(e){const t=()=>e.checklistState().q4,n=tt.q4;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0||s===1){const l=o[0].every(Boolean),c=l&&o[1].every(Boolean);o[2][0]=c,o[2][1]=!c&&l,o[2][2]=!c&&!l}s===2&&(o[2]=o[2].map((l,c)=>c===i?!t().answers[2][i]:!1));const a={...e.checklistState().q4,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function fg(e){const t=()=>e.checklistState().q5,n=tt.q5;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}s===1&&(i===0&&o[1][0]&&(o[1][1]=!1),i===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q5,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function hg(e){const t=()=>e.checklistState().q6,n=tt.q6;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}s===1&&(i===0&&o[1][0]&&(o[1][1]=!1),i===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q6,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function gg(e){const t=()=>e.checklistState().q7,n=tt.q7;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0||s===1){const l=o[0].every(Boolean),c=l&&o[1].every(Boolean);o[2][0]=c,o[2][1]=!c&&l,o[2][2]=!c&&!l}s===2&&(o[2]=o[2].map((l,c)=>c===i?!t().answers[2][i]:!1));const a={...e.checklistState().q7,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function pg(e){const t=()=>e.checklistState().q8,n=tt.q8;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0||s===1){const l=o[0].every(Boolean),c=l&&o[1].every(Boolean);o[2][0]=c,o[2][1]=!c&&l,o[2][2]=!c&&!l}s===2&&(o[2]=o[2].map((l,c)=>c===i?!t().answers[2][i]:!1));const a={...e.checklistState().q8,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function mg(e){const t=()=>e.checklistState().q9a,n=()=>e.checklistState().q9b,r=tt.q9;function s(a,l){const c=t().answers.map(d=>[...d]);if(c[a][l]=!t().answers[a][l],a===0||a===1){const d=c[0].every(Boolean),f=d&&c[1].every(Boolean);c[2][0]=f,c[2][1]=!f&&d,c[2][2]=!f&&!d,c[2][3]=!1}a===2&&(c[2]=c[2].map((d,f)=>f===l?!t().answers[2][l]:!1));const u={...e.checklistState().q9a,answers:c};e.onUpdatea(u)}function i(a,l){const c=n().answers.map(d=>[...d]);if(c[a][l]=!n().answers[a][l],a===0||a===1){const d=c[0].every(Boolean),f=d&&c[1].every(Boolean);c[2][0]=f,c[2][1]=!f&&d,c[2][2]=!f&&!d,c[2][3]=!1}a===2&&(c[2]=c[2].map((d,f)=>f===l?!n().answers[2][l]:!1));const u={...e.checklistState().q9b,answers:c};console.log("Updating q9b to",u),e.onUpdateb(u)}function o(a){const l=a.critical,c={...t(),critical:l},u={...n(),critical:l};e.onUpdatea(c),setTimeout(()=>{e.onUpdateb(u)},10)}return(()=>{var a=K0(),l=a.firstChild,c=l.firstChild,u=l.nextSibling,d=u.nextSibling;return k(c,()=>r.text),k(l,$(Ca,{state:t,onUpdate:o}),null),k(u,()=>r.subtitle),k(a,$(os,{state:t,question:{text:"q9a"},get columns(){return r.columns},handleChange:s}),d),k(d,()=>r.subtitle2),k(a,$(os,{state:n,question:{text:"q9b"},get columns(){return r.columns2},handleChange:i}),null),a})()}function wg(e){const t=()=>e.checklistState().q10,n=tt.q10;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}s===1&&(i===0&&o[1][0]&&(o[1][1]=!1),i===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q10,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function vg(e){const t=()=>e.checklistState().q11a,n=()=>e.checklistState().q11b,r=tt.q11;function s(a,l){const c=t().answers.map(d=>[...d]);if(c[a][l]=!t().answers[a][l],a===0){const d=c[0].every(Boolean);c[1][0]=d,c[1][1]=!d,c[1][2]=!1}a===1&&(c[1]=c[1].map((d,f)=>f===l?!t().answers[1][l]:!1));const u={...e.checklistState().q11a,answers:c};e.onUpdatea(u)}function i(a,l){const c=n().answers.map(d=>[...d]);if(c[a][l]=!n().answers[a][l],a===0){const d=c[0].every(Boolean);c[1][0]=d,c[1][1]=!d,c[1][2]=!1}a===1&&(c[1]=c[1].map((d,f)=>f===l?!n().answers[1][l]:!1));const u={...e.checklistState().q11b,answers:c};e.onUpdateb(u)}function o(a){const l=a.critical,c={...t(),critical:l},u={...n(),critical:l};e.onUpdatea(c),setTimeout(()=>{e.onUpdateb(u)},10)}return(()=>{var a=G0(),l=a.firstChild,c=l.firstChild,u=l.nextSibling,d=u.nextSibling;return k(c,()=>r.text),k(l,$(Ca,{state:t,onUpdate:o}),null),k(u,()=>r.subtitle),k(a,$(os,{state:t,question:{text:"q11a"},get columns(){return r.columns},handleChange:s,width:"w-48"}),d),k(d,()=>r.subtitle2),k(a,$(os,{state:n,question:{text:"q11b"},get columns(){return r.columns2},handleChange:i,width:"w-48"}),null),a})()}function yg(e){const t=()=>e.checklistState().q12,n=tt.q12;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l,o[1][2]=!1}s===1&&(o[1]=o[1].map((l,c)=>c===i?!t().answers[1][i]:!1));const a={...e.checklistState().q12,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e,{width:"w-48"}))}function bg(e){const t=()=>e.checklistState().q13,n=tt.q13;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}s===1&&(i===0&&o[1][0]&&(o[1][1]=!1),i===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q13,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function xg(e){const t=()=>e.checklistState().q14,n=tt.q14;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}s===1&&(i===0&&o[1][0]&&(o[1][1]=!1),i===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q14,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function _g(e){const t=()=>e.checklistState().q15,n=tt.q15;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l,o[1][2]=!1}s===1&&(o[1]=o[1].map((l,c)=>c===i?!t().answers[1][i]:!1));const a={...e.checklistState().q15,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e,{width:"w-48"}))}function kg(e){const t=()=>e.checklistState().q16,n=tt.q16;function r(s,i){const o=t().answers.map(l=>[...l]);if(o[s][i]=!t().answers[s][i],s===0){const l=o[0].some(Boolean);o[1][0]=l,o[1][1]=!l}s===1&&(i===0&&o[1][0]&&(o[1][1]=!1),i===1&&o[1][1]&&(o[1][0]=!1));const a={...e.checklistState().q16,answers:o};e.onUpdate(a)}return $(mt,be({state:t,question:n,handleChange:r},e))}function mt(e){return(()=>{var t=J0(),n=t.firstChild,r=n.firstChild;return k(r,()=>e.question.text),k(n,$(Ca,{get state(){return e.state},get onUpdate(){return e.onUpdate}}),null),k(t,$(os,be({get columns(){return e.question.columns}},e)),null),t})()}function Ca(e){function t(n){const r={...e.state(),critical:n};e.onUpdate(r)}return(()=>{var n=X0(),r=n.firstChild;return r.$$click=()=>t(!e.state().critical),k(r,()=>e.state().critical?"Critical":"Not Critical"),ie(s=>{var i=`ml-2 px-3 h-6 rounded-full text-xs font-medium transition-colors text-nowrap
        ${e.state().critical?"bg-red-100 text-red-700 border border-red-300 hover:bg-red-200":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,o=e.state().critical;return i!==s.e&&We(r,s.e=i),o!==s.t&&pt(r,"aria-pressed",s.t=o),s},{e:void 0,t:void 0}),n})()}function os(e){return(()=>{var t=Z0();return k(t,$(it,{get each(){return e.columns},children:(n,r)=>(()=>{var s=eg(),i=s.firstChild;return k(i,()=>n.label),k(s,(()=>{var o=je(()=>r()===e.columns.length-1);return()=>o()?(()=>{var a=tg();return k(a,$(it,{get each(){return n.options},children:(l,c)=>(()=>{var u=ng(),d=u.firstChild,f=d.nextSibling;return d.addEventListener("change",()=>e.handleChange(r(),c())),k(f,l),ie(()=>pt(d,"name",`col-${r()}-${e.question?.text??""}`)),ie(()=>d.checked=e.state().answers[r()][c()]),u})()})),a})():(()=>{var a=rg();return k(a,$(it,{get each(){return n.options},children:(l,c)=>(()=>{var u=sg(),d=u.firstChild,f=d.nextSibling;return d.addEventListener("change",()=>e.handleChange(r(),c())),k(f,l),ie(()=>d.checked=e.state().answers[r()][c()]),u})()})),a})()})(),null),ie(()=>We(s,r()===e.columns.length-1?`${e.width??"w-32"} flex flex-col min-w-0`:"flex-1 flex flex-col min-w-0")),s})()})),t})()}function ec(){const[e,t]=z(""),[n,r]=z(""),[s,i]=z(""),{currentChecklist:o,setCurrentChecklist:a,updateChecklist:l,dataLoading:c}=Wt(),u=Yi(),d=zt();De(async()=>{if(u.checklistSlug==="new"){const m=Sa({name:"New AMSTAR 2 Checklist",id:await Un(),createdAt:Date.now(),reviewerName:""});if(a(m),u.projectSlug&&u.reviewSlug){const v=Ht(m.name)+"-"+m.id;d(`/projects/${u.projectSlug}/reviews/${u.reviewSlug}/checklists/${v}`,{replace:!0})}}else if(u.checklistSlug!==void 0){const m=u.checklistSlug.lastIndexOf("-");let v=m!==-1?u.checklistSlug.slice(m+1):u.checklistSlug;a({id:v})}else c()||(console.warn("AMSTAR2Checklist: No current checklist found for",u.checklistSlug),d("/dashboard"))}),De(()=>{o()&&(t(o().name||""),r(o().reviewerName||""),i(o().reviewDate||""))});const f=m=>{const v={...o(),...m};l(v)};return(()=>{var m=og(),v=m.firstChild,x=v.firstChild,C=x.firstChild,R=C.nextSibling,_=R.firstChild,P=_.firstChild,L=P.nextSibling,O=_.nextSibling,M=O.firstChild,A=M.nextSibling,g=O.nextSibling,p=g.firstChild,w=p.nextSibling;return L.addEventListener("change",b=>{if(t(b.target.value),f({name:b.target.value}),console.log("Review name changed to",b.target.value),u.projectSlug&&u.reviewSlug&&u.checklistSlug&&o()){const E=u.checklistSlug.lastIndexOf("-"),V=E!==-1?u.checklistSlug.slice(E+1):u.checklistSlug,H=Ht(b.target.value)+"-"+V;d(`/projects/${u.projectSlug}/reviews/${u.reviewSlug}/checklists/${H}`,{replace:!0})}}),A.addEventListener("change",b=>{r(b.target.value),f({reviewerName:b.target.value})}),w.addEventListener("change",b=>{i(b.target.value),f({reviewDate:b.target.value})}),k(v,$(_e,{get when(){return je(()=>!c())()&&o()},get fallback(){return ag()},get children(){var b=ig();return k(b,$(lg,{onUpdate:E=>f({q1:E}),checklistState:o}),null),k(b,$(cg,{onUpdate:E=>f({q2:E}),checklistState:o}),null),k(b,$(ug,{onUpdate:E=>f({q3:E}),checklistState:o}),null),k(b,$(dg,{onUpdate:E=>f({q4:E}),checklistState:o}),null),k(b,$(fg,{onUpdate:E=>f({q5:E}),checklistState:o}),null),k(b,$(hg,{onUpdate:E=>f({q6:E}),checklistState:o}),null),k(b,$(gg,{onUpdate:E=>f({q7:E}),checklistState:o}),null),k(b,$(pg,{onUpdate:E=>f({q8:E}),checklistState:o}),null),k(b,$(mg,{onUpdatea:E=>f({q9a:E}),onUpdateb:E=>f({q9b:E}),checklistState:o}),null),k(b,$(wg,{onUpdate:E=>f({q10:E}),checklistState:o}),null),k(b,$(vg,{onUpdatea:E=>f({q11a:E}),onUpdateb:E=>f({q11b:E}),checklistState:o}),null),k(b,$(yg,{onUpdate:E=>f({q12:E}),checklistState:o}),null),k(b,$(bg,{onUpdate:E=>f({q13:E}),checklistState:o}),null),k(b,$(xg,{onUpdate:E=>f({q14:E}),checklistState:o}),null),k(b,$(_g,{onUpdate:E=>f({q15:E}),checklistState:o}),null),k(b,$(kg,{onUpdate:E=>f({q16:E}),checklistState:o}),null),b}}),null),ie(()=>L.value=e()),ie(()=>A.value=n()),ie(()=>w.value=s()),m})()}Be(["click"]);function Hu({id:e,name:t,createdAt:n=Date.now(),checklists:r=[],pdfFileName:s=null}={}){if(!e)throw new Error("Review id is required");if(!t)throw new Error("Review name is required");return{id:e,name:t,createdAt:n,checklists:r,pdfFileName:s}}var Sg=j('<div class="absolute w-full z-50"><ul class="max-h-[240px] overflow-y-auto bg-white border border-gray-200 rounded-lg shadow-lg divide-y divide-gray-100">'),$g=j('<div class="absolute w-full z-50"><div class="bg-white border border-gray-200 rounded-lg shadow-lg p-6 flex flex-col items-center justify-center text-gray-500"><svg class="animate-spin -ml-1 mr-2 h-4 w-4 text-blue-600"xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg>Searching...'),Cg=j('<div class="absolute w-full z-50"><div class="bg-white border border-gray-200 rounded-lg shadow-lg p-6 flex flex-col items-center justify-center text-gray-500"><svg class="h-12 w-12 text-gray-300 mb-2"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=1 d="M8 16l2.879-2.879m0 0a3 3 0 104.243-4.242 3 3 0 00-4.243 4.242zM21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><p class=text-sm>No users found'),Eg=j('<div class="absolute w-full z-50"><div class="bg-white border border-gray-200 rounded-lg shadow-lg p-4 text-center"><p class="text-sm text-gray-500">Type at least 2 characters to search'),Ag=j('<div class="rounded-lg bg-red-50 border border-red-200 p-4 flex items-start"><svg class="h-5 w-5 text-red-400 mt-0.5 mr-3 flex-shrink-0"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z"clip-rule=evenodd></path></svg><p class="text-sm text-red-800">'),Rg=j('<div class="rounded-lg bg-green-50 border border-green-200 p-4 flex items-start"><svg class="h-5 w-5 text-green-400 mt-0.5 mr-3 flex-shrink-0"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg><p class="text-sm text-green-800">'),Pg=j('<div class="fixed inset-0 z-50 w-full flex items-center justify-center bg-black/40 overflow-auto py-8"><div class="max-w-2xl w-full mx-auto p-6 md:p-8 bg-white rounded-xl shadow-lg border border-gray-100 m-4"><div class="flex justify-between items-start mb-6"><div><h3 class="text-2xl font-bold text-gray-900 mb-2">Add Team Members</h3><p class="text-sm text-gray-600">Search for users or add them directly by email</p></div><button class="text-gray-400 hover:text-gray-600 focus:outline-none"aria-label="Close dialog"><svg class="h-6 w-6"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class=mb-8><div class=relative><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="h-5 w-5 text-gray-400"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><input type=text placeholder="Search users by name or email"class="block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"autocomplete=off></div><div class="relative mt-3"></div></div><div class="relative mb-8"><div class="absolute inset-0 flex items-center"><div class="w-full border-t border-gray-300"></div></div><div class="relative flex justify-center text-sm"><span class="px-4 bg-white text-gray-500 font-medium">Or add by email</span></div></div><div class=space-y-4><div><label for=email class="block text-sm font-medium text-gray-700 mb-2">Email Address</label><input id=email type=email placeholder=colleague@example.com class="block w-full px-4 py-3 border border-gray-300 rounded-lg leading-5 bg-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"></div><button class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold py-3 px-6 rounded-lg hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-200 shadow-md hover:shadow-lg">Add to Project</button><div class="h-[20px] mt-4"></div><div class="flex justify-end mt-8 pt-4 border-t border-gray-200"><button class="px-6 py-2 border border-gray-300 text-gray-700 rounded-lg mr-3 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Cancel</button><button class="px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">Done'),Tg=j('<li class="px-4 py-3 hover:bg-blue-50 cursor-pointer transition-colors duration-150 flex items-center justify-between group"><div class="flex items-center min-w-0"><div class="flex-shrink-0 h-10 w-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-semibold text-sm"></div><div class="ml-3 min-w-0 flex-1"><p class="text-sm font-medium text-gray-900 truncate"></p><p class="text-sm text-gray-500 truncate"></p></div></div><svg class="h-5 w-5 text-gray-400 group-hover:text-blue-600 transition-colors"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7">');function Mg(e){const{searchUsers:t,addUserToProjectByEmail:n,currentProject:r}=Wt(),[s,i]=z(""),[o,a]=z([]),[l,c]=z(!1),[u,d]=z(""),[f,m]=z(""),[v,x]=z("");let C;De(()=>{const P=s();if(!P||P.length<2){a([]);return}clearTimeout(C),P.length>=2&&(c(!0),d(""),C=setTimeout(async()=>{try{const L=await t(P);await new Promise(O=>setTimeout(O,500)),a(L)}catch(L){console.error("Search error:",L),d("Failed to search users"),a([])}finally{c(!1)}},300))});const R=async P=>{x(P.email),i(""),a([])},_=async P=>{if(P.preventDefault(),!v()){d("Please enter an email address");return}d(""),m("");try{const L=await n(r().id,v());m(`Added ${L.user.name} (${L.user.email}) to the project`),x(""),e.onMemberAdded&&e.onMemberAdded(L.user)}catch(L){d(L.message||"Failed to add user to project")}};return $(_e,{get when(){return e.open},get children(){return $(ku,{get children(){var P=Pg(),L=P.firstChild,O=L.firstChild,M=O.firstChild,A=M.nextSibling,g=O.nextSibling,p=g.firstChild,w=p.firstChild,b=w.nextSibling,E=p.nextSibling,V=g.nextSibling,H=V.nextSibling,G=H.firstChild,te=G.firstChild,B=te.nextSibling,F=G.nextSibling,N=F.nextSibling,Z=N.nextSibling,I=Z.firstChild,W=I.nextSibling;return A.$$click=()=>e.onClose?.(),b.$$input=T=>i(T.target.value),k(E,$(_e,{get when(){return o().length>0},get children(){var T=Sg(),ee=T.firstChild;return k(ee,()=>o().map(J=>(()=>{var oe=Tg(),we=oe.firstChild,ne=we.firstChild,se=ne.nextSibling,le=se.firstChild,Q=le.nextSibling;return oe.$$click=()=>R(J),k(ne,()=>J.name?.charAt(0).toUpperCase()),k(le,()=>J.name),k(Q,()=>J.email),oe})())),T}}),null),k(E,$(_e,{get when(){return l()},get children(){return $g()}}),null),k(E,$(_e,{get when(){return je(()=>!l()&&s().length>=2)()&&o().length===0},get children(){return Cg()}}),null),k(E,$(_e,{get when(){return je(()=>s().length<2&&!l())()&&s().length>0},get children(){return Eg()}}),null),B.addEventListener("keypress",T=>T.key==="Enter"&&_(T)),B.$$input=T=>x(T.target.value),F.$$click=_,k(N,$(_e,{get when(){return u()},get children(){var T=Ag(),ee=T.firstChild,J=ee.nextSibling;return k(J,u),T}}),null),k(N,$(_e,{get when(){return f()},get children(){var T=Rg(),ee=T.firstChild,J=ee.nextSibling;return k(J,f),T}}),null),I.$$click=()=>e.onClose?.(),W.$$click=()=>e.onClose?.(),ie(()=>b.value=s()),ie(()=>B.value=v()),P}})}})}Be(["click","input"]);const Lg="http://localhost:8000",dt="/api/v1";let Ge=Lg;Ge.endsWith("/api/v1")&&(Ge=Ge.replace("/api/v1",""));const Xe={SIGNUP:`${Ge}${dt}/auth/signup`,SIGNIN:`${Ge}${dt}/auth/signin`,SIGNOUT:`${Ge}${dt}/auth/signout`,REFRESH:`${Ge}${dt}/auth/refresh`,SEND_VERIFICATION:`${Ge}${dt}/auth/send-verification`,VERIFY_EMAIL:`${Ge}${dt}/auth/verify-email`,REQUEST_PASSWORD_RESET:`${Ge}${dt}/auth/request-password-reset`,RESET_PASSWORD:`${Ge}${dt}/auth/reset-password`,CURRENT_USER:`${Ge}${dt}/users/me`,SEARCH_USERS:`${Ge}${dt}/users/search`,PROJECTS:`${Ge}${dt}/projects`,REVIEWS:`${Ge}${dt}/reviews`,CHECKLISTS:`${Ge}${dt}/checklists`,ELECTRIC_SHAPE:`${Ge}${dt}/electric/shape`,HEALTH:`${Ge}/healthz`,HEALTH_DB:`${Ge}/healthz/db`};async function Ng(e,t,n){const r=Intl.DateTimeFormat().resolvedOptions().timeZone,s=navigator.language,i=await fetch(Xe.SIGNUP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n,timezone:r,locale:s})});if(!i.ok){const o=await i.text();throw console.error("Signup error:",o),new Error(o||"Signup failed")}}let as=null;async function Og(e,t){const n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=navigator.language,s=await fetch(Xe.SIGNIN,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t,timezone:n,locale:r})});if(!s.ok){const o=await s.text();throw console.error("Sign in failed:",o),new Error(o||"Sign in failed")}as=(await s.json()).accessToken}async function bo(){const e=await xs(Xe.CURRENT_USER);if(!e.ok){const t=await e.text();throw console.error("Failed to fetch user:",t),new Error(t||"Failed to fetch user")}return await e.json()}async function xs(e,t={}){t.headers={...t.headers,Authorization:`Bearer ${as}`},t.credentials="include";let n=await fetch(e,t);if(n.status===401||n.status===403)try{await Wo(),t.headers.Authorization=`Bearer ${as}`,t.credentials="include",n=await fetch(e,t)}catch(r){throw await Bu(),new Error("Session expired. Please log in again. Error:",r)}return n}async function Wo(){const e=await fetch(Xe.REFRESH,{method:"POST",credentials:"include"});if(!e.ok){const n=await e.text();throw console.error("Refresh failed:",n),new Error(n||"Refresh failed")}as=(await e.json()).accessToken}async function Bu(){await fetch(Xe.SIGNOUT,{method:"POST",credentials:"include"}),as=null}async function jg(e){const t=await fetch(Xe.SEND_VERIFICATION,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(console.log("Send verification response:",await t.text()),!t.ok){const n=await t.text();throw console.error("Send verification error:",n),new Error(n||"Failed to send verification email")}}async function Dg(e,t){const n=await fetch(Xe.VERIFY_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,code:t})});if(!n.ok){const r=await n.text();throw console.error("Verify email error:",r),new Error(r||"Email verification failed")}}async function qg(){const e=await fetch(Xe.HEALTH,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}async function Fg(){const e=await fetch(Xe.HEALTH_DB,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health DB check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}async function zu(e){console.log("Creating project with name:",e);try{const t=await xs(`${Xe.PROJECTS}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(!t.ok){const n=await t.json();throw new Error(n.detail||"Failed to create project")}return await t.json()}catch(t){throw console.error("Error creating project:",t),t}}async function Ig(e,t){try{const n=await xs(`${Xe.PROJECTS}/${e}/members/${t}`,{method:"POST",headers:{"Content-Type":"application/json"}});if(!n.ok){const r=await n.json();throw new Error(r.detail||"Failed to add user to project")}return await n.json()}catch(n){throw console.error("Error adding user to project:",n),n}}async function Vg(e,t){try{const n=await xs(`${Xe.PROJECTS}/${e}/members/add-by-email`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:t})});if(!n.ok){const r=await n.json();throw new Error(r.detail||"Failed to add user to project")}return await n.json()}catch(n){throw console.error("Error adding user to project by email:",n),n}}const Y_=Object.freeze(Object.defineProperty({__proto__:null,addUserToProject:Ig,addUserToProjectByEmail:Vg,createProject:zu},Symbol.toStringTag,{value:"Module"}));var Ug=j('<div class="flex flex-wrap items-center justify-between mb-4 gap-2"><h2 class="text-xl font-bold"> Dashboard</h2><div class="flex gap-2"><button class="bg-green-500 text-white px-3 py-1 rounded text-sm hover:bg-green-600 transition">Upload Project</button><button class="bg-blue-500 text-white px-3 py-1 rounded text-sm hover:bg-blue-600 transition flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path d="M9 6a3 3 0 11-6 0 3 3 0 016 0zM17 6a3 3 0 11-6 0 3 3 0 016 0zM12.93 17c.046-.327.07-.66.07-1a6.97 6.97 0 00-1.5-4.33A5 5 0 0119 16v1h-6.07zM6 11a5 5 0 015 5v1H1v-1a5 5 0 015-5z"></path></svg>Manage Members</button><button class="bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600 transition">Delete Project');function Hg(e){function t(){zu(e.project.name).then(n=>{console.log("Project created successfully:",n)}).catch(n=>{console.error("Failed to create project:",n)})}return(()=>{var n=Ug(),r=n.firstChild,s=r.firstChild,i=r.nextSibling,o=i.firstChild,a=o.nextSibling,l=a.nextSibling;return k(r,()=>e.project.name,s),o.$$click=t,Mt(a,"click",e.onManageMembers,!0),l.$$click=()=>e.onDeleteProject(e.project.id),n})()}Be(["click"]);var Bg=j('<div class="mb-4 text-xs text-gray-500 flex items-center"><svg class="w-4 h-4 mr-1 text-gray-400"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fillRule=evenodd d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z"clipRule=evenodd></path></svg>Created: ');function zg(e){return(()=>{var t=Bg(),n=t.firstChild;return n.nextSibling,k(t,()=>new Date(e.createdAt).toLocaleDateString(),null),t})()}var Wg=j('<div class="mb-6 p-4 bg-white rounded-lg shadow-sm"><h3 class="text-base font-semibold mb-3 flex items-center"><svg class="w-5 h-5 mr-2 text-green-500"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path d="M5 3a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2V5a2 2 0 00-2-2H5zM5 11a2 2 0 00-2 2v2a2 2 0 002 2h2a2 2 0 002-2v-2a2 2 0 00-2-2H5zM11 5a2 2 0 012-2h2a2 2 0 012 2v2a2 2 0 01-2 2h-2a2 2 0 01-2-2V5zM14 11a1 1 0 011 1v1h1a1 1 0 110 2h-1v1a1 1 0 11-2 0v-1h-1a1 1 0 110-2h1v-1a1 1 0 011-1z"></path></svg>Add New Review</h3><div class="flex gap-2 items-center"><input type=text class="px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-blue-500 focus:border-blue-500 w-64 text-sm"placeholder="Review (study/article) name"><button class="px-4 py-2 bg-green-500 text-white rounded-md hover:bg-green-600 transition text-sm flex items-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fillRule=evenodd d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z"clipRule=evenodd></path></svg>Add Review');function Yg(e){const[t,n]=z(""),r=async()=>{t().trim()&&(await e.onAddReview(t()),n(""))};return(()=>{var s=Wg(),i=s.firstChild,o=i.nextSibling,a=o.firstChild,l=a.nextSibling;return a.$$input=c=>n(c.target.value),l.$$click=r,ie(()=>l.disabled=!t().trim()),ie(()=>a.value=t()),s})()}Be(["input","click"]);var Qg=j('<li class="flex items-center justify-between border rounded px-2 py-1 bg-white hover:bg-blue-50 cursor-pointer"><span><span class=font-semibold></span><span class="ml-2 text-xs text-gray-600">Reviewer: </span></span><button class="ml-2 px-2 py-0.5 bg-red-400 text-white rounded hover:bg-red-500 text-xs">Delete'),Kg=j('<span class="italic text-gray-400">Unassigned');function Gg(e){return(()=>{var t=Qg(),n=t.firstChild,r=n.firstChild,s=r.nextSibling;s.firstChild;var i=n.nextSibling;return t.$$click=()=>e.onChecklistClick(e.checklist),k(r,()=>e.checklist.name),k(s,()=>e.checklist.reviewerName||Kg(),null),i.$$click=o=>{o.stopPropagation(),e.onDeleteChecklist(e.checklist.id)},t})()}Be(["click"]);var Jg=j('<div class="flex gap-2 mt-2"><input type=text class="px-2 py-1 border rounded w-40 text-xs"placeholder="Checklist name"><button class="px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs">+ Checklist');function Xg(e){const[t,n]=z(""),r=async()=>{t().trim()&&(await e.onAddChecklist(t()),n(""))};return(()=>{var s=Jg(),i=s.firstChild,o=i.nextSibling;return i.$$input=a=>n(a.target.value),o.$$click=r,ie(()=>o.disabled=!t().trim()),ie(()=>i.value=t()),s})()}Be(["input","click"]);var Zg=j('<div class=mt-2><h4 class="text-sm font-medium mb-1">Checklists</h4><ul class=space-y-1>'),ep=j('<li class="px-2 py-1 text-xs text-gray-400">No checklists yet.');function tp(e){return(()=>{var t=Zg(),n=t.firstChild,r=n.nextSibling;return k(r,$(it,{get each(){return e.checklists||[]},children:s=>$(Gg,{checklist:s,get onChecklistClick(){return e.onChecklistClick},onDeleteChecklist:i=>e.onDeleteChecklist(e.reviewId,i)})}),null),k(r,(()=>{var s=je(()=>!e.checklists||e.checklists.length===0);return()=>s()&&ep()})(),null),k(t,$(Xg,{onAddChecklist:s=>e.onAddChecklist(e.reviewId,s)}),null),t})()}var np=j('<li class=p-3><div class="flex items-center justify-between"><div><span class=font-semibold></span><span class="ml-2 text-xs text-gray-400">Created: </span></div><button class="px-2 py-1 bg-red-400 text-white rounded hover:bg-red-500 text-xs">Delete Review');function rp(e){return(()=>{var t=np(),n=t.firstChild,r=n.firstChild,s=r.firstChild,i=s.nextSibling;i.firstChild;var o=r.nextSibling;return k(s,()=>e.review.name),k(i,()=>new Date(e.review.createdAt).toLocaleDateString(),null),o.$$click=()=>e.onDeleteReview(e.review.id),k(t,$(tp,{get checklists(){return e.review.checklists},get reviewId(){return e.review.id},get onChecklistClick(){return e.onChecklistClick},get onDeleteChecklist(){return e.onDeleteChecklist},get onAddChecklist(){return e.onAddChecklist}}),null),t})()}Be(["click"]);var sp=j('<div class=mb-4><h3 class="text-base font-semibold mb-1">Reviews &amp; Checklists</h3><ul class="divide-y divide-gray-100 border rounded bg-white shadow-sm">'),ip=j('<li class="px-4 py-2 text-xs text-gray-400">No reviews yet.');function op(e){const{currentProject:t}=Wt();return(()=>{var n=sp(),r=n.firstChild,s=r.nextSibling;return k(s,$(it,{get each(){return t().reviews||[]},children:i=>$(rp,{review:i,onDeleteReview:o=>e.onDeleteReview(o),get onChecklistClick(){return e.onChecklistClick},get onDeleteChecklist(){return e.onDeleteChecklist},get onAddChecklist(){return e.onAddChecklist}})}),null),k(s,(()=>{var i=je(()=>!e.reviews||e.reviews.length===0);return()=>i()&&ip()})(),null),n})()}function ap(e){return new Promise((t,n)=>{const r=indexedDB.open("fileStorageDB",1);r.onupgradeneeded=s=>{const i=s.target.result;i.objectStoreNames.contains("files")||i.createObjectStore("files",{keyPath:"name"})},r.onsuccess=s=>{const o=s.target.result.transaction("files","readwrite");o.objectStore("files").put({name:e.name,blob:e}),o.oncomplete=()=>t(e.name),o.onerror=n},r.onerror=n})}function lp(e){return new Promise((t,n)=>{const r=indexedDB.open("fileStorageDB",1);r.onsuccess=s=>{const l=s.target.result.transaction("files","readonly").objectStore("files").get(e);l.onsuccess=()=>t(l.result?.blob||null),l.onerror=n},r.onerror=n})}async function cp(){let e;if(window.showOpenFilePicker){const[t]=await window.showOpenFilePicker();e=await t.getFile()}else console.warn("showOpenFilePicker not supported, falling back to manual file selection."),e=await new Promise(t=>{const n=document.createElement("input");n.type="file",n.onchange=()=>t(n.files[0]),n.click()});if(navigator.storage?.getDirectory){const r=await(await(await navigator.storage.getDirectory()).getFileHandle(e.name,{create:!0})).createWritable();return await r.write(await e.arrayBuffer()),await r.close(),e.name}else return console.warn("File System Access API getDirectory not supported, falling back to IndexedDB."),await ap(e),e.name}async function tc(e){return navigator.storage?.getDirectory?await(await(await navigator.storage.getDirectory()).getFileHandle(e)).getFile():(console.warn("File System Access API getDirectory not supported, falling back to IndexedDB."),await lp(e))}var up=j('<div class="mb-6 p-4 bg-white rounded-lg shadow-sm"><h3 class="text-base font-semibold mb-3 flex items-center cursor-pointer"><svg class="w-5 h-5 mr-2 text-gray-600"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fillRule=evenodd d="M2 6a2 2 0 012-2h4l2 2h4a2 2 0 012 2v1H8a3 3 0 00-3 3v1.5a1.5 1.5 0 01-3 0V6z"clipRule=evenodd></path><path d="M6 12a2 2 0 012-2h8a2 2 0 012 2v2a2 2 0 01-2 2H2h2a2 2 0 002-2v-2z"></path></svg>File Management<svg fill=none stroke=currentColor viewBox="0 0 24 24"xmlns=http://www.w3.org/2000/svg><path strokeLinecap=round strokeLinejoin=round strokeWidth=2 d="M19 9l-7 7-7-7">'),dp=j('<div class="grid grid-cols-2 gap-3 mt-3"><button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition text-sm flex items-center justify-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fillRule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"clipRule=evenodd></path></svg>Export Checklists CSV</button><button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition text-sm flex items-center justify-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fillRule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z"clipRule=evenodd></path></svg>Upload File</button><button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition text-sm flex items-center justify-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path fillRule=evenodd d="M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z"clipRule=evenodd></path></svg>Download File</button><button class="px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition text-sm flex items-center justify-center"><svg class="w-4 h-4 mr-1"fill=currentColor viewBox="0 0 20 20"xmlns=http://www.w3.org/2000/svg><path d="M10 12a2 2 0 100-4 2 2 0 000 4z"></path><path fillRule=evenodd d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z"clipRule=evenodd></path></svg>Display File');function fp(){const e=async()=>{const i=prompt("Enter the name of the file to retrieve (including extension):");if(i)try{const o=await tc(i);if(!o){alert(`File "${i}" not found.`);return}const a=URL.createObjectURL(o),l=document.createElement("a");l.href=a,l.download=o.name||i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL(a)}catch(o){console.error("Error retrieving file:",o),alert("Error retrieving file. See console for details.")}},t=async()=>{const i=prompt("Enter the name of the PDF file to display (including .pdf):");if(i)try{const o=await tc(i);if(!o){alert(`File "${i}" not found.`);return}if(o.type!=="application/pdf"&&!i.toLowerCase().endsWith(".pdf")){alert("Selected file is not a PDF.");return}const a=URL.createObjectURL(o);window.open(a,"_blank"),setTimeout(()=>URL.revokeObjectURL(a),6e4)}catch(o){console.error("Error displaying file:",o),alert("Error displaying file. See console for details.")}},n=()=>{let i=Q0(currentProject().checklists);console.log(i)},[r,s]=z(!1);return(()=>{var i=up(),o=i.firstChild,a=o.firstChild,l=a.nextSibling,c=l.nextSibling;return o.$$click=()=>s(!r()),k(i,(()=>{var u=je(()=>!!r());return()=>u()&&(()=>{var d=dp(),f=d.firstChild,m=f.nextSibling,v=m.nextSibling,x=v.nextSibling;return f.$$click=n,Mt(m,"click",cp,!0),v.$$click=e,x.$$click=t,d})()})(),null),ie(()=>pt(c,"class",`ml-2 w-4 h-4 transition-transform ${r()?"transform rotate-180":""}`)),i})()}Be(["click"]);function si(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function hp(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wu(e){let t,n,r;e.length!==2?(t=si,n=(a,l)=>si(e(a),l),r=(a,l)=>e(a)-l):(t=e===si||e===hp?e:gp,n=e,r=e);function s(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<0?c=d+1:u=d}while(c<u)}return c}function i(a,l,c=0,u=a.length){if(c<u){if(t(l,l)!==0)return u;do{const d=c+u>>>1;n(a[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function o(a,l,c=0,u=a.length){const d=s(a,l,c,u-1);return d>c&&r(a[d-1],l)>-r(a[d],l)?d-1:d}return{left:s,center:o,right:i}}function gp(){return 0}function pp(e){return e===null?NaN:+e}const mp=Wu(si),wp=mp.right;Wu(pp).center;class nc extends Map{constructor(t,n=bp){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(rc(this,t))}has(t){return super.has(rc(this,t))}set(t,n){return super.set(vp(this,t),n)}delete(t){return super.delete(yp(this,t))}}function rc({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function vp({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function yp({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function bp(e){return e!==null&&typeof e=="object"?e.valueOf():e}const xp=Math.sqrt(50),_p=Math.sqrt(10),kp=Math.sqrt(2);function vi(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),i=r/Math.pow(10,s),o=i>=xp?10:i>=_p?5:i>=kp?2:1;let a,l,c;return s<0?(c=Math.pow(10,-s)/o,a=Math.round(e*c),l=Math.round(t*c),a/c<e&&++a,l/c>t&&--l,c=-c):(c=Math.pow(10,s)*o,a=Math.round(e/c),l=Math.round(t/c),a*c<e&&++a,l*c>t&&--l),l<a&&.5<=n&&n<2?vi(e,t,n*2):[a,l,c]}function Sp(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,i,o]=r?vi(t,e,n):vi(e,t,n);if(!(i>=s))return[];const a=i-s+1,l=new Array(a);if(r)if(o<0)for(let c=0;c<a;++c)l[c]=(i-c)/-o;else for(let c=0;c<a;++c)l[c]=(i-c)*o;else if(o<0)for(let c=0;c<a;++c)l[c]=(s+c)/-o;else for(let c=0;c<a;++c)l[c]=(s+c)*o;return l}function Yo(e,t,n){return t=+t,e=+e,n=+n,vi(e,t,n)[2]}function $p(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?Yo(t,e,n):Yo(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function Yu(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,i=new Array(s);++r<s;)i[r]=e+r*n;return i}function Cp(e){return e}var Ep=3,sc=1e-6;function Ap(e){return"translate("+e+",0)"}function Rp(e){return t=>+e(t)}function Pp(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Tp(){return!this.__axis}function Mp(e,t){var n=[],r=null,s=null,i=6,o=6,a=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,u="y",d=Ap;function f(m){var v=r??(t.ticks?t.ticks.apply(t,n):t.domain()),x=s??(t.tickFormat?t.tickFormat.apply(t,n):Cp),C=Math.max(i,0)+a,R=t.range(),_=+R[0]+l,P=+R[R.length-1]+l,L=(t.bandwidth?Pp:Rp)(t.copy(),l),O=m.selection?m.selection():m,M=O.selectAll(".domain").data([null]),A=O.selectAll(".tick").data(v,t).order(),g=A.exit(),p=A.enter().append("g").attr("class","tick"),w=A.select("line"),b=A.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(p),w=w.merge(p.append("line").attr("stroke","currentColor").attr(u+"2",c*i)),b=b.merge(p.append("text").attr("fill","currentColor").attr(u,c*C).attr("dy","0.71em")),m!==O&&(M=M.transition(m),A=A.transition(m),w=w.transition(m),b=b.transition(m),g=g.transition(m).attr("opacity",sc).attr("transform",function(E){return isFinite(E=L(E))?d(E+l):this.getAttribute("transform")}),p.attr("opacity",sc).attr("transform",function(E){var V=this.parentNode.__axis;return d((V&&isFinite(V=V(E))?V:L(E))+l)})),g.remove(),M.attr("d",o?"M"+_+","+c*o+"V"+l+"H"+P+"V"+c*o:"M"+_+","+l+"H"+P),A.attr("opacity",1).attr("transform",function(E){return d(L(E)+l)}),w.attr(u+"2",c*i),b.attr(u,c*C).text(x),O.filter(Tp).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),O.each(function(){this.__axis=L})}return f.scale=function(m){return arguments.length?(t=m,f):t},f.ticks=function(){return n=Array.from(arguments),f},f.tickArguments=function(m){return arguments.length?(n=m==null?[]:Array.from(m),f):n.slice()},f.tickValues=function(m){return arguments.length?(r=m==null?null:Array.from(m),f):r&&r.slice()},f.tickFormat=function(m){return arguments.length?(s=m,f):s},f.tickSize=function(m){return arguments.length?(i=o=+m,f):i},f.tickSizeInner=function(m){return arguments.length?(i=+m,f):i},f.tickSizeOuter=function(m){return arguments.length?(o=+m,f):o},f.tickPadding=function(m){return arguments.length?(a=+m,f):a},f.offset=function(m){return arguments.length?(l=+m,f):l},f}function Lp(e){return Mp(Ep,e)}var Np={value:()=>{}};function Qu(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ii(n)}function ii(e){this._=e}function Op(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",s=n.indexOf(".");if(s>=0&&(r=n.slice(s+1),n=n.slice(0,s)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ii.prototype=Qu.prototype={constructor:ii,on:function(e,t){var n=this._,r=Op(e+"",n),s,i=-1,o=r.length;if(arguments.length<2){for(;++i<o;)if((s=(e=r[i]).type)&&(s=jp(n[s],e.name)))return s;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(s=(e=r[i]).type)n[s]=ic(n[s],e.name,t);else if(t==null)for(s in n)n[s]=ic(n[s],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ii(e)},call:function(e,t){if((s=arguments.length-2)>0)for(var n=new Array(s),r=0,s,i;r<s;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],r=0,s=i.length;r<s;++r)i[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],s=0,i=r.length;s<i;++s)r[s].value.apply(t,n)}};function jp(e,t){for(var n=0,r=e.length,s;n<r;++n)if((s=e[n]).name===t)return s.value}function ic(e,t,n){for(var r=0,s=e.length;r<s;++r)if(e[r].name===t){e[r]=Np,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Qo="http://www.w3.org/1999/xhtml";const oc={svg:"http://www.w3.org/2000/svg",xhtml:Qo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ji(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),oc.hasOwnProperty(t)?{space:oc[t],local:e}:e}function Dp(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Qo&&t.documentElement.namespaceURI===Qo?t.createElement(e):t.createElementNS(n,e)}}function qp(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ku(e){var t=Ji(e);return(t.local?qp:Dp)(t)}function Fp(){}function Ea(e){return e==null?Fp:function(){return this.querySelector(e)}}function Ip(e){typeof e!="function"&&(e=Ea(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=new Array(o),l,c,u=0;u<o;++u)(l=i[u])&&(c=e.call(l,l.__data__,u,i))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new xt(r,this._parents)}function Vp(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Up(){return[]}function Gu(e){return e==null?Up:function(){return this.querySelectorAll(e)}}function Hp(e){return function(){return Vp(e.apply(this,arguments))}}function Bp(e){typeof e=="function"?e=Hp(e):e=Gu(e);for(var t=this._groups,n=t.length,r=[],s=[],i=0;i<n;++i)for(var o=t[i],a=o.length,l,c=0;c<a;++c)(l=o[c])&&(r.push(e.call(l,l.__data__,c,o)),s.push(l));return new xt(r,s)}function Ju(e){return function(){return this.matches(e)}}function Xu(e){return function(t){return t.matches(e)}}var zp=Array.prototype.find;function Wp(e){return function(){return zp.call(this.children,e)}}function Yp(){return this.firstElementChild}function Qp(e){return this.select(e==null?Yp:Wp(typeof e=="function"?e:Xu(e)))}var Kp=Array.prototype.filter;function Gp(){return Array.from(this.children)}function Jp(e){return function(){return Kp.call(this.children,e)}}function Xp(e){return this.selectAll(e==null?Gp:Jp(typeof e=="function"?e:Xu(e)))}function Zp(e){typeof e!="function"&&(e=Ju(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new xt(r,this._parents)}function Zu(e){return new Array(e.length)}function em(){return new xt(this._enter||this._groups.map(Zu),this._parents)}function yi(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}yi.prototype={constructor:yi,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function tm(e){return function(){return e}}function nm(e,t,n,r,s,i){for(var o=0,a,l=t.length,c=i.length;o<c;++o)(a=t[o])?(a.__data__=i[o],r[o]=a):n[o]=new yi(e,i[o]);for(;o<l;++o)(a=t[o])&&(s[o]=a)}function rm(e,t,n,r,s,i,o){var a,l,c=new Map,u=t.length,d=i.length,f=new Array(u),m;for(a=0;a<u;++a)(l=t[a])&&(f[a]=m=o.call(l,l.__data__,a,t)+"",c.has(m)?s[a]=l:c.set(m,l));for(a=0;a<d;++a)m=o.call(e,i[a],a,i)+"",(l=c.get(m))?(r[a]=l,l.__data__=i[a],c.delete(m)):n[a]=new yi(e,i[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(f[a])===l&&(s[a]=l)}function sm(e){return e.__data__}function im(e,t){if(!arguments.length)return Array.from(this,sm);var n=t?rm:nm,r=this._parents,s=this._groups;typeof e!="function"&&(e=tm(e));for(var i=s.length,o=new Array(i),a=new Array(i),l=new Array(i),c=0;c<i;++c){var u=r[c],d=s[c],f=d.length,m=om(e.call(u,u&&u.__data__,c,r)),v=m.length,x=a[c]=new Array(v),C=o[c]=new Array(v),R=l[c]=new Array(f);n(u,d,x,C,R,m,t);for(var _=0,P=0,L,O;_<v;++_)if(L=x[_]){for(_>=P&&(P=_+1);!(O=C[P])&&++P<v;);L._next=O||null}}return o=new xt(o,r),o._enter=a,o._exit=l,o}function om(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function am(){return new xt(this._exit||this._groups.map(Zu),this._parents)}function lm(e,t,n){var r=this.enter(),s=this,i=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(s=t(s),s&&(s=s.selection())),n==null?i.remove():n(i),r&&s?r.merge(s).order():s}function cm(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,s=n.length,i=r.length,o=Math.min(s,i),a=new Array(s),l=0;l<o;++l)for(var c=n[l],u=r[l],d=c.length,f=a[l]=new Array(d),m,v=0;v<d;++v)(m=c[v]||u[v])&&(f[v]=m);for(;l<s;++l)a[l]=n[l];return new xt(a,this._parents)}function um(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],s=r.length-1,i=r[s],o;--s>=0;)(o=r[s])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function dm(e){e||(e=fm);function t(d,f){return d&&f?e(d.__data__,f.__data__):!d-!f}for(var n=this._groups,r=n.length,s=new Array(r),i=0;i<r;++i){for(var o=n[i],a=o.length,l=s[i]=new Array(a),c,u=0;u<a;++u)(c=o[u])&&(l[u]=c);l.sort(t)}return new xt(s,this._parents).order()}function fm(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function hm(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function gm(){return Array.from(this)}function pm(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length;s<i;++s){var o=r[s];if(o)return o}return null}function mm(){let e=0;for(const t of this)++e;return e}function wm(){return!this.node()}function vm(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var s=t[n],i=0,o=s.length,a;i<o;++i)(a=s[i])&&e.call(a,a.__data__,i,s);return this}function ym(e){return function(){this.removeAttribute(e)}}function bm(e){return function(){this.removeAttributeNS(e.space,e.local)}}function xm(e,t){return function(){this.setAttribute(e,t)}}function _m(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function km(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Sm(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function $m(e,t){var n=Ji(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?bm:ym:typeof t=="function"?n.local?Sm:km:n.local?_m:xm)(n,t))}function ed(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Cm(e){return function(){this.style.removeProperty(e)}}function Em(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Am(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Rm(e,t,n){return arguments.length>1?this.each((t==null?Cm:typeof t=="function"?Am:Em)(e,t,n??"")):pr(this.node(),e)}function pr(e,t){return e.style.getPropertyValue(t)||ed(e).getComputedStyle(e,null).getPropertyValue(t)}function Pm(e){return function(){delete this[e]}}function Tm(e,t){return function(){this[e]=t}}function Mm(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Lm(e,t){return arguments.length>1?this.each((t==null?Pm:typeof t=="function"?Mm:Tm)(e,t)):this.node()[e]}function td(e){return e.trim().split(/^|\s+/)}function Aa(e){return e.classList||new nd(e)}function nd(e){this._node=e,this._names=td(e.getAttribute("class")||"")}nd.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function rd(e,t){for(var n=Aa(e),r=-1,s=t.length;++r<s;)n.add(t[r])}function sd(e,t){for(var n=Aa(e),r=-1,s=t.length;++r<s;)n.remove(t[r])}function Nm(e){return function(){rd(this,e)}}function Om(e){return function(){sd(this,e)}}function jm(e,t){return function(){(t.apply(this,arguments)?rd:sd)(this,e)}}function Dm(e,t){var n=td(e+"");if(arguments.length<2){for(var r=Aa(this.node()),s=-1,i=n.length;++s<i;)if(!r.contains(n[s]))return!1;return!0}return this.each((typeof t=="function"?jm:t?Nm:Om)(n,t))}function qm(){this.textContent=""}function Fm(e){return function(){this.textContent=e}}function Im(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Vm(e){return arguments.length?this.each(e==null?qm:(typeof e=="function"?Im:Fm)(e)):this.node().textContent}function Um(){this.innerHTML=""}function Hm(e){return function(){this.innerHTML=e}}function Bm(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function zm(e){return arguments.length?this.each(e==null?Um:(typeof e=="function"?Bm:Hm)(e)):this.node().innerHTML}function Wm(){this.nextSibling&&this.parentNode.appendChild(this)}function Ym(){return this.each(Wm)}function Qm(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Km(){return this.each(Qm)}function Gm(e){var t=typeof e=="function"?e:Ku(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Jm(){return null}function Xm(e,t){var n=typeof e=="function"?e:Ku(e),r=t==null?Jm:typeof t=="function"?t:Ea(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Zm(){var e=this.parentNode;e&&e.removeChild(this)}function ew(){return this.each(Zm)}function tw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function nw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function rw(e){return this.select(e?nw:tw)}function sw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function iw(e){return function(t){e.call(this,t,this.__data__)}}function ow(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function aw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,s=t.length,i;n<s;++n)i=t[n],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++r]=i;++r?t.length=r:delete this.__on}}}function lw(e,t,n){return function(){var r=this.__on,s,i=iw(t);if(r){for(var o=0,a=r.length;o<a;++o)if((s=r[o]).type===e.type&&s.name===e.name){this.removeEventListener(s.type,s.listener,s.options),this.addEventListener(s.type,s.listener=i,s.options=n),s.value=t;return}}this.addEventListener(e.type,i,n),s={type:e.type,name:e.name,value:t,listener:i,options:n},r?r.push(s):this.__on=[s]}}function cw(e,t,n){var r=ow(e+""),s,i=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(s=0,u=a[l];s<i;++s)if((o=r[s]).type===u.type&&o.name===u.name)return u.value}return}for(a=t?lw:aw,s=0;s<i;++s)this.each(a(r[s],t,n));return this}function id(e,t,n){var r=ed(e),s=r.CustomEvent;typeof s=="function"?s=new s(t,n):(s=r.document.createEvent("Event"),n?(s.initEvent(t,n.bubbles,n.cancelable),s.detail=n.detail):s.initEvent(t,!1,!1)),e.dispatchEvent(s)}function uw(e,t){return function(){return id(this,e,t)}}function dw(e,t){return function(){return id(this,e,t.apply(this,arguments))}}function fw(e,t){return this.each((typeof t=="function"?dw:uw)(e,t))}function*hw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],s=0,i=r.length,o;s<i;++s)(o=r[s])&&(yield o)}var od=[null];function xt(e,t){this._groups=e,this._parents=t}function _s(){return new xt([[document.documentElement]],od)}function gw(){return this}xt.prototype=_s.prototype={constructor:xt,select:Ip,selectAll:Bp,selectChild:Qp,selectChildren:Xp,filter:Zp,data:im,enter:em,exit:am,join:lm,merge:cm,selection:gw,order:um,sort:dm,call:hm,nodes:gm,node:pm,size:mm,empty:wm,each:vm,attr:$m,style:Rm,property:Lm,classed:Dm,text:Vm,html:zm,raise:Ym,lower:Km,append:Gm,insert:Xm,remove:ew,clone:rw,datum:sw,on:cw,dispatch:fw,[Symbol.iterator]:hw};function ad(e){return typeof e=="string"?new xt([[document.querySelector(e)]],[document.documentElement]):new xt([[e]],od)}function Ra(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ld(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ks(){}var ls=.7,bi=1/ls,dr="\\s*([+-]?\\d+)\\s*",cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",pw=/^#([0-9a-f]{3,8})$/,mw=new RegExp(`^rgb\\(${dr},${dr},${dr}\\)$`),ww=new RegExp(`^rgb\\(${Vt},${Vt},${Vt}\\)$`),vw=new RegExp(`^rgba\\(${dr},${dr},${dr},${cs}\\)$`),yw=new RegExp(`^rgba\\(${Vt},${Vt},${Vt},${cs}\\)$`),bw=new RegExp(`^hsl\\(${cs},${Vt},${Vt}\\)$`),xw=new RegExp(`^hsla\\(${cs},${Vt},${Vt},${cs}\\)$`),ac={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ra(ks,zn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:lc,formatHex:lc,formatHex8:_w,formatHsl:kw,formatRgb:cc,toString:cc});function lc(){return this.rgb().formatHex()}function _w(){return this.rgb().formatHex8()}function kw(){return cd(this).formatHsl()}function cc(){return this.rgb().formatRgb()}function zn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=pw.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?uc(t):n===3?new ft(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fs(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fs(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=mw.exec(e))?new ft(t[1],t[2],t[3],1):(t=ww.exec(e))?new ft(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=vw.exec(e))?Fs(t[1],t[2],t[3],t[4]):(t=yw.exec(e))?Fs(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=bw.exec(e))?hc(t[1],t[2]/100,t[3]/100,1):(t=xw.exec(e))?hc(t[1],t[2]/100,t[3]/100,t[4]):ac.hasOwnProperty(e)?uc(ac[e]):e==="transparent"?new ft(NaN,NaN,NaN,0):null}function uc(e){return new ft(e>>16&255,e>>8&255,e&255,1)}function Fs(e,t,n,r){return r<=0&&(e=t=n=NaN),new ft(e,t,n,r)}function Sw(e){return e instanceof ks||(e=zn(e)),e?(e=e.rgb(),new ft(e.r,e.g,e.b,e.opacity)):new ft}function Ko(e,t,n,r){return arguments.length===1?Sw(e):new ft(e,t,n,r??1)}function ft(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ra(ft,Ko,ld(ks,{brighter(e){return e=e==null?bi:Math.pow(bi,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ls:Math.pow(ls,e),new ft(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ft(Hn(this.r),Hn(this.g),Hn(this.b),xi(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:dc,formatHex:dc,formatHex8:$w,formatRgb:fc,toString:fc}));function dc(){return`#${Nn(this.r)}${Nn(this.g)}${Nn(this.b)}`}function $w(){return`#${Nn(this.r)}${Nn(this.g)}${Nn(this.b)}${Nn((isNaN(this.opacity)?1:this.opacity)*255)}`}function fc(){const e=xi(this.opacity);return`${e===1?"rgb(":"rgba("}${Hn(this.r)}, ${Hn(this.g)}, ${Hn(this.b)}${e===1?")":`, ${e})`}`}function xi(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Hn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Nn(e){return e=Hn(e),(e<16?"0":"")+e.toString(16)}function hc(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pt(e,t,n,r)}function cd(e){if(e instanceof Pt)return new Pt(e.h,e.s,e.l,e.opacity);if(e instanceof ks||(e=zn(e)),!e)return new Pt;if(e instanceof Pt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),i=Math.max(t,n,r),o=NaN,a=i-s,l=(i+s)/2;return a?(t===i?o=(n-r)/a+(n<r)*6:n===i?o=(r-t)/a+2:o=(t-n)/a+4,a/=l<.5?i+s:2-i-s,o*=60):a=l>0&&l<1?0:o,new Pt(o,a,l,e.opacity)}function Cw(e,t,n,r){return arguments.length===1?cd(e):new Pt(e,t,n,r??1)}function Pt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ra(Pt,Cw,ld(ks,{brighter(e){return e=e==null?bi:Math.pow(bi,e),new Pt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ls:Math.pow(ls,e),new Pt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new ft(xo(e>=240?e-240:e+120,s,r),xo(e,s,r),xo(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Pt(gc(this.h),Is(this.s),Is(this.l),xi(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=xi(this.opacity);return`${e===1?"hsl(":"hsla("}${gc(this.h)}, ${Is(this.s)*100}%, ${Is(this.l)*100}%${e===1?")":`, ${e})`}`}}));function gc(e){return e=(e||0)%360,e<0?e+360:e}function Is(e){return Math.max(0,Math.min(1,e||0))}function xo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Pa=e=>()=>e;function Ew(e,t){return function(n){return e+n*t}}function Aw(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Rw(e){return(e=+e)==1?ud:function(t,n){return n-t?Aw(t,n,e):Pa(isNaN(t)?n:t)}}function ud(e,t){var n=t-e;return n?Ew(e,n):Pa(isNaN(e)?t:e)}const _i=(function e(t){var n=Rw(t);function r(s,i){var o=n((s=Ko(s)).r,(i=Ko(i)).r),a=n(s.g,i.g),l=n(s.b,i.b),c=ud(s.opacity,i.opacity);return function(u){return s.r=o(u),s.g=a(u),s.b=l(u),s.opacity=c(u),s+""}}return r.gamma=e,r})(1);function Pw(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(i){for(s=0;s<n;++s)r[s]=e[s]*(1-i)+t[s]*i;return r}}function Tw(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Mw(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),i=new Array(n),o;for(o=0;o<r;++o)s[o]=Ta(e[o],t[o]);for(;o<n;++o)i[o]=t[o];return function(a){for(o=0;o<r;++o)i[o]=s[o](a);return i}}function Lw(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Rt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Nw(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=Ta(e[s],t[s]):r[s]=t[s];return function(i){for(s in n)r[s]=n[s](i);return r}}var Go=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_o=new RegExp(Go.source,"g");function Ow(e){return function(){return e}}function jw(e){return function(t){return e(t)+""}}function dd(e,t){var n=Go.lastIndex=_o.lastIndex=0,r,s,i,o=-1,a=[],l=[];for(e=e+"",t=t+"";(r=Go.exec(e))&&(s=_o.exec(t));)(i=s.index)>n&&(i=t.slice(n,i),a[o]?a[o]+=i:a[++o]=i),(r=r[0])===(s=s[0])?a[o]?a[o]+=s:a[++o]=s:(a[++o]=null,l.push({i:o,x:Rt(r,s)})),n=_o.lastIndex;return n<t.length&&(i=t.slice(n),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?jw(l[0].x):Ow(t):(t=l.length,function(c){for(var u=0,d;u<t;++u)a[(d=l[u]).i]=d.x(c);return a.join("")})}function Ta(e,t){var n=typeof t,r;return t==null||n==="boolean"?Pa(t):(n==="number"?Rt:n==="string"?(r=zn(t))?(t=r,_i):dd:t instanceof zn?_i:t instanceof Date?Lw:Tw(t)?Pw:Array.isArray(t)?Mw:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Nw:Rt)(e,t)}function Dw(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var pc=180/Math.PI,Jo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function fd(e,t,n,r,s,i){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:s,translateY:i,rotate:Math.atan2(t,e)*pc,skewX:Math.atan(l)*pc,scaleX:o,scaleY:a}}var Vs;function qw(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Jo:fd(t.a,t.b,t.c,t.d,t.e,t.f)}function Fw(e){return e==null||(Vs||(Vs=document.createElementNS("http://www.w3.org/2000/svg","g")),Vs.setAttribute("transform",e),!(e=Vs.transform.baseVal.consolidate()))?Jo:(e=e.matrix,fd(e.a,e.b,e.c,e.d,e.e,e.f))}function hd(e,t,n,r){function s(c){return c.length?c.pop()+" ":""}function i(c,u,d,f,m,v){if(c!==d||u!==f){var x=m.push("translate(",null,t,null,n);v.push({i:x-4,x:Rt(c,d)},{i:x-2,x:Rt(u,f)})}else(d||f)&&m.push("translate("+d+t+f+n)}function o(c,u,d,f){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),f.push({i:d.push(s(d)+"rotate(",null,r)-2,x:Rt(c,u)})):u&&d.push(s(d)+"rotate("+u+r)}function a(c,u,d,f){c!==u?f.push({i:d.push(s(d)+"skewX(",null,r)-2,x:Rt(c,u)}):u&&d.push(s(d)+"skewX("+u+r)}function l(c,u,d,f,m,v){if(c!==d||u!==f){var x=m.push(s(m)+"scale(",null,",",null,")");v.push({i:x-4,x:Rt(c,d)},{i:x-2,x:Rt(u,f)})}else(d!==1||f!==1)&&m.push(s(m)+"scale("+d+","+f+")")}return function(c,u){var d=[],f=[];return c=e(c),u=e(u),i(c.translateX,c.translateY,u.translateX,u.translateY,d,f),o(c.rotate,u.rotate,d,f),a(c.skewX,u.skewX,d,f),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,f),c=u=null,function(m){for(var v=-1,x=f.length,C;++v<x;)d[(C=f[v]).i]=C.x(m);return d.join("")}}}var Iw=hd(qw,"px, ","px)","deg)"),Vw=hd(Fw,", ",")",")"),mr=0,Or=0,Rr=0,gd=1e3,ki,jr,Si=0,Wn=0,Xi=0,us=typeof performance=="object"&&performance.now?performance:Date,pd=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ma(){return Wn||(pd(Uw),Wn=us.now()+Xi)}function Uw(){Wn=0}function $i(){this._call=this._time=this._next=null}$i.prototype=md.prototype={constructor:$i,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ma():+n)+(t==null?0:+t),!this._next&&jr!==this&&(jr?jr._next=this:ki=this,jr=this),this._call=e,this._time=n,Xo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Xo())}};function md(e,t,n){var r=new $i;return r.restart(e,t,n),r}function Hw(){Ma(),++mr;for(var e=ki,t;e;)(t=Wn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--mr}function mc(){Wn=(Si=us.now())+Xi,mr=Or=0;try{Hw()}finally{mr=0,zw(),Wn=0}}function Bw(){var e=us.now(),t=e-Si;t>gd&&(Xi-=t,Si=e)}function zw(){for(var e,t=ki,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ki=n);jr=e,Xo(r)}function Xo(e){if(!mr){Or&&(Or=clearTimeout(Or));var t=e-Wn;t>24?(e<1/0&&(Or=setTimeout(mc,e-us.now()-Xi)),Rr&&(Rr=clearInterval(Rr))):(Rr||(Si=us.now(),Rr=setInterval(Bw,gd)),mr=1,pd(mc))}}function wc(e,t,n){var r=new $i;return t=t==null?0:+t,r.restart(s=>{r.stop(),e(s+t)},t,n),r}var Ww=Qu("start","end","cancel","interrupt"),Yw=[],wd=0,vc=1,Zo=2,oi=3,yc=4,ea=5,ai=6;function Zi(e,t,n,r,s,i){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;Qw(e,n,{name:t,index:r,group:s,on:Ww,tween:Yw,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:wd})}function La(e,t){var n=jt(e,t);if(n.state>wd)throw new Error("too late; already scheduled");return n}function Yt(e,t){var n=jt(e,t);if(n.state>oi)throw new Error("too late; already running");return n}function jt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Qw(e,t,n){var r=e.__transition,s;r[t]=n,n.timer=md(i,0,n.time);function i(c){n.state=vc,n.timer.restart(o,n.delay,n.time),n.delay<=c&&o(c-n.delay)}function o(c){var u,d,f,m;if(n.state!==vc)return l();for(u in r)if(m=r[u],m.name===n.name){if(m.state===oi)return wc(o);m.state===yc?(m.state=ai,m.timer.stop(),m.on.call("interrupt",e,e.__data__,m.index,m.group),delete r[u]):+u<t&&(m.state=ai,m.timer.stop(),m.on.call("cancel",e,e.__data__,m.index,m.group),delete r[u])}if(wc(function(){n.state===oi&&(n.state=yc,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=Zo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Zo){for(n.state=oi,s=new Array(f=n.tween.length),u=0,d=-1;u<f;++u)(m=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(s[++d]=m);s.length=d+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=ea,1),d=-1,f=s.length;++d<f;)s[d].call(e,u);n.state===ea&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=ai,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Kw(e,t){var n=e.__transition,r,s,i=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){i=!1;continue}s=r.state>Zo&&r.state<ea,r.state=ai,r.timer.stop(),r.on.call(s?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}i&&delete e.__transition}}function Gw(e){return this.each(function(){Kw(this,e)})}function Jw(e,t){var n,r;return function(){var s=Yt(this,e),i=s.tween;if(i!==n){r=n=i;for(var o=0,a=r.length;o<a;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}s.tween=r}}function Xw(e,t,n){var r,s;if(typeof n!="function")throw new Error;return function(){var i=Yt(this,e),o=i.tween;if(o!==r){s=(r=o).slice();for(var a={name:t,value:n},l=0,c=s.length;l<c;++l)if(s[l].name===t){s[l]=a;break}l===c&&s.push(a)}i.tween=s}}function Zw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=jt(this.node(),n).tween,s=0,i=r.length,o;s<i;++s)if((o=r[s]).name===e)return o.value;return null}return this.each((t==null?Jw:Xw)(n,e,t))}function Na(e,t,n){var r=e._id;return e.each(function(){var s=Yt(this,r);(s.value||(s.value={}))[t]=n.apply(this,arguments)}),function(s){return jt(s,r).value[t]}}function vd(e,t){var n;return(typeof t=="number"?Rt:t instanceof zn?_i:(n=zn(t))?(t=n,_i):dd)(e,t)}function e1(e){return function(){this.removeAttribute(e)}}function t1(e){return function(){this.removeAttributeNS(e.space,e.local)}}function n1(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function r1(e,t,n){var r,s=n+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function s1(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttribute(e):(o=this.getAttribute(e),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function i1(e,t,n){var r,s,i;return function(){var o,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),l=a+"",o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a)))}}function o1(e,t){var n=Ji(e),r=n==="transform"?Vw:vd;return this.attrTween(e,typeof t=="function"?(n.local?i1:s1)(n,r,Na(this,"attr."+e,t)):t==null?(n.local?t1:e1)(n):(n.local?r1:n1)(n,r,t))}function a1(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function l1(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function c1(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&l1(e,i)),n}return s._value=t,s}function u1(e,t){var n,r;function s(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&a1(e,i)),n}return s._value=t,s}function d1(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=Ji(e);return this.tween(n,(r.local?c1:u1)(r,t))}function f1(e,t){return function(){La(this,e).delay=+t.apply(this,arguments)}}function h1(e,t){return t=+t,function(){La(this,e).delay=t}}function g1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?f1:h1)(t,e)):jt(this.node(),t).delay}function p1(e,t){return function(){Yt(this,e).duration=+t.apply(this,arguments)}}function m1(e,t){return t=+t,function(){Yt(this,e).duration=t}}function w1(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?p1:m1)(t,e)):jt(this.node(),t).duration}function v1(e,t){if(typeof t!="function")throw new Error;return function(){Yt(this,e).ease=t}}function y1(e){var t=this._id;return arguments.length?this.each(v1(t,e)):jt(this.node(),t).ease}function b1(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Yt(this,e).ease=n}}function x1(e){if(typeof e!="function")throw new Error;return this.each(b1(this._id,e))}function _1(e){typeof e!="function"&&(e=Ju(e));for(var t=this._groups,n=t.length,r=new Array(n),s=0;s<n;++s)for(var i=t[s],o=i.length,a=r[s]=[],l,c=0;c<o;++c)(l=i[c])&&e.call(l,l.__data__,c,i)&&a.push(l);return new nn(r,this._parents,this._name,this._id)}function k1(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,s=n.length,i=Math.min(r,s),o=new Array(r),a=0;a<i;++a)for(var l=t[a],c=n[a],u=l.length,d=o[a]=new Array(u),f,m=0;m<u;++m)(f=l[m]||c[m])&&(d[m]=f);for(;a<r;++a)o[a]=t[a];return new nn(o,this._parents,this._name,this._id)}function S1(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function $1(e,t,n){var r,s,i=S1(t)?La:Yt;return function(){var o=i(this,e),a=o.on;a!==r&&(s=(r=a).copy()).on(t,n),o.on=s}}function C1(e,t){var n=this._id;return arguments.length<2?jt(this.node(),n).on.on(e):this.each($1(n,e,t))}function E1(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function A1(){return this.on("end.remove",E1(this._id))}function R1(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ea(e));for(var r=this._groups,s=r.length,i=new Array(s),o=0;o<s;++o)for(var a=r[o],l=a.length,c=i[o]=new Array(l),u,d,f=0;f<l;++f)(u=a[f])&&(d=e.call(u,u.__data__,f,a))&&("__data__"in u&&(d.__data__=u.__data__),c[f]=d,Zi(c[f],t,n,f,c,jt(u,n)));return new nn(i,this._parents,t,n)}function P1(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Gu(e));for(var r=this._groups,s=r.length,i=[],o=[],a=0;a<s;++a)for(var l=r[a],c=l.length,u,d=0;d<c;++d)if(u=l[d]){for(var f=e.call(u,u.__data__,d,l),m,v=jt(u,n),x=0,C=f.length;x<C;++x)(m=f[x])&&Zi(m,t,n,x,f,v);i.push(f),o.push(u)}return new nn(i,o,t,n)}var T1=_s.prototype.constructor;function M1(){return new T1(this._groups,this._parents)}function L1(e,t){var n,r,s;return function(){var i=pr(this,e),o=(this.style.removeProperty(e),pr(this,e));return i===o?null:i===n&&o===r?s:s=t(n=i,r=o)}}function yd(e){return function(){this.style.removeProperty(e)}}function N1(e,t,n){var r,s=n+"",i;return function(){var o=pr(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}function O1(e,t,n){var r,s,i;return function(){var o=pr(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),pr(this,e))),o===l?null:o===r&&l===s?i:(s=l,i=t(r=o,a))}}function j1(e,t){var n,r,s,i="style."+t,o="end."+i,a;return function(){var l=Yt(this,e),c=l.on,u=l.value[i]==null?a||(a=yd(t)):void 0;(c!==n||s!==u)&&(r=(n=c).copy()).on(o,s=u),l.on=r}}function D1(e,t,n){var r=(e+="")=="transform"?Iw:vd;return t==null?this.styleTween(e,L1(e,r)).on("end.style."+e,yd(e)):typeof t=="function"?this.styleTween(e,O1(e,r,Na(this,"style."+e,t))).each(j1(this._id,e)):this.styleTween(e,N1(e,r,t),n).on("end.style."+e,null)}function q1(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function F1(e,t,n){var r,s;function i(){var o=t.apply(this,arguments);return o!==s&&(r=(s=o)&&q1(e,o,n)),r}return i._value=t,i}function I1(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,F1(e,t,n??""))}function V1(e){return function(){this.textContent=e}}function U1(e){return function(){var t=e(this);this.textContent=t??""}}function H1(e){return this.tween("text",typeof e=="function"?U1(Na(this,"text",e)):V1(e==null?"":e+""))}function B1(e){return function(t){this.textContent=e.call(this,t)}}function z1(e){var t,n;function r(){var s=e.apply(this,arguments);return s!==n&&(t=(n=s)&&B1(s)),t}return r._value=e,r}function W1(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,z1(e))}function Y1(){for(var e=this._name,t=this._id,n=bd(),r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,c=0;c<a;++c)if(l=o[c]){var u=jt(l,t);Zi(l,e,n,c,o,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new nn(r,this._parents,e,n)}function Q1(){var e,t,n=this,r=n._id,s=n.size();return new Promise(function(i,o){var a={value:o},l={value:function(){--s===0&&i()}};n.each(function(){var c=Yt(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),s===0&&i()})}var K1=0;function nn(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function bd(){return++K1}var Gt=_s.prototype;nn.prototype={constructor:nn,select:R1,selectAll:P1,selectChild:Gt.selectChild,selectChildren:Gt.selectChildren,filter:_1,merge:k1,selection:M1,transition:Y1,call:Gt.call,nodes:Gt.nodes,node:Gt.node,size:Gt.size,empty:Gt.empty,each:Gt.each,on:C1,attr:o1,attrTween:d1,style:D1,styleTween:I1,text:H1,textTween:W1,remove:A1,tween:Zw,delay:g1,duration:w1,ease:y1,easeVarying:x1,end:Q1,[Symbol.iterator]:Gt[Symbol.iterator]};function G1(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var J1={time:null,delay:0,duration:250,ease:G1};function X1(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Z1(e){var t,n;e instanceof nn?(t=e._id,e=e._name):(t=bd(),(n=J1).time=Ma(),e=e==null?null:e+"");for(var r=this._groups,s=r.length,i=0;i<s;++i)for(var o=r[i],a=o.length,l,c=0;c<a;++c)(l=o[c])&&Zi(l,e,t,c,o,n||X1(l,t));return new nn(r,this._parents,e,t)}_s.prototype.interrupt=Gw;_s.prototype.transition=Z1;function ev(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ci(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function wr(e){return e=Ci(Math.abs(e)),e?e[1]:NaN}function tv(e,t){return function(n,r){for(var s=n.length,i=[],o=0,a=e[0],l=0;s>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),i.push(n.substring(s-=a,s+a)),!((l+=a+1)>r));)a=e[o=(o+1)%e.length];return i.reverse().join(t)}}function nv(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var rv=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ei(e){if(!(t=rv.exec(e)))throw new Error("invalid format: "+e);var t;return new Oa({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Ei.prototype=Oa.prototype;function Oa(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Oa.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function sv(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var xd;function iv(e,t){var n=Ci(e,t);if(!n)return e+"";var r=n[0],s=n[1],i=s-(xd=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=r.length;return i===o?r:i>o?r+new Array(i-o+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ci(e,Math.max(0,t+i-1))[0]}function bc(e,t){var n=Ci(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const xc={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ev,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>bc(e*100,t),r:bc,s:iv,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function _c(e){return e}var kc=Array.prototype.map,Sc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function ov(e){var t=e.grouping===void 0||e.thousands===void 0?_c:tv(kc.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?_c:nv(kc.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",a=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(d){d=Ei(d);var f=d.fill,m=d.align,v=d.sign,x=d.symbol,C=d.zero,R=d.width,_=d.comma,P=d.precision,L=d.trim,O=d.type;O==="n"?(_=!0,O="g"):xc[O]||(P===void 0&&(P=12),L=!0,O="g"),(C||f==="0"&&m==="=")&&(C=!0,f="0",m="=");var M=x==="$"?n:x==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",A=x==="$"?r:/[%p]/.test(O)?o:"",g=xc[O],p=/[defgprs%]/.test(O);P=P===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function w(b){var E=M,V=A,H,G,te;if(O==="c")V=g(b)+V,b="";else{b=+b;var B=b<0||1/b<0;if(b=isNaN(b)?l:g(Math.abs(b),P),L&&(b=sv(b)),B&&+b==0&&v!=="+"&&(B=!1),E=(B?v==="("?v:a:v==="-"||v==="("?"":v)+E,V=(O==="s"?Sc[8+xd/3]:"")+V+(B&&v==="("?")":""),p){for(H=-1,G=b.length;++H<G;)if(te=b.charCodeAt(H),48>te||te>57){V=(te===46?s+b.slice(H+1):b.slice(H))+V,b=b.slice(0,H);break}}}_&&!C&&(b=t(b,1/0));var F=E.length+b.length+V.length,N=F<R?new Array(R-F+1).join(f):"";switch(_&&C&&(b=t(N+b,N.length?R-V.length:1/0),N=""),m){case"<":b=E+b+V+N;break;case"=":b=E+N+b+V;break;case"^":b=N.slice(0,F=N.length>>1)+E+b+V+N.slice(F);break;default:b=N+E+b+V;break}return i(b)}return w.toString=function(){return d+""},w}function u(d,f){var m=c((d=Ei(d),d.type="f",d)),v=Math.max(-8,Math.min(8,Math.floor(wr(f)/3)))*3,x=Math.pow(10,-v),C=Sc[8+v/3];return function(R){return m(x*R)+C}}return{format:c,formatPrefix:u}}var Us,_d,kd;av({thousands:",",grouping:[3],currency:["$",""]});function av(e){return Us=ov(e),_d=Us.format,kd=Us.formatPrefix,Us}function lv(e){return Math.max(0,-wr(Math.abs(e)))}function cv(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wr(t)/3)))*3-wr(Math.abs(e)))}function uv(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,wr(t)-wr(e))+1}function ja(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const $c=Symbol("implicit");function Sd(){var e=new nc,t=[],n=[],r=$c;function s(i){let o=e.get(i);if(o===void 0){if(r!==$c)return r;e.set(i,o=t.push(i)-1)}return n[o%n.length]}return s.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new nc;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return s},s.range=function(i){return arguments.length?(n=Array.from(i),s):n.slice()},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Sd(t,n).unknown(r)},ja.apply(s,arguments),s}function $d(){var e=Sd().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,i,o,a=!1,l=0,c=0,u=.5;delete e.unknown;function d(){var f=t().length,m=s<r,v=m?s:r,x=m?r:s;i=(x-v)/Math.max(1,f-l+c*2),a&&(i=Math.floor(i)),v+=(x-v-i*(f-l))*u,o=i*(1-l),a&&(v=Math.round(v),o=Math.round(o));var C=Yu(f).map(function(R){return v+i*R});return n(m?C.reverse():C)}return e.domain=function(f){return arguments.length?(t(f),d()):t()},e.range=function(f){return arguments.length?([r,s]=f,r=+r,s=+s,d()):[r,s]},e.rangeRound=function(f){return[r,s]=f,r=+r,s=+s,a=!0,d()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(f){return arguments.length?(a=!!f,d()):a},e.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},e.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},e.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},e.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},e.copy=function(){return $d(t(),[r,s]).round(a).paddingInner(l).paddingOuter(c).align(u)},ja.apply(d(),arguments)}function dv(e){return function(){return e}}function fv(e){return+e}var Cc=[0,1];function ar(e){return e}function ta(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:dv(isNaN(t)?NaN:.5)}function hv(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function gv(e,t,n){var r=e[0],s=e[1],i=t[0],o=t[1];return s<r?(r=ta(s,r),i=n(o,i)):(r=ta(r,s),i=n(i,o)),function(a){return i(r(a))}}function pv(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),i=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)s[o]=ta(e[o],e[o+1]),i[o]=n(t[o],t[o+1]);return function(a){var l=wp(e,a,1,r)-1;return i[l](s[l](a))}}function mv(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wv(){var e=Cc,t=Cc,n=Ta,r,s,i,o=ar,a,l,c;function u(){var f=Math.min(e.length,t.length);return o!==ar&&(o=hv(e[0],e[f-1])),a=f>2?pv:gv,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?i:(l||(l=a(e.map(r),t,n)))(r(o(f)))}return d.invert=function(f){return o(s((c||(c=a(t,e.map(r),Rt)))(f)))},d.domain=function(f){return arguments.length?(e=Array.from(f,fv),u()):e.slice()},d.range=function(f){return arguments.length?(t=Array.from(f),u()):t.slice()},d.rangeRound=function(f){return t=Array.from(f),n=Dw,u()},d.clamp=function(f){return arguments.length?(o=f?!0:ar,u()):o!==ar},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(i=f,d):i},function(f,m){return r=f,s=m,u()}}function vv(){return wv()(ar,ar)}function yv(e,t,n,r){var s=$p(e,t,n),i;switch(r=Ei(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(i=cv(s,o))&&(r.precision=i),kd(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=uv(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=lv(s))&&(r.precision=i-(r.type==="%")*2);break}}return _d(r)}function bv(e){var t=e.domain;return e.ticks=function(n){var r=t();return Sp(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return yv(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,i=r.length-1,o=r[s],a=r[i],l,c,u=10;for(a<o&&(c=o,o=a,a=c,c=s,s=i,i=c);u-- >0;){if(c=Yo(o,a,n),c===l)return r[s]=o,r[i]=a,t(r);if(c>0)o=Math.floor(o/c)*c,a=Math.ceil(a/c)*c;else if(c<0)o=Math.ceil(o*c)/c,a=Math.floor(a*c)/c;else break;l=c}return e},e}function Cd(){var e=vv();return e.copy=function(){return mv(e,Cd())},ja.apply(e,arguments),bv(e)}function Dr(e,t,n){this.k=e,this.x=t,this.y=n}Dr.prototype={constructor:Dr,scale:function(e){return e===1?this:new Dr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Dr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Dr.prototype;var xv=j('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function _v(e){let t=null;const[n,r]=z({width:800,height:500});De(()=>{function _(){if(t&&t.parentElement){const P=t.parentElement.getBoundingClientRect();r({width:Math.max(P.width,600),height:Math.max(P.height,400)})}}_(),window.addEventListener("resize",_),gt(()=>window.removeEventListener("resize",_))});const s=()=>e.data??[],i=16,o=()=>e.width??n().width,a=()=>e.height??n().height,l=()=>e.title??"AMSTAR-2 Quality Assessment",c={top:60,right:170,bottom:60,left:120},u=()=>(o()-c.left-c.right)/i,d=()=>(a()-c.top-c.bottom)/s().length,f=()=>Math.min(u(),d()),m=()=>f()*i,v=()=>f()*s().length,x=()=>c.left+m()+c.right,C=()=>c.top+v()+c.bottom,R={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return De(()=>{const _=ad(t).attr("width",x()).attr("height",C()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');_.selectAll("*").remove(),_.append("g").attr("class","footer").selectAll("text").data(Yu(1,i+1)).enter().append("text").attr("x",(p,w)=>c.left+w*f()+f()/2).attr("y",c.top+v()+20).attr("text-anchor","middle").attr("font-size",Math.max(10,f()*.4)).attr("font-weight","600").attr("fill","#374151").text(p=>`Q${p}`),_.append("g").attr("class","rows").selectAll("text").data(s()).enter().append("text").attr("x",c.left-15).attr("y",(p,w)=>c.top+w*f()+f()/2).attr("text-anchor","end").attr("font-size",Math.max(10,f()*.45)).attr("font-weight","500").attr("fill","#374151").attr("dominant-baseline","middle").text(p=>p.label);const O=_.append("g").attr("class","cells");s().forEach((p,w)=>{for(let b=0;b<i;b++){const E=p.questions[b]?.toLowerCase?.()??"",V=R[E]??"#e5e7eb";O.append("rect").attr("x",c.left+b*f()+2).attr("y",c.top+w*f()+2).attr("width",f()-4).attr("height",f()-4).attr("fill",V).attr("stroke","#ffffff").attr("stroke-width",1).attr("rx",Math.max(2,f()*.12)).style("filter","drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))")}});const M=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],g=_.append("g").attr("class","legend").attr("transform",`translate(${x()-c.right+20}, ${c.top+20})`).selectAll(".legend-item").data(M).enter().append("g").attr("class","legend-item").attr("transform",(p,w)=>`translate(0, ${w*25})`);g.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",p=>R[p.key]).attr("stroke","#ffffff").attr("stroke-width",1),g.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(p=>p.label),_.append("text").attr("x",x()/2).attr("y",40).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),gt(()=>{_.selectAll("*").remove()})}),(()=>{var _=xv(),P=_.firstChild,L=t;return typeof L=="function"?ns(L,P):t=P,ie(O=>Wi(P,`width: 100%; height: ${C()}px; max-width: 100%; display: block;`,O)),_})()}var kv=j('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function Sv(e){let t=null,n=null;const r=()=>e.data??[],[s,i]=z({width:900,height:600});ga(()=>{const v=()=>{if(n){const x=n.getBoundingClientRect();i({width:Math.max(x.width,400),height:Math.max(x.height,400)})}};v(),window.addEventListener("resize",v),gt(()=>window.removeEventListener("resize",v))}),De(()=>{if(n){const v=n.getBoundingClientRect();i({width:Math.max(v.width,400),height:Math.max(v.height,400)})}});const o=()=>e.width??s().width,a=()=>e.height??s().width/1.5,l=()=>e.title??"Distribution of AMSTAR Ratings on Each Item Across Included Reviews",c={top:50,right:150,bottom:60,left:80},u=()=>o()-c.left-c.right,d=()=>a()-c.top-c.bottom,f=()=>Math.max(Math.round(o()/50),12)+1,m={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return De(()=>{if(!r().length)return;const v=ad(t).attr("width",o()).attr("height",a()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');v.selectAll("*").remove();const x=[],C=Math.max(...r().map(p=>p.questions?.length||0)),R=r().length;for(let p=0;p<C;p++){const w={question:p+1,label:`Q${p+1}`,counts:{yes:0,"partial yes":0,no:0,"no ma":0}};r().forEach(b=>{const E=b.questions[p]?.toLowerCase?.()??"no ma";w.counts.hasOwnProperty(E)&&w.counts[E]++}),w.percentages={},Object.keys(w.counts).forEach(b=>{w.percentages[b]=w.counts[b]/R*100}),x.push(w)}const _=$d().domain(x.map(p=>p.label)).range([0,d()]).padding(.1),P=Cd().domain([0,100]).range([0,u()]),L=v.append("g").attr("transform",`translate(${c.left}, ${c.top})`);v.append("text").attr("x",o()/2).attr("y",30).attr("text-anchor","middle").attr("font-size",f()+"px").attr("font-weight","600").attr("fill","#111827").text(l()),x.forEach(p=>{let w=0;const b=_.bandwidth(),E=_(p.label);["yes","partial yes","no ma","no"].forEach(V=>{const H=p.percentages[V],G=P(H);H>0&&(L.append("rect").attr("x",P(w)).attr("y",E).attr("width",G).attr("height",b).attr("fill",m[V]).attr("stroke","#ffffff").attr("stroke-width",1),H>=5&&L.append("text").attr("x",P(w)+G/2).attr("y",E+b/2).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","12px").attr("font-weight","600").attr("fill",V==="partial yes"?"#000000":"#ffffff").text(`${H.toFixed(1)}`)),w+=H})}),L.selectAll(".y-label").data(x).enter().append("text").attr("class","y-label").attr("x",-10).attr("y",p=>_(p.label)+_.bandwidth()/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(p=>p.label);const O=Lp(P).tickFormat(p=>`${p}`).ticks(5);L.append("g").attr("class","x-axis").attr("transform",`translate(0, ${d()})`).call(O).selectAll("text").attr("font-size","12px").attr("fill","#374151"),L.append("text").attr("x",u()/2).attr("y",d()+50).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text(`Percentage of SRs (%), N=${R}`),v.append("text").attr("transform","rotate(-90)").attr("x",-a()/2).attr("y",20).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text("Items of AMSTAR-2");const M=v.append("g").attr("class","legend").attr("transform",`translate(${o()-c.right+20}, ${c.top+20})`),A=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],g=M.selectAll(".legend-item").data(A).enter().append("g").attr("class","legend-item").attr("transform",(p,w)=>`translate(0, ${w*25})`);g.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",p=>m[p.key]).attr("stroke","#ffffff").attr("stroke-width",1),g.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(p=>p.label),gt(()=>{v.selectAll("*").remove()})}),(()=>{var v=kv(),x=v.firstChild,C=n;typeof C=="function"?ns(C,v):n=v;var R=t;return typeof R=="function"?ns(R,x):t=x,ie(_=>Wi(x,`width: 100%; height: ${a()}px; max-width: 100%; display: block;`,_)),v})()}var $v=j("<div class=mb-6>"),Cv=j("<div>");function Ev(){const{currentProject:e}=Wt(),[t,n]=z([]),r=["q1","q2","q3","q4","q5","q6","q7","q8","q9","q10","q11","q12","q13","q14","q15","q16"];return De(()=>{const s=(e()?.reviews||[]).flatMap(i=>(i.checklists||[]).map(o=>{const a=Y0(o);return{label:o.name||o.title||o.id,reviewer:o.reviewerName||"",reviewName:i.name,questions:r.map(l=>a[l])}}));n(s)}),[(()=>{var s=$v();return k(s,$(_v,{get data(){return t()}})),s})(),(()=>{var s=Cv();return k(s,$(Sv,{get data(){return t()}})),s})()]}var Av=j("<div class=p-6>"),Rv=j("<div class=p-8>Project not found.");function Pv(){const{currentProject:e,setCurrentProject:t,deleteProject:n,addReview:r,deleteReview:s,addChecklistToReview:i,deleteChecklistFromReview:o}=Wt(),a=Yi(),l=zt(),[c,u]=z(!1);function d(R){if(!R)return null;const _=R.lastIndexOf("-");return _!==-1?R.slice(_+1):R}De(()=>{const R=d(a.projectSlug);R?t(R):(console.warn("ProjectDashboard: No project found for",R),l("/dashboard"))});const f=async R=>{const _=Hu({id:await Un(),name:R,createdAt:Date.now(),checklists:[]});await r(e().id,_)},m=async(R,_)=>{const P=Sa({name:_,id:await Un(),createdAt:Date.now(),reviewerName:"Unassigned"});await i(e().id,R,P)},v=R=>{const _=Ht(R.name),P=Ht(e().name),L=(e().reviews||[]).find(M=>(M.checklists||[]).some(A=>A.id===R.id));if(!L){console.error("Review not found for checklist",R);return}const O=Ht(L.name);l(`/projects/${P}-${e().id}/reviews/${O}-${L.id}/checklists/${_}-${R.id}`)},x=()=>{console.log("Toggling member manager",c()),u(!c())},C=R=>{console.log("New member added:",R),u(!1)};return $(_e,{get when(){return e()},get fallback(){return Rv()},get children(){var R=Av();return k(R,$(Hg,{get project(){return e()},onDeleteProject:n,onManageMembers:x}),null),k(R,$(Mg,{get open(){return c()},onClose:()=>u(!1),get projectId(){return e().id},onMemberAdded:C}),null),k(R,$(zg,{get createdAt(){return e().createdAt}}),null),k(R,$(Yg,{onAddReview:f}),null),k(R,$(op,{onDeleteReview:_=>s(e().id,_),onChecklistClick:v,onDeleteChecklist:(_,P)=>o(e().id,_,P),onAddChecklist:m}),null),k(R,$(fp,{}),null),k(R,$(Ev,{}),null),R}})}function Ed({id:e,name:t,createdAt:n=Date.now(),reviews:r=[]}={}){if(t===null)throw new Error("Project name cannot be null");return{id:e,name:t,createdAt:n,reviews:r}}function Tv(e,t){return Object.keys(e).forEach(n=>{/^q\d+[a-z]*$/i.test(n)&&e[n]?.answers&&e[n].answers.forEach((r,s)=>{r.fill(!1),t%2===0?r[0]=!0:r[r.length-1]=!0})}),e}async function Mv(){const e=["Review 1","Review 2","Review 3"];let t=[];for(const[r,s]of e.entries()){const i=r%2===0?2:1;for(let o=0;o<i;o++){let a=Sa({name:`Checklist ${o+1}`,id:await Un(),createdAt:Date.now()});a=Tv(a,r+o);const l=Hu({id:await Un(),name:s,createdAt:Date.now(),checklists:[a]});t.push(l)}}const n=Ed({id:await Un(),name:"Example Project",createdAt:Date.now(),reviews:t});await kr(n)}var Lv=j("<ul class=space-y-1>"),Nv=j('<div class=p-4><h2 class="text-xl font-bold mb-3">Your Projects</h2><div class="mt-4 flex items-center gap-2"><input type=text class="px-2 py-1 border rounded w-48 text-sm"placeholder="Project name"><button class="px-3 py-1.5 bg-green-500 text-white rounded hover:bg-green-600 transition text-sm">+ Add New Project</button></div><div class="mt-4 flex flex-wrap gap-2"><button class="px-3 py-1.5 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Load Example Project</button><button class="px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition text-sm">Check Health</button><button class="px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition text-sm">Check Health DB'),Ov=j('<div class="text-sm text-gray-500">No projects found.'),jv=j('<li><div><div class=font-medium></div><div class="text-xs text-gray-600"></div><div class="text-xs text-gray-400">Created: </div></div><button class="ml-0 sm:ml-4 mt-2 sm:mt-0 px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition text-xs">Delete');function Dv(){const{projects:e,currentProject:t,addProject:n,deleteProject:r}=Wt(),s=zt(),[i,o]=z(""),a=u=>{const d=Ht(u.name);s(`/projects/${d}-${u.id}`)},l=async()=>{if(!i().trim())return;const u=await n(Ed({id:await Un(),name:i().trim(),createdAt:Date.now()}));o(""),a(u)},c=async u=>{window.confirm("Are you sure you want to delete this project?")&&await r(u)};return(()=>{var u=Nv(),d=u.firstChild,f=d.nextSibling,m=f.firstChild,v=m.nextSibling,x=f.nextSibling,C=x.firstChild,R=C.nextSibling,_=R.nextSibling;return k(u,$(_e,{get when(){return e().length!==0},get fallback(){return Ov()},get children(){var P=Lv();return k(P,$(it,{get each(){return e()},children:L=>(()=>{var O=jv(),M=O.firstChild,A=M.firstChild,g=A.nextSibling,p=g.nextSibling;p.firstChild;var w=M.nextSibling;return O.$$click=()=>a(L),k(A,()=>L.name),k(g,()=>L.description),k(p,()=>new Date(L.createdAt).toLocaleDateString(),null),w.$$click=b=>{b.stopPropagation(),c(L.id)},ie(()=>We(O,`p-2 border rounded cursor-pointer transition text-sm flex flex-col sm:flex-row sm:items-center sm:justify-between ${t()&&t().id===L.id?"bg-blue-50 border-blue-300":"hover:bg-gray-100"}`)),O})()})),P}}),f),m.$$input=P=>o(P.target.value),v.$$click=l,C.$$click=async()=>{const P=await Mv();console.log("Loaded example project:",P),window.location.reload()},Mt(R,"click",qg,!0),Mt(_,"click",Fg,!0),ie(()=>v.disabled=!i().trim()),ie(()=>m.value=i()),u})()}Be(["input","click"]);const[qv,Ad]=z(navigator.onLine);window.addEventListener("online",()=>{console.info("Went online"),Ad(!0)});window.addEventListener("offline",()=>{console.info("Went offline"),Ad(!1)});function Rd(){return qv}function Fv(){const[e,t]=z(!1),[n,r]=z(null),[s,i]=z(!0),o=Rd();let a=o();async function l(){i(!0);try{await Wo();const _=await bo();r(_),t(!!_)}catch{r(null),t(!1)}finally{i(!1)}}o()?l():i(!1),De(()=>{o()&&!a&&!n()&&l(),a=o()});async function c(_,P,L){await Ng(_,P,L),localStorage.setItem("pendingEmail",_)}async function u(){await jg(localStorage.getItem("pendingEmail"))}async function d(_){await Dg(localStorage.getItem("pendingEmail"),_),localStorage.removeItem("pendingEmail")}async function f(_,P){localStorage.setItem("pendingEmail",_),await Og(_,P),localStorage.removeItem("pendingEmail"),t(!0),r(await bo())}async function m(){await Bu(),t(!1),r(null)}async function v(){const _=await bo();return r(_),_}async function x(){await Wo()}async function C(_,P={}){return await xs(_,P)}function R(){return localStorage.getItem("pendingEmail")}return{isLoggedIn:e,user:n,signup:c,signin:f,signout:m,getCurrentUser:v,refreshAccessToken:x,authFetch:C,authLoading:s,sendEmailVerification:u,verifyEmail:d,getPendingEmail:R}}const Iv=In(Fv);function Kn(){return Iv}var Vv=j("<div>");function Ft(e){const[t,n]=z(!1),[r,s]=z(!1);let i=null,o=null;const a=()=>e.duration??300,l=()=>e.timingFunction??"ease-in-out",c=()=>e.when;return De(()=>{c()?(clearTimeout(o),s(!0),requestAnimationFrame(()=>{n(!0)})):(n(!1),clearTimeout(o),o=setTimeout(()=>{s(!1)},a()))}),gt(()=>{clearTimeout(o)}),$(_e,{get when(){return r()},get fallback(){return e.fallback},get children(){var u=Vv(),d=i;return typeof d=="function"?ns(d,u):i=u,k(u,()=>e.children),ie(f=>{var m=t()?1:0,v=`opacity ${a()}ms ${l()}`,x=e.ariaLive||"polite",C=e.role||"alert",R=e.class||"";return m!==f.e&&Yr(u,"opacity",f.e=m),v!==f.t&&Yr(u,"transition",f.t=v),x!==f.a&&pt(u,"aria-live",f.a=x),C!==f.o&&pt(u,"role",f.o=C),R!==f.i&&We(u,f.i=R),f},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),u}})}var lr=(e,t=[])=>({parts:(...n)=>{if(Uv(t))return lr(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>lr(e,[...t,...n]),omit:(...n)=>lr(e,t.filter(r=>!n.includes(r))),rename:n=>lr(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Zn(e)}"][data-part="${Zn(r)}"]`,`& [data-scope="${Zn(e)}"][data-part="${Zn(r)}"]`].join(", "),attrs:{"data-scope":Zn(e),"data-part":Zn(r)}}}),{})}),Zn=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),Uv=e=>e.length===0,eo=e=>typeof e=="object"&&e!==null,Re=e=>e?"":void 0,Pd=e=>e?"true":void 0,Hv=1,Bv=9,zv=11,Td=e=>eo(e)&&e.nodeType===Hv&&typeof e.nodeName=="string",Md=e=>eo(e)&&e.nodeType===Bv,Wv=e=>eo(e)&&e===e.window,Yv=e=>eo(e)&&e.nodeType!==void 0,Qv=e=>Yv(e)&&e.nodeType===zv&&"host"in e;function Kv(e){if(!e)return!1;const t=e.getRootNode();return Ld(t)===e}function Gv(e){return Md(e)?e:Wv(e)?e.document:e?.ownerDocument??document}function Da(e){return Qv(e)?Da(e.host):Md(e)?e.defaultView??window:Td(e)?e.ownerDocument?.defaultView??window:window}function Ld(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function Jv(e){const{selectionStart:t,selectionEnd:n,value:r}=e.currentTarget,s=e.data;return r.slice(0,t)+(s??"")+r.slice(n)}function Xv(e){return Nd(e).isComposing||e.keyCode===229}var Zv=e=>e.button===0,ey=e=>e.ctrlKey||e.altKey||e.metaKey,ty={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Ec={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function ny(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let s=e.key;return s=ty[s]??s,n==="rtl"&&r==="horizontal"&&s in Ec&&(s=Ec[s]),s}function Nd(e){return e.nativeEvent??e}function ry(e,t){const{type:n="HTMLInputElement",property:r="value"}=t,s=Da(e)[n].prototype;return Object.getOwnPropertyDescriptor(s,r)??{}}function sy(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function iy(e,t,n="value"){if(!e)return;const r=sy(e);r&&ry(e,{type:r,property:n}).set?.call(e,t),e.setAttribute(n,t)}function oy(e,t){const{value:n,bubbles:r=!0}=t;if(!e)return;const s=Da(e);e instanceof s.HTMLInputElement&&(iy(e,`${n}`),e.dispatchEvent(new s.Event("input",{bubbles:r})))}function Hs(e){let t;const n=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(n),t?.()}}function ay(e,t){return Array.from(e?.querySelectorAll(t)??[])}var ly={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function cy(e){return e==null?[]:Array.isArray(e)?e:[e]}var Ac=e=>e?.constructor.name==="Array",uy=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!to(e[n],t[n]))return!1;return!0},to=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if(Ac(e)&&Ac(t))return uy(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let s=0;s<r;s++)if(!Reflect.has(e,n[s]))return!1;for(let s=0;s<r;s++){const i=n[s];if(!to(e[i],t[i]))return!1}return!0},dy=e=>Array.isArray(e),Od=e=>e!=null&&typeof e=="object",fy=e=>Od(e)&&!dy(e),hy=e=>typeof e=="number"&&!Number.isNaN(e),qa=e=>typeof e=="string",gn=e=>typeof e=="function",gy=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),py=e=>Object.prototype.toString.call(e),jd=Function.prototype.toString,my=jd.call(Object),wy=e=>{if(!Od(e)||py(e)!="[object Object]"||by(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=gy(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&jd.call(n)==my},vy=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,yy=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,by=e=>vy(e)||yy(e),xy=(()=>{let e=0;return()=>(e++,e.toString(36))})(),ko=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)];function Dd(e){if(!wy(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const s=e[r];s!==void 0&&(n[r]=Dd(s))}return n}function Rc(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function _y(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function ky(e,t){if(e==null)throw new Error(t())}function Sy(){return{and:(...e)=>function(n){return e.every(r=>n.guard(r))},or:(...e)=>function(n){return e.some(r=>n.guard(r))},not:e=>function(n){return!n.guard(e)}}}function $y(){return{guards:Sy(),createMachine:e=>e,choose:e=>function({choose:n}){return n(e)?.actions}}}var rr=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(rr||{}),So="__init__";function Cy(e){const t=()=>e.getRootNode?.()??document,n=()=>Gv(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>Ld(t()),isActiveElement:Kv,getById:o=>t().getElementById(o)}}function Ey(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var qd=()=>e=>Array.from(new Set(e)),Ay=lr("password-input").parts("root","input","label","control","indicator","visibilityTrigger"),er=Ay.build(),li=e=>e.ids?.input??`p-input-${e.id}-input`,na=e=>e.getById(li(e));function Ry(e,t){const{scope:n,prop:r,context:s}=e,i=s.get("visible"),o=!!r("disabled"),a=!!r("invalid"),l=!!r("readOnly"),c=!!r("required"),u=!(l||o),d=r("translations");return{visible:i,disabled:o,invalid:a,focus(){na(n)?.focus()},setVisible(f){e.send({type:"VISIBILITY.SET",value:f})},toggleVisible(){e.send({type:"VISIBILITY.SET",value:!i})},getRootProps(){return t.element({...er.root.attrs,dir:r("dir"),"data-disabled":Re(o),"data-invalid":Re(a),"data-readonly":Re(l)})},getLabelProps(){return t.label({...er.label.attrs,htmlFor:li(n),"data-disabled":Re(o),"data-invalid":Re(a),"data-readonly":Re(l),"data-required":Re(c)})},getInputProps(){return t.input({...er.input.attrs,id:li(n),autoCapitalize:"off",name:r("name"),required:r("required"),autoComplete:r("autoComplete"),spellCheck:!1,readOnly:l,disabled:o,type:i?"text":"password","data-state":i?"visible":"hidden","aria-invalid":Pd(a),"data-disabled":Re(o),"data-invalid":Re(a),"data-readonly":Re(l),...r("ignorePasswordManagers")?Py:{}})},getVisibilityTriggerProps(){return t.button({...er.visibilityTrigger.attrs,type:"button",tabIndex:-1,"aria-controls":li(n),"aria-expanded":i,"data-readonly":Re(l),disabled:o,"data-disabled":Re(o),"data-state":i?"visible":"hidden","aria-label":d?.visibilityTrigger?.(i),onPointerDown(f){Zv(f)&&u&&(f.preventDefault(),e.send({type:"TRIGGER.CLICK"}))}})},getIndicatorProps(){return t.element({...er.indicator.attrs,"aria-hidden":!0,"data-state":i?"visible":"hidden","data-disabled":Re(o),"data-invalid":Re(a),"data-readonly":Re(l)})},getControlProps(){return t.element({...er.control.attrs,"data-disabled":Re(o),"data-invalid":Re(a),"data-readonly":Re(l)})}}}var Py={"data-1p-ignore":"","data-lpignore":"true","data-bwignore":"true","data-form-type":"other","data-protonpass-ignore":"true"},Ty={props({props:e}){return{id:xy(),defaultVisible:!1,autoComplete:"current-password",ignorePasswordManagers:!1,...e,translations:{visibilityTrigger(t){return t?"Hide password":"Show password"},...e.translations}}},context({prop:e,bindable:t}){return{visible:t(()=>({value:e("visible"),defaultValue:e("defaultVisible"),onChange(n){e("onVisibilityChange")?.({visible:n})}}))}},initialState(){return"idle"},effects:["trackFormEvents"],states:{idle:{on:{"VISIBILITY.SET":{actions:["setVisibility"]},"TRIGGER.CLICK":{actions:["toggleVisibility","focusInputEl"]}}}},implementations:{actions:{setVisibility({context:e,event:t}){e.set("visible",t.value)},toggleVisibility({context:e}){e.set("visible",t=>!t)},focusInputEl({scope:e}){na(e)?.focus()}},effects:{trackFormEvents({scope:e,send:t}){const r=na(e)?.form;if(!r)return;const s=e.getWin(),i=new s.AbortController;return r.addEventListener("reset",o=>{o.defaultPrevented||t({type:"VISIBILITY.SET",value:!1})},{signal:i.signal}),r.addEventListener("submit",()=>{t({type:"VISIBILITY.SET",value:!1})},{signal:i.signal}),()=>i.abort()}}}};qd()(["defaultVisible","dir","id","onVisibilityChange","visible","ids","getRootNode","disabled","invalid","required","readOnly","translations","ignorePasswordManagers","autoComplete","name"]);function Ai(e){const t=e().value??e().defaultValue,n=e().isEqual??Object.is,[r,s]=z(t),i=Me(()=>e().value!=null),o={current:r()},a={current:void 0};De(()=>{const u=i()?e().value:r();a.current=u,o.current=u});const l=u=>{const d=a.current,f=gn(u)?u(o.current):u;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:f,prev:d}),i()||s(f),n(f,d)||e().onChange?.(f,d)};function c(){const u=i()?e().value:r;return gn(u)?u():u}return{initial:t,ref:o,get:c,set:l,invoke(u,d){e().onChange?.(u,d)},hash(u){return e().hash?.(u)??String(u)}}}Ai.cleanup=e=>{gt(()=>e())};Ai.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function My(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}function $o(e){return gn(e)?e():e}var Ly=(e,t)=>{let n=[],r=!0;De(()=>{if(r){n=e.map(i=>$o(i)),r=!1;return}let s=!1;for(let i=0;i<e.length;i++)if(!to(n[i],$o(e[i]))){s=!0;break}s&&(n=e.map(i=>$o(i)),t())})};function Fd(e,t={}){const n=Me(()=>{const{id:g,ids:p,getRootNode:w}=Co(t);return Cy({id:g,ids:p,getRootNode:w})}),r=(...g)=>{e.debug&&console.log(...g)},s=Me(()=>e.props?.({props:Dd(Co(t)),scope:n()})??Co(t)),i=Ny(s),o=e.context?.({prop:i,bindable:Ai,get scope(){return n()},flush:Pc,getContext(){return a},getComputed(){return L},getRefs(){return v},getEvent(){return f()}}),a={get(g){return o?.[g].get()},set(g,p){o?.[g].set(p)},initial(g){return o?.[g].initial},hash(g){const p=o?.[g].get();return o?.[g].hash(p)}},l={current:new Map},c={current:null},u={current:null},d={current:{type:""}},f=()=>be(d.current,{current(){return d.current},previous(){return u.current}}),m=()=>be(O,{matches(...g){const p=O.get();return g.includes(p)},hasTag(g){const p=O.get();return!!e.states[p]?.tags?.includes(g)}}),v=My(e.refs?.({prop:i,context:a})??{}),x=()=>({state:m(),context:a,event:f(),prop:i,send:A,action:C,guard:R,track:Ly,refs:v,computed:L,flush:Pc,get scope(){return n()},choose:P}),C=g=>{const p=gn(g)?g(x()):g;if(!p)return;const w=p.map(b=>{const E=e.implementations?.actions?.[b];return E||Rc(`[zag-js] No implementation found for action "${JSON.stringify(b)}"`),E});for(const b of w)b?.(x())},R=g=>gn(g)?g(x()):e.implementations?.guards?.[g](x()),_=g=>{const p=gn(g)?g(x()):g;if(!p)return;const w=p.map(E=>{const V=e.implementations?.effects?.[E];return V||Rc(`[zag-js] No implementation found for effect "${JSON.stringify(E)}"`),V}),b=[];for(const E of w){const V=E?.(x());V&&b.push(V)}return()=>b.forEach(E=>E?.())},P=g=>cy(g).find(p=>{let w=!p.guard;return qa(p.guard)?w=!!R(p.guard):gn(p.guard)&&(w=p.guard(x())),w}),L=g=>{ky(e.computed,()=>"[zag-js] No computed object found on machine");const p=e.computed[g];return p({context:a,event:d.current,prop:i,refs:v,scope:n(),computed:L})},O=Ai(()=>({defaultValue:e.initialState({prop:i}),onChange(g,p){p&&(l.current.get(p)?.(),l.current.delete(p)),p&&C(e.states[p]?.exit),C(c.current?.actions);const w=_(e.states[g]?.effects);if(w&&l.current.set(g,w),p===So){C(e.entry);const b=_(e.effects);b&&l.current.set(So,b)}C(e.states[g]?.entry)}}));let M=rr.NotStarted;ga(()=>{const g=M===rr.Started;M=rr.Started,r(g?"rehydrating...":"initializing..."),O.invoke(O.initial,So)}),gt(()=>{r("unmounting..."),M=rr.Stopped,l.current.forEach(p=>p?.()),l.current=new Map,c.current=null,C(e.exit)});const A=g=>{queueMicrotask(()=>{if(M!==rr.Started)return;u.current=d.current,d.current=g;let p=ht(()=>O.get());const w=e.states[p].on?.[g.type]??e.on?.[g.type],b=P(w);if(!b)return;c.current=b;const E=b.target??p;r("transition",g.type,b.target||p,`(${b.actions})`);const V=E!==p;V?O.set(E):b.reenter&&!V?O.invoke(p,p):C(b.actions)})};return e.watch?.(x()),{state:m(),send:A,context:a,prop:i,get scope(){return n()},refs:v,computed:L,event:f(),getStatus:()=>M}}function Pc(e){e()}function Co(e){return gn(e)?e():e}function Ny(e){return function(n){return e()[n]}}var Tc={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"},Oy=e=>e.startsWith("--")?e:Vy(e);function jy(e){return e in Tc?Tc[e]:e}var Id=Ey(e=>{const t={};for(const n in e){const r=e[n];if(!(n==="readOnly"&&r===!1)){if(n==="style"&&fy(r)){t.style=Dy(r);continue}if(n==="children"){qa(r)&&(t.textContent=r);continue}t[jy(n)]=r}}return t});function Dy(e){let t={};for(const n in e){const r=e[n];!qa(r)&&!hy(r)||(t[Oy(n)]=r)}return t}var qy=/[A-Z]/g,Fy=/^ms-/;function Iy(e){return"-"+e.toLowerCase()}var Eo={};function Vy(e){if(Eo.hasOwnProperty(e))return Eo[e];var t=e.replace(qy,Iy);return Eo[e]=Fy.test(t)?"-"+t:t}var Uy=j("<svg stroke-width=0>");function no(e,t){const n=be(e.a,t),[r,s]=bu(n,["src"]),[i,o]=z(""),a=Me(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return De(()=>o(a())),gt(()=>{o("")}),(()=>{var l=Uy();return ct(l,be({get stroke(){return e.a?.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},s,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return i()}}),!0,!0),k(l,()=>_u),l})()}function Hy(e){return no({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><path d="M1 1 23 23"/>'},e)}function By(e){return no({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><path d="M12 9A3 3 0 1 0 12 15 3 3 0 1 0 12 9z"/>'},e)}function zy(e){return no({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M3 12 21 12"/><path d="M3 6 21 6"/><path d="M3 18 21 18"/>'},e)}var Wy=j("<div><label>Password</label><div><input><button><span>");function Ri(e){const t=Fd(Ty,{id:xu(),autoComplete:e.autoComplete||"new-password",value:e.password||"",required:e.required||!1}),n=Me(()=>Ry(t,Id)),r=e.inputClass||"w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder",s=e.iconSize||20;return(()=>{var i=Wy(),o=i.firstChild,a=o.nextSibling,l=a.firstChild,c=l.nextSibling,u=c.firstChild;return ct(i,be(()=>n().getRootProps(),{get class(){return e.class}}),!1,!0),ct(o,be(()=>n().getLabelProps(),{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"}),!1,!0),ct(a,be(()=>n().getControlProps(),{class:"relative"}),!1,!0),ct(l,be(()=>n().getInputProps(),{class:r,onInput:d=>e.onPasswordChange?.(d.target.value),placeholder:"••••••••"}),!1,!1),ct(c,be(()=>n().getVisibilityTriggerProps(),{class:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-gray-400"}),!1,!0),ct(u,be(()=>n().getIndicatorProps()),!1,!0),k(u,$(_e,{get when(){return n().visible},get fallback(){return $(Hy,{size:s-2})},get children(){return $(By,{size:s})}})),i})()}function Qr(e){return no({a:{viewBox:"0 0 1024 1024"},c:'<path d="M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"/>'},e)}var Yy=j('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-xs sm:text-sm">'),Qy=j('<div class="flex items-center">Signing In...'),Ky=j('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-8 sm:py-12"><form aria-labelledby=signin-heading class="w-full max-w-md sm:max-w-xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-6 sm:p-12 space-y-4 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2"id=signin-heading>Welcome Back</h2><p class="text-gray-500 text-xs sm:text-sm">Sign in to your account.</p></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div><div></div><button type=submit class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center mt-1 sm:mt-2"><a href=/reset-password class="text-indigo-600 hover:underline text-xs sm:text-sm font-semibold">Forgot password?</a></div><div class="text-center text-xs sm:text-sm text-gray-500 mt-2 sm:mt-4">Don&apos;t have an account? <a href=/signup class="text-indigo-600 hover:underline font-semibold">Sign Up');function Gy(){const[e,t]=z(""),[n,r]=z(""),[s,i]=z(""),[o,a]=z(!1),l=zt(),{signin:c}=Kn();async function u(d){if(d.preventDefault(),i(""),!e()||!n()){i("Please enter email and password");return}a(!0);try{await c(e(),n()),await new Promise(f=>setTimeout(f,200)),l("/dashboard",{replace:!0}),a(!1)}catch(f){JSON.parse(f.message).detail.includes("Email not verified")?l("/verify-email",{replace:!0}):(a(!1),i("Incorrect email or password"))}}return(()=>{var d=Ky(),f=d.firstChild,m=f.firstChild,v=m.nextSibling,x=v.firstChild,C=x.nextSibling,R=v.nextSibling,_=R.nextSibling,P=_.nextSibling,L=P.firstChild,O=P.nextSibling,M=O.firstChild,A=M.nextSibling;return f.addEventListener("submit",u),C.$$input=g=>t(g.target.value),k(R,$(Ri,{get password(){return n()},onPasswordChange:r,autoComplete:"current-password",required:!0}),null),k(R,$(Ft,{get when(){return!!s()},get children(){var g=Yy();return k(g,s),g}}),null),k(_,$(Ft,{get when(){return o()},fallback:"Sign In",get children(){var g=Qy(),p=g.firstChild;return k(g,$(Qr,{class:"animate-spin mr-2",size:22}),p),g}})),L.$$click=g=>{g.preventDefault(),l("/reset-password")},A.$$click=g=>{g.preventDefault(),l("/signup")},ie(()=>_.disabled=o()),ie(()=>C.value=e()),d})()}Be(["input","click"]);var Jy=j('<div class="w-full mt-2"><div class="text-xs text-gray-700"id=password-requirements aria-live=polite><ul class="pace-y-0.5 sm:space-y-1">'),Xy=j('<li class="flex items-center gap-2"><span aria-hidden=true></span><span>'),Zy=j('<svg class="w-3 h-3"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M4 8l3 3 5-5">'),eb=j('<svg class="w-3 h-3"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M5 5l6 6M11 5l-6 6">');const qr=[{label:"At least 8 characters",test:e=>e.length>=8,error:"at least 8 characters"},{label:"Uppercase letter (A-Z)",test:e=>/[A-Z]/.test(e),error:"an uppercase letter"},{label:"Lowercase letter (a-z)",test:e=>/[a-z]/.test(e),error:"a lowercase letter"},{label:"Number (0-9)",test:e=>/\d/.test(e),error:"a number"},{label:"Special character (e.g. !?<>@#$%)",test:e=>/[^A-Za-z0-9]/.test(e),error:"a special character"}];function tb(e){if(e=e(),!e)return{met:[],unmet:qr.map(s=>s.label)};const t=qr.filter(s=>s.test(e)).map(s=>s.label),n=qr.filter(s=>!s.test(e)).map(s=>s.label),r=qr.filter(s=>!s.test(e)).map(s=>s.error);return{met:t,unmet:n,errors:r}}function nb(e){const t=Me(()=>tb(()=>e.password));return De(()=>{e.onUnmet?.(t().errors)}),(()=>{var n=Jy(),r=n.firstChild,s=r.firstChild;return k(s,$(it,{each:qr,children:i=>{const o=()=>t().met.includes(i.label);return(()=>{var a=Xy(),l=a.firstChild,c=l.nextSibling;return k(l,(()=>{var u=je(()=>!!o());return()=>u()?Zy():eb()})()),k(c,()=>i.label),ie(u=>{var d=`w-3.5 h-3.5 ml-1 rounded-full flex items-center justify-center ${o()?"bg-white text-green-500 border-green-500 border-[1.5px]":"border-red-500 border-[1.5px] text-red-500"}`,f=o()?"text-green-500":"text-red-500";return d!==u.e&&We(l,u.e=d),f!==u.t&&We(c,u.t=f),u},{e:void 0,t:void 0}),a})()}})),n})()}var rb=j('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-xs sm:text-sm">Password must include '),sb=j('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-xs sm:text-sm">'),ib=j('<div class="flex items-center">Signing Up...'),ob=j('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-6 sm:py-12"><form aria-labelledby=signup-heading class="w-full max-w-md sm:max-w-xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-6 sm:p-12 space-y-4 border border-gray-100"autocomplete=off><div class="mb-2 text-center"><h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2"id=signup-heading>Get Started</h2><p class="text-gray-500 text-xs sm:text-sm">Create a new account.</p></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=name-input>Name</label><div class=relative><input type=text autocomplete=name autocapitalize=words spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=name-input placeholder="What should we call you?"></div></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><div class=relative><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div></div><div></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=confirm-password-input>Confirm Password</label><div class=relative><input type=password autocomplete=new-password autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder"required id=confirm-password-input placeholder=••••••••></div></div><button type=submit class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-xs sm:text-sm text-gray-500 mt-2 sm:mt-4">Already have an account? <a href=/signin class="text-indigo-600 hover:underline font-semibold">Sign In');function ab(){const[e,t]=z(""),[n,r]=z(""),[s,i]=z(""),[o,a]=z(""),[l,c]=z(""),[u,d]=z(!1),[f,m]=z([]),[v,x]=z(!1),C=zt(),{signup:R}=Kn();async function _(P){if(P.preventDefault(),d(!0),c(""),!e()||!n()||!s()||!o()){c("Please fill out all fields");return}if(s()!==o()){c("Passwords do not match");return}if(!(f().length>0)){x(!0);try{await R(n(),s(),e()),await new Promise(L=>setTimeout(L,200)),C("/verify-email",{replace:!0}),x(!1)}catch(L){console.error("Signup error:",L),JSON.parse(L.message).detail.includes("Email not verified")?C("/verify-email",{replace:!0}):(x(!1),c("Sign up failed"))}}}return De(()=>{s()===o()&&c("")}),(()=>{var P=ob(),L=P.firstChild,O=L.firstChild,M=O.nextSibling,A=M.firstChild,g=A.nextSibling,p=g.firstChild,w=M.nextSibling,b=w.firstChild,E=b.nextSibling,V=E.firstChild,H=w.nextSibling,G=H.nextSibling,te=G.firstChild,B=te.nextSibling,F=B.firstChild,N=G.nextSibling,Z=N.nextSibling,I=Z.firstChild,W=I.nextSibling;return L.addEventListener("submit",_),p.$$input=T=>t(T.target.value),V.$$input=T=>r(T.target.value),k(H,$(Ri,{get password(){return s()},onPasswordChange:i,autoComplete:"new-password",required:!0}),null),k(H,$(Ft,{get when(){return je(()=>!!u())()&&f().length>0},get children(){var T=rb();return T.firstChild,k(T,()=>f()?.[0],null),T}}),null),k(H,$(nb,{get password(){return s()},onUnmet:m}),null),F.$$input=T=>a(T.target.value),k(G,$(Ft,{get when(){return!!l()},get children(){var T=sb();return k(T,l),T}}),null),k(N,$(Ft,{get when(){return v()},fallback:"Sign Up",get children(){var T=ib(),ee=T.firstChild;return k(T,$(Qr,{class:"animate-spin mr-2",size:22}),ee),T}})),W.$$click=T=>{T.preventDefault(),C("/signin")},ie(()=>N.disabled=v()),ie(()=>p.value=e()),ie(()=>V.value=n()),ie(()=>F.value=o()),P})()}Be(["input","click"]);var lb=lr("pinInput").parts("root","label","input","control"),Bs=lb.build(),Kr=e=>e.ids?.root??`pin-input:${e.id}`,cb=(e,t)=>e.ids?.input?.(t)??`pin-input:${e.id}:${t}`,ra=e=>e.ids?.hiddenInput??`pin-input:${e.id}:hidden`,ub=e=>e.ids?.label??`pin-input:${e.id}:label`,db=e=>e.ids?.control??`pin-input:${e.id}:control`,fb=e=>e.getById(Kr(e)),Pi=e=>{const n=`input[data-ownedby=${CSS.escape(Kr(e))}]`;return ay(fb(e),n)},Pr=(e,t)=>Pi(e)[t],hb=e=>Pi(e)[0],Mc=e=>e.getById(ra(e)),Ao=(e,t)=>{e.value=t,e.setAttribute("value",t)},gb={numeric:/^[0-9]+$/,alphabetic:/^[A-Za-z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i};function pb(e,t){return e?!!gb[e]?.test(t):!0}function mb(e,t,n){return n?new RegExp(n,"g").test(e):pb(t,e)}function wb(e,t){const{send:n,context:r,computed:s,prop:i,scope:o}=e,a=s("isValueComplete"),l=!!i("disabled"),c=!!i("readOnly"),u=!!i("invalid"),d=!!i("required"),f=i("translations"),m=r.get("focusedIndex");function v(){hb(o)?.focus()}return{focus:v,count:r.get("count"),items:Array.from({length:r.get("count")}).map((x,C)=>C),value:r.get("value"),valueAsString:s("valueAsString"),complete:a,setValue(x){Array.isArray(x)||_y("[pin-input/setValue] value must be an array"),n({type:"VALUE.SET",value:x})},clearValue(){n({type:"VALUE.CLEAR"})},setValueAtIndex(x,C){n({type:"VALUE.SET",value:C,index:x})},getRootProps(){return t.element({dir:i("dir"),...Bs.root.attrs,id:Kr(o),"data-invalid":Re(u),"data-disabled":Re(l),"data-complete":Re(a),"data-readonly":Re(c)})},getLabelProps(){return t.label({...Bs.label.attrs,dir:i("dir"),htmlFor:ra(o),id:ub(o),"data-invalid":Re(u),"data-disabled":Re(l),"data-complete":Re(a),"data-required":Re(d),"data-readonly":Re(c),onClick(x){x.preventDefault(),v()}})},getHiddenInputProps(){return t.input({"aria-hidden":!0,type:"text",tabIndex:-1,id:ra(o),readOnly:c,disabled:l,required:d,name:i("name"),form:i("form"),style:ly,maxLength:s("valueLength"),defaultValue:s("valueAsString")})},getControlProps(){return t.element({...Bs.control.attrs,dir:i("dir"),id:db(o)})},getInputProps(x){const{index:C}=x,R=i("type")==="numeric"?"tel":"text";return t.input({...Bs.input.attrs,dir:i("dir"),disabled:l,"data-disabled":Re(l),"data-complete":Re(a),id:cb(o,C.toString()),"data-index":C,"data-ownedby":Kr(o),"aria-label":f?.inputLabel?.(C,s("valueLength")),inputMode:i("otp")||i("type")==="numeric"?"numeric":"text","aria-invalid":Pd(u),"data-invalid":Re(u),type:i("mask")?"password":R,defaultValue:r.get("value")[C]||"",readOnly:c,autoCapitalize:"none",autoComplete:i("otp")?"one-time-code":"off",placeholder:m===C?"":i("placeholder"),onBeforeInput(_){try{const P=Jv(_);mb(P,i("type"),i("pattern"))||(n({type:"VALUE.INVALID",value:P}),_.preventDefault()),P.length>2&&_.currentTarget.setSelectionRange(0,1,"forward")}catch{}},onChange(_){const P=Nd(_),{value:L}=_.currentTarget;if(P.inputType==="insertFromPaste"||L.length>2){n({type:"INPUT.PASTE",value:L}),_.currentTarget.value=L[0],_.preventDefault();return}if(P.inputType==="deleteContentBackward"){n({type:"INPUT.BACKSPACE"});return}n({type:"INPUT.CHANGE",value:L,index:C})},onKeyDown(_){if(_.defaultPrevented||Xv(_)||ey(_))return;const L={Backspace(){n({type:"INPUT.BACKSPACE"})},Delete(){n({type:"INPUT.DELETE"})},ArrowLeft(){n({type:"INPUT.ARROW_LEFT"})},ArrowRight(){n({type:"INPUT.ARROW_RIGHT"})},Enter(){n({type:"INPUT.ENTER"})}}[ny(_,{dir:i("dir"),orientation:"horizontal"})];L&&(L(_),_.preventDefault())},onFocus(){n({type:"INPUT.FOCUS",index:C})},onBlur(_){const P=_.relatedTarget;Td(P)&&P.dataset.ownedby===Kr(o)||n({type:"INPUT.BLUR",index:C})}})}}}var{choose:vb,createMachine:yb}=$y(),bb=yb({props({props:e}){return{placeholder:"○",otp:!1,type:"numeric",defaultValue:e.count?zs([],e.count):[],...e,translations:{inputLabel:(t,n)=>`pin code ${t+1} of ${n}`,...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({value:e("value"),defaultValue:e("defaultValue"),isEqual:to,onChange(n){e("onValueChange")?.({value:n,valueAsString:n.join("")})}})),focusedIndex:t(()=>({sync:!0,defaultValue:-1})),count:t(()=>({defaultValue:e("count")}))}},computed:{_value:({context:e})=>zs(e.get("value"),e.get("count")),valueLength:({computed:e})=>e("_value").length,filledValueLength:({computed:e})=>e("_value").filter(t=>t?.trim()!=="").length,isValueComplete:({computed:e})=>e("valueLength")===e("filledValueLength"),valueAsString:({computed:e})=>e("_value").join(""),focusedValue:({computed:e,context:t})=>e("_value")[t.get("focusedIndex")]||""},entry:vb([{guard:"autoFocus",actions:["setInputCount","setFocusIndexToFirst"]},{actions:["setInputCount"]}]),watch({action:e,track:t,context:n,computed:r}){t([()=>n.get("focusedIndex")],()=>{e(["focusInput","selectInputIfNeeded"])}),t([()=>n.get("value").join(",")],()=>{e(["syncInputElements","dispatchInputEvent"])}),t([()=>r("isValueComplete")],()=>{e(["invokeOnComplete","blurFocusedInputIfNeeded"])})},on:{"VALUE.SET":[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],"VALUE.CLEAR":{actions:["clearValue","setFocusIndexToFirst"]}},states:{idle:{on:{"INPUT.FOCUS":{target:"focused",actions:["setFocusedIndex"]}}},focused:{on:{"INPUT.CHANGE":{actions:["setFocusedValue","syncInputValue","setNextFocusedIndex"]},"INPUT.PASTE":{actions:["setPastedValue","setLastValueFocusIndex"]},"INPUT.FOCUS":{actions:["setFocusedIndex"]},"INPUT.BLUR":{target:"idle",actions:["clearFocusedIndex"]},"INPUT.DELETE":{guard:"hasValue",actions:["clearFocusedValue"]},"INPUT.ARROW_LEFT":{actions:["setPrevFocusedIndex"]},"INPUT.ARROW_RIGHT":{actions:["setNextFocusedIndex"]},"INPUT.BACKSPACE":[{guard:"hasValue",actions:["clearFocusedValue"]},{actions:["setPrevFocusedIndex","clearFocusedValue"]}],"INPUT.ENTER":{guard:"isValueComplete",actions:["requestFormSubmit"]},"VALUE.INVALID":{actions:["invokeOnInvalid"]}}}},implementations:{guards:{autoFocus:({prop:e})=>!!e("autoFocus"),hasValue:({context:e})=>e.get("value")[e.get("focusedIndex")]!=="",isValueComplete:({computed:e})=>e("isValueComplete"),hasIndex:({event:e})=>e.index!==void 0},actions:{dispatchInputEvent({computed:e,scope:t}){const n=Mc(t);oy(n,{value:e("valueAsString")})},setInputCount({scope:e,context:t,prop:n}){if(n("count"))return;const r=Pi(e);t.set("count",r.length)},focusInput({context:e,scope:t}){const n=e.get("focusedIndex");n!==-1&&Pr(t,n)?.focus({preventScroll:!0})},selectInputIfNeeded({context:e,prop:t,scope:n}){const r=e.get("focusedIndex");!t("selectOnFocus")||r===-1||Hs(()=>{Pr(n,r)?.select()})},invokeOnComplete({computed:e,prop:t}){e("isValueComplete")&&t("onValueComplete")?.({value:e("_value"),valueAsString:e("valueAsString")})},invokeOnInvalid({context:e,event:t,prop:n}){n("onValueInvalid")?.({value:t.value,index:e.get("focusedIndex")})},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},setValue({context:e,event:t}){const n=zs(t.value,e.get("count"));e.set("value",n)},setFocusedValue({context:e,event:t,computed:n,flush:r}){const s=n("focusedValue"),i=e.get("focusedIndex"),o=Lc(s,t.value);r(()=>{e.set("value",ko(n("_value"),i,o))})},revertInputValue({context:e,computed:t,scope:n}){const r=Pr(n,e.get("focusedIndex"));Ao(r,t("focusedValue"))},syncInputValue({context:e,event:t,scope:n}){const r=e.get("value"),s=Pr(n,t.index);Ao(s,r[t.index])},syncInputElements({context:e,scope:t}){const n=Pi(t),r=e.get("value");n.forEach((s,i)=>{Ao(s,r[i])})},setPastedValue({context:e,event:t,computed:n,flush:r}){Hs(()=>{const s=n("valueAsString"),i=e.get("focusedIndex"),o=n("valueLength"),a=n("filledValueLength"),l=Math.min(i,a),c=l>0?s.substring(0,i):"",u=t.value.substring(0,o-l),d=zs(`${c}${u}`.split(""),o);r(()=>{e.set("value",d)})})},setValueAtIndex({context:e,event:t,computed:n}){const r=Lc(n("focusedValue"),t.value);e.set("value",ko(n("_value"),t.index,r))},clearValue({context:e}){const t=Array.from({length:e.get("count")}).fill("");queueMicrotask(()=>{e.set("value",t)})},clearFocusedValue({context:e,computed:t}){const n=e.get("focusedIndex");n!==-1&&e.set("value",ko(t("_value"),n,""))},setFocusIndexToFirst({context:e}){e.set("focusedIndex",0)},setNextFocusedIndex({context:e,computed:t}){e.set("focusedIndex",Math.min(e.get("focusedIndex")+1,t("valueLength")-1))},setPrevFocusedIndex({context:e}){e.set("focusedIndex",Math.max(e.get("focusedIndex")-1,0))},setLastValueFocusIndex({context:e,computed:t}){Hs(()=>{e.set("focusedIndex",Math.min(t("filledValueLength"),t("valueLength")-1))})},blurFocusedInputIfNeeded({context:e,prop:t,scope:n}){t("blurOnComplete")&&Hs(()=>{Pr(n,e.get("focusedIndex"))?.blur()})},requestFormSubmit({computed:e,prop:t,scope:n}){if(!t("name")||!e("isValueComplete"))return;Mc(n)?.form?.requestSubmit()}}}});function Lc(e,t){let n=t;e[0]===t[0]?n=t[1]:e[0]===t[1]&&(n=t[0]);const r=n.split("");return n=r[r.length-1],n??""}function zs(e,t){return Array.from({length:t}).fill("").map((n,r)=>e[r]||n)}qd()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var xb=j('<div class="flex flex-col items-center"><div><input><input><input><input><input><input>');function _b(e){const t=Fd(bb,{id:xu(),required:e.required||!0,autoComplete:e.autoComplete||"one-time-code",otp:e.otp||!0,onValueChange(s){e.onInput&&e.onInput(s.valueAsString)},onValueComplete(s){e.onComplete&&e.onComplete(s.valueAsString)}}),n=Me(()=>wb(t,Id)),r=()=>"w-10 h-12 sm:w-14 sm:h-14 rounded-lg border-2 "+(e.isError?"border-red-500 focus:border-red-600 focus:ring-red-400":"border-gray-300 focus:border-blue-500 focus:ring-blue-400")+" bg-gray-50 text-center text-xl font-semibold outline-none";return(()=>{var s=xb(),i=s.firstChild,o=i.firstChild,a=o.nextSibling,l=a.nextSibling,c=l.nextSibling,u=c.nextSibling,d=u.nextSibling;return ct(i,be(()=>n().getRootProps(),{class:"flex justify-center gap-1 sm:gap-3 my-6"}),!1,!0),ct(o,be({get required(){return e.required??!0}},()=>n().getInputProps({index:0}),{get class(){return r()}}),!1,!1),ct(a,be({get required(){return e.required??!0}},()=>n().getInputProps({index:1}),{get class(){return r()}}),!1,!1),ct(l,be({get required(){return e.required??!0}},()=>n().getInputProps({index:2}),{get class(){return r()}}),!1,!1),ct(c,be({get required(){return e.required??!0}},()=>n().getInputProps({index:3}),{get class(){return r()}}),!1,!1),ct(u,be({get required(){return e.required??!0}},()=>n().getInputProps({index:4}),{get class(){return r()}}),!1,!1),ct(d,be({get required(){return e.required??!0}},()=>n().getInputProps({index:5}),{get class(){return r()}}),!1,!1),s})()}var kb=j('<div class=text-center><p class="text-gray-500 text-sm sm:text-base">Enter the verification code sent to your email.'),Sb=j('<div class="flex items-center">Verifying...'),$b=j('<button type=submit class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center">'),Nc=j('<div class="flex items-center">Sending...'),Cb=j(`<div class="text-center text-xs sm:text-sm text-gray-500 mt-2 sm:mt-4">Didn't get a code? <button type=button class="text-indigo-600 hover:underline font-semibold bg-transparent border-none p-0 m-0 cursor-pointer inline-flex items-center">`),Eb=j('<p class=" text-red-600 text-xs sm:text-sm">'),Ab=j('<p class="pt-2 sm:pt-3 px-2 text-green-600 text-xs sm:text-sm">Email verified! Ready to sign in...'),Rb=j('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-12"><form aria-labelledby=verifyemail-heading class="w-full max-w-md sm:max-w-xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-12 space-y-2 border border-gray-100 relative"autocomplete=off><div class=text-center><h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2"id=verifyemail-heading>Verify Your Email'),Pb=j('<div class="mb-6 sm:mb-8 text-center"><p class="text-gray-500 text-xs sm:text-sm">Send a code to verify your email.'),Tb=j('<button class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"type=button>');function Mb(){const[e,t]=z(""),[n,r]=z(!1),[s,i]=z(""),[o,a]=z(!1),[l,c]=z(!1),[u,d]=z(!1),f=zt(),[m,v]=Gh(),{verifyEmail:x,sendEmailVerification:C,getPendingEmail:R}=Kn();ga(()=>{R()||f("/signin",{replace:!0})});async function _(L,O){L?.preventDefault&&L.preventDefault(),i(""),a(!0);try{const M=O??e();await x(M),await new Promise(A=>setTimeout(A,200)),c(!0),f("/signin",{replace:!0}),a(!1)}catch(M){console.error("Verify email error:",M),a(!1),i("Invalid code. Please try again.")}}async function P({resend:L=!1}){i(""),L?d(!0):a(!0);try{await C(),await new Promise(O=>setTimeout(O,L?1e3:200)),a(!1),d(!1),v({codeSent:"true"}),r(!0)}catch(O){console.error("Send verification code error:",O),a(!1),d(!1),i("Error sending code. Please try again later.")}}return De(async()=>{if(m.codeSent==="true"&&(r(!0),m.code))try{await x(m.code),c(!0),f("/signin",{replace:!0}),a(!1)}catch(L){console.error("Verify email error with URL code:",L),a(!1),i("Invalid or expired link.")}}),De(()=>{e(),i("")}),(()=>{var L=Rb(),O=L.firstChild;return O.firstChild,O.addEventListener("submit",_),k(O,$(_e,{get when(){return n()},get fallback(){return[Pb(),(()=>{var M=Tb();return M.$$click=P,k(M,$(Ft,{get when(){return o()},fallback:"Send Code",get children(){var A=Nc(),g=A.firstChild;return k(A,$(Qr,{class:"animate-spin mr-2",size:22}),g),A}})),ie(()=>M.disabled=o()),M})()]},get children(){return[kb(),$(_b,{otp:!0,required:!0,autocomplete:!0,onInput:t,get isError(){return!!s()},onComplete:M=>_(void 0,M)}),(()=>{var M=$b();return k(M,$(Ft,{get when(){return o()},fallback:"Verify Email",get children(){var A=Sb(),g=A.firstChild;return k(A,$(Qr,{class:"animate-spin mr-2",size:22}),g),A}})),ie(()=>M.disabled=o()),M})(),(()=>{var M=Cb(),A=M.firstChild,g=A.nextSibling;return g.$$click=()=>P({resend:!0}),k(g,$(_e,{get when(){return u()},fallback:"Resend",get children(){var p=Nc();return p.firstChild,k(p,$(Qr,{class:"animate-spin mr-1",size:16}),null),p}})),ie(p=>{var w=u(),b=u();return w!==p.e&&(g.disabled=p.e=w),b!==p.t&&pt(g,"aria-disabled",p.t=b),p},{e:void 0,t:void 0}),M})()]}}),null),k(O,$(Ft,{get when(){return!!s()},class:"absolute left-10 right-0 bottom-2 sm:bottom-6",get children(){var M=Eb();return k(M,s),M}}),null),k(O,$(Ft,{get when(){return l()},class:"absolute left-10 right-0 bottom-2 sm:bottom-6",get children(){return Ab()}}),null),L})()}Be(["click"]);var Lb=j('<div class="h-full flex items-center justify-center p-4"><div class="w-full max-w-md bg-white rounded-xl p-6 sm:p-12 shadow-2xl space-y-4">'),Nb=j('<h2 class="text-xl font-bold text-gray-900 mb-2">Reset Password'),Ob=j('<input type=email placeholder="Enter your email"class="w-full p-2 border border-gray-300 rounded-lg">'),Ro=j('<button class="w-full bg-indigo-600 text-white py-2 rounded-lg mt-2">'),jb=j('<h2 class="text-xl font-bold text-gray-900 mb-2">Enter Verification Code'),Db=j('<p class="text-gray-500 text-xs mb-2">(DEV: Use code <!> for testing)'),qb=j('<input type=text placeholder="Verification code"class="w-full p-2 border border-gray-300 rounded-lg">'),Oc=j('<p class="text-red-600 text-xs mt-2">'),Fb=j('<h2 class="text-xl font-bold text-gray-900 mb-2">Set New Password');function Ib(){const[e,t]=z(""),[n,r]=z(""),[s,i]=z(""),[o,a]=z(""),[l,c]=z(1),[u,d]=z(""),[f,m]=z(!1),v=zt(),{requestPasswordReset:x,verifyResetCode:C,resetPassword:R}=Kn(),[_,P]=z("");async function L(){if(d(""),!e())return d("Enter your email");m(!0);try{await x(e());const A=Math.floor(1e5+Math.random()*9e5).toString();P(A),console.log("DEV: Generated code:",A),c(2)}catch{const g=Math.floor(1e5+Math.random()*9e5).toString();P(g),console.log("DEV: Generated code (fallback):",g),c(2)}m(!1)}async function O(){if(d(""),!n())return d("Enter verification code");m(!0);try{if(n()===_())c(3);else throw new Error("Invalid code")}catch{d("Invalid code")}m(!1)}async function M(){if(d(""),!s()||s()!==o())return d("Passwords do not match");m(!0);try{await new Promise(A=>setTimeout(A,200)),v("/signin")}catch{d("Failed to reset password")}m(!1)}return(()=>{var A=Lb(),g=A.firstChild;return k(g,(()=>{var p=je(()=>l()===1);return()=>p()&&[Nb(),(()=>{var w=Ob();return w.$$input=b=>t(b.target.value),ie(()=>w.value=e()),w})(),(()=>{var w=Ro();return w.$$click=L,k(w,()=>f()?"Sending...":"Send Verification Code"),ie(()=>w.disabled=f()),w})()]})(),null),k(g,(()=>{var p=je(()=>l()===2);return()=>p()&&[jb(),(()=>{var w=Db(),b=w.firstChild,E=b.nextSibling;return E.nextSibling,k(w,_,E),w})(),(()=>{var w=qb();return w.$$input=b=>r(b.target.value),ie(()=>w.value=n()),w})(),(()=>{var w=Ro();return w.$$click=O,k(w,()=>f()?"Verifying...":"Verify Code"),ie(()=>w.disabled=f()),w})(),je(()=>je(()=>!!u())()&&(()=>{var w=Oc();return k(w,u),w})())]})(),null),k(g,(()=>{var p=je(()=>l()===3);return()=>p()&&[Fb(),$(Ri,{get password(){return s()},onPasswordChange:i,placeholder:"New password"}),$(Ri,{get password(){return o()},onPasswordChange:a,placeholder:"Confirm password"}),(()=>{var w=Ro();return w.$$click=M,k(w,()=>f()?"Resetting...":"Reset Password"),ie(()=>w.disabled=f()),w})(),je(()=>je(()=>!!u())()&&(()=>{var w=Oc();return k(w,u),w})())]})(),null),A})()}Be(["input","click"]);var Vb=j('<div tabindex=0 role=button><span class=truncate></span><button class="flex items-center justify-center w-6 h-6 rounded hover:bg-gray-200 transition-colors"tabindex=0 type=button><svg fill=none stroke=currentColor stroke-width=2.2 viewBox="0 0 20 20"><polyline points="6 8 10 12 14 8"fill=none stroke-linecap=round stroke-linejoin=round>'),Ub=j("<div class=overflow-y-scroll>");function Hb(e){const[t,n]=z({}),{projects:r,currentProject:s}=Wt(),i=()=>r().find(l=>l.id===e.projectId),o=()=>i()&&t()[i().id],a=l=>{l.stopPropagation(),n(c=>({...c,[i().id]:!c[i().id]}))};return[(()=>{var l=Vb(),c=l.firstChild,u=c.nextSibling,d=u.firstChild;return l.$$keydown=f=>{(f.key==="Enter"||f.key===" ")&&(e.onSelect?.({project:i()}),f.preventDefault())},l.$$click=()=>e.onSelect?.({project:i()}),k(c,()=>i().name||i().id),u.$$click=a,ie(f=>{var m=`
    flex items-center justify-between cursor-pointer select-none rounded-md transition-colors
    px-2 py-1 font-medium text-xs text-gray-800 hover:bg-gray-100 ${s()?.id===i()?.id?"bg-gray-200":"bg-white"}
  `,v=o()?"Collapse project":"Expand project",x=`transition-transform duration-200 w-5 h-5 text-gray-500 ${o()?"rotate-90":""}`;return m!==f.e&&We(l,f.e=m),v!==f.t&&pt(u,"aria-label",f.t=v),x!==f.a&&pt(d,"class",f.a=x),f},{e:void 0,t:void 0,a:void 0}),l})(),$(_e,{get when(){return(i().reviews||[]).some(l=>(l.checklists||[]).length>0)},get children(){var l=Ub();return Yr(l,"transition","max-height 0.25s ease-in-out, opacity 0.25s ease-in-out"),k(l,$(it,{get each(){return i().reviews||[]},children:c=>$(it,{get each(){return c.checklists||[]},children:u=>e.children(u,c)})})),ie(c=>{var u=o()?"600px":"0",d=o()?1:0;return u!==c.e&&Yr(l,"max-height",c.e=u),d!==c.t&&Yr(l,"opacity",c.t=d),c},{e:void 0,t:void 0}),l}})]}Be(["click","keydown"]);var Bb=j('<ul class="list-disc space-y-1 text-xs">'),zb=j('<div style=max-width:100vw><div><div class="flex-1 overflow-y-auto sidebar-scrollbar space-y-6"><div class="mb-2 px-2 pt-4"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Projects</h3></div><div class="p-2 pb-0 space-y-1 border-t border-gray-100"></div><div class="mb-2 px-2"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Checklists</h3></div><div class="border-t border-gray-100 pt-1 mx-2"></div><div class="mb-2 px-2"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Actions</h3></div><div class="border-t border-gray-100 pt-1 space-y-1 mx-2"><button class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Export CSV</button><label class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>Import CSV<input type=file accept=.csv,text/csv class=hidden></label><button class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF URL</button><label class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-2 text-xs cursor-pointer"><svg class="w-4 h-4 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF File<input type=file accept=application/pdf class=hidden></label></div><div class="mb-2 px-2"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Settings</h3></div><div class="border-t border-gray-100 pt-1 space-y-1 mx-2"><button class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-red-600 hover:bg-red-50 flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-red-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear all data</button><div class=mt-10>'),Wb=j('<div class="text-center py-2 px-2"><div class="w-8 h-8 bg-gray-100 rounded-lg mx-auto mb-2 flex items-center justify-center"><svg class="w-4 h-4 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-xs text-gray-500 font-medium">No projects yet'),Yb=j('<div class="text-center py-2 px-2"><div class="w-8 h-8 bg-gray-100 rounded-lg mx-auto mb-2 flex items-center justify-center"><svg class="w-4 h-4 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-xs text-gray-500 font-medium">No checklists yet'),Qb=j('<div style=flex:1><button class="flex-1 flex items-center gap-2 px-2 py-1.5 text-left focus:outline-none"tabindex=0><svg class="w-4 h-4 text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><div class="flex-1 min-w-0"><div class="flex gap-2 items-center"><div class="text-xs font-medium truncate"></div><span></span></div><div class="text-2xs text-gray-500 mt-0.5"></div></div></button><button aria-label="Delete checklist"tabindex=-1><svg class="w-4 h-4"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Kb=j('<span class="inline-block w-2 h-2 rounded-full"style=background:currentColor>');function Gb(e){const{projects:t,checklists:n,getChecklist:r}=Wt(),[s,i]=z(null),o=zt(),a=Yi();De(()=>{if(a.name&&a.index!==void 0){const u=decodeURIComponent(a.name),d=Number(a.index);i(r({name:u,index:d}))}});function l(){const u=window.prompt("Enter PDF URL:");u&&e.setPdfUrl(u)}function c(u){const d=u.target.files[0];if(d&&d.type==="application/pdf"){const f=URL.createObjectURL(d);e.setPdfUrl(f)}else alert("Please select a valid PDF file.")}return(()=>{var u=zb(),d=u.firstChild,f=d.firstChild,m=f.firstChild,v=m.nextSibling,x=v.nextSibling,C=x.nextSibling,R=C.nextSibling,_=R.nextSibling,P=_.firstChild,L=P.nextSibling,O=L.firstChild,M=O.nextSibling,A=M.nextSibling,g=L.nextSibling,p=g.nextSibling,w=p.firstChild,b=w.nextSibling,E=b.nextSibling,V=_.nextSibling,H=V.nextSibling,G=H.firstChild;return k(v,$(_e,{get when(){return t()?.length>0},get fallback(){return Wb()},get children(){return $(it,{get each(){return t()},children:te=>$(Hb,{get projectId(){return te.id},onSelect:()=>{o(`/projects/${Ht(te.name)}-${te.id}`)},children:(B,F)=>$(jc,{project:te,get isSelected(){return s()?.id===B.id},checklist:B,onDelete:()=>e.onDeleteChecklist(te.id,F.id,B.id)})})})}})),k(C,$(_e,{get when(){return n()?.length>0},get fallback(){return Yb()},get children(){var te=Bb();return k(te,$(it,{get each(){return n()},children:B=>$(jc,{project:null,checklist:B,onDelete:()=>e.onDeleteChecklist(null,B.id)})})),te}})),Mt(P,"click",e.onExportCSV,!0),Mt(A,"change",e.onImportCSV),g.$$click=l,E.addEventListener("change",c),Mt(G,"click",e.onDeleteAll,!0),ie(te=>{var B=`
        transition-all duration-200 ease-in-out
        bg-white border-r border-gray-200 h-screen overflow-x-hidden
        ${e.open?"w-64":"w-0"}
        md:relative
        ${e.open?"":"md:w-0"}
        fixed top-0 left-0 z-30 md:static md:z-auto
        ${e.open?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,F=`
          flex flex-col h-full
          transition-opacity duration-100
          ${e.open?"duration-500 opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
        `;return B!==te.e&&We(u,te.e=B),F!==te.t&&We(d,te.t=F),te},{e:void 0,t:void 0}),u})()}function jc(e){const t=zt();function n(){const r=Ht(e.checklist.name);if(!e.project){t(`/checklist/${r}-${e.checklist.id}`);return}const s=Ht(e.project.name),i=(e.project.reviews||[]).find(a=>(a.checklists||[]).some(l=>l.id===e.checklist.id));if(!i){console.error("Review not found for checklist",e.checklist);return}const o=Ht(i.name);t(`/projects/${s}-${e.project.id}/reviews/${o}-${i.id}/checklists/${r}-${e.checklist.id}`)}return(()=>{var r=Qb(),s=r.firstChild,i=s.firstChild,o=i.nextSibling,a=o.firstChild,l=a.firstChild,c=l.nextSibling,u=a.nextSibling,d=s.nextSibling;return s.$$click=()=>n(),k(l,()=>e.checklist.name),k(c,$(_e,{get when(){return e.checklist},fallback:"Unknown",children:()=>{const f=Zl(e.checklist);return f.length+(e.checklist.name?.length||0)<30?f:Kb()}})),k(u,()=>new Date(e.checklist.createdAt).toLocaleDateString()),d.$$click=f=>{f.stopPropagation(),e.onDelete(null,e.checklist.id)},ie(f=>{var m=`
            flex items-center group rounded transition-colors
            ${e.isSelected?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}
          `,v=`
                    text-3xs font-medium px-1.5 py-0.5 rounded
                    ${(()=>{const C=Zl(e.checklist);return C==="High"?"bg-green-100 text-green-800":C==="Moderate"?"bg-yellow-100 text-yellow-800":C==="Low"?"bg-orange-100 text-orange-800":C==="Critically Low"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"})()}
                  `,x=`p-1.5 mr-1 rounded transition-colors text-gray-400 hover:text-red-600 hover:bg-red-50
                  ${e.isSelected?"opacity-0 group-hover:opacity-100":""}
                `;return m!==f.e&&We(r,f.e=m),v!==f.t&&We(c,f.t=v),x!==f.a&&We(d,f.a=x),f},{e:void 0,t:void 0,a:void 0}),r})()}Be(["click"]);var Jb=j('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 mx-2 animate-fade-in"><div class=mb-4><h2 class="text-lg font-semibold text-gray-900"></h2></div><div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"autofocus>Cancel</button><button class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors">'),Xb=j('<p class="mt-2 text-gray-600">');function Dc(e){return $(_e,{get when(){return e.open},get children(){return $(ku,{get children(){var t=Jb(),n=t.firstChild,r=n.firstChild,s=r.firstChild,i=r.nextSibling,o=i.firstChild,a=o.nextSibling;return k(s,()=>e.title||"Are you sure?"),k(r,(()=>{var l=je(()=>!!e.description);return()=>l()&&(()=>{var c=Xb();return k(c,()=>e.description),c})()})(),null),Mt(o,"click",e.onCancel,!0),Mt(a,"click",e.onConfirm,!0),k(a,()=>e.confirmText||"Delete"),t}})}})}Be(["click"]);var Zb=j('<div><div class="w-full h-full overflow-auto"></div><div role=separator tabindex=0 style=touch-action:none>');function ex(e){const t=e.direction||"horizontal",n=t==="horizontal"?"right":"bottom",r=e.position||n,s=e.min??200,i=e.max??800,o=e.initial??400,[a,l]=z(o);let c=!1,u=0,d=0,f=null;const m=R=>{c=!0,f=R.pointerId,u=t==="horizontal"?R.clientX:R.clientY,d=a(),document.body.style.userSelect="none",R.target.setPointerCapture(f),window.addEventListener("pointermove",v),window.addEventListener("pointerup",x)},v=R=>{if(!c)return;let _=t==="horizontal"?R.clientX-u:R.clientY-u;(r==="left"||r==="top")&&(_=-_);let P=d+_;P=Math.max(s,Math.min(i,P)),l(P)},x=R=>{if(c=!1,document.body.style.userSelect="",R.target.releasePointerCapture&&f!==null)try{R.target.releasePointerCapture(f)}catch{}window.removeEventListener("pointermove",v),window.removeEventListener("pointerup",x),f=null};let C="";return t==="horizontal"?C=r==="right"?"top-0 right-0 h-full w-2 cursor-col-resize":"top-0 left-0 h-full w-2 cursor-col-resize":C=r==="bottom"?"left-0 bottom-0 w-full h-2 cursor-row-resize":"left-0 top-0 w-full h-2 cursor-row-resize",(()=>{var R=Zb(),_=R.firstChild,P=_.nextSibling;return We(R,`relative ${t==="horizontal"?"h-full":"w-full"}`),k(_,()=>e.children),P.$$pointerdown=m,We(P,`absolute ${C} bg-gray-200 hover:bg-gray-300 transition-colors z-10`),pt(P,"aria-orientation",t),ie(L=>Wi(R,t==="horizontal"?`width: ${a()}px; min-width:0;`:`height: ${a()}px; min-height:0;`,L)),R})()}Be(["pointerdown"]);var tx=j('<button class="ml-[-6px] bg-white/80 text-blue-700 p-1.5 rounded-full shadow hover:bg-white transition-all duration-200 border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"aria-label="Toggle sidebar open or closed">'),qc=j("<span class=font-medium>Hello, "),Fc=j('<button class="hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium">Sign Out'),nx=j('<nav class="flex items-center justify-between bg-gradient-to-r from-blue-700 to-blue-500 text-white px-4 py-2 shadow-lg"><div class="flex items-center space-x-3"></div><div class="flex space-x-4 items-center text-2xs sm:text-xs">'),rx=j('<svg fill=none stroke=currentColor class="w-4 h-4"viewBox="0 0 20 20"><path d="M3.5 3C3.77614 3 4 3.22386 4 3.5V16.5L3.99023 16.6006C3.94371 16.8286 3.74171 17 3.5 17C3.25829 17 3.05629 16.8286 3.00977 16.6006L3 16.5V3.5C3 3.22386 3.22386 3 3.5 3ZM11.2471 5.06836C11.4476 4.95058 11.7104 4.98547 11.8721 5.16504C12.0338 5.34471 12.0407 5.60979 11.9023 5.79688L11.835 5.87207L7.80371 9.5H16.5C16.7761 9.5 17 9.72386 17 10C17 10.2761 16.7761 10.5 16.5 10.5H7.80371L11.835 14.1279C12.0402 14.3127 12.0568 14.6297 11.8721 14.835C11.6873 15.0402 11.3703 15.0568 11.165 14.8721L6.16504 10.3721L6.09473 10.2939C6.03333 10.2093 6 10.1063 6 10C6 9.85828 6.05972 9.72275 6.16504 9.62793L11.165 5.12793L11.2471 5.06836Z">');function Ic(e){return e.endsWith("/")?e.slice(0,-1):e}function sx(e){const{user:t,signout:n,authLoading:r}=Kn(),s=ka(),i=()=>Ic(s.pathname)===Ic(Pf),o=localStorage.getItem("userName"),a=!!o;return De(()=>{t()?localStorage.setItem("userName",t().name):localStorage.removeItem("userName")}),(()=>{var l=nx(),c=l.firstChild,u=c.nextSibling;return k(c,$(_e,{get when(){return!i()},get children(){var d=tx();return Mt(d,"click",e.toggleSidebar,!0),k(d,$(_e,{get when(){return!e.open},get fallback(){return rx()},get children(){return $(zy,{})}})),d}}),null),k(c,$(or,{href:"/",class:"font-extrabold text-base sm:text-lg tracking-tight drop-shadow",children:"CoRATES"}),null),k(u,$(or,{href:"/dashboard",class:"hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium",children:"Dashboard"}),null),k(u,$(_e,{get when(){return t()},get fallback(){return je(()=>!!(a&&r()))()?[(()=>{var d=qc();return d.firstChild,k(d,o,null),d})(),Fc()]:[$(or,{href:"/signin",class:"hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium",children:"Sign In"}),$(or,{href:"/signup",class:"hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium",children:"Sign Up"})]},get children(){return[(()=>{var d=qc();return d.firstChild,k(d,()=>t().name,null),d})(),(()=>{var d=Fc();return d.$$click=async()=>{await n()},d})()]}}),null),l})()}Be(["click"]);var ix=j('<div class="flex-1 min-h-0 overflow-y-auto">'),ox=j('<div class="h-full border-l border-gray-200 bg-white flex flex-col"><iframe class="w-full h-full"title="PDF Viewer"style=min-width:300px>'),ax=j('<div class="flex flex-col h-screen overflow-y-hidden"><div class="flex flex-1 min-h-0">');function lx(e){const[t,n]=z(!1),[r,s]=z(!1),[i,o]=z(!1),[a,l]=z(null),[c,u]=z(null),{authLoading:d}=Kn(),{dataLoading:f,deleteChecklist:m,setCurrentChecklist:v,getChecklist:x}=Wt(),C=async()=>{try{v(null),alert("All checklists deleted!")}catch(M){console.error("Error removing all checklists:",M),alert("Error deleting checklists!")}finally{s(!1)}},R=()=>{let M="this checklist";const A=a();let g=x(A.checklistId);return g&&(M=g.name||g.title||"Untitled Checklist"),`Are you sure you want to delete ${M}? This action cannot be undone.`},_=()=>s(!1),P=(M,A)=>{console.log("Request to delete checklist id:",A,"from project:",M),l({projectId:M,checklistId:A}),o(!0)},L=async()=>{const M=a();if(!(!M||!M.checklistId))try{console.log("Deleting checklist id:",M.checklistId,"from project:",M.projectId),await m(M.projectId,M.checklistId)}catch(A){console.error("Error deleting checklist:",A),alert("Error deleting checklist!")}finally{o(!1),l(null)}},O=()=>{o(!1),l(null)};return(()=>{var M=ax(),A=M.firstChild;return k(M,$(sx,{toggleSidebar:()=>n(g=>!g),get open(){return t()}}),A),k(A,$(Gb,{get open(){return t()},onClose:()=>n(!1),setPdfUrl:u,onDeleteChecklist:P}),null),k(A,$(Ft,{class:"flex flex-1",get when(){return je(()=>!f())()&&!d()},get children(){var g=ix();return k(g,()=>e.children),g}}),null),k(A,$(_e,{get when(){return c()},get children(){return $(ex,{direction:"horizontal",min:250,max:1600,initial:500,position:"left",get children(){var g=ox(),p=g.firstChild;return ie(()=>pt(p,"src",c())),g}})}}),null),k(M,$(Dc,{get open(){return i()},title:"Delete checklist?",get description(){return R()},confirmText:"Delete",onCancel:O,onConfirm:L}),null),k(M,$(Dc,{get open(){return r()},title:"Delete all checklists?",description:"Are you sure you want to delete all saved checklists? This action cannot be undone.",confirmText:"Delete all",onCancel:_,onConfirm:C}),null),M})()}var cx=j("<h1>404 - Not Found");function ux(){return cx()}var dx=j("<h1>You are offline, you must be online to access this page.");function fx(){return dx()}var hx=j('<div class="max-w-5xl mx-auto p-6"><h2 class="text-xl font-bold mb-4">Merge AMSTAR2 Checklists</h2><div class="grid grid-cols-3 gap-4 font-mono text-xs"><div class="font-bold text-center">Checklist A</div><div class="font-bold text-center">Checklist B</div><div class="font-bold text-center">Merged Result</div></div><button class="mt-6 px-4 py-2 bg-blue-600 text-white rounded">Save Merged Checklist'),Vc=j('<button class="mt-1 text-blue-600 underline">Use this'),gx=j('<div class=contents><div><pre></pre></div><div><pre></pre></div><div class="p-2 border bg-green-50"><pre>');function px(){const e=Yi(),{getChecklist:t}=Wt();console.log("Route params:",decodeURIComponent(e.nameA),e.indexA,decodeURIComponent(e.nameB),e.indexB);const n=t(decodeURIComponent(e.nameA),e.indexA),r=t(decodeURIComponent(e.nameB),e.indexB);console.log("Merging checklists:",n,r);const[s,i]=z({...n}),o=["q1","q2","q3","q4","q5","q6","q7","q8","q9a","q9b","q10","q11a","q11b","q12","q13","q14","q15","q16"];function a(u){const d=n[u]?.answers,f=r[u]?.answers;return JSON.stringify(d)!==JSON.stringify(f)}function l(u,d){i(f=>({...f,[d]:u==="A"?{...n[d]}:{...r[d]}}))}function c(){alert("not implemented")}return(()=>{var u=hx(),d=u.firstChild,f=d.nextSibling,m=f.firstChild,v=m.nextSibling;v.nextSibling;var x=f.nextSibling;return k(f,$(it,{each:o,children:C=>(()=>{var R=gx(),_=R.firstChild,P=_.firstChild,L=_.nextSibling,O=L.firstChild,M=L.nextSibling,A=M.firstChild;return k(P,()=>JSON.stringify(n[C]?.answers,null,1)),k(_,$(_e,{get when(){return a(C)},get children(){var g=Vc();return g.$$click=()=>l("A",C),g}}),null),k(O,()=>JSON.stringify(r[C]?.answers,null,1)),k(L,$(_e,{get when(){return a(C)},get children(){var g=Vc();return g.$$click=()=>l("B",C),g}}),null),k(A,()=>JSON.stringify(s()[C]?.answers,null,1)),ie(g=>{var p=`p-2 border ${a(C)?"bg-yellow-100":""}`,w=`p-2 border ${a(C)?"bg-yellow-100":""}`;return p!==g.e&&We(_,g.e=p),w!==g.t&&We(L,g.t=w),g},{e:void 0,t:void 0}),R})()}),null),x.$$click=c,u})()}Be(["click"]);async function mx(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function wx(e){let t,n,r,s=!1;return function(o){t===void 0?(t=o,n=0,r=-1):t=yx(t,o);const a=t.length;let l=0;for(;n<a;){s&&(t[n]===10&&(l=++n),s=!1);let c=-1;for(;n<a&&c===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-l);break;case 13:s=!0;case 10:c=n;break}if(c===-1)break;e(t.subarray(l,c),r),l=n,r=-1}l===a?t=void 0:l!==0&&(t=t.subarray(l),n-=l)}}function vx(e,t,n){let r=Uc();const s=new TextDecoder;return function(o,a){if(o.length===0)n?.(r),r=Uc();else if(a>0){const l=s.decode(o.subarray(0,a)),c=a+(o[a+1]===32?2:1),u=s.decode(o.subarray(c));switch(l){case"data":r.data=r.data?r.data+`
`+u:u;break;case"event":r.event=u;break;case"id":e(r.id=u);break;case"retry":const d=parseInt(u,10);isNaN(d)||t(r.retry=d);break}}}}function yx(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Uc(){return{data:"",event:"",id:"",retry:void 0}}var bx=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n};const sa="text/event-stream",xx=1e3,Hc="last-event-id";function _x(e,t){var{signal:n,headers:r,onopen:s,onmessage:i,onclose:o,onerror:a,openWhenHidden:l,fetch:c}=t,u=bx(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((d,f)=>{const m=Object.assign({},r);m.accept||(m.accept=sa);let v;function x(){v.abort(),document.hidden||O()}l||document.addEventListener("visibilitychange",x);let C=xx,R=0;function _(){document.removeEventListener("visibilitychange",x),window.clearTimeout(R),v.abort()}n?.addEventListener("abort",()=>{_(),d()});const P=c??window.fetch,L=s??kx;async function O(){var M;v=new AbortController;try{const A=await P(e,Object.assign(Object.assign({},u),{headers:m,signal:v.signal}));await L(A),await mx(A.body,wx(vx(g=>{g?m[Hc]=g:delete m[Hc]},g=>{C=g},i))),o?.(),_(),d()}catch(A){if(!v.signal.aborted)try{const g=(M=a?.(A))!==null&&M!==void 0?M:C;window.clearTimeout(R),R=window.setTimeout(O,g)}catch(g){_(),f(g)}}}O()})}function kx(e){const t=e.headers.get("content-type");if(!t?.startsWith(sa))throw new Error(`Expected content-type to be ${sa}, Actual: ${t}`)}var Sx=Object.defineProperty,$x=Object.defineProperties,Cx=Object.getOwnPropertyDescriptors,Ti=Object.getOwnPropertySymbols,Vd=Object.prototype.hasOwnProperty,Ud=Object.prototype.propertyIsEnumerable,Hd=e=>{throw TypeError(e)},Bc=(e,t,n)=>t in e?Sx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ct=(e,t)=>{for(var n in t||(t={}))Vd.call(t,n)&&Bc(e,n,t[n]);if(Ti)for(var n of Ti(t))Ud.call(t,n)&&Bc(e,n,t[n]);return e},Fa=(e,t)=>$x(e,Cx(t)),Ex=(e,t)=>{var n={};for(var r in e)Vd.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Ti)for(var r of Ti(e))t.indexOf(r)<0&&Ud.call(e,r)&&(n[r]=e[r]);return n},Ia=(e,t,n)=>t.has(e)||Hd("Cannot "+n),q=(e,t,n)=>(Ia(e,t,"read from private field"),n?n.call(e):t.get(e)),fe=(e,t,n)=>t.has(e)?Hd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),X=(e,t,n,r)=>(Ia(e,t,"write to private field"),t.set(e,n),n),ue=(e,t,n)=>(Ia(e,t,"access private method"),n),zc=(e,t,n,r)=>({set _(s){X(e,t,s)},get _(){return q(e,t,r)}}),Ce=(e,t,n)=>new Promise((r,s)=>{var i=l=>{try{a(n.next(l))}catch(c){s(c)}},o=l=>{try{a(n.throw(l))}catch(c){s(c)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(i,o);a((n=n.apply(e,t)).next())}),Yn=class Bd extends Error{constructor(t,n,r,s,i,o){super(o||`HTTP Error ${t} at ${i}: ${n??JSON.stringify(r)}`),this.url=i,this.name="FetchError",this.status=t,this.text=n,this.json=r,this.headers=s}static fromResponse(t,n){return Ce(this,null,function*(){const r=t.status,s=Object.fromEntries([...t.headers.entries()]);let i,o;const a=t.headers.get("content-type");return t.bodyUsed||(a&&a.includes("application/json")?o=yield t.json():i=yield t.text()),new Bd(r,i,o,s,n)})}},Mi=class extends Error{constructor(){super("Fetch with backoff aborted"),this.name="FetchBackoffAbortError"}},Ax=class extends Error{constructor(){super("Invalid shape options: missing required url parameter"),this.name="MissingShapeUrlError"}},Rx=class extends Error{constructor(){super("Invalid signal option. It must be an instance of AbortSignal."),this.name="InvalidSignalError"}},Px=class extends Error{constructor(){super("shapeHandle is required if this isn't an initial fetch (i.e. offset > -1)"),this.name="MissingShapeHandleError"}},Tx=class extends Error{constructor(e){super(`Cannot use reserved Electric parameter names in custom params: ${e.join(", ")}`),this.name="ReservedParamError"}},Mx=class extends Error{constructor(e){super(`Column "${e??"unknown"}" does not allow NULL values`),this.name="ParserNullValueError"}},Lx=class extends Error{constructor(e,t){let n=`The response for the shape request to ${e} didn't include the following required headers:
`;t.forEach(r=>{n+=`- ${r}
`}),n+=`
This is often due to a proxy not setting CORS correctly so that all Electric headers can be read by the client.`,n+=`
For more information visit the troubleshooting guide: /docs/guides/troubleshooting/missing-headers`,super(n)}},Ws=e=>Number(e),Nx=e=>e==="true"||e==="t",Ox=e=>BigInt(e),Wc=e=>JSON.parse(e),jx=e=>e,Dx={int2:Ws,int4:Ws,int8:Ox,bool:Nx,float4:Ws,float8:Ws,json:Wc,jsonb:Wc};function qx(e,t){let n=0,r=null,s="",i=!1,o=0,a;function l(u,d,f){let m=u.slice(d,f);return m=m==="NULL"?null:m,t?t(m):m}function c(u){const d=[];for(;n<u.length;n++){if(r=u[n],i)r==="\\"?s+=u[++n]:r==='"'?(d.push(t?t(s):s),s="",i=u[n+1]==='"',o=n+2):s+=r;else if(r==='"')i=!0;else if(r==="{")o=++n,d.push(c(u));else if(r==="}"){i=!1,o<n&&d.push(l(u,o,n)),o=n+1;break}else r===","&&a!=="}"&&a!=='"'&&(d.push(l(u,o,n)),o=n+1);a=r}return o<n&&d.push(d.push(l(u,o,n+1))),d}return c(e)[0]}var Fx=class{constructor(e,t){this.parser=Ct(Ct({},Dx),e),this.transformer=t}parse(e,t){return JSON.parse(e,(n,r)=>{if((n==="value"||n==="old_value")&&typeof r=="object"&&r!==null){const s=r;Object.keys(s).forEach(i=>{s[i]=this.parseRow(i,s[i],t)}),this.transformer&&(r=this.transformer(r))}return r})}parseRow(e,t,n){var r;const s=n[e];if(!s)return t;const i=s,{type:o,dims:a}=i,l=Ex(i,["type","dims"]),c=(r=this.parser[o])!=null?r:jx,u=Yc(c,s,e);return a&&a>0?Yc((f,m)=>qx(f,u),s,e)(t):u(t,l)}};function Yc(e,t,n){var r;const s=!((r=t.not_null)!=null&&r);return i=>{if(i===null){if(!s)throw new Mx(n??"unknown");return null}return e(i,t)}}function Va(e){return"key"in e}function zd(e){return!Va(e)}function Wd(e){return zd(e)&&e.headers.control==="up-to-date"}function Ix(e){const t=e.headers.global_last_seen_lsn;if(t)return`${t}_0`}function Vx(e,t){const n=BigInt(e),r=BigInt(t.xmin),s=BigInt(t.xmax),i=t.xip_list.map(BigInt);return n<r||n<s&&!i.includes(n)}var Ux="electric-cursor",Ua="electric-handle",Yd="electric-offset",Hx="electric-schema",Bx="electric-up-to-date",zx="columns",Ha="cursor",Qd="expired_handle",ro="handle",Bn="live",so="offset",Wx="table",Yx="where",Qx="replica",Kx="params",Gx="experimental_live_sse",Kd="force-disconnect-and-refresh",Gd="pause-stream",Jd="log",Ba="subset__where",za="subset__limit",Wa="subset__offset",Ya="subset__order_by",Qa="subset__params",Jx=[Bn,ro,so,Ha,Qd,Jd,Ba,za,Wa,Ya,Qa],Xx=[429],Xd={initialDelay:100,maxDelay:1e4,multiplier:1.3};function Zx(e,t=Xd){const{initialDelay:n,maxDelay:r,multiplier:s,debug:i=!1,onFailedAttempt:o}=t;return(...a)=>Ce(this,null,function*(){var l;const c=a[0],u=a[1];let d=n,f=0;for(;;)try{const m=yield e(...a);if(m.ok)return m;throw yield Yn.fromResponse(m,c.toString())}catch(m){if(o?.(),(l=u?.signal)!=null&&l.aborted)throw new Mi;if(m instanceof Yn&&!Xx.includes(m.status)&&m.status>=400&&m.status<500)throw m;yield new Promise(v=>setTimeout(v,d)),d=Math.min(d*s,r),i&&(f++,console.log(`Retry attempt #${f} after ${d}ms`))}})}var e2=[201,204,205];function t2(e){return(...t)=>Ce(this,null,function*(){const n=t[0],r=yield e(...t);try{if(r.status<200||e2.includes(r.status))return r;const s=yield r.text();return new Response(s,r)}catch(s){throw new Yn(r.status,void 0,void 0,Object.fromEntries([...r.headers.entries()]),n.toString(),s instanceof Error?s.message:typeof s=="string"?s:"failed to read body")}})}var n2={maxChunksToPrefetch:2};function r2(e,t=n2){const{maxChunksToPrefetch:n}=t;let r;return(...i)=>Ce(this,null,function*(){const o=i[0].toString(),a=r?.consume(...i);if(a)return a;r?.abort();const l=yield e(...i),c=Ka(o,l);return c&&(r=new l2({fetchClient:e,maxPrefetchedRequests:n,url:c,requestInit:i[1]})),l})}var s2=["electric-offset","electric-handle"],i2=["electric-cursor"],o2=["electric-schema"];function a2(e){return(...t)=>Ce(this,null,function*(){const n=yield e(...t);if(n.ok){const r=n.headers,s=[],i=u=>s.push(...u.filter(d=>!r.has(d))),a=t[0].toString(),l=new URL(a);if([Ba,Qa,za,Wa,Ya].some(u=>l.searchParams.has(u)))return n;if(i(s2),l.searchParams.get(Bn)==="true"&&i(i2),(!l.searchParams.has(Bn)||l.searchParams.get(Bn)==="false")&&i(o2),s.length>0)throw new Lx(a,s)}return n})}var Li,Ni,dn,sr,fn,Gr,Oi,l2=class{constructor(e){fe(this,Gr),fe(this,Li),fe(this,Ni),fe(this,dn,new Map),fe(this,sr),fe(this,fn);var t;X(this,Li,(t=e.fetchClient)!=null?t:(...n)=>fetch(...n)),X(this,Ni,e.maxPrefetchedRequests),X(this,sr,e.url.toString()),X(this,fn,q(this,sr)),ue(this,Gr,Oi).call(this,e.url,e.requestInit)}abort(){q(this,dn).forEach(([e,t])=>t.abort())}consume(...e){var t;const n=e[0].toString(),r=(t=q(this,dn).get(n))==null?void 0:t[0];if(!(!r||n!==q(this,sr)))return q(this,dn).delete(n),r.then(s=>{const i=Ka(n,s);X(this,sr,i),q(this,fn)&&!q(this,dn).has(q(this,fn))&&ue(this,Gr,Oi).call(this,q(this,fn),e[1])}).catch(()=>{}),r}};Li=new WeakMap;Ni=new WeakMap;dn=new WeakMap;sr=new WeakMap;fn=new WeakMap;Gr=new WeakSet;Oi=function(...e){var t,n;const r=e[0].toString();if(q(this,dn).size>=q(this,Ni))return;const s=new AbortController;try{const{signal:i,cleanup:o}=c2(s,(t=e[1])==null?void 0:t.signal),a=q(this,Li).call(this,r,Fa(Ct({},(n=e[1])!=null?n:{}),{signal:i}));q(this,dn).set(r,[a,s]),a.then(l=>{if(!l.ok||s.signal.aborted)return;const c=Ka(r,l);if(!c||c===r){X(this,fn,void 0);return}return X(this,fn,c),ue(this,Gr,Oi).call(this,c,e[1])}).catch(()=>{}).finally(o)}catch{}};function Ka(e,t){const n=t.headers.get(Ua),r=t.headers.get(Yd),s=t.headers.has(Bx);if(!n||!r||s)return;const i=new URL(e);if(!i.searchParams.has(Bn))return i.searchParams.set(ro,n),i.searchParams.set(so,r),i.searchParams.sort(),i.toString()}function c2(e,t){let n=u2;if(t)if(t.aborted)e.abort();else{const r=()=>e.abort();t.addEventListener("abort",r,{once:!0,signal:e.signal}),n=()=>t.removeEventListener("abort",r)}return{signal:e.signal,cleanup:n}}function u2(){}var d2=class{constructor(){this.data={},this.max=250,this.storageKey="electric_expired_shapes",this.load()}getExpiredHandle(e){const t=this.data[e];return t?(t.lastUsed=Date.now(),this.save(),t.expiredHandle):null}markExpired(e,t){this.data[e]={expiredHandle:t,lastUsed:Date.now()};const n=Object.keys(this.data);if(n.length>this.max){const r=n.reduce((s,i)=>this.data[i].lastUsed<this.data[s].lastUsed?i:s);delete this.data[r]}this.save()}save(){if(!(typeof localStorage>"u"))try{localStorage.setItem(this.storageKey,JSON.stringify(this.data))}catch{}}load(){if(!(typeof localStorage>"u"))try{const e=localStorage.getItem(this.storageKey);e&&(this.data=JSON.parse(e))}catch{this.data={}}}clear(){this.data={},this.save()}},Zd=new d2,f2=class{constructor(){this.activeSnapshots=new Map,this.xmaxSnapshots=new Map,this.snapshotsByDatabaseLsn=new Map}addSnapshot(e,t){var n,r,s,i;this.activeSnapshots.set(e.snapshot_mark,{xmin:BigInt(e.xmin),xmax:BigInt(e.xmax),xip_list:e.xip_list.map(BigInt),keys:t});const o=(r=(n=this.xmaxSnapshots.get(BigInt(e.xmax)))==null?void 0:n.add(e.snapshot_mark))!=null?r:new Set([e.snapshot_mark]);this.xmaxSnapshots.set(BigInt(e.xmax),o);const a=(i=(s=this.snapshotsByDatabaseLsn.get(BigInt(e.database_lsn)))==null?void 0:s.add(e.snapshot_mark))!=null?i:new Set([e.snapshot_mark]);this.snapshotsByDatabaseLsn.set(BigInt(e.database_lsn),a)}removeSnapshot(e){this.activeSnapshots.delete(e)}shouldRejectMessage(e){const t=e.headers.txids||[];if(t.length===0)return!1;const n=Math.max(...t);for(const[r,s]of this.xmaxSnapshots.entries())if(n>=r)for(const i of s)this.removeSnapshot(i);return[...this.activeSnapshots.values()].some(r=>r.keys.has(e.key)&&Vx(n,r))}lastSeenUpdate(e){for(const[t,n]of this.snapshotsByDatabaseLsn.entries())if(t<=e)for(const r of n)this.removeSnapshot(r)}},h2=new Set([Ha,ro,Bn,so]);function ef(e){return Ce(this,null,function*(){return typeof e=="function"?e():e})}function g2(e){return Ce(this,null,function*(){const t=Object.entries(e),n=yield Promise.all(t.map(r=>Ce(this,[r],function*([s,i]){if(i===void 0)return[s,void 0];const o=yield ef(i);return[s,Array.isArray(o)?o.join(","):o]})));return Object.fromEntries(n.filter(([r,s])=>s!==void 0))})}function p2(e){return Ce(this,null,function*(){if(!e)return{};const t=Object.entries(e),n=yield Promise.all(t.map(r=>Ce(this,[r],function*([s,i]){return[s,yield ef(i)]})));return Object.fromEntries(n)})}function tf(e){const t=new URL(e.origin+e.pathname);for(const[n,r]of e.searchParams)Jx.includes(n)||t.searchParams.set(n,r);return t.searchParams.sort(),t.toString()}var ji,ds,Jr,vr,On,en,Tt,mn,yr,jn,It,br,wn,Lt,Pn,yn,fs,Ut,fr,ln,hs,gs,Xr,Di,Tn,cn,ps,xe,ms,Fr,Ga,nf,Ja,io,rf,sf,of,Xa,Za,af,lf,el,cf,uf,tl,df,ff=class{constructor(e){fe(this,xe),fe(this,ji,null),fe(this,ds),fe(this,Jr),fe(this,vr),fe(this,On,new Map),fe(this,en,!1),fe(this,Tt,"active"),fe(this,mn),fe(this,yr),fe(this,jn),fe(this,It,!1),fe(this,br,!0),fe(this,wn,!1),fe(this,Lt),fe(this,Pn),fe(this,yn),fe(this,fs),fe(this,Ut),fe(this,fr,!1),fe(this,ln),fe(this,hs),fe(this,gs),fe(this,Xr,Promise.resolve([])),fe(this,Di,new f2),fe(this,Tn,0),fe(this,cn),fe(this,ps);var t,n,r,s;this.options=Ct({subscribe:!0},e),m2(this.options),X(this,mn,(t=this.options.offset)!=null?t:"-1"),X(this,yr,""),X(this,Lt,this.options.handle),X(this,vr,new Fx(e.parser,e.transformer)),X(this,fs,this.options.onError),X(this,Pn,(n=this.options.log)!=null?n:"full");const i=(r=e.fetchClient)!=null?r:(...l)=>fetch(...l),o=Fa(Ct({},(s=e.backoffOptions)!=null?s:Xd),{onFailedAttempt:()=>{var l,c;X(this,wn,!1),(c=(l=e.backoffOptions)==null?void 0:l.onFailedAttempt)==null||c.call(l)}}),a=Zx(i,o);X(this,Jr,a2(r2(a))),X(this,ds,t2(q(this,Jr))),ue(this,xe,uf).call(this)}get shapeHandle(){return q(this,Lt)}get error(){return q(this,ji)}get isUpToDate(){return q(this,It)}get lastOffset(){return q(this,mn)}get mode(){return q(this,Pn)}subscribe(e,t=()=>{}){const n=Math.random();return q(this,On).set(n,[e,t]),q(this,en)||ue(this,xe,ms).call(this),()=>{q(this,On).delete(n)}}unsubscribeAll(){q(this,On).clear()}lastSyncedAt(){return q(this,jn)}lastSynced(){return q(this,jn)===void 0?1/0:Date.now()-q(this,jn)}isConnected(){return q(this,wn)}isLoading(){return!q(this,It)}hasStarted(){return q(this,en)}isPaused(){return q(this,Tt)==="paused"}forceDisconnectAndRefresh(){return Ce(this,null,function*(){var e,t;X(this,fr,!0),q(this,It)&&!((e=q(this,Ut))!=null&&e.signal.aborted)&&((t=q(this,Ut))==null||t.abort(Kd)),yield ue(this,xe,af).call(this),X(this,fr,!1)})}requestSnapshot(e){return Ce(this,null,function*(){if(q(this,Pn)==="full")throw new Error(`Snapshot requests are not supported in ${q(this,Pn)} mode, as the consumer is guaranteed to observe all data`);q(this,en)||(yield ue(this,xe,ms).call(this)),yield ue(this,xe,lf).call(this),zc(this,Tn)._++;try{q(this,Tn)===1&&ue(this,xe,Xa).call(this);const{fetchUrl:t,requestHeaders:n}=yield ue(this,xe,Ga).call(this,this.options.url,!0,e),{metadata:r,data:s}=yield ue(this,xe,df).call(this,t,n),i=s.concat([{headers:Ct({control:"snapshot-end"},r)}]);return q(this,Di).addSnapshot(r,new Set(s.map(o=>o.key))),ue(this,xe,io).call(this,i,!1),{metadata:r,data:s}}finally{zc(this,Tn)._--,q(this,Tn)===0&&ue(this,xe,Za).call(this)}})}};ji=new WeakMap;ds=new WeakMap;Jr=new WeakMap;vr=new WeakMap;On=new WeakMap;en=new WeakMap;Tt=new WeakMap;mn=new WeakMap;yr=new WeakMap;jn=new WeakMap;It=new WeakMap;br=new WeakMap;wn=new WeakMap;Lt=new WeakMap;Pn=new WeakMap;yn=new WeakMap;fs=new WeakMap;Ut=new WeakMap;fr=new WeakMap;ln=new WeakMap;hs=new WeakMap;gs=new WeakMap;Xr=new WeakMap;Di=new WeakMap;Tn=new WeakMap;cn=new WeakMap;ps=new WeakMap;xe=new WeakSet;ms=function(){return Ce(this,null,function*(){var e;X(this,en,!0);try{yield ue(this,xe,Fr).call(this)}catch(t){if(X(this,ji,t),q(this,fs)){const n=yield q(this,fs).call(this,t);typeof n=="object"&&(ue(this,xe,tl).call(this),"params"in n&&(this.options.params=n.params),"headers"in n&&(this.options.headers=n.headers),X(this,en,!1),ue(this,xe,ms).call(this));return}throw t}finally{X(this,wn,!1),(e=q(this,gs))==null||e.call(this)}})};Fr=function(){return Ce(this,null,function*(){var e,t;if(q(this,Tt)==="pause-requested"){X(this,Tt,"paused");return}if(!this.options.subscribe&&((e=this.options.signal)!=null&&e.aborted||q(this,It)))return;const n=q(this,Tt)==="paused";X(this,Tt,"active");const{url:r,signal:s}=this.options,{fetchUrl:i,requestHeaders:o}=yield ue(this,xe,Ga).call(this,r,n),a=yield ue(this,xe,nf).call(this,s),l=q(this,Ut);try{yield ue(this,xe,rf).call(this,{fetchUrl:i,requestAbortController:l,headers:o,resumingFromPause:n})}catch(c){if((c instanceof Yn||c instanceof Mi)&&l.signal.aborted&&l.signal.reason===Kd)return ue(this,xe,Fr).call(this);if(c instanceof Mi){l.signal.aborted&&l.signal.reason===Gd&&X(this,Tt,"paused");return}if(!(c instanceof Yn))throw c;if(c.status==409){if(q(this,Lt)){const d=tf(i);Zd.markExpired(d,q(this,Lt))}const u=c.headers[Ua]||`${q(this,Lt)}-next`;return ue(this,xe,tl).call(this,u),yield ue(this,xe,el).call(this,c.json),ue(this,xe,Fr).call(this)}else throw ue(this,xe,cf).call(this,c),c}finally{a&&s&&s.removeEventListener("abort",a),X(this,Ut,void 0)}return(t=q(this,hs))==null||t.call(this),ue(this,xe,Fr).call(this)})};Ga=function(e,t,n){return Ce(this,null,function*(){const[r,s]=yield Promise.all([p2(this.options.headers),this.options.params?g2(w2(this.options.params)):void 0]);s&&hf(s);const i=new URL(e);if(s){s.table&&Et(i,Wx,s.table),s.where&&Et(i,Yx,s.where),s.columns&&Et(i,zx,s.columns),s.replica&&Et(i,Qx,s.replica),s.params&&Et(i,Kx,s.params);const l=Ct({},s);delete l.table,delete l.where,delete l.columns,delete l.replica,delete l.params;for(const[c,u]of Object.entries(l))Et(i,c,u)}n&&(n.where&&Et(i,Ba,n.where),n.params&&Et(i,Qa,n.params),n.limit&&Et(i,za,n.limit),n.offset&&Et(i,Wa,n.offset),n.orderBy&&Et(i,Ya,n.orderBy)),i.searchParams.set(so,q(this,mn)),i.searchParams.set(Jd,q(this,Pn)),q(this,It)&&(!q(this,fr)&&!t&&i.searchParams.set(Bn,"true"),i.searchParams.set(Ha,q(this,yr))),q(this,Lt)&&i.searchParams.set(ro,q(this,Lt));const o=tf(i),a=Zd.getExpiredHandle(o);return a&&i.searchParams.set(Qd,a),i.searchParams.sort(),{fetchUrl:i,requestHeaders:r}})};nf=function(e){return Ce(this,null,function*(){var t;if(X(this,Ut,new AbortController),e){const n=()=>{var r;(r=q(this,Ut))==null||r.abort(e.reason)};return e.addEventListener("abort",n,{once:!0}),e.aborted&&((t=q(this,Ut))==null||t.abort(e.reason)),n}})};Ja=function(e){return Ce(this,null,function*(){var t;const{headers:n,status:r}=e,s=n.get(Ua);s&&X(this,Lt,s);const i=n.get(Yd);i&&X(this,mn,i);const o=n.get(Ux);o&&X(this,yr,o);const a=()=>{const l=n.get(Hx);return l?JSON.parse(l):{}};X(this,yn,(t=q(this,yn))!=null?t:a()),r===204&&X(this,jn,Date.now())})};io=function(e,t=!1){return Ce(this,null,function*(){var n;if(e.length>0){X(this,br,!0);const r=e[e.length-1];if(Wd(r)){if(t){const i=Ix(r);i&&X(this,mn,i)}X(this,jn,Date.now()),X(this,It,!0),X(this,br,!1),(n=q(this,ps))==null||n.call(this)}const s=e.filter(i=>Va(i)?!q(this,Di).shouldRejectMessage(i):!0);yield ue(this,xe,el).call(this,s)}})};rf=function(e){return Ce(this,null,function*(){return q(this,It)&&this.options.experimentalLiveSse&&!q(this,fr)&&!e.resumingFromPause?(e.fetchUrl.searchParams.set(Gx,"true"),ue(this,xe,of).call(this,e)):ue(this,xe,sf).call(this,e)})};sf=function(e){return Ce(this,null,function*(){const{fetchUrl:t,requestAbortController:n,headers:r}=e,s=yield q(this,ds).call(this,t.toString(),{signal:n.signal,headers:r});X(this,wn,!0),yield ue(this,xe,Ja).call(this,s);const i=q(this,yn),a=(yield s.text())||"[]",l=q(this,vr).parse(a,i);yield ue(this,xe,io).call(this,l)})};of=function(e){return Ce(this,null,function*(){const{fetchUrl:t,requestAbortController:n,headers:r}=e,s=q(this,Jr);try{let i=[];yield _x(t.toString(),{headers:r,fetch:s,onopen:o=>Ce(this,null,function*(){X(this,wn,!0),yield ue(this,xe,Ja).call(this,o)}),onmessage:o=>{if(o.data){const a=q(this,yn),l=q(this,vr).parse(o.data,a);i.push(l),Wd(l)&&(ue(this,xe,io).call(this,i,!0),i=[])}},onerror:o=>{throw o},signal:n.signal})}catch(i){throw n.signal.aborted?new Mi:i}})};Xa=function(){var e;q(this,en)&&q(this,Tt)==="active"&&(X(this,Tt,"pause-requested"),(e=q(this,Ut))==null||e.abort(Gd))};Za=function(){q(this,en)&&q(this,Tt)==="paused"&&ue(this,xe,ms).call(this)};af=function(){return Ce(this,null,function*(){return q(this,ln)?q(this,ln):(X(this,ln,new Promise((e,t)=>{X(this,hs,e),X(this,gs,t)})),q(this,ln).finally(()=>{X(this,ln,void 0),X(this,hs,void 0),X(this,gs,void 0)}),q(this,ln))})};lf=function(){return Ce(this,null,function*(){if(q(this,br))return q(this,cn)?q(this,cn):(X(this,cn,new Promise(e=>{X(this,ps,e)})),q(this,cn).finally(()=>{X(this,cn,void 0),X(this,ps,void 0)}),q(this,cn))})};el=function(e){return Ce(this,null,function*(){return X(this,Xr,q(this,Xr).then(()=>Promise.all(Array.from(q(this,On).values()).map(t=>Ce(this,[t],function*([n,r]){try{yield n(e)}catch(s){queueMicrotask(()=>{throw s})}}))))),q(this,Xr)})};cf=function(e){q(this,On).forEach(([t,n])=>{n?.(e)})};uf=function(){if(typeof document=="object"&&typeof document.hidden=="boolean"&&typeof document.addEventListener=="function"){const e=()=>{document.hidden?ue(this,xe,Xa).call(this):ue(this,xe,Za).call(this)};document.addEventListener("visibilitychange",e)}};tl=function(e){X(this,mn,"-1"),X(this,yr,""),X(this,Lt,e),X(this,It,!1),X(this,br,!0),X(this,wn,!1),X(this,yn,void 0),X(this,Tn,0)};df=function(e,t){return Ce(this,null,function*(){const n=yield q(this,ds).call(this,e.toString(),{headers:t});if(!n.ok)throw new Yn(n.status,void 0,void 0,Object.fromEntries([...n.headers.entries()]),e.toString());const{metadata:r,data:s}=yield n.json(),i=q(this,vr).parse(JSON.stringify(s),q(this,yn));return{metadata:r,data:i}})};ff.Replica={FULL:"full",DEFAULT:"default"};function hf(e){if(!e)return;const t=Object.keys(e).filter(n=>h2.has(n));if(t.length>0)throw new Tx(t)}function m2(e){if(!e.url)throw new Ax;if(e.signal&&!(e.signal instanceof AbortSignal))throw new Rx;if(e.offset!==void 0&&e.offset!=="-1"&&e.offset!=="now"&&!e.handle)throw new Px;hf(e.params)}function Et(e,t,n){if(!(n===void 0||n==null))if(typeof n=="string")e.searchParams.set(t,n);else if(typeof n=="object")for(const[r,s]of Object.entries(n))e.searchParams.set(`${t}[${r}]`,s);else e.searchParams.set(t,n.toString())}function w2(e){return Array.isArray(e.params)?Fa(Ct({},e),{params:Object.fromEntries(e.params.map((t,n)=>[n+1,t]))}):e}var kt,Mn,Ln,qi,Zr,ws,Dn,$t,gf,pf,nl,ci,mf,rl,v2=class{constructor(e){fe(this,$t),fe(this,kt,new Map),fe(this,Mn,new Map),fe(this,Ln,new Set),fe(this,qi,new Set),fe(this,Zr,!1),fe(this,ws,"syncing"),fe(this,Dn,!1),this.stream=e,this.stream.subscribe(ue(this,$t,gf).bind(this),ue(this,$t,mf).bind(this))}get isUpToDate(){return q(this,ws)==="up-to-date"}get lastOffset(){return this.stream.lastOffset}get handle(){return this.stream.shapeHandle}get rows(){return this.value.then(e=>Array.from(e.values()))}get currentRows(){return Array.from(this.currentValue.values())}get value(){return new Promise((e,t)=>{if(this.stream.isUpToDate)e(this.currentValue);else{const n=this.subscribe(({value:r})=>{n(),q(this,Dn)&&t(q(this,Dn)),e(r)})}})}get currentValue(){return q(this,kt)}get error(){return q(this,Dn)}lastSyncedAt(){return this.stream.lastSyncedAt()}lastSynced(){return this.stream.lastSynced()}isLoading(){return this.stream.isLoading()}isConnected(){return this.stream.isConnected()}get mode(){return this.stream.mode}requestSnapshot(e){return Ce(this,null,function*(){const t=JSON.stringify(e);q(this,qi).add(t),yield ue(this,$t,nl).call(this),yield this.stream.requestSnapshot(e)})}subscribe(e){const t=Math.random();return q(this,Mn).set(t,e),()=>{q(this,Mn).delete(t)}}unsubscribeAll(){q(this,Mn).clear()}get numSubscribers(){return q(this,Mn).size}};kt=new WeakMap;Mn=new WeakMap;Ln=new WeakMap;qi=new WeakMap;Zr=new WeakMap;ws=new WeakMap;Dn=new WeakMap;$t=new WeakSet;gf=function(e){let t=!1;e.forEach(n=>{if(Va(n))if(t=ue(this,$t,ci).call(this,"syncing"),this.mode==="full")switch(n.headers.operation){case"insert":q(this,kt).set(n.key,n.value);break;case"update":q(this,kt).set(n.key,Ct(Ct({},q(this,kt).get(n.key)),n.value));break;case"delete":q(this,kt).delete(n.key);break}else switch(n.headers.operation){case"insert":q(this,Ln).add(n.key),q(this,kt).set(n.key,n.value);break;case"update":q(this,Ln).has(n.key)&&q(this,kt).set(n.key,Ct(Ct({},q(this,kt).get(n.key)),n.value));break;case"delete":q(this,Ln).has(n.key)&&(q(this,kt).delete(n.key),q(this,Ln).delete(n.key));break}if(zd(n))switch(n.headers.control){case"up-to-date":t=ue(this,$t,ci).call(this,"up-to-date"),q(this,Zr)&&(X(this,Zr,!1),ue(this,$t,pf).call(this));break;case"must-refetch":q(this,kt).clear(),q(this,Ln).clear(),X(this,Dn,!1),t=ue(this,$t,ci).call(this,"syncing"),X(this,Zr,!0);break}}),t&&ue(this,$t,rl).call(this)};pf=function(){return Ce(this,null,function*(){yield ue(this,$t,nl).call(this),yield Promise.all(Array.from(q(this,qi)).map(e=>Ce(this,null,function*(){try{const t=JSON.parse(e);yield this.stream.requestSnapshot(t)}catch{}})))})};nl=function(){return Ce(this,null,function*(){this.stream.isUpToDate||(yield new Promise(e=>{const t=()=>{this.stream.isUpToDate&&(clearInterval(n),r(),e())},n=setInterval(t,10),r=this.stream.subscribe(()=>t(),()=>t());t()}))})};ci=function(e){const t=q(this,ws)!==e;return X(this,ws,e),t&&e==="up-to-date"};mf=function(e){e instanceof Yn&&(X(this,Dn,e),ue(this,$t,rl).call(this))};rl=function(){q(this,Mn).forEach(e=>{e({value:this.currentValue,rows:this.currentRows})})};var Ir=new Map,Vr=new Map;function ia(e){return typeof e=="function"?Function.prototype.toString.call(e):typeof e!="object"||e===null?e:Array.isArray(e)?e.map(ia):Object.keys(e).sort().reduce((t,n)=>(t[n]=ia(e[n]),t),{})}function wf(e){return JSON.stringify(ia(e))}function y2(e){const t=wf(e);if(Ir.has(t)){const r=Ir.get(t);if(!r.options.signal?.aborted)return r;Ir.delete(t),Vr.delete(r)}const n=new ff(e);return Ir.set(t,n),n}function b2(e){if(Vr.has(e)){if(!e.options.signal?.aborted)return Vr.get(e);Ir.delete(wf(e.options)),Vr.delete(e)}const t=new v2(e);return Vr.set(e,t),t}function Qc(e){return{data:e.currentRows,isLoading:e.isLoading(),lastSyncedAt:e.lastSyncedAt(),isError:e.error!==!1,shape:e,stream:e.stream,error:e.error}}function x2(e,t){return!e||e.isLoading!==t.isLoading||e.lastSyncedAt!==t.lastSyncedAt||e.isError!==t.isError||e.error!==t.error||e.shape.lastOffset!==t.shape.lastOffset||e.shape.handle!==t.shape.handle}function _2(e){return e}function Sn({selector:e=_2,...t}){const n=y2(t),r=b2(n),[s,i]=z([]),[o,a]=z(!0),[l,c]=z(!1),[u,d]=z(null),[f,m]=z(void 0),v=Qc(r);i(v.data),a(v.isLoading),c(v.isError),d(v.error),m(v.lastSyncedAt);let x=v;const C=r.subscribe(()=>{const P=Qc(r);x2(x,P)&&(i(P.data),a(P.isLoading),c(P.isError),d(P.error),m(P.lastSyncedAt),x=P)});return gt(()=>C()),e({data:s,isLoading:o,isError:l,error:u,lastSyncedAt:f,shape:r,stream:n,get:()=>({data:s(),isLoading:o(),isError:l(),error:u(),lastSyncedAt:f(),shape:r,stream:n})})}const rn=e=>typeof e,et="",vf=rn(et),k2=rn(!0),sl=rn(0),S2=rn(rn),Ys="type",$n="default",oa="Listener",$2="set",yf="add",C2="del",Cn="Has",oo="Ids",cr="Table",Kc=cr+"s",E2=cr+oo,Fi="Row",A2=Fi+"Count",R2=Fi+oo,ui="Cell",Gc=ui+oo,Ii="Value",Jc=Ii+"s",P2=Ii+oo,T2="Transaction",Pe=e=>et+e,Qs=(e,t)=>e.startsWith(t),Xc=(e,t)=>e.endsWith(t),M2=(e,t=et,n)=>e.split(t,n),aa=globalThis,il=Math,Zc=il.max,L2=il.floor,bf=isFinite,N2=(e,t)=>e instanceof t,Ue=e=>e==null,Te=(e,t,n)=>Ue(e)?n?.():t(e),xf=e=>e==vf||e==k2,O2=e=>rn(e)==vf,Po=e=>rn(e)==S2,ao=e=>Array.isArray(e),la=(e,t,n)=>e.slice(t,n),Ot=e=>e.length,j2=(e,t)=>e.test(t),eu=()=>{},To=async(e,t,n)=>{try{return await e()}catch(r){t?.(r)}},D2=(e,t)=>e.includes(t),q2=(e,t)=>e.every(t),F2=(e,t)=>Ot(e)===Ot(t)&&q2(e,(n,r)=>t[r]===n),I2=(e,t)=>e.sort(t),xr=(e,t)=>e.forEach(t),_r=(e,t)=>e.map(t),_f=(e,t,n)=>e.reduce(t,n),Vi=(e,...t)=>e.push(...t),V2=e=>e.shift(),ir=e=>{const t=rn(e);return xf(t)||t==sl&&bf(e)?t:void 0},tu=e=>Ue(e)||!Ue(ir(e)),nu=(e,t,n,r,s)=>Ue(s)?e.delCell(t,n,r,!0):e.setCell(t,n,r,s),ru=(e,t,n)=>Ue(n)?e.delValue(t):e.setValue(t,n),ol=e=>t=>_f(U2(t),(n,r)=>n+e(r),0),al=e=>e?.size??0,ll=ol(al),Ur=ol(ll),Mo=ol(Ur),lt=(e,t)=>e?.has(t)??!1,me=e=>Ue(e)||al(e)==0,U2=e=>[...e?.values()??[]],es=e=>e.clear(),ye=(e,t)=>e?.forEach(t),Ui=(e,t)=>e?.delete(t),_n=Object,su=e=>_n.getPrototypeOf(e),H2=_n.isFrozen,kf=_n.entries,Hi=e=>!Ue(e)&&Te(su(e),t=>t==_n.prototype||Ue(su(t)),()=>!0),B2=_n.keys,Sf=_n.freeze,un=(e=[])=>_n.fromEntries(e),pn=(e,t)=>t in e,$f=(e,t)=>(delete e[t],e),Dt=(e,t)=>xr(kf(e),([n,r])=>t(r,n)),z2=(e,t)=>_r(kf(e),([n,r])=>t(r,n)),Xt=(e,t)=>un(z2(e,(n,r)=>[r,t(n,r)])),W2=e=>Ot(B2(e)),qt=e=>Hi(e)&&W2(e)==0,Jt=(e,t,n)=>(pn(e,t)||(e[t]=n()),e[t]),St=(e,t,n,r=0)=>Ue(e)||!Hi(e)||!r&&qt(e)||H2(e)?(n?.(),!1):(Dt(e,(s,i)=>{t(s,i)||$f(e,i)}),r?!0:!qt(e)),he=e=>new Map(e),Tr=e=>[...e?.keys()??[]],K=(e,t)=>e?.get(t),bt=(e,t)=>ye(e,(n,r)=>t(r,n)),Y2=(e,t)=>_r([...e?.entries()??[]],([n,r])=>t(r,n)),Le=(e,t,n)=>Ue(n)?(Ui(e,t),e):e?.set(t,n),He=(e,t,n,r)=>(lt(e,t)?r?.(K(e,t)):Le(e,t,n()),K(e,t)),En=(e,t,n,r=Le)=>(Xt(t,(s,i)=>n(e,i,s)),bt(e,s=>pn(t,s)?0:r(e,s)),e),Je=(e,t,n,r)=>{const s={};return ye(e,(i,o)=>{if(!n?.(i,o)){const a=t?t(i,o):i;r?.(a)||(s[o]=a)}}),s},ca=(e,t,n)=>Je(e,r=>Je(r,t,n),me,qt),Ks=(e,t,n)=>Je(e,r=>ca(r,t,n),me,qt),hn=(e,t)=>{const n=he();return ye(e,(r,s)=>n.set(s,t?.(r)??r)),n},ua=e=>hn(e,hn),Lo=e=>hn(e,ua),da=(e,t,n,r,s=0)=>Te((n?He:K)(e,t[s],s>Ot(t)-2?n:he),i=>{if(s>Ot(t)-2)return r?.(i)&&Le(e,t[s]),i;const o=da(i,t,n,r,s+1);return me(i)&&Le(e,t[s]),o}),qn=e=>new Set(ao(e)||Ue(e)?e:[e]),Fn=(e,t)=>e?.add(t),Q2=/^\d+$/,Cf=()=>{const e=[];let t=0;return[n=>(n?V2(e):null)??et+t++,n=>{j2(Q2,n)&&Ot(e)<1e3&&Vi(e,n)}]},K2=(e,t=[et])=>{const n=[],r=(s,i)=>i==Ot(t)?Vi(n,s):t[i]===null?ye(s,o=>r(o,i+1)):xr([t[i],null],o=>r(K(s,o),i+1));return r(e,0),n},G2=e=>{let t;const[n,r]=Cf(),s=he();return[(c,u,d,f=[],m=()=>[])=>{t??=e();const v=n(1);return Le(s,v,[c,u,d,f,m]),Fn(da(u,d??[et],qn),v),v},(c,u,...d)=>xr(K2(c,u),f=>ye(f,m=>K(s,m)[0](t,...u??[],...d))),c=>Te(K(s,c),([,u,d])=>(da(u,d??[et],void 0,f=>(Ui(f,c),me(f)?1:0)),Le(s,c),r(c),d)),c=>Te(K(s,c),([u,,d=[],f,m])=>{const v=(...x)=>{const C=Ot(x);C==Ot(d)?u(t,...x,...m(x)):Ue(d[C])?xr(f[C]?.(...x)??[],R=>v(...x,R)):v(...x,d[C])};v()})]},J2=63,Ef=M2("-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz"),X2=he(_r(Ef,(e,t)=>[e,t])),nt=e=>Ef[e&J2],At=(e,t)=>K(X2,e[t])??0,Z2=aa.crypto?e=>aa.crypto.getRandomValues(e):e=>_r(e,()=>L2(il.random()*256)),e_=(e=16)=>_f(Z2(new Uint8Array(e)),(t,n)=>t+nt(n),et),t_=JSON.stringify,No=JSON.parse,An=e=>t_(e,(t,n)=>N2(n,Map)?_n.fromEntries([...n]):n),n_=new aa.TextEncoder,vs=e=>{let t=2166136261;return xr(n_.encode(e),n=>{t^=n,t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24)}),t>>>0},Oo=(e,t)=>(e^t)>>>0,tr=(e,t)=>vs(e+":"+t),r_=(e,t)=>vs(An(e??null)+":"+t),iu=2**36,ou=2**30,fa=2**24,Hr=2**18,Br=2**12,zr=2**6,au=e=>{const t=vs(e);return nt(t/fa)+nt(t/Hr)+nt(t/Br)+nt(t/zr)+nt(t)},s_=(e,t=Date.now)=>{let n=0,r=-1;const s=Te(e,au,()=>e_(5)),i=()=>(o(),a(n,++r)),o=f=>{const m=n,[v,x]=Ue(f)||f==""?[0,0]:l(f);n=Zc(m,v,t()),r=n==m?n==v?Zc(r,x):r:n==v?x:-1},a=(f,m,v)=>nt(f/iu)+nt(f/ou)+nt(f/fa)+nt(f/Hr)+nt(f/Br)+nt(f/zr)+nt(f)+nt(m/Hr)+nt(m/Br)+nt(m/zr)+nt(m)+(Ue(v)?s:au(v)),l=f=>[At(f,0)*iu+At(f,1)*ou+At(f,2)*fa+At(f,3)*Hr+At(f,4)*Br+At(f,5)*zr+At(f,6),At(f,7)*Hr+At(f,8)*Br+At(f,9)*zr+At(f,10),f.slice(11)];return[i,o,a,l,()=>n,()=>r,()=>s]},i_=(e,t)=>(e??0)<(t??0)?-1:1,Af=([e,t])=>hr(e,t),o_=([e,t,n])=>[e,t,n],hr=(e,t)=>t?[e,t]:[e],a_=(e,t,n)=>[e,t,n],lu=e=>e[2],jo=(e,t)=>t>e?(e?vs(e):0)^vs(t):0,Gs=(e,t)=>((e??"")>(t??"")?e:t)??"",Js=(e,t,n)=>{t>e[1]&&(e[1]=t),e[2]=n>>>0},Mr=(e=et)=>hr(un(),e),Bi=(e=et)=>[he(),e,0],Xs=([e,t,n],r=o_)=>[Je(e,r),t,n],Do=([e,t],n=Af)=>hr(Je(e,n),t),nr=(e,t)=>ao(e)&&Ot(e)==3&&O2(e[1])&&rn(e[2])==sl&&bf(e[2])&&t(e[0]),Zs=e=>[e,e],Ie=(e,t=ll)=>t(e[0])+t(e[1]),Ve=()=>[he(),he()],cu=e=>[...e],ei=([e,t])=>e===t,Lr=(e,t,n)=>Le(e,t,K(e,t)==-n?void 0:n),Rf=()=>{let e,t,n=!1,r=!1,s=0,i=[];const o=he(),a=he(),l=he(),c=he(),u=he(),d=he(),f=he(),m=he(),v=he(),x=he(),C=he(),R=he(),_=he(),P=he(),L=qn(),O=he(),M=he(),A=he(),g=he(),p=Ve(),w=Ve(),b=Ve(),E=Ve(),V=Ve(),H=Ve(),G=Ve(),te=Ve(),B=Ve(),F=Ve(),N=Ve(),Z=Ve(),I=Ve(),W=Ve(),T=Ve(),ee=Ve(),J=Ve(),oe=Ve(),we=Ve(),ne=Ve(),se=Ve(),le=Ve(),Q=he(),ge=Ve(),[pe,re,ve,de]=G2(()=>st),Ye=h=>St(h,y=>St(y,ke)),ce=h=>St(h,ke),ke=h=>{if(!St(h,(S,D)=>D2([Ys,$n],D)))return!1;const y=h[Ys];return!xf(y)&&y!=sl?!1:(ir(h[$n])!=y&&$f(h,$n),!0)},at=ao,ut=h=>St(h,Ke,on),Ke=(h,y)=>(!e||lt(C,y)||on(y))&&St(h,(S,D)=>rt(y,D,S),()=>on(y)),rt=(h,y,S,D)=>St(D?S:Qe(S,h,y),(U,Y)=>Te(ze(h,y,Y,U),ae=>(S[Y]=ae,!0),()=>!1),()=>on(h,y)),ze=(h,y,S,D)=>e?Te(K(K(C,h),S),U=>ir(D)!=U[Ys]?on(h,y,S,D,U[$n]):D,()=>on(h,y,S,D)):Ue(ir(D))?on(h,y,S,D):D,Ze=(h,y)=>St(y?h:wt(h),(S,D)=>Te(qe(D,S),U=>(h[D]=U,!0),()=>!1),()=>Cr()),qe=(h,y)=>t?Te(K(_,h),S=>ir(y)!=S[Ys]?Cr(h,y,S[$n]):y,()=>Cr(h,y)):Ue(ir(y))?Cr(h,y):y,Qe=(h,y,S)=>(Te(K(R,y),([D,U])=>{ye(D,(Y,ae)=>{pn(h,ae)||(h[ae]=Y)}),ye(U,Y=>{pn(h,Y)||on(y,S,Y)})}),h),wt=h=>(t&&(ye(P,(y,S)=>{pn(h,S)||(h[S]=y)}),ye(L,y=>{pn(h,y)||Cr(y)})),h),Gn=h=>En(C,h,(y,S,D)=>{const U=he(),Y=qn();En(He(C,S,he),D,(ae,Ee,Ae)=>{Le(ae,Ee,Ae),Te(Ae[$n],Kt=>Le(U,Ee,Kt),()=>Fn(Y,Ee))}),Le(R,S,[U,Y])},(y,S)=>{Le(C,S),Le(R,S)}),Sr=h=>En(_,h,(y,S,D)=>{Le(_,S,D),Te(D[$n],U=>Le(P,S,U),()=>Fn(L,S))},(y,S)=>{Le(_,S),Le(P,S),Ui(L,S)}),Qt=h=>qt(h)?Ns():Ms(h),_t=([h,y])=>{(qt(h)?Ns:Ms)(h),(qt(y)?Os:Ls)(y)},sn=h=>En(A,h,(y,S,D)=>kn(S,D),(y,S)=>fl(S)),kn=(h,y)=>En(He(A,h,()=>(ml(h,1),Le(O,h,Cf()),Le(M,h,he()),he())),y,(S,D,U)=>$r(h,S,D,U),(S,D)=>hl(h,S,D)),$r=(h,y,S,D,U)=>En(He(y,S,()=>(wl(h,S,1),he())),D,(Y,ae,Ee)=>lo(h,S,Y,ae,Ee),(Y,ae)=>gl(h,y,S,Y,ae,U)),lo=(h,y,S,D,U)=>{lt(S,D)||vl(h,y,D,1);const Y=K(S,D);U!==Y&&(yl(h,y,D,Y,U),Le(S,D,U))},cl=(h,y,S,D,U)=>Te(K(y,S),Y=>lo(h,S,Y,D,U),()=>$r(h,y,S,Qe({[D]:U},h,S))),ul=h=>qt(h)?Os():Ls(h),dl=h=>En(g,h,(y,S,D)=>Ss(S,D),(y,S)=>pl(S)),Ss=(h,y)=>{lt(g,h)||bl(h,1);const S=K(g,h);y!==S&&(xl(h,S,y),Le(g,h,y))},Tf=(h,y)=>{const[S]=K(O,h);let D;do D=S(y);while(lt(K(A,h),D));return D},$s=h=>K(A,h)??kn(h,{}),fl=h=>kn(h,{}),hl=(h,y,S)=>{const[,D]=K(O,h);D(S),$r(h,y,S,{},!0)},gl=(h,y,S,D,U,Y)=>{const ae=K(K(R,h)?.[0],U);if(!Ue(ae)&&!Y)return lo(h,S,D,U,ae);const Ee=Ae=>{yl(h,S,Ae,K(D,Ae)),vl(h,S,Ae,-1),Le(D,Ae)};Ue(ae)?Ee(U):bt(D,Ee),me(D)&&(wl(h,S,-1),me(Le(y,S))&&(ml(h,-1),Le(A,h),Le(O,h),Le(M,h)))},pl=h=>{const y=K(P,h);if(!Ue(y))return Ss(h,y);xl(h,K(g,h)),bl(h,-1),Le(g,h)},ml=(h,y)=>Lr(o,h,y),wl=(h,y,S)=>Lr(He(c,h,he),y,S)&&Le(l,h,He(l,h,()=>0)+S),vl=(h,y,S,D)=>{const U=K(M,h),Y=K(U,S)??0;(Y==0&&D==1||Y==1&&D==-1)&&Lr(He(a,h,he),S,D),Le(U,S,Y!=-D?Y+D:null),Lr(He(He(u,h,he),y,he),S,D)},yl=(h,y,S,D,U)=>{He(He(He(d,h,he),y,he),S,()=>[D,0])[1]=U,i[3]?.(h,y,S,U)},bl=(h,y)=>Lr(f,h,y),xl=(h,y,S)=>{He(m,h,()=>[y,0])[1]=S,i[4]?.(h,S)},on=(h,y,S,D,U)=>(Vi(He(He(He(v,h,he),y,he),S,()=>[]),D),U),Cr=(h,y,S)=>(Vi(He(x,h,()=>[]),y),S),Cs=(h,y,S)=>Te(K(K(K(d,h),y),S),([D,U])=>[!0,D,U],()=>[!1,...Zs(As(h,y,S))]),_l=h=>Te(K(m,h),([y,S])=>[!0,y,S],()=>[!1,...Zs(Rs(h))]),kl=h=>!me(v)&&!me(ee[h])?ye(h?Lo(v):v,(y,S)=>ye(y,(D,U)=>ye(D,(Y,ae)=>re(ee[h],[S,U,ae],Y)))):0,Sl=h=>!me(x)&&!me(J[h])?ye(h?hn(x):x,(y,S)=>re(J[h],[S],y)):0,Er=(h,y,S,D)=>{if(!me(h))return re(y,D,()=>Je(h)),bt(h,(U,Y)=>re(S,[...D??[],U],Y==1)),1},$l=h=>{const y=Ps();y!=n&&re(p[h],void 0,y);const S=me(F[h]),D=me(I[h])&&me(W[h])&&me(B[h])&&me(N[h])&&me(H[h])&&me(G[h])&&me(te[h])&&S&&me(b[h])&&me(E[h]),U=me(T[h])&&me(Z[h])&&me(V[h])&&me(w[h]);if(!D||!U){const Y=h?[hn(o),ua(a),hn(l),ua(c),Lo(u),Lo(d)]:[o,a,l,c,u,d];if(!D){Er(Y[0],b[h],E[h]),ye(Y[1],(Ee,Ae)=>Er(Ee,H[h],G[h],[Ae])),ye(Y[2],(Ee,Ae)=>{Ee!=0&&re(te[h],[Ae],Rl(Ae))});const ae=qn();ye(Y[3],(Ee,Ae)=>{Er(Ee,B[h],N[h],[Ae])&&!S&&(re(F[h],[Ae,null]),Fn(ae,Ae))}),S||ye(Y[5],(Ee,Ae)=>{if(!lt(ae,Ae)){const Kt=qn();ye(Ee,an=>ye(an,([js,Ds],Ar)=>Ds!==js?Fn(Kt,Ar):Ui(an,Ar))),ye(Kt,an=>re(F[h],[Ae,an]))}}),ye(Y[4],(Ee,Ae)=>ye(Ee,(Kt,an)=>Er(Kt,I[h],W[h],[Ae,an])))}if(!U){let ae;ye(Y[5],(Ee,Ae)=>{let Kt;ye(Ee,(an,js)=>{let Ds;ye(an,([Ar,Hl],sh)=>{Hl!==Ar&&(re(T[h],[Ae,js,sh],Hl,Ar,Cs),ae=Kt=Ds=1)}),Ds&&re(Z[h],[Ae,js],Cs)}),Kt&&re(V[h],[Ae],Cs)}),ae&&re(w[h],void 0,Cs)}}},Cl=h=>{const y=Ts();y!=r&&re(oe[h],void 0,y);const S=me(ne[h])&&me(se[h]),D=me(le[h])&&me(we[h]);if(!S||!D){const U=h?[hn(f),hn(m)]:[f,m];if(S||Er(U[0],ne[h],se[h]),!D){let Y;ye(U[1],([ae,Ee],Ae)=>{Ee!==ae&&(re(le[h],[Ae],Ee,ae,_l),Y=1)}),Y&&re(we[h],void 0,_l)}}},Fe=(h,...y)=>(po(()=>h(..._r(y,Pe))),st),El=(h,y,S,D,U)=>{let Y=Es(h,y,...S);return pe(()=>{const ae=Es(h,y,...S);F2(ae,Y)||(Y=ae,D(st,h,y,...S,Y))},F[U?1:0],[h,y],[vt])},Mf=()=>[co(),fo()],co=()=>Ks(A),vt=()=>Tr(A),Lf=h=>ca(K(A,Pe(h))),Al=h=>Tr(K(M,Pe(h))),Rl=h=>al(K(A,Pe(h))),Jn=h=>Tr(K(A,Pe(h))),Es=(h,y,S,D=0,U)=>Hi(h)?Es(h.tableId,h.cellId,h.descending,h.offset,h.limit):_r(la(I2(Y2(K(A,Pe(h)),(Y,ae)=>[Ue(y)?ae:K(Y,Pe(y)),ae]),([Y],[ae])=>i_(Y,ae)*(S?-1:1)),D,Ue(U)?U:D+U),([,Y])=>Y),Nf=(h,y)=>Je(K(K(A,Pe(h)),Pe(y))),uo=(h,y)=>Tr(K(K(A,Pe(h)),Pe(y))),As=(h,y,S)=>K(K(K(A,Pe(h)),Pe(y)),Pe(S)),fo=()=>Je(g),ho=()=>Tr(g),Rs=h=>K(g,Pe(h)),Ps=()=>!me(A),Pl=h=>lt(A,Pe(h)),Tl=(h,y)=>lt(K(M,Pe(h)),Pe(y)),Ml=(h,y)=>lt(K(A,Pe(h)),Pe(y)),Ll=(h,y,S)=>lt(K(K(A,Pe(h)),Pe(y)),Pe(S)),Ts=()=>!me(g),Nl=h=>lt(g,Pe(h)),Of=()=>An(A),jf=()=>An(g),Df=()=>An([A,g]),qf=()=>An(C),Ff=()=>An(_),If=()=>An([C,_]),Vf=h=>Fe(()=>{const y=Po(h)?h():h;at(y)&&_t(y)}),Ms=h=>Fe(()=>ut(h)?sn(h):0),Uf=(h,y)=>Fe(S=>Ke(y,S)?kn(S,y):0,h),Hf=(h,y,S)=>Fe((D,U)=>rt(D,U,S)?$r(D,$s(D),U,S):0,h,y),Bf=(h,y,S=!0)=>po(()=>{let D;return rt(h,D,y)&&(h=Pe(h),$r(h,$s(h),D=Tf(h,S?1:0),y)),D}),zf=(h,y,S)=>Fe((D,U)=>{if(rt(D,U,S,1)){const Y=$s(D);Xt(S,(ae,Ee)=>cl(D,Y,U,Ee,ae))}},h,y),Wf=(h,y,S,D)=>Fe((U,Y,ae)=>Te(ze(U,Y,ae,Po(D)?D(As(U,Y,ae)):D),Ee=>cl(U,$s(U),Y,ae,Ee)),h,y,S),Ls=h=>Fe(()=>Ze(h)?dl(h):0),Yf=h=>Fe(()=>Ze(h,1)?Xt(h,(y,S)=>Ss(S,y)):0),Qf=(h,y)=>Fe(S=>Te(qe(S,Po(y)?y(Rs(S)):y),D=>Ss(S,D)),h),Kf=h=>Fe(()=>{Xt(h[0],(y,S)=>Ue(y)?ql(S):Xt(y,(D,U)=>Ue(D)?Fl(S,U):Xt(D,(Y,ae)=>nu(st,S,U,ae,Y)))),Xt(h[1],(y,S)=>ru(st,S,y))}),Ol=h=>(To(()=>Qt(No(h))),st),Gf=h=>(To(()=>ul(No(h))),st),Jf=h=>Fe(()=>To(()=>{const[y,S]=No(h);Qt(y),ul(S)},()=>Ol(h))),jl=h=>Fe(()=>{if((e=Ye(h))&&(Gn(h),!me(A))){const y=co();Ns(),Ms(y)}}),Dl=h=>Fe(()=>{if(t=ce(h)){const y=fo();go(),Os(),t=!0,Sr(h),Ls(y)}}),Xf=(h,y)=>Fe(()=>{jl(h),Dl(y)}),Ns=()=>Fe(()=>sn({})),ql=h=>Fe(y=>lt(A,y)?fl(y):0,h),Fl=(h,y)=>Fe((S,D)=>Te(K(A,S),U=>lt(U,D)?hl(S,U,D):0),h,y),Zf=(h,y,S,D)=>Fe((U,Y,ae)=>Te(K(A,U),Ee=>Te(K(Ee,Y),Ae=>lt(Ae,ae)?gl(U,Ee,Y,Ae,ae,D):0)),h,y,S),Os=()=>Fe(()=>dl({})),eh=h=>Fe(y=>lt(g,y)?pl(y):0,h),Il=()=>Fe(()=>{Gn({}),e=!1}),go=()=>Fe(()=>{Sr({}),t=!1}),th=()=>Fe(()=>{Il(),go()}),po=(h,y)=>{if(s!=-1){Vl();const S=h();return Ul(y),S}},Vl=()=>(s!=-1&&s++,s==1&&(i[0]?.(),re(Q)),st),nh=()=>[Je(d,(h,y)=>K(o,y)===-1?void 0:Je(h,(S,D)=>K(K(c,y),D)===-1?void 0:Je(S,([,U])=>U,U=>ei(U)),me,qt),me,qt),Je(m,([,h])=>h,h=>ei(h)),1],rh=()=>[!me(d),!me(m),Ks(d,cu,ei),Ks(v),Je(m,cu,ei),Je(x),Je(o),ca(c),Ks(u),Je(f)],Ul=h=>(s>0&&(s--,s==0&&(s=1,kl(1),me(d)||$l(1),Sl(1),me(m)||Cl(1),h?.(st)&&(ye(d,(y,S)=>ye(y,(D,U)=>ye(D,([Y],ae)=>nu(st,S,U,ae,Y)))),es(d),ye(m,([y],S)=>ru(st,S,y)),es(m)),re(ge[0],void 0),s=-1,kl(0),me(d)||$l(0),Sl(0),me(m)||Cl(0),i[1]?.(),re(ge[1],void 0),i[2]?.(),s=0,n=Ps(),r=Ts(),xr([o,a,l,c,u,d,v,f,m,x],es))),st),st={getContent:Mf,getTables:co,getTableIds:vt,getTable:Lf,getTableCellIds:Al,getRowCount:Rl,getRowIds:Jn,getSortedRowIds:Es,getRow:Nf,getCellIds:uo,getCell:As,getValues:fo,getValueIds:ho,getValue:Rs,hasTables:Ps,hasTable:Pl,hasTableCell:Tl,hasRow:Ml,hasCell:Ll,hasValues:Ts,hasValue:Nl,getTablesJson:Of,getValuesJson:jf,getJson:Df,getTablesSchemaJson:qf,getValuesSchemaJson:Ff,getSchemaJson:If,hasTablesSchema:()=>e,hasValuesSchema:()=>t,setContent:Vf,setTables:Ms,setTable:Uf,setRow:Hf,addRow:Bf,setPartialRow:zf,setCell:Wf,setValues:Ls,setPartialValues:Yf,setValue:Qf,applyChanges:Kf,setTablesJson:Ol,setValuesJson:Gf,setJson:Jf,setTablesSchema:jl,setValuesSchema:Dl,setSchema:Xf,delTables:Ns,delTable:ql,delRow:Fl,delCell:Zf,delValues:Os,delValue:eh,delTablesSchema:Il,delValuesSchema:go,delSchema:th,transaction:po,startTransaction:Vl,getTransactionChanges:nh,getTransactionLog:rh,finishTransaction:Ul,forEachTable:h=>ye(A,(y,S)=>h(S,D=>ye(y,(U,Y)=>D(Y,ae=>bt(U,ae))))),forEachTableCell:(h,y)=>bt(K(M,Pe(h)),y),forEachRow:(h,y)=>ye(K(A,Pe(h)),(S,D)=>y(D,U=>bt(S,U))),forEachCell:(h,y,S)=>bt(K(K(A,Pe(h)),Pe(y)),S),forEachValue:h=>bt(g,h),addSortedRowIdsListener:(h,y,S,D,U,Y,ae)=>Hi(h)?El(h.tableId,h.cellId,[h.descending??!1,h.offset??0,h.limit],y,S):El(h,y,[S,D,U],Y,ae),addStartTransactionListener:h=>pe(h,Q),addWillFinishTransactionListener:h=>pe(h,ge[0]),addDidFinishTransactionListener:h=>pe(h,ge[1]),callListener:h=>(de(h),st),delListener:h=>(ve(h),st),getListenerStats:()=>({hasTables:Ie(p),tables:Ie(w),tableIds:Ie(b),hasTable:Ie(E),table:Ie(V),tableCellIds:Ie(H),hasTableCell:Ie(G,Ur),rowCount:Ie(te),rowIds:Ie(B),sortedRowIds:Ie(F),hasRow:Ie(N,Ur),row:Ie(Z,Ur),cellIds:Ie(I,Ur),hasCell:Ie(W,Mo),cell:Ie(T,Mo),invalidCell:Ie(ee,Mo),hasValues:Ie(oe),values:Ie(we),valueIds:Ie(ne),hasValue:Ie(se),value:Ie(le),invalidValue:Ie(J),transaction:ll(Q)+Ie(ge)}),isMergeable:()=>!1,createStore:Rf,addListener:pe,callListeners:re,setInternalListeners:(h,y,S,D,U)=>i=[h,y,S,D,U]};return Xt({[Cn+Kc]:[0,p,[],()=>[Ps()]],[Kc]:[0,w],[E2]:[0,b],[Cn+cr]:[1,E,[vt],h=>[Pl(...h)]],[cr]:[1,V,[vt]],[cr+Gc]:[1,H,[vt]],[Cn+cr+ui]:[2,G,[vt,Al],h=>[Tl(...h)]],[A2]:[1,te,[vt]],[R2]:[1,B,[vt]],[Cn+Fi]:[2,N,[vt,Jn],h=>[Ml(...h)]],[Fi]:[2,Z,[vt,Jn]],[Gc]:[2,I,[vt,Jn]],[Cn+ui]:[3,W,[vt,Jn,uo],h=>[Ll(...h)]],[ui]:[3,T,[vt,Jn,uo],h=>Zs(As(...h))],InvalidCell:[3,ee],[Cn+Jc]:[0,oe,[],()=>[Ts()]],[Jc]:[0,we],[P2]:[0,ne],[Cn+Ii]:[1,se,[ho],h=>[Nl(...h)]],[Ii]:[1,le,[ho],h=>Zs(Rs(h[0]))],InvalidValue:[1,J]},([h,y,S,D],U)=>{st[yf+U+oa]=(...Y)=>pe(Y[h],y[Y[h+1]?1:0],h>0?la(Y,0,h):void 0,S,D)}),Sf(st)},l_={HasTable:1,Table:1,TableCellIds:1,HasTableCell:2,RowCount:1,RowIds:1,SortedRowIds:5,HasRow:2,Row:2,CellIds:2,HasCell:3,Cell:3,HasValue:1,Value:1,InvalidCell:3,InvalidValue:1},uu=(e=et)=>[Bi(e),Bi(e)],c_=e=>ao(e)&&Ot(e)==2&&nr(e[0],t=>St(t,n=>nr(n,r=>St(r,s=>nr(s,i=>St(i,o=>nr(o,tu),void 0,1)),void 0,1)),void 0,1))&&nr(e[1],t=>St(t,n=>nr(n,tu),void 0,1)),u_=(e,t)=>{let n=1,r=uu(),s=0;const i=he(),o=qn(),[a,l]=s_(e,t),c=Rf(),u=F=>{const N=n;return n=0,F(),n=N,B},d=(F,N=0)=>{const Z={},I={},[[W,T=et,ee=0],J]=F,[oe,we]=r,[ne,se,le]=oe;let Q=N?ee:le,ge=T;Dt(W,([re,ve=et,de=0],Ye)=>{const ce=He(ne,Ye,Bi),[ke,at,ut]=ce;let Ke=N?de:ut,rt=ve;Dt(re,(ze,Ze)=>{const[qe,Qe,wt]=f(ze,He(ke,Ze,Bi),Jt(Jt(Z,Ye,un),Ze,un),N);Ke^=N?0:Oo(Qe?tr(Ze,Qe):0,tr(Ze,wt)),rt=Gs(rt,qe)}),Ke^=N?0:jo(at,ve),Js(ce,ve,Ke),Q^=N?0:Oo(ut?tr(Ye,ut):0,tr(Ye,ce[2])),ge=Gs(ge,rt)}),Q^=N?0:jo(se,T),Js(oe,T,Q);const[pe]=f(J,we,I,N);return l(Gs(ge,pe)),[Z,I,1]},f=(F,N,Z,I)=>{const[W,T=et,ee=0]=F,[J,oe,we]=N;let ne=T,se=I?ee:we;return Dt(W,([le,Q=et,ge=0],pe)=>{const re=He(J,pe,()=>[void 0,et,0]),[,ve,de]=re;(!ve||Q>ve)&&(Js(re,Q,I?ge:r_(le,Q)),re[0]=le,Z[pe]=le,se^=I?0:Oo(tr(pe,de),tr(pe,re[2])),ne=Gs(ne,Q))}),se^=I?0:jo(oe,T),Js(N,T,se),[ne,we,N[2]]},m=eu,v=eu,x=()=>{es(i),es(o)},C=(F,N,Z,I)=>{Fn(He(He(i,F,he),N,qn),Z),n&&d([[{[F]:[{[N]:[{[Z]:[I,s?et:a()]}]}]}],[{}],1])},R=(F,N)=>{Fn(o,F),n&&d([[{}],[{[F]:[N,s?et:a()]}],1])},_=()=>[Xs(r[0],F=>Xs(F,N=>Xs(N))),Xs(r[1])],P=()=>[r[0][2],r[1][2]],L=()=>Je(r[0][0],lu),O=F=>{const N=Mr(r[0][1]),Z={};return bt(r[0][0],(I,[W,T,ee])=>pn(F,I)?ee!=F[I]?Z[I]=ee:0:N[0][I]=Do([W,T],J=>Do(J))),[N,Z]},M=F=>{const N={};return Dt(F,(Z,I)=>Te(K(r[0][0],I),([W,,T])=>T!=Z?bt(W,(ee,[,,J])=>Jt(N,I,un)[ee]=J):0)),N},A=F=>{const N=Mr(r[0][1]),Z={};return Dt(F,(I,W)=>bt(K(r[0][0],W)?.[0],(T,[ee,J,oe])=>pn(I,T)?oe!==I[T]?Jt(Z,W,un)[T]=oe:0:Jt(N[0],W,Mr)[0][T]=Do([ee,J]))),[N,Z]},g=F=>{const N={};return Dt(F,(Z,I)=>Te(K(r[0][0],I),([W])=>Dt(Z,(T,ee)=>Te(K(W,ee),([J,,oe])=>oe!==T?bt(J,(we,[,,ne])=>Jt(Jt(N,I,un),ee,un)[we]=ne):0)))),N},p=F=>{const[[N,Z]]=r,I={};return Dt(F,(W,T)=>Dt(W,(ee,J)=>Te(K(N,T),([oe,we])=>Te(K(oe,J),([ne,se])=>bt(ne,(le,[Q,ge,pe])=>pe!==ee[le]?Jt(Jt(I,T,()=>Mr(we))[0],J,()=>Mr(se))[0][le]=[Q,ge]:0))))),hr(I,Z)},w=()=>Je(r[1][0],lu),b=F=>{const[,[N,Z]]=r,I=Je(N,Af,([,,W],T)=>W==F?.[T]);return hr(I,Z)},E=F=>u(()=>c_(F)?c.transaction(()=>{c.delTables().delValues(),r=uu(),c.applyChanges(d(F,1))}):0),V=F=>(c.transaction(()=>{s=1,c.setContent(F),s=0}),B),H=(F=!1)=>{const[[N,Z,I],[W,T,ee]]=r,J=F?a_:hr,oe={};ye(i,(ne,se)=>Te(K(N,se),([le,Q,ge])=>{const pe={};ye(ne,(re,ve)=>Te(K(le,ve),([de,Ye,ce])=>{const ke={};ye(re,at=>{Te(K(de,at),([ut,Ke,rt])=>ke[at]=J(ut,Ke,rt))}),pe[ve]=J(ke,Ye,ce)})),oe[se]=J(pe,Q,ge)}));const we={};return ye(o,ne=>Te(K(W,ne),([se,le,Q])=>we[ne]=J(se,le,Q))),[J(oe,Z,I),J(we,T,ee),1]},G=F=>u(()=>c.applyChanges(d(F))),B={getMergeableContent:_,getMergeableContentHashes:P,getMergeableTableHashes:L,getMergeableTableDiff:O,getMergeableRowHashes:M,getMergeableRowDiff:A,getMergeableCellHashes:g,getMergeableCellDiff:p,getMergeableValueHashes:w,getMergeableValueDiff:b,setMergeableContent:E,setDefaultContent:V,getTransactionMergeableChanges:H,applyMergeableChanges:G,merge:F=>{const N=_(),Z=F.getMergeableContent();return F.applyMergeableChanges(N),G(Z)}};return c.setInternalListeners(m,v,x,C,R),Xt(c,(F,N)=>B[N]=Qs(N,$2)||Qs(N,C2)||Qs(N,"apply")||Xc(N,T2)||N=="call"+oa?(...Z)=>(F(...Z),B):Qs(N,yf)&&Xc(N,oa)?(...Z)=>{const I=l_[la(N,3,-8)]??0,W=Z[I];return Z[I]=(T,...ee)=>W(B,...ee),F(...Z)}:N=="isMergeable"?()=>!0:F),Sf(B)},Wr=u_();Wr.setSchema({projects:{id:{type:"string"},name:{type:"string"},updated_at:{type:"number"},owner_id:{type:"number"}},project_members:{project_id:{type:"string"},user_id:{type:"string"},role:{type:"string"}},reviews:{id:{type:"string"},project_id:{type:"string"},name:{type:"string"},created_at:{type:"number"}},review_assignments:{review_id:{type:"string"},user_id:{type:"string"}},checklists:{id:{type:"string"},review_id:{type:"string"},reviewer_id:{type:"string"},type:{type:"string"},completed_at:{type:"number"},updated_at:{type:"number"}},checklist_answers:{id:{type:"string"},checklist_id:{type:"string"},question_key:{type:"string"},answers:{type:"string"},critical:{type:"boolean"},updated_at:{type:"number"}}});var d_=j('<div class="min-h-screen bg-gray-50 flex items-center justify-center"><div class="bg-white rounded-md shadow p-4 max-w-xs text-center"><h2 class="text-base font-medium text-gray-900">Authentication Required</h2><p class="text-sm text-gray-600">Database access requires an authenticated user.'),f_=j('<span class="text-gray-400 italic">null'),h_=j('<span class="text-gray-400 italic">undefined'),g_=j("<span>"),p_=j("<span class=text-purple-600>"),m_=j("<span class=text-gray-900>"),w_=j('<div class="min-h-screen max-w-screen bg-gray-50 p-3"><div class=space-y-2>'),v_=j('<svg class="animate-spin h-3 w-3 mr-1 text-blue-600"fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">'),y_=j('<div class="bg-red-50 border border-red-200 rounded p-2 mb-2 text-xs"><div class="flex items-center"><svg class="h-3 w-3 text-red-500 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg><p class=text-red-700>'),b_=j('<div class="py-4 text-center"><svg class="animate-spin h-4 w-4 text-blue-600 mx-auto mb-1"fill=none viewBox="0 0 24 24"><circle class=opacity-25 cx=12 cy=12 r=10 stroke=currentColor stroke-width=4></circle><path class=opacity-75 fill=currentColor d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg><p class="text-gray-500 text-xs">Loading...'),x_=j('<div class=overflow-x-auto><table class="min-w-full divide-y divide-gray-100 text-xs"><thead class=bg-gray-50><tr><th class="px-2 py-1 text-left text-xs font-medium text-gray-500">#</th></tr></thead><tbody class="bg-white divide-y divide-gray-100">'),__=j('<details class=mt-2><summary class="cursor-pointer text-xs text-gray-600 hover:text-gray-900 flex items-center"><svg class="w-3 h-3 mr-1"fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4"></path></svg>JSON</summary><pre class="mt-1 bg-gray-800 text-green-400 p-2 rounded text-[10px] overflow-x-auto">'),k_=j("<div class=p-2>"),S_=j('<div><div><div class="flex items-center justify-between"><div><h2></h2><p class="text-xs text-gray-600"></p></div><div class="flex items-center"><svg fill=none viewBox="0 0 24 24"stroke=currentColor><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7">'),$_=j('<div class="text-center py-3"><p class="text-gray-500 text-xs">No records found'),C_=j('<th class="px-2 py-1 text-left text-xs font-medium text-gray-500">'),E_=j('<tr class=hover:bg-gray-50><td class="px-2 py-1 text-gray-500">'),A_=j('<td class="px-2 py-1">');function R_(){const{authFetch:e,user:t}=Kn(),[n,r]=z(new Set(["users","projects","reviews","checklists","checklist_answers","project_members","review_assignments"]));if(!t())return d_();function s(){console.log(d.data());const O=[{name:"projects",data:o.data()},{name:"reviews",data:a.data()},{name:"checklists",data:l.data()},{name:"checklist_answers",data:d.data()},{name:"project_members",data:c.data()},{name:"review_assignments",data:u.data()}];for(const{name:M,data:A}of O)if(Array.isArray(A)){Wr.delTable(M);for(const g of A)M==="checklist_answers"&&Array.isArray(g.answers)?Wr.setRow(M,g.id,{...g,answers:JSON.stringify(g.answers)}):Wr.setRow(M,g.id,g)}}De(()=>{s(),console.log(Wr.getTables())});const i=Sn({url:Xe.ELECTRIC_SHAPE,params:{table:"users"},fetchClient:e}),o=Sn({url:Xe.ELECTRIC_SHAPE,params:{table:"projects"},fetchClient:e}),a=Sn({url:Xe.ELECTRIC_SHAPE,params:{table:"reviews"},fetchClient:e}),l=Sn({url:Xe.ELECTRIC_SHAPE,params:{table:"checklists"},fetchClient:e}),c=Sn({url:Xe.ELECTRIC_SHAPE,params:{table:"project_members"},fetchClient:e}),u=Sn({url:Xe.ELECTRIC_SHAPE,params:{table:"review_assignments"},fetchClient:e}),d=Sn({url:Xe.ELECTRIC_SHAPE,params:{table:"checklist_answers"},fetchClient:e}),f=m();function m(){return[{name:"users",data:()=>i.data(),isLoading:i.isLoading,isError:i.isError,error:i.error,color:"blue",description:"User accounts and authentication data"},{name:"projects",data:()=>o.data(),isLoading:o.isLoading,isError:o.isError,error:o.error,color:"purple",description:"Research projects"},{name:"reviews",data:()=>a.data(),isLoading:a.isLoading,isError:a.isError,error:a.error,color:"green",description:"AMSTAR2 reviews"},{name:"checklists",data:()=>l.data(),isLoading:l.isLoading,isError:l.isError,error:l.error,color:"orange",description:"AMSTAR2 checklist items"},{name:"checklist_answers",data:()=>d.data(),isLoading:d.isLoading,isError:d.isError,error:d.error,color:"lime",description:"AMSTAR2 checklist answers"},{name:"project_members",data:()=>c.data(),isLoading:c.isLoading,isError:c.isError,error:c.error,color:"pink",description:"AMSTAR2 project members"},{name:"review_assignments",data:()=>u.data(),isLoading:u.isLoading,isError:u.isError,error:u.error(),color:"cyan",description:"AMSTAR2 review assignments"}]}const v=O=>{const M=new Set(n());M.has(O)?M.delete(O):M.add(O),r(M)},x=O=>{const M={blue:{bg:"bg-blue-100",border:"border-blue-200",text:"text-blue-700",badge:"bg-blue-100 text-blue-800"},purple:{bg:"bg-purple-100",border:"border-purple-200",text:"text-purple-700",badge:"bg-purple-100 text-purple-800"},green:{bg:"bg-green-100",border:"border-green-200",text:"text-green-700",badge:"bg-green-100 text-green-800"},orange:{bg:"bg-orange-100",border:"border-orange-200",text:"text-orange-700",badge:"bg-orange-100 text-orange-800"},pink:{bg:"bg-pink-100",border:"border-pink-200",text:"text-pink-700",badge:"bg-pink-100 text-pink-800"},cyan:{bg:"bg-cyan-100",border:"border-cyan-200",text:"text-cyan-700",badge:"bg-cyan-100 text-cyan-800"},lime:{bg:"bg-lime-100",border:"border-lime-300",text:"text-lime-800",badge:"bg-lime-100 text-lime-900"}};return M[O]||M.blue},C=O=>O===null?f_():O===void 0?h_():typeof O=="boolean"?(()=>{var M=g_();return We(M,O?"text-green-600":"text-red-600"),k(M,()=>O.toString()),M})():typeof O=="object"?(()=>{var M=p_();return k(M,()=>JSON.stringify(O)),M})():(()=>{var M=m_();return k(M,()=>O.toString()),M})(),[R,_]=z(f),[P,L]=z(0);return De(()=>{const O=f.reduce((M,A)=>{const g=A.data();return M+(g?.length||0)},0);_(m()),L(O)}),(()=>{var O=w_(),M=O.firstChild;return k(M,$(it,{get each(){return R()},children:A=>{const g=()=>A.data(),p=()=>A.isLoading(),w=()=>A.isError(),b=()=>A.error(),E=()=>x(A.color),V=()=>g()?.length||0,H=()=>g()&&g().length>0?Object.keys(g()[0]):[];return(()=>{var G=S_(),te=G.firstChild,B=te.firstChild,F=B.firstChild,N=F.firstChild,Z=N.nextSibling,I=F.nextSibling,W=I.firstChild;return te.$$click=()=>v(A.name),k(N,()=>A.name),k(Z,()=>A.description,null),k(Z,(()=>{var T=je(()=>!p());return()=>T()&&` (${V()})`})(),null),k(I,$(_e,{get when(){return p()},get children(){return v_()}}),W),k(G,$(_e,{get when(){return n().has(A.name)},get children(){var T=k_();return k(T,$(_e,{get when(){return w()},get children(){var ee=y_(),J=ee.firstChild,oe=J.firstChild,we=oe.nextSibling;return k(we,()=>b()?.message||"Error loading data"),ee}}),null),k(T,$(_e,{get when(){return je(()=>!!p())()&&!w()},get children(){return b_()}}),null),k(T,$(_e,{get when(){return je(()=>!!(!p()&&!w()&&g()))()&&g().length>0},get fallback(){return $(_e,{get when(){return je(()=>!p())()&&!w()},get children(){return $_()}})},get children(){return[(()=>{var ee=x_(),J=ee.firstChild,oe=J.firstChild,we=oe.firstChild;we.firstChild;var ne=oe.nextSibling;return k(we,$(it,{get each(){return H()},children:se=>(()=>{var le=C_();return k(le,se),le})()}),null),k(ne,$(it,{get each(){return g()},children:(se,le)=>(()=>{var Q=E_(),ge=Q.firstChild;return k(ge,()=>le()+1),k(Q,$(it,{get each(){return H()},children:pe=>(()=>{var re=A_();return k(re,()=>C(se[pe])),re})()}),null),Q})()})),ee})(),(()=>{var ee=__(),J=ee.firstChild,oe=J.nextSibling;return k(oe,()=>JSON.stringify(g(),null,2)),ee})()]}}),null),T}}),null),ie(T=>{var ee=`bg-white rounded shadow overflow-hidden border-l-2 ${E().border} transition-all duration-200`,J=`${E().bg} px-3 py-2 cursor-pointer hover:opacity-80 transition-opacity`,oe=`text-sm font-bold ${E().text} uppercase`,we=`w-4 h-4 ${E().text} transform transition-transform duration-200 ${n().has(A.name)?"rotate-180":""}`;return ee!==T.e&&We(G,T.e=ee),J!==T.t&&We(te,T.t=J),oe!==T.a&&We(N,T.a=oe),we!==T.o&&pt(W,"class",T.o=we),T},{e:void 0,t:void 0,a:void 0,o:void 0}),G})()}})),O})()}Be(["click"]);const Pf="/amstar2-checklist-scoring-app";function Ht(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function P_(){return $(f0,{base:Pf,get children(){return $(yt,{path:"/",component:lx,get children(){return[$(yt,{path:"/",component:_0}),$(yt,{path:"/dashboard",component:Dv}),$(yt,{path:"/electric",component:R_}),$(yt,{path:"/projects/:projectSlug",component:Pv}),$(yt,{path:"/projects/:projectSlug/reviews/:reviewSlug/checklists/:checklistSlug",component:ec}),$(yt,{path:"/checklist/:checklistSlug",component:ec}),$(yt,{path:"/merge/:checklistSlugA/:checklistSlugB",component:px}),$(yt,{path:"/signin",component:()=>$(ti,{get children(){return $(Gy,{})}})}),$(yt,{path:"/signup",component:()=>$(ti,{get children(){return $(ab,{})}})}),$(yt,{path:"/verify-email",component:()=>$(ti,{get children(){return $(Mb,{})}})}),$(yt,{path:"/reset-password",component:()=>$(ti,{get children(){return $(Ib,{})}})}),$(yt,{path:"*",component:ux})]}})}})}function ti(e){const t=Rd();return $(_e,{get when(){return t()},get fallback(){return $(fx,{})},get children(){return e.children}})}function T_(){return $(P_,{})}Ah(()=>$(T_,{}),document.getElementById("root"));export{Xe as A,Jl as _,xs as a,Y_ as p};
