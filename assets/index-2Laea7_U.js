(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Hl=!1,zl=(e,t)=>e===t,Qe=Symbol("solid-proxy"),Da=typeof Proxy=="function",_i=Symbol("solid-track"),br={equals:zl};let ja=Ha;const Et=1,xr=2,Fa={owned:null,cleanups:null,context:null,owner:null};var te=null;let ci=null,Yl=null,le=null,$e=null,ut=null,Wr=0;function tn(e,t){const n=le,r=te,i=e.length===0,s=t===void 0?r:t,a=i?Fa:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=i?e:()=>e(()=>Me(()=>Mn(a)));te=a,le=null;try{return Ct(o,!0)}finally{le=n,te=r}}function j(e,t){t=t?Object.assign({},br,t):br;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Va(n,i));return[Ba.bind(n),r]}function Q(e,t,n){const r=Wi(e,t,!1,Et);Jn(r)}function we(e,t,n){ja=Gl;const r=Wi(e,t,!1,Et);(!n||!n.render)&&(r.user=!0),ut?ut.push(r):Jn(r)}function se(e,t,n){n=n?Object.assign({},br,n):br;const r=Wi(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,Jn(r),Ba.bind(r)}function Ua(e){return Ct(e,!1)}function Me(e){if(le===null)return e();const t=le;le=null;try{return e()}finally{le=t}}function Vi(e,t,n){const r=Array.isArray(e);let i,s=n&&n.defer;return a=>{let o;if(r){o=Array(e.length);for(let c=0;c<e.length;c++)o[c]=e[c]()}else o=e();if(s)return s=!1,a;const l=Me(()=>t(o,i,a));return i=o,l}}function Gn(e){we(()=>Me(e))}function Oe(e){return te===null||(te.cleanups===null?te.cleanups=[e]:te.cleanups.push(e)),e}function ki(){return le}function Hi(){return te}function zi(e,t){const n=te,r=le;te=e,le=null;try{return Ct(t,!0)}catch(i){Qi(i)}finally{te=n,le=r}}function Wl(e){const t=le,n=te;return Promise.resolve().then(()=>{le=t,te=n;let r;return Ct(e,!1),le=te=null,r?r.done:void 0})}const[wv,vv]=j(!1);function Qr(e,t){const n=Symbol("context");return{id:n,Provider:Jl(n),defaultValue:e}}function Xn(e){let t;return te&&te.context&&(t=te.context[e.id])!==void 0?t:e.defaultValue}function Yi(e){const t=se(e),n=se(()=>Si(t()));return n.toArray=()=>{const r=n();return Array.isArray(r)?r:r!=null?[r]:[]},n}function Ba(){if(this.sources&&this.state)if(this.state===Et)Jn(this);else{const e=$e;$e=null,Ct(()=>kr(this),!1),$e=e}if(le){const e=this.observers?this.observers.length:0;le.sources?(le.sources.push(this),le.sourceSlots.push(e)):(le.sources=[this],le.sourceSlots=[e]),this.observers?(this.observers.push(le),this.observerSlots.push(le.sources.length-1)):(this.observers=[le],this.observerSlots=[le.sources.length-1])}return this.value}function Va(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Ct(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],a=ci&&ci.running;a&&ci.disposed.has(s),(a?!s.tState:!s.state)&&(s.pure?$e.push(s):ut.push(s),s.observers&&za(s)),a||(s.state=Et)}if($e.length>1e6)throw $e=[],new Error},!1)),t}function Jn(e){if(!e.fn)return;Mn(e);const t=Wr;Ql(e,e.value,t)}function Ql(e,t,n){let r;const i=te,s=le;le=te=e;try{r=e.fn(t)}catch(a){return e.pure&&(e.state=Et,e.owned&&e.owned.forEach(Mn),e.owned=null),e.updatedAt=n+1,Qi(a)}finally{le=s,te=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Va(e,r):e.value=r,e.updatedAt=n)}function Wi(e,t,n,r=Et,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:te,context:te?te.context:null,pure:n};return te===null||te!==Fa&&(te.owned?te.owned.push(s):te.owned=[s]),s}function _r(e){if(e.state===0)return;if(e.state===xr)return kr(e);if(e.suspense&&Me(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Wr);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===Et)Jn(e);else if(e.state===xr){const r=$e;$e=null,Ct(()=>kr(e,t[0]),!1),$e=r}}function Ct(e,t){if($e)return e();let n=!1;t||($e=[]),ut?n=!0:ut=[],Wr++;try{const r=e();return Kl(n),r}catch(r){n||(ut=null),$e=null,Qi(r)}}function Kl(e){if($e&&(Ha($e),$e=null),e)return;const t=ut;ut=null,t.length&&Ct(()=>ja(t),!1)}function Ha(e){for(let t=0;t<e.length;t++)_r(e[t])}function Gl(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:_r(r)}for(t=0;t<n;t++)_r(e[t])}function kr(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===Et?r!==t&&(!r.updatedAt||r.updatedAt<Wr)&&_r(r):i===xr&&kr(r,t)}}}function za(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=xr,n.pure?$e.push(n):ut.push(n),n.observers&&za(n))}}function Mn(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),a=n.observerSlots.pop();r<i.length&&(s.sourceSlots[a]=r,i[r]=s,n.observerSlots[r]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Mn(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Mn(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Xl(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Qi(e,t=te){throw Xl(e)}function Si(e){if(typeof e=="function"&&!e.length)return Si(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const r=Si(e[n]);Array.isArray(r)?t.push.apply(t,r):t.push(r)}return t}return e}function Jl(e,t){return function(r){let i;return Q(()=>i=Me(()=>(te.context={...te.context,[e]:r.value},Yi(()=>r.children))),void 0),i}}const Zl=Symbol("fallback");function Ms(e){for(let t=0;t<e.length;t++)e[t]()}function ec(e,t,n={}){let r=[],i=[],s=[],a=0,o=t.length>1?[]:null;return Oe(()=>Ms(s)),()=>{let l=e()||[],c=l.length,f,u;return l[_i],Me(()=>{let p,_,b,C,T,m,v,y,k;if(c===0)a!==0&&(Ms(s),s=[],r=[],i=[],a=0,o&&(o=[])),n.fallback&&(r=[Zl],i[0]=tn(A=>(s[0]=A,n.fallback())),a=1);else if(a===0){for(i=new Array(c),u=0;u<c;u++)r[u]=l[u],i[u]=tn(d);a=c}else{for(b=new Array(c),C=new Array(c),o&&(T=new Array(c)),m=0,v=Math.min(a,c);m<v&&r[m]===l[m];m++);for(v=a-1,y=c-1;v>=m&&y>=m&&r[v]===l[y];v--,y--)b[y]=i[v],C[y]=s[v],o&&(T[y]=o[v]);for(p=new Map,_=new Array(y+1),u=y;u>=m;u--)k=l[u],f=p.get(k),_[u]=f===void 0?-1:f,p.set(k,u);for(f=m;f<=v;f++)k=r[f],u=p.get(k),u!==void 0&&u!==-1?(b[u]=i[f],C[u]=s[f],o&&(T[u]=o[f]),u=_[u],p.set(k,u)):s[f]();for(u=m;u<c;u++)u in b?(i[u]=b[u],s[u]=C[u],o&&(o[u]=T[u],o[u](u))):i[u]=tn(d);i=i.slice(0,a=c),r=l.slice(0)}return i});function d(p){if(s[u]=p,o){const[_,b]=j(u);return o[u]=b,t(l[u],_)}return t(l[u])}}}function E(e,t){return Me(()=>e(t||{}))}function nr(){return!0}const $i={get(e,t,n){return t===Qe?n:e.get(t)},has(e,t){return t===Qe?!0:e.has(t)},set:nr,deleteProperty:nr,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:nr,deleteProperty:nr}},ownKeys(e){return e.keys()}};function ui(e){return(e=typeof e=="function"?e():e)?e:{}}function tc(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function X(...e){let t=!1;for(let a=0;a<e.length;a++){const o=e[a];t=t||!!o&&Qe in o,e[a]=typeof o=="function"?(t=!0,se(o)):o}if(Da&&t)return new Proxy({get(a){for(let o=e.length-1;o>=0;o--){const l=ui(e[o])[a];if(l!==void 0)return l}},has(a){for(let o=e.length-1;o>=0;o--)if(a in ui(e[o]))return!0;return!1},keys(){const a=[];for(let o=0;o<e.length;o++)a.push(...Object.keys(ui(e[o])));return[...new Set(a)]}},$i);const n={},r=Object.create(null);for(let a=e.length-1;a>=0;a--){const o=e[a];if(!o)continue;const l=Object.getOwnPropertyNames(o);for(let c=l.length-1;c>=0;c--){const f=l[c];if(f==="__proto__"||f==="constructor")continue;const u=Object.getOwnPropertyDescriptor(o,f);if(!r[f])r[f]=u.get?{enumerable:!0,configurable:!0,get:tc.bind(n[f]=[u.get.bind(o)])}:u.value!==void 0?u:void 0;else{const d=n[f];d&&(u.get?d.push(u.get.bind(o)):u.value!==void 0&&d.push(()=>u.value))}}}const i={},s=Object.keys(r);for(let a=s.length-1;a>=0;a--){const o=s[a],l=r[o];l&&l.get?Object.defineProperty(i,o,l):i[o]=l?l.value:void 0}return i}function Ya(e,...t){if(Da&&Qe in e){const i=new Set(t.length>1?t.flat():t[0]),s=t.map(a=>new Proxy({get(o){return a.includes(o)?e[o]:void 0},has(o){return a.includes(o)&&o in e},keys(){return a.filter(o=>o in e)}},$i));return s.push(new Proxy({get(a){return i.has(a)?void 0:e[a]},has(a){return i.has(a)?!1:a in e},keys(){return Object.keys(e).filter(a=>!i.has(a))}},$i)),s}const n={},r=t.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,i),a=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let o=!1,l=0;for(const c of t)c.includes(i)&&(o=!0,a?r[l][i]=s.value:Object.defineProperty(r[l],i,s)),++l;o||(a?n[i]=s.value:Object.defineProperty(n,i,s))}return[...r,n]}let nc=0;function Wa(){return`cl-${nc++}`}const rc=e=>`Stale read from <${e}>.`;function kt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return se(ec(()=>e.each,e.children,t||void 0))}function me(e){const t=e.keyed,n=se(()=>e.when,void 0,void 0),r=t?n:se(n,void 0,{equals:(i,s)=>!i==!s});return se(()=>{const i=r();if(i){const s=e.children;return typeof s=="function"&&s.length>0?Me(()=>s(t?i:()=>{if(!Me(r))throw rc("Show");return n()})):s}return e.fallback},void 0,void 0)}const ic=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],sc=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...ic]),ac=new Set(["innerHTML","textContent","innerText","children"]),oc=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),lc=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function cc(e,t){const n=lc[e];return typeof n=="object"?n[t]?n.$:void 0:n}const uc=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),fc={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},ft=e=>se(()=>e());function dc(e,t,n){let r=n.length,i=t.length,s=r,a=0,o=0,l=t[i-1].nextSibling,c=null;for(;a<i||o<s;){if(t[a]===n[o]){a++,o++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===a){const f=s<r?o?n[o-1].nextSibling:n[s-o]:l;for(;o<s;)e.insertBefore(n[o++],f)}else if(s===o)for(;a<i;)(!c||!c.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[s-1]&&n[o]===t[i-1]){const f=t[--i].nextSibling;e.insertBefore(n[o++],t[a++].nextSibling),e.insertBefore(n[--s],f),t[i]=n[s]}else{if(!c){c=new Map;let u=o;for(;u<s;)c.set(n[u],u++)}const f=c.get(t[a]);if(f!=null)if(o<f&&f<s){let u=a,d=1,p;for(;++u<i&&u<s&&!((p=c.get(t[u]))==null||p!==f+d);)d++;if(d>f-o){const _=t[a];for(;o<f;)e.insertBefore(n[o++],_)}else e.replaceChild(n[o++],t[a++])}else a++;else t[a++].remove()}}}const Os="_$DX_DELEGATE";function hc(e,t,n,r={}){let i;return tn(s=>{i=s,t===document?e():P(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function M(e,t,n,r){let i;const s=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},a=()=>(i||(i=s())).cloneNode(!0);return a.cloneNode=a,a}function Pe(e,t=window.document){const n=t[Os]||(t[Os]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];n.has(s)||(n.add(s),t.addEventListener(s,yc))}}function Se(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function gc(e,t,n,r){r==null?e.removeAttributeNS(t,n):e.setAttributeNS(t,n,r)}function pc(e,t,n){n?e.setAttribute(t,""):e.removeAttribute(t)}function _e(e,t){t==null?e.removeAttribute("class"):e.className=t}function Ze(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=s=>i.call(e,n[1],s))}else e.addEventListener(t,n,typeof n!="function"&&n)}function mc(e,t,n={}){const r=Object.keys(t||{}),i=Object.keys(n);let s,a;for(s=0,a=i.length;s<a;s++){const o=i[s];!o||o==="undefined"||t[o]||(Is(e,o,!1),delete n[o])}for(s=0,a=r.length;s<a;s++){const o=r[s],l=!!t[o];!o||o==="undefined"||n[o]===l||!l||(Is(e,o,!0),n[o]=l)}return n}function Kr(e,t,n){if(!t)return n?Se(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,s;for(s in n)t[s]==null&&r.removeProperty(s),delete n[s];for(s in t)i=t[s],i!==n[s]&&(r.setProperty(s,i),n[s]=i);return n}function En(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function Ae(e,t={},n,r){const i={};return r||Q(()=>i.children=In(e,t.children,i.children)),Q(()=>typeof t.ref=="function"&&On(t.ref,e)),Q(()=>wc(e,t,n,!0,i,!0)),i}function On(e,t,n){return Me(()=>e(t,n))}function P(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return In(e,t,r,n);Q(i=>In(e,t(),i,n),r)}function wc(e,t,n,r,i={},s=!1){t||(t={});for(const a in i)if(!(a in t)){if(a==="children")continue;i[a]=Ls(e,a,null,i[a],n,s,t)}for(const a in t){if(a==="children")continue;const o=t[a];i[a]=Ls(e,a,o,i[a],n,s,t)}}function vc(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Is(e,t,n){const r=t.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],n)}function Ls(e,t,n,r,i,s,a){let o,l,c,f,u;if(t==="style")return Kr(e,n,r);if(t==="classList")return mc(e,n,r);if(n===r)return r;if(t==="ref")s||n(e);else if(t.slice(0,3)==="on:"){const d=t.slice(3);r&&e.removeEventListener(d,r,typeof r!="function"&&r),n&&e.addEventListener(d,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const d=t.slice(10);r&&e.removeEventListener(d,r,!0),n&&e.addEventListener(d,n,!0)}else if(t.slice(0,2)==="on"){const d=t.slice(2).toLowerCase(),p=uc.has(d);if(!p&&r){const _=Array.isArray(r)?r[0]:r;e.removeEventListener(d,_)}(p||n)&&(Ze(e,d,n,p),p&&Pe([d]))}else if(t.slice(0,5)==="attr:")Se(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")pc(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(c=ac.has(t))||!i&&((f=cc(t,e.tagName))||(l=sc.has(t)))||(o=e.nodeName.includes("-")||"is"in a))u&&(t=t.slice(5),l=!0),t==="class"||t==="className"?_e(e,n):o&&!l&&!c?e[vc(t)]=n:e[f||t]=n;else{const d=i&&t.indexOf(":")>-1&&fc[t.split(":")[0]];d?gc(e,d,t,n):Se(e,oc[t]||t,n)}return n}function yc(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,s=l=>Object.defineProperty(e,"target",{configurable:!0,value:l}),a=()=>{const l=t[n];if(l&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?l.call(t,c,e):l.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},o=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const l=e.composedPath();s(l[0]);for(let c=0;c<l.length-2&&(t=l[c],!!a());c++){if(t._$host){t=t._$host,o();break}if(t.parentNode===i)break}}else o();s(r)}function In(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,a=r!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===n))return n;if(a){let o=n[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),n=Wt(e,n,r,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean")n=Wt(e,n,r);else{if(s==="function")return Q(()=>{let o=t();for(;typeof o=="function";)o=o();n=In(e,o,n,r)}),()=>n;if(Array.isArray(t)){const o=[],l=n&&Array.isArray(n);if(Ei(o,t,n,i))return Q(()=>n=In(e,o,n,r,!0)),()=>n;if(o.length===0){if(n=Wt(e,n,r),a)return n}else l?n.length===0?qs(e,o,r):dc(e,n,o):(n&&Wt(e),qs(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(a)return n=Wt(e,n,r,t);Wt(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ei(e,t,n,r){let i=!1;for(let s=0,a=t.length;s<a;s++){let o=t[s],l=n&&n[e.length],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=Ei(e,o,l)||i;else if(c==="function")if(r){for(;typeof o=="function";)o=o();i=Ei(e,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||i}else e.push(o),i=!0;else{const f=String(o);l&&l.nodeType===3&&l.data===f?e.push(l):e.push(document.createTextNode(f))}}return i}function qs(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function Wt(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let s=!1;for(let a=t.length-1;a>=0;a--){const o=t[a];if(i!==o){const l=o.parentNode===e;!s&&!a?l?e.replaceChild(i,o):e.insertBefore(i,n):l&&o.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}const Qa=!1,bc="http://www.w3.org/2000/svg";function xc(e,t=!1,n=void 0){return t?document.createElementNS(bc,e):document.createElement(e,{is:n})}function _c(e){const{useShadow:t}=e,n=document.createTextNode(""),r=()=>e.mount||document.body,i=Hi();let s;return we(()=>{s||(s=zi(i,()=>se(()=>e.children)));const a=r();if(a instanceof HTMLHeadElement){const[o,l]=j(!1),c=()=>l(!0);tn(f=>P(a,()=>o()?f():s(),null)),Oe(c)}else{const o=xc(e.isSVG?"g":"div",e.isSVG),l=t&&o.attachShadow?o.attachShadow({mode:"open"}):o;Object.defineProperty(o,"_$host",{get(){return n.parentNode},configurable:!0}),P(l,s),a.appendChild(o),e.ref&&e.ref(o),Oe(()=>a.removeChild(o))}},void 0,{render:!0}),n}function Ka(){let e=new Set;function t(i){return e.add(i),()=>e.delete(i)}let n=!1;function r(i,s){if(n)return!(n=!1);const a={to:i,options:s,defaultPrevented:!1,preventDefault:()=>a.defaultPrevented=!0};for(const o of e)o.listener({...a,from:o.location,retry:l=>{l&&(n=!0),o.navigate(i,{...s,resolve:!1})}});return!a.defaultPrevented}return{subscribe:t,confirm:r}}let Ci;function Ki(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Ci=window.history.state._depth}Ki();function kc(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function Sc(e,t){let n=!1;return()=>{const r=Ci;Ki();const i=r==null?null:Ci-r;if(n){n=!1;return}i&&t(i)?(n=!0,window.history.go(-i)):e()}}const $c=/^(?:[a-z0-9]+:)?\/\//i,Ec=/^\/+|(\/)\/+$/g,Ga="http://sr";function qt(e,t=!1){const n=e.replace(Ec,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function dr(e,t,n){if($c.test(t))return;const r=qt(e),i=n&&qt(n);let s="";return!i||t.startsWith("/")?s=r:i.toLowerCase().indexOf(r.toLowerCase())!==0?s=r+i:s=i,(s||"/")+qt(t,!s)}function Cc(e,t){if(e==null)throw new Error(t);return e}function Ac(e,t){return qt(e).replace(/\/*(\*.*)?$/g,"")+qt(t)}function Xa(e){const t={};return e.searchParams.forEach((n,r)=>{r in t?Array.isArray(t[r])?t[r].push(n):t[r]=[t[r],n]:t[r]=n}),t}function Pc(e,t,n){const[r,i]=e.split("/*",2),s=r.split("/").filter(Boolean),a=s.length;return o=>{const l=o.split("/").filter(Boolean),c=l.length-a;if(c<0||c>0&&i===void 0&&!t)return null;const f={path:a?"":"/",params:{}},u=d=>n===void 0?void 0:n[d];for(let d=0;d<a;d++){const p=s[d],_=p[0]===":",b=_?l[d]:l[d].toLowerCase(),C=_?p.slice(1):p.toLowerCase();if(_&&fi(b,u(C)))f.params[C]=b;else if(_||!fi(b,C))return null;f.path+=`/${b}`}if(i){const d=c?l.slice(-c).join("/"):"";if(fi(d,u(i)))f.params[i]=d;else return null}return f}}function fi(e,t){const n=r=>r===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function Rc(e){const[t,n]=e.pattern.split("/*",2),r=t.split("/").filter(Boolean);return r.reduce((i,s)=>i+(s.startsWith(":")?2:3),r.length-(n===void 0?0:1))}function Ja(e){const t=new Map,n=Hi();return new Proxy({},{get(r,i){return t.has(i)||zi(n,()=>t.set(i,se(()=>e()[i]))),t.get(i)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())}})}function Nc(e,t){const n=new URLSearchParams(e);Object.entries(t).forEach(([i,s])=>{s==null||s===""||s instanceof Array&&!s.length?n.delete(i):s instanceof Array?(n.delete(i),s.forEach(a=>{n.append(i,String(a))})):n.set(i,String(s))});const r=n.toString();return r?`?${r}`:""}function Za(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),r=e.slice(t.index+t[0].length);const i=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(r);)i.push(n+=t[1]),r=r.slice(t[0].length);return Za(r).reduce((s,a)=>[...s,...i.map(o=>o+a)],[])}const Tc=100,eo=Qr(),Gi=Qr(),Zn=()=>Cc(Xn(eo),"<A> and 'use' router primitives can be only used inside a Route."),Mc=()=>Xn(Gi)||Zn().base,Oc=e=>{const t=Mc();return se(()=>t.resolvePath(e()))},Ic=e=>{const t=Zn();return se(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},ht=()=>Zn().navigatorFactory(),Xi=()=>Zn().location,Gr=()=>Zn().params,Lc=()=>{const e=Xi(),t=ht(),n=(r,i)=>{const s=Me(()=>Nc(e.search,r)+e.hash);t(s,{scroll:!1,resolve:!1,...i})};return[e.query,n]};function qc(e,t=""){const{component:n,preload:r,load:i,children:s,info:a}=e,o=!s||Array.isArray(s)&&!s.length,l={key:e,component:n,preload:r||i,info:a};return to(e.path).reduce((c,f)=>{for(const u of Za(f)){const d=Ac(t,u);let p=o?d:d.split("/*",1)[0];p=p.split("/").map(_=>_.startsWith(":")||_.startsWith("*")?_:encodeURIComponent(_)).join("/"),c.push({...l,originalPath:f,pattern:p,matcher:Pc(p,!o,e.matchFilters)})}return c},[])}function Dc(e,t=0){return{routes:e,score:Rc(e[e.length-1])*1e4-t,matcher(n){const r=[];for(let i=e.length-1;i>=0;i--){const s=e[i],a=s.matcher(n);if(!a)return null;r.unshift({...a,route:s})}return r}}}function to(e){return Array.isArray(e)?e:[e]}function no(e,t="",n=[],r=[]){const i=to(e);for(let s=0,a=i.length;s<a;s++){const o=i[s];if(o&&typeof o=="object"){o.hasOwnProperty("path")||(o.path="");const l=qc(o,t);for(const c of l){n.push(c);const f=Array.isArray(o.children)&&o.children.length===0;if(o.children&&!f)no(o.children,c.pattern,n,r);else{const u=Dc([...n],r.length);r.push(u)}n.pop()}}}return n.length?r:r.sort((s,a)=>a.score-s.score)}function di(e,t){for(let n=0,r=e.length;n<r;n++){const i=e[n].matcher(t);if(i)return i}return[]}function jc(e,t,n){const r=new URL(Ga),i=se(f=>{const u=e();try{return new URL(u,r)}catch{return console.error(`Invalid path ${u}`),f}},r,{equals:(f,u)=>f.href===u.href}),s=se(()=>i().pathname),a=se(()=>i().search,!0),o=se(()=>i().hash),l=()=>"",c=Vi(a,()=>Xa(i()));return{get pathname(){return s()},get search(){return a()},get hash(){return o()},get state(){return t()},get key(){return l()},query:n?n(c):Ja(c)}}let At;function Fc(){return At}function Uc(e,t,n,r={}){const{signal:[i,s],utils:a={}}=e,o=a.parsePath||(I=>I),l=a.renderPath||(I=>I),c=a.beforeLeave||Ka(),f=dr("",r.base||"");if(f===void 0)throw new Error(`${f} is not a valid base path`);f&&!i().value&&s({value:f,replace:!0,scroll:!1});const[u,d]=j(!1);let p;const _=(I,F)=>{F.value===b()&&F.state===T()||(p===void 0&&d(!0),At=I,p=F,Wl(()=>{p===F&&(C(p.value),m(p.state),k[1](U=>U.filter(D=>D.pending)))}).finally(()=>{p===F&&Ua(()=>{At=void 0,I==="navigate"&&S(p),d(!1),p=void 0})}))},[b,C]=j(i().value),[T,m]=j(i().state),v=jc(b,T,a.queryWrapper),y=[],k=j([]),A=se(()=>typeof r.transformUrl=="function"?di(t(),r.transformUrl(v.pathname)):di(t(),v.pathname)),$=()=>{const I=A(),F={};for(let U=0;U<I.length;U++)Object.assign(F,I[U].params);return F},h=a.paramsWrapper?a.paramsWrapper($,t):Ja($),g={pattern:f,path:()=>f,outlet:()=>null,resolvePath(I){return dr(f,I)}};return Q(Vi(i,I=>_("native",I),{defer:!0})),{base:g,location:v,params:h,isRouting:u,renderPath:l,parsePath:o,navigatorFactory:x,matches:A,beforeLeave:c,preloadRoute:R,singleFlight:r.singleFlight===void 0?!0:r.singleFlight,submissions:k};function w(I,F,U){Me(()=>{if(typeof F=="number"){F&&(a.go?a.go(F):console.warn("Router integration does not support relative routing"));return}const D=!F||F[0]==="?",{replace:Y,resolve:L,scroll:ue,state:B}={replace:!1,resolve:!D,scroll:!0,...U},H=L?I.resolvePath(F):dr(D&&v.pathname||"",F);if(H===void 0)throw new Error(`Path '${F}' is not a routable path`);if(y.length>=Tc)throw new Error("Too many redirects");const O=b();(H!==O||B!==T())&&(Qa||c.confirm(H,U)&&(y.push({value:O,replace:Y,scroll:ue,state:T()}),_("navigate",{value:H,state:B})))})}function x(I){return I=I||Xn(Gi)||g,(F,U)=>w(I,F,U)}function S(I){const F=y[0];F&&(s({...I,replace:F.replace,scroll:F.scroll}),y.length=0)}function R(I,F){const U=di(t(),I.pathname),D=At;At="preload";for(let Y in U){const{route:L,params:ue}=U[Y];L.component&&L.component.preload&&L.component.preload();const{preload:B}=L;F&&B&&zi(n(),()=>B({params:ue,location:{pathname:I.pathname,search:I.search,hash:I.hash,query:Xa(I),state:null,key:""},intent:"preload"}))}At=D}}function Bc(e,t,n,r){const{base:i,location:s,params:a}=e,{pattern:o,component:l,preload:c}=r().route,f=se(()=>r().path);l&&l.preload&&l.preload();const u=c?c({params:a,location:s,intent:At||"initial"}):void 0;return{parent:t,pattern:o,path:f,outlet:()=>l?E(l,{params:a,location:s,data:u,get children(){return n()}}):n(),resolvePath(p){return dr(i.path(),p,f())}}}const Vc=e=>t=>{const{base:n}=t,r=Yi(()=>t.children),i=se(()=>no(r(),t.base||""));let s;const a=Uc(e,i,()=>s,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(a),E(eo.Provider,{value:a,get children(){return E(Hc,{routerState:a,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[ft(()=>(s=Hi())&&null),E(zc,{routerState:a,get branches(){return i()}})]}})}})};function Hc(e){const t=e.routerState.location,n=e.routerState.params,r=se(()=>e.preload&&Me(()=>{e.preload({params:n,location:t,intent:Fc()||"initial"})}));return E(me,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:i=>E(i,{params:n,location:t,get data(){return r()},get children(){return e.children}})})}function zc(e){const t=[];let n;const r=se(Vi(e.routerState.matches,(i,s,a)=>{let o=s&&i.length===s.length;const l=[];for(let c=0,f=i.length;c<f;c++){const u=s&&s[c],d=i[c];a&&u&&d.route.key===u.route.key?l[c]=a[c]:(o=!1,t[c]&&t[c](),tn(p=>{t[c]=p,l[c]=Bc(e.routerState,l[c-1]||e.routerState.base,Ds(()=>r()[c+1]),()=>e.routerState.matches()[c])}))}return t.splice(i.length).forEach(c=>c()),a&&o?a:(n=l[0],l)}));return Ds(()=>r()&&n)()}const Ds=e=>()=>E(me,{get when(){return e()},keyed:!0,children:t=>E(Gi.Provider,{value:t,get children(){return t.outlet()}})}),qe=e=>{const t=Yi(()=>e.children);return X(e,{get children(){return t()}})};function Yc([e,t],n,r){return[e,r?i=>t(r(i)):t]}function Wc(e){let t=!1;const n=i=>typeof i=="string"?{value:i}:i,r=Yc(j(n(e.get()),{equals:(i,s)=>i.value===s.value&&i.state===s.state}),void 0,i=>(!t&&e.set(i),i));return e.init&&Oe(e.init((i=e.get())=>{t=!0,r[1](n(i)),t=!1})),Vc({signal:r,create:e.create,utils:e.utils})}function Qc(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Kc(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const Gc=new Map;function Xc(e=!0,t=!1,n="/_server",r){return i=>{const s=i.base.path(),a=i.navigatorFactory(i.base);let o,l;function c(b){return b.namespaceURI==="http://www.w3.org/2000/svg"}function f(b){if(b.defaultPrevented||b.button!==0||b.metaKey||b.altKey||b.ctrlKey||b.shiftKey)return;const C=b.composedPath().find(A=>A instanceof Node&&A.nodeName.toUpperCase()==="A");if(!C||t&&!C.hasAttribute("link"))return;const T=c(C),m=T?C.href.baseVal:C.href;if((T?C.target.baseVal:C.target)||!m&&!C.hasAttribute("state"))return;const y=(C.getAttribute("rel")||"").split(/\s+/);if(C.hasAttribute("download")||y&&y.includes("external"))return;const k=T?new URL(m,document.baseURI):new URL(m);if(!(k.origin!==window.location.origin||s&&k.pathname&&!k.pathname.toLowerCase().startsWith(s.toLowerCase())))return[C,k]}function u(b){const C=f(b);if(!C)return;const[T,m]=C,v=i.parsePath(m.pathname+m.search+m.hash),y=T.getAttribute("state");b.preventDefault(),a(v,{resolve:!1,replace:T.hasAttribute("replace"),scroll:!T.hasAttribute("noscroll"),state:y?JSON.parse(y):void 0})}function d(b){const C=f(b);if(!C)return;const[T,m]=C;r&&(m.pathname=r(m.pathname)),i.preloadRoute(m,T.getAttribute("preload")!=="false")}function p(b){clearTimeout(o);const C=f(b);if(!C)return l=null;const[T,m]=C;l!==T&&(r&&(m.pathname=r(m.pathname)),o=setTimeout(()=>{i.preloadRoute(m,T.getAttribute("preload")!=="false"),l=T},20))}function _(b){if(b.defaultPrevented)return;let C=b.submitter&&b.submitter.hasAttribute("formaction")?b.submitter.getAttribute("formaction"):b.target.getAttribute("action");if(!C)return;if(!C.startsWith("https://action/")){const m=new URL(C,Ga);if(C=i.parsePath(m.pathname+m.search),!C.startsWith(n))return}if(b.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const T=Gc.get(C);if(T){b.preventDefault();const m=new FormData(b.target,b.submitter);T.call({r:i,f:b.target},b.target.enctype==="multipart/form-data"?m:new URLSearchParams(m))}}Pe(["click","submit"]),document.addEventListener("click",u),e&&(document.addEventListener("mousemove",p,{passive:!0}),document.addEventListener("focusin",d,{passive:!0}),document.addEventListener("touchstart",d,{passive:!0})),document.addEventListener("submit",_),Oe(()=>{document.removeEventListener("click",u),e&&(document.removeEventListener("mousemove",p),document.removeEventListener("focusin",d),document.removeEventListener("touchstart",d)),document.removeEventListener("submit",_)})}}function Jc(e){const t=()=>{const r=window.location.pathname.replace(/^\/+/,"/")+window.location.search,i=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:r+window.location.hash,state:i}},n=Ka();return Wc({get:t,set({value:r,replace:i,scroll:s,state:a}){i?window.history.replaceState(kc(a),"",r):window.history.pushState(a,"",r),Kc(decodeURIComponent(window.location.hash.slice(1)),s),Ki()},init:r=>Qc(window,"popstate",Sc(r,i=>{if(i&&i<0)return!n.confirm(i);{const s=t();return!n.confirm(s.value,{state:s.state})}})),create:Xc(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:r=>window.history.go(r),beforeLeave:n}})(e)}var Zc=M("<a>");function Jt(e){e=X({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=Ya(e,["href","state","class","activeClass","inactiveClass","end"]),n=Oc(()=>e.href),r=Ic(n),i=Xi(),s=se(()=>{const a=n();if(a===void 0)return[!1,!1];const o=qt(a.split(/[?#]/,1)[0]).toLowerCase(),l=decodeURI(qt(i.pathname).toLowerCase());return[e.end?o===l:l.startsWith(o+"/")||l===o,o===l]});return(()=>{var a=Zc();return Ae(a,X(t,{get href(){return r()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!s()[0],[e.activeClass]:s()[0],...t.classList}},link:"",get"aria-current"(){return s()[1]?"page":void 0}}),!1,!1),a})()}const Ai=Symbol("store-raw"),nn=Symbol("store-node"),lt=Symbol("store-has"),ro=Symbol("store-self");function io(e){let t=e[Qe];if(!t&&(Object.defineProperty(e,Qe,{value:t=new Proxy(e,nu)}),!Array.isArray(e))){const n=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,s=n.length;i<s;i++){const a=n[i];r[a].get&&Object.defineProperty(e,a,{enumerable:r[a].enumerable,get:r[a].get.bind(t)})}}return t}function Sr(e){let t;return e!=null&&typeof e=="object"&&(e[Qe]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function Ln(e,t=new Set){let n,r,i,s;if(n=e!=null&&e[Ai])return n;if(!Sr(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,o=e.length;a<o;a++)i=e[a],(r=Ln(i,t))!==i&&(e[a]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let l=0,c=a.length;l<c;l++)s=a[l],!o[s].get&&(i=e[s],(r=Ln(i,t))!==i&&(e[s]=r))}return e}function $r(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function qn(e,t,n){if(e[t])return e[t];const[r,i]=j(n,{equals:!1,internal:!0});return r.$=i,e[t]=r}function eu(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===Qe||t===nn||(delete n.value,delete n.writable,n.get=()=>e[Qe][t]),n}function so(e){ki()&&qn($r(e,nn),ro)()}function tu(e){return so(e),Reflect.ownKeys(e)}const nu={get(e,t,n){if(t===Ai)return e;if(t===Qe)return n;if(t===_i)return so(e),n;const r=$r(e,nn),i=r[t];let s=i?i():e[t];if(t===nn||t===lt||t==="__proto__")return s;if(!i){const a=Object.getOwnPropertyDescriptor(e,t);ki()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(s=qn(r,t,s)())}return Sr(s)?io(s):s},has(e,t){return t===Ai||t===Qe||t===_i||t===nn||t===lt||t==="__proto__"?!0:(ki()&&qn($r(e,lt),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:tu,getOwnPropertyDescriptor:eu};function Er(e,t,n,r=!1){if(!r&&e[t]===n)return;const i=e[t],s=e.length;n===void 0?(delete e[t],e[lt]&&e[lt][t]&&i!==void 0&&e[lt][t].$()):(e[t]=n,e[lt]&&e[lt][t]&&i===void 0&&e[lt][t].$());let a=$r(e,nn),o;if((o=qn(a,t,i))&&o.$(()=>n),Array.isArray(e)&&e.length!==s){for(let l=e.length;l<s;l++)(o=a[l])&&o.$();(o=qn(a,"length",s))&&o.$(e.length)}(o=a[ro])&&o.$()}function ao(e,t){const n=Object.keys(t);for(let r=0;r<n.length;r+=1){const i=n[r];Er(e,i,t[i])}}function ru(e,t){if(typeof t=="function"&&(t=t(e)),t=Ln(t),Array.isArray(t)){if(e===t)return;let n=0,r=t.length;for(;n<r;n++){const i=t[n];e[n]!==i&&Er(e,n,i)}Er(e,"length",r)}else ao(e,t)}function vn(e,t,n=[]){let r,i=e;if(t.length>1){r=t.shift();const a=typeof r,o=Array.isArray(e);if(Array.isArray(r)){for(let l=0;l<r.length;l++)vn(e,[r[l]].concat(t),n);return}else if(o&&a==="function"){for(let l=0;l<e.length;l++)r(e[l],l)&&vn(e,[l].concat(t),n);return}else if(o&&a==="object"){const{from:l=0,to:c=e.length-1,by:f=1}=r;for(let u=l;u<=c;u+=f)vn(e,[u].concat(t),n);return}else if(t.length>1){vn(e[r],t,[r].concat(n));return}i=e[r],n=[r].concat(n)}let s=t[0];typeof s=="function"&&(s=s(i,n),s===i)||r===void 0&&s==null||(s=Ln(s),r===void 0||Sr(i)&&Sr(s)&&!Array.isArray(s)?ao(i,s):Er(e,r,s))}function iu(...[e,t]){const n=Ln(e||{}),r=Array.isArray(n),i=io(n);function s(...a){Ua(()=>{r&&a.length===1?ru(n,a[0]):vn(n,a)})}return[i,s]}var su=M('<svg class="w-5 h-5 mr-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6">'),au=M('<svg class="w-5 h-5 mr-2"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10">'),ou=M('<main class="min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50"><div class="flex flex-col items-center justify-center min-h-screen px-4"><div class="max-w-4xl w-full text-center"><div class=mb-8><div class="mx-auto w-20 h-20 bg-gradient-to-r from-blue-600 to-indigo-600 rounded-2xl flex items-center justify-center shadow-lg"><svg class="w-10 h-10 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div><h1 class="text-6xl md:text-7xl font-bold mb-6 bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent">CoRATES</h1><p class="text-xl md:text-2xl text-gray-600 mb-4 font-medium">Collaborative Research Appraisal Tool for Evidence Synthesis</p><p class="text-lg text-gray-500 mb-12 max-w-2xl mx-auto leading-relaxed">Streamline your systematic review process with our interactive AMSTAR 2 checklist tool. Create, score, and visualize research appraisals with confidence.</p><div class="flex flex-col sm:flex-row gap-4 justify-center mb-16"></div></div></div><div class="py-20 px-4 bg-white/50 backdrop-blur-sm"><div class="max-w-6xl mx-auto"><h2 class="text-3xl md:text-4xl font-bold text-center mb-16 text-gray-800">Why Choose CoRATES?</h2><div class="grid md:grid-cols-3 gap-8"><div class="text-center p-8 rounded-2xl bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100"><div class="w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-6"><svg class="w-8 h-8 text-blue-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707"></path></svg></div><h3 class="text-xl font-semibold mb-4 text-gray-800">Works Offline</h3><p class="text-gray-600 leading-relaxed">Complete your assessments anywhere, anytime. No internet connection required once loaded.</p></div><div class="text-center p-8 rounded-2xl bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100"><div class="w-16 h-16 bg-green-100 rounded-xl flex items-center justify-center mx-auto mb-6"><svg class="w-8 h-8 text-green-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h3 class="text-xl font-semibold mb-4 text-gray-800">Auto-Save</h3><p class="text-gray-600 leading-relaxed">Never lose your progress. Your work is automatically saved as you go.</p></div><div class="text-center p-8 rounded-2xl bg-white shadow-lg hover:shadow-xl transition-shadow duration-300 border border-gray-100"><div class="w-16 h-16 bg-purple-100 rounded-xl flex items-center justify-center mx-auto mb-6"><svg class="w-8 h-8 text-purple-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div><h3 class="text-xl font-semibold mb-4 text-gray-800">Visual Results</h3><p class="text-gray-600 leading-relaxed">Generate clear, professional charts and summaries of your AMSTAR 2 assessments.</p></div></div></div></div><div class="py-20 px-4"><div class="max-w-4xl mx-auto text-center"><h2 class="text-3xl md:text-4xl font-bold mb-8 text-gray-800">About AMSTAR 2</h2><p class="text-lg text-gray-600 leading-relaxed mb-8">AMSTAR 2 (A MeaSurement Tool to Assess systematic Reviews) is a critical appraisal tool for systematic reviews that include randomized or non-randomized studies of healthcare interventions.</p><div class="bg-blue-50 rounded-2xl p-8 border border-blue-100"><p class="text-blue-800 font-medium">Our tool makes it easy to apply the 16 AMSTAR 2 criteria to evaluate the methodological quality of systematic reviews, helping researchers make informed decisions about evidence quality.</p></div></div></div><footer class="py-12 px-4 bg-gray-50 border-t border-gray-200"><div class="max-w-4xl mx-auto text-center"><div class="flex flex-col sm:flex-row items-center justify-center gap-6 text-sm text-gray-500"><a href=https://github.com/InfinityBowman/amstar2-checklist-scoring-app target=_blank rel=noopener class="flex items-center gap-2 hover:text-blue-600 transition-colors duration-200"><svg class="w-4 h-4"fill=currentColor viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg>View on GitHub</a><span class=text-gray-300>•</span><span>Built for researchers, by researchers</span><span class=text-gray-300>•</span><span>Free & Open Source');function lu(){return(()=>{var e=ou(),t=e.firstChild,n=t.firstChild,r=n.firstChild,i=r.nextSibling,s=i.nextSibling,a=s.nextSibling,o=a.nextSibling;return P(o,E(Jt,{href:"/checklist/new",class:"inline-flex items-center px-8 py-4 bg-gradient-to-r from-blue-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-blue-700 hover:to-indigo-700 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",get children(){return[su(),"Start New Checklist"]}}),null),P(o,E(Jt,{href:"/dashboard",class:"inline-flex items-center px-8 py-4 bg-white text-gray-700 font-semibold rounded-xl border-2 border-gray-200 hover:border-blue-300 hover:text-blue-600 transform hover:scale-105 transition-all duration-200 shadow-lg hover:shadow-xl",get children(){return[au(),"View Saved Work"]}}),null),e})()}const Ee={q1:{text:"1. Did the research questions and inclusion criteria for the review include the components of PICO?",columns:[{label:"For Yes:",options:["Population","Intervention","Comparator group","Outcome"]},{label:"Optional (recommended):",options:["Timeframe for follow-up"]},{label:"",options:["Yes","No"]}]},q2:{text:"2. Did the report of the review contain an explicit statement that the review methods were established prior to the conduct of the review and did the report justify any significant deviations from the protocol?",columns:[{label:"For Partial Yes:",description:"The authors state that they had a written protocol or guide that included ALL the following:",options:["review question(s)","a search strategy","inclusion/exclusion criteria","risk of bias assessment"]},{label:"For Yes:",description:"As for Partial Yes, plus the protocol should be registered and should also have specified:",options:["a meta-analysis/synthesis plan, if appropriate, and","a plan for investigating causes of heterogeneity","a plan for investigating causes of heterogeneity"]},{label:"",description:"",options:["Yes","Partial Yes","No"]}]},q3:{text:"3. Did the review authors explain their selection of the study designs for inclusion in the review?",columns:[{label:"For Yes, the review should satisfy ONE of the following:",options:["Explanation for including only RCTs ","OR Explanation for including only NRSI","OR Explanation for including both RCTs and NRSI"]},{label:"",options:["Yes","No"]}]},q4:{text:"4. Did the review authors use a comprehensive literature search strategy? ",columns:[{label:"For Partial Yes (all the following):",options:["searched at least 2 databases (relevant to research question)","provided key word and/or search strategy","justified publication restrictions (e.g. language)"]},{label:"For Yes, should also have (all the following):",options:["searched the reference lists / bibliographies of included studies","searched trial/study registries","included/consulted content experts in the field","where relevant, searched for grey literature","conducted search within 24 months of completion of the review"]},{label:"",options:["Yes","Partial Yes","No"]}]},q5:{text:"5. Did the review authors perform study selection in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q6:{text:"6. Did the review authors perform data extraction in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q7:{text:"7. Did the review authors provide a list of excluded studies and justify the exclusions?",columns:[{label:"For Partial Yes:",options:["provided a list of all potentially relevant studies that were read in full-text form but excluded from the review"]},{label:"For Yes, must also have:",options:["Justified the exclusion from the review of each potentially relevant study"]},{label:"",options:["Yes","Partial Yes","No"]}]},q8:{text:"8. Did the review authors describe the included studies in adequate detail?",columns:[{label:"For Partial Yes (ALL the following):",options:["described populations","described interventions","described comparators","described outcomes","described research designs"]},{label:"For Yes, should also have ALL the following:",options:["described population in detail","described comparator in detail (including doses where relevant)","described study’s setting in detail","timeframe for follow-up"]},{label:"",options:["Yes","Partial Yes","No"]}]},q9:{text:"9. Did the review authors use a satisfactory technique for assessing the risk of bias (RoB) in individual studies that were included in the review?",subtitle:"RCTs",columns:[{label:"For Partial Yes, must have assessed RoB from",options:["unconcealed allocation, and","lack of blinding of patients and assessors when assessing outcomes (unnecessary for objective outcomes such as all-cause mortality)"]},{label:"For Yes, must also have assessed RoB from:",options:["allocation sequence that was not truly random, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",description:"",options:["Yes","Partial Yes","No"," Includes only NRSI"]}],subtitle2:"NRSI",columns2:[{label:"For Partial Yes, must have assessed RoB:",options:["from confounding, and","from selection bias"]},{label:"For Yes, must also have assessed RoB:",options:["methods used to ascertain exposures and outcomes, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",options:["Yes","Partial Yes","No","Includes only RCTs"]}]},q10:{text:"10. Did the review authors report on the sources of funding for the studies included in the review?",columns:[{label:"For Yes:",options:["Must have reported on the sources of funding for individual studies included in the review. Note: Reporting that the reviewers looked for this information but it was not reported by study authors also qualifies"]},{label:"",options:["Yes","No"]}]},q11:{text:"11. If meta-analysis was performed did the review authors use appropriate methods for statistical combination of results?",subtitle:"RCTs",columns:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results and adjusted for heterogeneity if present.","AND investigated the causes of any heterogeneity"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}],subtitle2:"NRSI",columns2:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results, adjusting for heterogeneity if present","AND they statistically combined effect estimates from NRSI that were adjusted for confounding, rather than combining raw data, or justified combining raw data when adjusted effect estimates were not available","AND they reported separate summary estimates for RCTs and NRSI separately when both were included in the review"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q12:{text:"12. If meta-analysis was performed, did the review authors assess the potential impact of RoB in individual studies on the results of the meta-analysis or other evidence synthesis?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if the pooled estimate was based on RCTs and/or NRSI at variable RoB, the authors performed analyses to investigate possible impact of RoB on summary estimates of effect."]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q13:{text:"13. Did the review authors account for RoB in individual studies when interpreting/ discussing the results of the review?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if RCTs with moderate or high RoB, or NRSI were included the review provided a discussion of the likely impact of RoB on the results"]},{label:"",options:["Yes","No"]}]},q14:{text:"14. Did the review authors provide a satisfactory explanation for, and discussion of, any heterogeneity observed in the results of the review?",columns:[{label:"For Yes:",options:["There was no significant heterogeneity in the results","OR if heterogeneity was present the authors performed an investigation of sources of any heterogeneity in the results and discussed the impact of this on the results of the review"]},{label:"",options:["Yes","No"]}]},q15:{text:"15. If they performed quantitative synthesis did the review authors carry out an adequate investigation of publication bias (small study bias) and discuss its likely impact on the results of the review?",columns:[{label:"For Yes:",options:["performed graphical or statistical tests for publication bias and discussed the likelihood and magnitude of impact of publication bias"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q16:{text:"16. Did the review authors report any potential sources of conflict of interest, including any funding they received for conducting the review?",options:["Yes","Partial Yes","No"],columns:[{label:"For Yes:",options:["The authors reported no competing interests OR","The authors described their funding sources and how they managed potential conflicts of interest"]},{label:"",options:["Yes","No"]}]}},cu="corates-app-db",St="checklists",rt="projects",uu=1,oo=new BroadcastChannel("corates-sync");function Xr(){oo.postMessage("initiate-sync")}function fu(e){oo.onmessage=t=>{t.data==="initiate-sync"&&e()}}function an(e){return JSON.parse(JSON.stringify(e))}function Ht(){return new Promise((e,t)=>{const n=indexedDB.open(cu,uu);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(St)||r.createObjectStore(St,{keyPath:"id"}),r.objectStoreNames.contains(rt)||r.createObjectStore(rt,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function js(e){const t=await Ht();return e=an(e),new Promise((n,r)=>{const i=t.transaction(St,"readwrite");i.objectStore(St).put(e),i.oncomplete=()=>{n(),Xr()},i.onerror=()=>r(i.error)})}async function lo(){const e=await Ht();return new Promise((t,n)=>{const s=e.transaction(St,"readonly").objectStore(St).getAll();s.onsuccess=()=>t(s.result),s.onerror=()=>n(s.error)})}async function du(e){const t=await Ht();return new Promise((n,r)=>{const i=t.transaction(St,"readwrite");i.objectStore(St).delete(e),i.oncomplete=()=>{n(),Xr()},i.onerror=()=>r(i.error)})}async function hn(e){const t=await Ht();return e=an(e),new Promise((n,r)=>{const i=t.transaction(rt,"readwrite");i.objectStore(rt).put(e),i.oncomplete=()=>{n(),Xr()},i.onerror=()=>r(i.error)})}async function Jr(e){const t=await Ht();return new Promise((n,r)=>{const s=t.transaction(rt,"readonly").objectStore(rt).get(e);s.onsuccess=()=>n(s.result),s.onerror=()=>r(s.error)})}async function co(){const e=await Ht();return new Promise((t,n)=>{const s=e.transaction(rt,"readonly").objectStore(rt).getAll();s.onsuccess=()=>t(s.result),s.onerror=()=>n(s.error)})}async function Fs(e,t,n){try{const r=await Jr(e);if(!r)throw new Error(`Project with ID ${e} not found`);r.reviews||(r.reviews=[]);const i=r.reviews.findIndex(o=>o.id===t);if(i===-1)throw new Error(`Review with ID ${t} not found in project ${e}`);const s=r.reviews[i];s.checklists||(s.checklists=[]);const a=s.checklists.findIndex(o=>o.id===n.id);return a>=0?s.checklists[a]=an(n):s.checklists.push(an(n)),await hn(r),r}catch(r){throw console.error("Error saving checklist to review:",r),r}}async function hu(e,t,n){try{const r=await Jr(e);if(!r)throw new Error(`Project with ID ${e} not found`);r.reviews||(r.reviews=[]);const i=r.reviews.findIndex(o=>o.id===t);if(i===-1)throw new Error(`Review with ID ${t} not found in project ${e}`);const s=r.reviews[i];s.checklists||(s.checklists=[]);const a=s.checklists.length;return s.checklists=s.checklists.filter(o=>o.id!==n),s.checklists.length===a?!1:(await hn(r),!0)}catch(r){throw console.error("Error deleting checklist from review:",r),r}}async function Us(e,t){try{const n=await Jr(e);if(!n)throw new Error(`Project with ID ${e} not found`);n.reviews||(n.reviews=[]);const r=n.reviews.findIndex(i=>i.id===t.id);return r>=0?n.reviews[r]=an(t):n.reviews.push(an(t)),await hn(n),n}catch(n){console.error("Error saving review to project:",n)}}async function gu(e,t){try{const n=await Jr(e);if(!n)throw new Error(`Project with ID ${e} not found`);n.reviews||(n.reviews=[]);const r=n.reviews.length;return n.reviews=n.reviews.filter(i=>i.id!==t),n.reviews.length===r?!1:(await hn(n),!0)}catch(n){throw console.error("Error deleting review from project:",n),n}}async function pu(e){const t=await Ht();return new Promise((n,r)=>{const i=t.transaction(rt,"readwrite");i.objectStore(rt).delete(e),i.oncomplete=()=>{n(),Xr()},i.onerror=()=>r(i.error)})}async function Dt(){const[e,t]=await Promise.all([co(),lo()]),n=new Set;for(const i of e){n.add(i.id);for(const s of i.reviews||[]){n.add(s.id);for(const a of s.checklists||[])n.add(a.id)}}for(const i of t)n.add(i.id);let r;do r=crypto.randomUUID().split("-")[0];while(n.has(r));return r}async function mu(e,t){const n=e.getReader();let r;for(;!(r=await n.read()).done;)t(r.value)}function wu(e){let t,n,r,i=!1;return function(a){t===void 0?(t=a,n=0,r=-1):t=yu(t,a);const o=t.length;let l=0;for(;n<o;){i&&(t[n]===10&&(l=++n),i=!1);let c=-1;for(;n<o&&c===-1;++n)switch(t[n]){case 58:r===-1&&(r=n-l);break;case 13:i=!0;case 10:c=n;break}if(c===-1)break;e(t.subarray(l,c),r),l=n,r=-1}l===o?t=void 0:l!==0&&(t=t.subarray(l),n-=l)}}function vu(e,t,n){let r=Bs();const i=new TextDecoder;return function(a,o){if(a.length===0)n?.(r),r=Bs();else if(o>0){const l=i.decode(a.subarray(0,o)),c=o+(a[o+1]===32?2:1),f=i.decode(a.subarray(c));switch(l){case"data":r.data=r.data?r.data+`
`+f:f;break;case"event":r.event=f;break;case"id":e(r.id=f);break;case"retry":const u=parseInt(f,10);isNaN(u)||t(r.retry=u);break}}}}function yu(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function Bs(){return{data:"",event:"",id:"",retry:void 0}}var bu=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n};const Pi="text/event-stream",xu=1e3,Vs="last-event-id";function _u(e,t){var{signal:n,headers:r,onopen:i,onmessage:s,onclose:a,onerror:o,openWhenHidden:l,fetch:c}=t,f=bu(t,["signal","headers","onopen","onmessage","onclose","onerror","openWhenHidden","fetch"]);return new Promise((u,d)=>{const p=Object.assign({},r);p.accept||(p.accept=Pi);let _;function b(){_.abort(),document.hidden||k()}l||document.addEventListener("visibilitychange",b);let C=xu,T=0;function m(){document.removeEventListener("visibilitychange",b),window.clearTimeout(T),_.abort()}n?.addEventListener("abort",()=>{m(),u()});const v=c??window.fetch,y=i??ku;async function k(){var A;_=new AbortController;try{const $=await v(e,Object.assign(Object.assign({},f),{headers:p,signal:_.signal}));await y($),await mu($.body,wu(vu(h=>{h?p[Vs]=h:delete p[Vs]},h=>{C=h},s))),a?.(),m(),u()}catch($){if(!_.signal.aborted)try{const h=(A=o?.($))!==null&&A!==void 0?A:C;window.clearTimeout(T),T=window.setTimeout(k,h)}catch(h){m(),d(h)}}}k()})}function ku(e){const t=e.headers.get("content-type");if(!t?.startsWith(Pi))throw new Error(`Expected content-type to be ${Pi}, Actual: ${t}`)}var Su=Object.defineProperty,$u=Object.defineProperties,Eu=Object.getOwnPropertyDescriptors,Cr=Object.getOwnPropertySymbols,uo=Object.prototype.hasOwnProperty,fo=Object.prototype.propertyIsEnumerable,ho=e=>{throw TypeError(e)},Hs=(e,t,n)=>t in e?Su(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Be=(e,t)=>{for(var n in t||(t={}))uo.call(t,n)&&Hs(e,n,t[n]);if(Cr)for(var n of Cr(t))fo.call(t,n)&&Hs(e,n,t[n]);return e},Ji=(e,t)=>$u(e,Eu(t)),Cu=(e,t)=>{var n={};for(var r in e)uo.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Cr)for(var r of Cr(e))t.indexOf(r)<0&&fo.call(e,r)&&(n[r]=e[r]);return n},Zi=(e,t,n)=>t.has(e)||ho("Cannot "+n),N=(e,t,n)=>(Zi(e,t,"read from private field"),n?n.call(e):t.get(e)),W=(e,t,n)=>t.has(e)?ho("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),q=(e,t,n,r)=>(Zi(e,t,"write to private field"),t.set(e,n),n),z=(e,t,n)=>(Zi(e,t,"access private method"),n),zs=(e,t,n,r)=>({set _(i){q(e,t,i)},get _(){return N(e,t,r)}}),ne=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{o(n.next(l))}catch(c){i(c)}},a=l=>{try{o(n.throw(l))}catch(c){i(c)}},o=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,a);o((n=n.apply(e,t)).next())}),Ut=class go extends Error{constructor(t,n,r,i,s,a){super(a||`HTTP Error ${t} at ${s}: ${n??JSON.stringify(r)}`),this.url=s,this.name="FetchError",this.status=t,this.text=n,this.json=r,this.headers=i}static fromResponse(t,n){return ne(this,null,function*(){const r=t.status,i=Object.fromEntries([...t.headers.entries()]);let s,a;const o=t.headers.get("content-type");return t.bodyUsed||(o&&o.includes("application/json")?a=yield t.json():s=yield t.text()),new go(r,s,a,i,n)})}},Ar=class extends Error{constructor(){super("Fetch with backoff aborted"),this.name="FetchBackoffAbortError"}},Au=class extends Error{constructor(){super("Invalid shape options: missing required url parameter"),this.name="MissingShapeUrlError"}},Pu=class extends Error{constructor(){super("Invalid signal option. It must be an instance of AbortSignal."),this.name="InvalidSignalError"}},Ru=class extends Error{constructor(){super("shapeHandle is required if this isn't an initial fetch (i.e. offset > -1)"),this.name="MissingShapeHandleError"}},Nu=class extends Error{constructor(e){super(`Cannot use reserved Electric parameter names in custom params: ${e.join(", ")}`),this.name="ReservedParamError"}},Tu=class extends Error{constructor(e){super(`Column "${e??"unknown"}" does not allow NULL values`),this.name="ParserNullValueError"}},Mu=class extends Error{constructor(e,t){let n=`The response for the shape request to ${e} didn't include the following required headers:
`;t.forEach(r=>{n+=`- ${r}
`}),n+=`
This is often due to a proxy not setting CORS correctly so that all Electric headers can be read by the client.`,n+=`
For more information visit the troubleshooting guide: /docs/guides/troubleshooting/missing-headers`,super(n)}},rr=e=>Number(e),Ou=e=>e==="true"||e==="t",Iu=e=>BigInt(e),Ys=e=>JSON.parse(e),Lu=e=>e,qu={int2:rr,int4:rr,int8:Iu,bool:Ou,float4:rr,float8:rr,json:Ys,jsonb:Ys};function Du(e,t){let n=0,r=null,i="",s=!1,a=0,o;function l(f,u,d){let p=f.slice(u,d);return p=p==="NULL"?null:p,t?t(p):p}function c(f){const u=[];for(;n<f.length;n++){if(r=f[n],s)r==="\\"?i+=f[++n]:r==='"'?(u.push(t?t(i):i),i="",s=f[n+1]==='"',a=n+2):i+=r;else if(r==='"')s=!0;else if(r==="{")a=++n,u.push(c(f));else if(r==="}"){s=!1,a<n&&u.push(l(f,a,n)),a=n+1;break}else r===","&&o!=="}"&&o!=='"'&&(u.push(l(f,a,n)),a=n+1);o=r}return a<n&&u.push(u.push(l(f,a,n+1))),u}return c(e)[0]}var ju=class{constructor(e,t){this.parser=Be(Be({},qu),e),this.transformer=t}parse(e,t){return JSON.parse(e,(n,r)=>{if((n==="value"||n==="old_value")&&typeof r=="object"&&r!==null){const i=r;Object.keys(i).forEach(s=>{i[s]=this.parseRow(s,i[s],t)}),this.transformer&&(r=this.transformer(r))}return r})}parseRow(e,t,n){var r;const i=n[e];if(!i)return t;const s=i,{type:a,dims:o}=s,l=Cu(s,["type","dims"]),c=(r=this.parser[a])!=null?r:Lu,f=Ws(c,i,e);return o&&o>0?Ws((d,p)=>Du(d,f),i,e)(t):f(t,l)}};function Ws(e,t,n){var r;const i=!((r=t.not_null)!=null&&r);return s=>{if(s===null){if(!i)throw new Tu(n??"unknown");return null}return e(s,t)}}function es(e){return"key"in e}function po(e){return!es(e)}function mo(e){return po(e)&&e.headers.control==="up-to-date"}function Fu(e){const t=e.headers.global_last_seen_lsn;if(t)return`${t}_0`}function Uu(e,t){const n=BigInt(e),r=BigInt(t.xmin),i=BigInt(t.xmax),s=t.xip_list.map(BigInt);return n<r||n<i&&!s.includes(n)}var Bu="electric-cursor",ts="electric-handle",wo="electric-offset",Vu="electric-schema",Hu="electric-up-to-date",zu="columns",ns="cursor",vo="expired_handle",Zr="handle",jt="live",ei="offset",Yu="table",Wu="where",Qu="replica",Ku="params",Gu="experimental_live_sse",yo="force-disconnect-and-refresh",bo="pause-stream",xo="log",rs="subset__where",is="subset__limit",ss="subset__offset",as="subset__order_by",os="subset__params",Xu=[jt,Zr,ei,ns,vo,xo,rs,is,ss,as,os],Ju=[429],_o={initialDelay:100,maxDelay:1e4,multiplier:1.3};function Zu(e,t=_o){const{initialDelay:n,maxDelay:r,multiplier:i,debug:s=!1,onFailedAttempt:a}=t;return(...o)=>ne(this,null,function*(){var l;const c=o[0],f=o[1];let u=n,d=0;for(;;)try{const p=yield e(...o);if(p.ok)return p;throw yield Ut.fromResponse(p,c.toString())}catch(p){if(a?.(),(l=f?.signal)!=null&&l.aborted)throw new Ar;if(p instanceof Ut&&!Ju.includes(p.status)&&p.status>=400&&p.status<500)throw p;yield new Promise(_=>setTimeout(_,u)),u=Math.min(u*i,r),s&&(d++,console.log(`Retry attempt #${d} after ${u}ms`))}})}var ef=[201,204,205];function tf(e){return(...t)=>ne(this,null,function*(){const n=t[0],r=yield e(...t);try{if(r.status<200||ef.includes(r.status))return r;const i=yield r.text();return new Response(i,r)}catch(i){throw new Ut(r.status,void 0,void 0,Object.fromEntries([...r.headers.entries()]),n.toString(),i instanceof Error?i.message:typeof i=="string"?i:"failed to read body")}})}var nf={maxChunksToPrefetch:2};function rf(e,t=nf){const{maxChunksToPrefetch:n}=t;let r;return(...s)=>ne(this,null,function*(){const a=s[0].toString(),o=r?.consume(...s);if(o)return o;r?.abort();const l=yield e(...s),c=ls(a,l);return c&&(r=new cf({fetchClient:e,maxPrefetchedRequests:n,url:c,requestInit:s[1]})),l})}var sf=["electric-offset","electric-handle"],af=["electric-cursor"],of=["electric-schema"];function lf(e){return(...t)=>ne(this,null,function*(){const n=yield e(...t);if(n.ok){const r=n.headers,i=[],s=f=>i.push(...f.filter(u=>!r.has(u))),o=t[0].toString(),l=new URL(o);if([rs,os,is,ss,as].some(f=>l.searchParams.has(f)))return n;if(s(sf),l.searchParams.get(jt)==="true"&&s(af),(!l.searchParams.has(jt)||l.searchParams.get(jt)==="false")&&s(of),i.length>0)throw new Mu(o,i)}return n})}var Pr,Rr,vt,Gt,yt,Cn,Nr,cf=class{constructor(e){W(this,Cn),W(this,Pr),W(this,Rr),W(this,vt,new Map),W(this,Gt),W(this,yt);var t;q(this,Pr,(t=e.fetchClient)!=null?t:(...n)=>fetch(...n)),q(this,Rr,e.maxPrefetchedRequests),q(this,Gt,e.url.toString()),q(this,yt,N(this,Gt)),z(this,Cn,Nr).call(this,e.url,e.requestInit)}abort(){N(this,vt).forEach(([e,t])=>t.abort())}consume(...e){var t;const n=e[0].toString(),r=(t=N(this,vt).get(n))==null?void 0:t[0];if(!(!r||n!==N(this,Gt)))return N(this,vt).delete(n),r.then(i=>{const s=ls(n,i);q(this,Gt,s),N(this,yt)&&!N(this,vt).has(N(this,yt))&&z(this,Cn,Nr).call(this,N(this,yt),e[1])}).catch(()=>{}),r}};Pr=new WeakMap;Rr=new WeakMap;vt=new WeakMap;Gt=new WeakMap;yt=new WeakMap;Cn=new WeakSet;Nr=function(...e){var t,n;const r=e[0].toString();if(N(this,vt).size>=N(this,Rr))return;const i=new AbortController;try{const{signal:s,cleanup:a}=uf(i,(t=e[1])==null?void 0:t.signal),o=N(this,Pr).call(this,r,Ji(Be({},(n=e[1])!=null?n:{}),{signal:s}));N(this,vt).set(r,[o,i]),o.then(l=>{if(!l.ok||i.signal.aborted)return;const c=ls(r,l);if(!c||c===r){q(this,yt,void 0);return}return q(this,yt,c),z(this,Cn,Nr).call(this,c,e[1])}).catch(()=>{}).finally(a)}catch{}};function ls(e,t){const n=t.headers.get(ts),r=t.headers.get(wo),i=t.headers.has(Hu);if(!n||!r||i)return;const s=new URL(e);if(!s.searchParams.has(jt))return s.searchParams.set(Zr,n),s.searchParams.set(ei,r),s.searchParams.sort(),s.toString()}function uf(e,t){let n=ff;if(t)if(t.aborted)e.abort();else{const r=()=>e.abort();t.addEventListener("abort",r,{once:!0,signal:e.signal}),n=()=>t.removeEventListener("abort",r)}return{signal:e.signal,cleanup:n}}function ff(){}var df=class{constructor(){this.data={},this.max=250,this.storageKey="electric_expired_shapes",this.load()}getExpiredHandle(e){const t=this.data[e];return t?(t.lastUsed=Date.now(),this.save(),t.expiredHandle):null}markExpired(e,t){this.data[e]={expiredHandle:t,lastUsed:Date.now()};const n=Object.keys(this.data);if(n.length>this.max){const r=n.reduce((i,s)=>this.data[s].lastUsed<this.data[i].lastUsed?s:i);delete this.data[r]}this.save()}save(){if(!(typeof localStorage>"u"))try{localStorage.setItem(this.storageKey,JSON.stringify(this.data))}catch{}}load(){if(!(typeof localStorage>"u"))try{const e=localStorage.getItem(this.storageKey);e&&(this.data=JSON.parse(e))}catch{this.data={}}}clear(){this.data={},this.save()}},ko=new df,hf=class{constructor(){this.activeSnapshots=new Map,this.xmaxSnapshots=new Map,this.snapshotsByDatabaseLsn=new Map}addSnapshot(e,t){var n,r,i,s;this.activeSnapshots.set(e.snapshot_mark,{xmin:BigInt(e.xmin),xmax:BigInt(e.xmax),xip_list:e.xip_list.map(BigInt),keys:t});const a=(r=(n=this.xmaxSnapshots.get(BigInt(e.xmax)))==null?void 0:n.add(e.snapshot_mark))!=null?r:new Set([e.snapshot_mark]);this.xmaxSnapshots.set(BigInt(e.xmax),a);const o=(s=(i=this.snapshotsByDatabaseLsn.get(BigInt(e.database_lsn)))==null?void 0:i.add(e.snapshot_mark))!=null?s:new Set([e.snapshot_mark]);this.snapshotsByDatabaseLsn.set(BigInt(e.database_lsn),o)}removeSnapshot(e){this.activeSnapshots.delete(e)}shouldRejectMessage(e){const t=e.headers.txids||[];if(t.length===0)return!1;const n=Math.max(...t);for(const[r,i]of this.xmaxSnapshots.entries())if(n>=r)for(const s of i)this.removeSnapshot(s);return[...this.activeSnapshots.values()].some(r=>r.keys.has(e.key)&&Uu(n,r))}lastSeenUpdate(e){for(const[t,n]of this.snapshotsByDatabaseLsn.entries())if(t<=e)for(const r of n)this.removeSnapshot(r)}},gf=new Set([ns,Zr,jt,ei]);function So(e){return ne(this,null,function*(){return typeof e=="function"?e():e})}function pf(e){return ne(this,null,function*(){const t=Object.entries(e),n=yield Promise.all(t.map(r=>ne(this,[r],function*([i,s]){if(s===void 0)return[i,void 0];const a=yield So(s);return[i,Array.isArray(a)?a.join(","):a]})));return Object.fromEntries(n.filter(([r,i])=>i!==void 0))})}function mf(e){return ne(this,null,function*(){if(!e)return{};const t=Object.entries(e),n=yield Promise.all(t.map(r=>ne(this,[r],function*([i,s]){return[i,yield So(s)]})));return Object.fromEntries(n)})}function $o(e){const t=new URL(e.origin+e.pathname);for(const[n,r]of e.searchParams)Xu.includes(n)||t.searchParams.set(n,r);return t.searchParams.sort(),t.toString()}var Tr,Dn,An,on,Mt,ct,ze,xt,ln,Ot,Xe,cn,_t,We,Pt,$t,jn,et,rn,mt,Fn,Un,Pn,Mr,Rt,wt,Bn,Z,Vn,yn,cs,Eo,us,ti,Co,Ao,Po,fs,ds,Ro,No,hs,To,Mo,gs,Oo,Io=class{constructor(e){W(this,Z),W(this,Tr,null),W(this,Dn),W(this,An),W(this,on),W(this,Mt,new Map),W(this,ct,!1),W(this,ze,"active"),W(this,xt),W(this,ln),W(this,Ot),W(this,Xe,!1),W(this,cn,!0),W(this,_t,!1),W(this,We),W(this,Pt),W(this,$t),W(this,jn),W(this,et),W(this,rn,!1),W(this,mt),W(this,Fn),W(this,Un),W(this,Pn,Promise.resolve([])),W(this,Mr,new hf),W(this,Rt,0),W(this,wt),W(this,Bn);var t,n,r,i;this.options=Be({subscribe:!0},e),wf(this.options),q(this,xt,(t=this.options.offset)!=null?t:"-1"),q(this,ln,""),q(this,We,this.options.handle),q(this,on,new ju(e.parser,e.transformer)),q(this,jn,this.options.onError),q(this,Pt,(n=this.options.log)!=null?n:"full");const s=(r=e.fetchClient)!=null?r:(...l)=>fetch(...l),a=Ji(Be({},(i=e.backoffOptions)!=null?i:_o),{onFailedAttempt:()=>{var l,c;q(this,_t,!1),(c=(l=e.backoffOptions)==null?void 0:l.onFailedAttempt)==null||c.call(l)}}),o=Zu(s,a);q(this,An,lf(rf(o))),q(this,Dn,tf(N(this,An))),z(this,Z,Mo).call(this)}get shapeHandle(){return N(this,We)}get error(){return N(this,Tr)}get isUpToDate(){return N(this,Xe)}get lastOffset(){return N(this,xt)}get mode(){return N(this,Pt)}subscribe(e,t=()=>{}){const n=Math.random();return N(this,Mt).set(n,[e,t]),N(this,ct)||z(this,Z,Vn).call(this),()=>{N(this,Mt).delete(n)}}unsubscribeAll(){N(this,Mt).clear()}lastSyncedAt(){return N(this,Ot)}lastSynced(){return N(this,Ot)===void 0?1/0:Date.now()-N(this,Ot)}isConnected(){return N(this,_t)}isLoading(){return!N(this,Xe)}hasStarted(){return N(this,ct)}isPaused(){return N(this,ze)==="paused"}forceDisconnectAndRefresh(){return ne(this,null,function*(){var e,t;q(this,rn,!0),N(this,Xe)&&!((e=N(this,et))!=null&&e.signal.aborted)&&((t=N(this,et))==null||t.abort(yo)),yield z(this,Z,Ro).call(this),q(this,rn,!1)})}requestSnapshot(e){return ne(this,null,function*(){if(N(this,Pt)==="full")throw new Error(`Snapshot requests are not supported in ${N(this,Pt)} mode, as the consumer is guaranteed to observe all data`);N(this,ct)||(yield z(this,Z,Vn).call(this)),yield z(this,Z,No).call(this),zs(this,Rt)._++;try{N(this,Rt)===1&&z(this,Z,fs).call(this);const{fetchUrl:t,requestHeaders:n}=yield z(this,Z,cs).call(this,this.options.url,!0,e),{metadata:r,data:i}=yield z(this,Z,Oo).call(this,t,n),s=i.concat([{headers:Be({control:"snapshot-end"},r)}]);return N(this,Mr).addSnapshot(r,new Set(i.map(a=>a.key))),z(this,Z,ti).call(this,s,!1),{metadata:r,data:i}}finally{zs(this,Rt)._--,N(this,Rt)===0&&z(this,Z,ds).call(this)}})}};Tr=new WeakMap;Dn=new WeakMap;An=new WeakMap;on=new WeakMap;Mt=new WeakMap;ct=new WeakMap;ze=new WeakMap;xt=new WeakMap;ln=new WeakMap;Ot=new WeakMap;Xe=new WeakMap;cn=new WeakMap;_t=new WeakMap;We=new WeakMap;Pt=new WeakMap;$t=new WeakMap;jn=new WeakMap;et=new WeakMap;rn=new WeakMap;mt=new WeakMap;Fn=new WeakMap;Un=new WeakMap;Pn=new WeakMap;Mr=new WeakMap;Rt=new WeakMap;wt=new WeakMap;Bn=new WeakMap;Z=new WeakSet;Vn=function(){return ne(this,null,function*(){var e;q(this,ct,!0);try{yield z(this,Z,yn).call(this)}catch(t){if(q(this,Tr,t),N(this,jn)){const n=yield N(this,jn).call(this,t);typeof n=="object"&&(z(this,Z,gs).call(this),"params"in n&&(this.options.params=n.params),"headers"in n&&(this.options.headers=n.headers),q(this,ct,!1),z(this,Z,Vn).call(this));return}throw t}finally{q(this,_t,!1),(e=N(this,Un))==null||e.call(this)}})};yn=function(){return ne(this,null,function*(){var e,t;if(N(this,ze)==="pause-requested"){q(this,ze,"paused");return}if(!this.options.subscribe&&((e=this.options.signal)!=null&&e.aborted||N(this,Xe)))return;const n=N(this,ze)==="paused";q(this,ze,"active");const{url:r,signal:i}=this.options,{fetchUrl:s,requestHeaders:a}=yield z(this,Z,cs).call(this,r,n),o=yield z(this,Z,Eo).call(this,i),l=N(this,et);try{yield z(this,Z,Co).call(this,{fetchUrl:s,requestAbortController:l,headers:a,resumingFromPause:n})}catch(c){if((c instanceof Ut||c instanceof Ar)&&l.signal.aborted&&l.signal.reason===yo)return z(this,Z,yn).call(this);if(c instanceof Ar){l.signal.aborted&&l.signal.reason===bo&&q(this,ze,"paused");return}if(!(c instanceof Ut))throw c;if(c.status==409){if(N(this,We)){const u=$o(s);ko.markExpired(u,N(this,We))}const f=c.headers[ts]||`${N(this,We)}-next`;return z(this,Z,gs).call(this,f),yield z(this,Z,hs).call(this,c.json),z(this,Z,yn).call(this)}else throw z(this,Z,To).call(this,c),c}finally{o&&i&&i.removeEventListener("abort",o),q(this,et,void 0)}return(t=N(this,Fn))==null||t.call(this),z(this,Z,yn).call(this)})};cs=function(e,t,n){return ne(this,null,function*(){const[r,i]=yield Promise.all([mf(this.options.headers),this.options.params?pf(vf(this.options.params)):void 0]);i&&Lo(i);const s=new URL(e);if(i){i.table&&Ve(s,Yu,i.table),i.where&&Ve(s,Wu,i.where),i.columns&&Ve(s,zu,i.columns),i.replica&&Ve(s,Qu,i.replica),i.params&&Ve(s,Ku,i.params);const l=Be({},i);delete l.table,delete l.where,delete l.columns,delete l.replica,delete l.params;for(const[c,f]of Object.entries(l))Ve(s,c,f)}n&&(n.where&&Ve(s,rs,n.where),n.params&&Ve(s,os,n.params),n.limit&&Ve(s,is,n.limit),n.offset&&Ve(s,ss,n.offset),n.orderBy&&Ve(s,as,n.orderBy)),s.searchParams.set(ei,N(this,xt)),s.searchParams.set(xo,N(this,Pt)),N(this,Xe)&&(!N(this,rn)&&!t&&s.searchParams.set(jt,"true"),s.searchParams.set(ns,N(this,ln))),N(this,We)&&s.searchParams.set(Zr,N(this,We));const a=$o(s),o=ko.getExpiredHandle(a);return o&&s.searchParams.set(vo,o),s.searchParams.sort(),{fetchUrl:s,requestHeaders:r}})};Eo=function(e){return ne(this,null,function*(){var t;if(q(this,et,new AbortController),e){const n=()=>{var r;(r=N(this,et))==null||r.abort(e.reason)};return e.addEventListener("abort",n,{once:!0}),e.aborted&&((t=N(this,et))==null||t.abort(e.reason)),n}})};us=function(e){return ne(this,null,function*(){var t;const{headers:n,status:r}=e,i=n.get(ts);i&&q(this,We,i);const s=n.get(wo);s&&q(this,xt,s);const a=n.get(Bu);a&&q(this,ln,a);const o=()=>{const l=n.get(Vu);return l?JSON.parse(l):{}};q(this,$t,(t=N(this,$t))!=null?t:o()),r===204&&q(this,Ot,Date.now())})};ti=function(e,t=!1){return ne(this,null,function*(){var n;if(e.length>0){q(this,cn,!0);const r=e[e.length-1];if(mo(r)){if(t){const s=Fu(r);s&&q(this,xt,s)}q(this,Ot,Date.now()),q(this,Xe,!0),q(this,cn,!1),(n=N(this,Bn))==null||n.call(this)}const i=e.filter(s=>es(s)?!N(this,Mr).shouldRejectMessage(s):!0);yield z(this,Z,hs).call(this,i)}})};Co=function(e){return ne(this,null,function*(){return N(this,Xe)&&this.options.experimentalLiveSse&&!N(this,rn)&&!e.resumingFromPause?(e.fetchUrl.searchParams.set(Gu,"true"),z(this,Z,Po).call(this,e)):z(this,Z,Ao).call(this,e)})};Ao=function(e){return ne(this,null,function*(){const{fetchUrl:t,requestAbortController:n,headers:r}=e,i=yield N(this,Dn).call(this,t.toString(),{signal:n.signal,headers:r});q(this,_t,!0),yield z(this,Z,us).call(this,i);const s=N(this,$t),o=(yield i.text())||"[]",l=N(this,on).parse(o,s);yield z(this,Z,ti).call(this,l)})};Po=function(e){return ne(this,null,function*(){const{fetchUrl:t,requestAbortController:n,headers:r}=e,i=N(this,An);try{let s=[];yield _u(t.toString(),{headers:r,fetch:i,onopen:a=>ne(this,null,function*(){q(this,_t,!0),yield z(this,Z,us).call(this,a)}),onmessage:a=>{if(a.data){const o=N(this,$t),l=N(this,on).parse(a.data,o);s.push(l),mo(l)&&(z(this,Z,ti).call(this,s,!0),s=[])}},onerror:a=>{throw a},signal:n.signal})}catch(s){throw n.signal.aborted?new Ar:s}})};fs=function(){var e;N(this,ct)&&N(this,ze)==="active"&&(q(this,ze,"pause-requested"),(e=N(this,et))==null||e.abort(bo))};ds=function(){N(this,ct)&&N(this,ze)==="paused"&&z(this,Z,Vn).call(this)};Ro=function(){return ne(this,null,function*(){return N(this,mt)?N(this,mt):(q(this,mt,new Promise((e,t)=>{q(this,Fn,e),q(this,Un,t)})),N(this,mt).finally(()=>{q(this,mt,void 0),q(this,Fn,void 0),q(this,Un,void 0)}),N(this,mt))})};No=function(){return ne(this,null,function*(){if(N(this,cn))return N(this,wt)?N(this,wt):(q(this,wt,new Promise(e=>{q(this,Bn,e)})),N(this,wt).finally(()=>{q(this,wt,void 0),q(this,Bn,void 0)}),N(this,wt))})};hs=function(e){return ne(this,null,function*(){return q(this,Pn,N(this,Pn).then(()=>Promise.all(Array.from(N(this,Mt).values()).map(t=>ne(this,[t],function*([n,r]){try{yield n(e)}catch(i){queueMicrotask(()=>{throw i})}}))))),N(this,Pn)})};To=function(e){N(this,Mt).forEach(([t,n])=>{n?.(e)})};Mo=function(){if(typeof document=="object"&&typeof document.hidden=="boolean"&&typeof document.addEventListener=="function"){const e=()=>{document.hidden?z(this,Z,fs).call(this):z(this,Z,ds).call(this)};document.addEventListener("visibilitychange",e)}};gs=function(e){q(this,xt,"-1"),q(this,ln,""),q(this,We,e),q(this,Xe,!1),q(this,cn,!0),q(this,_t,!1),q(this,$t,void 0),q(this,Rt,0)};Oo=function(e,t){return ne(this,null,function*(){const n=yield N(this,Dn).call(this,e.toString(),{headers:t});if(!n.ok)throw new Ut(n.status,void 0,void 0,Object.fromEntries([...n.headers.entries()]),e.toString());const{metadata:r,data:i}=yield n.json(),s=N(this,on).parse(JSON.stringify(i),N(this,$t));return{metadata:r,data:s}})};Io.Replica={FULL:"full",DEFAULT:"default"};function Lo(e){if(!e)return;const t=Object.keys(e).filter(n=>gf.has(n));if(t.length>0)throw new Nu(t)}function wf(e){if(!e.url)throw new Au;if(e.signal&&!(e.signal instanceof AbortSignal))throw new Pu;if(e.offset!==void 0&&e.offset!=="-1"&&e.offset!=="now"&&!e.handle)throw new Ru;Lo(e.params)}function Ve(e,t,n){if(!(n===void 0||n==null))if(typeof n=="string")e.searchParams.set(t,n);else if(typeof n=="object")for(const[r,i]of Object.entries(n))e.searchParams.set(`${t}[${r}]`,i);else e.searchParams.set(t,n.toString())}function vf(e){return Array.isArray(e.params)?Ji(Be({},e),{params:Object.fromEntries(e.params.map((t,n)=>[n+1,t]))}):e}var Fe,Nt,Tt,Or,Rn,Hn,It,Ue,qo,Do,ps,hr,jo,ms,yf=class{constructor(e){W(this,Ue),W(this,Fe,new Map),W(this,Nt,new Map),W(this,Tt,new Set),W(this,Or,new Set),W(this,Rn,!1),W(this,Hn,"syncing"),W(this,It,!1),this.stream=e,this.stream.subscribe(z(this,Ue,qo).bind(this),z(this,Ue,jo).bind(this))}get isUpToDate(){return N(this,Hn)==="up-to-date"}get lastOffset(){return this.stream.lastOffset}get handle(){return this.stream.shapeHandle}get rows(){return this.value.then(e=>Array.from(e.values()))}get currentRows(){return Array.from(this.currentValue.values())}get value(){return new Promise((e,t)=>{if(this.stream.isUpToDate)e(this.currentValue);else{const n=this.subscribe(({value:r})=>{n(),N(this,It)&&t(N(this,It)),e(r)})}})}get currentValue(){return N(this,Fe)}get error(){return N(this,It)}lastSyncedAt(){return this.stream.lastSyncedAt()}lastSynced(){return this.stream.lastSynced()}isLoading(){return this.stream.isLoading()}isConnected(){return this.stream.isConnected()}get mode(){return this.stream.mode}requestSnapshot(e){return ne(this,null,function*(){const t=JSON.stringify(e);N(this,Or).add(t),yield z(this,Ue,ps).call(this),yield this.stream.requestSnapshot(e)})}subscribe(e){const t=Math.random();return N(this,Nt).set(t,e),()=>{N(this,Nt).delete(t)}}unsubscribeAll(){N(this,Nt).clear()}get numSubscribers(){return N(this,Nt).size}};Fe=new WeakMap;Nt=new WeakMap;Tt=new WeakMap;Or=new WeakMap;Rn=new WeakMap;Hn=new WeakMap;It=new WeakMap;Ue=new WeakSet;qo=function(e){let t=!1;e.forEach(n=>{if(es(n))if(t=z(this,Ue,hr).call(this,"syncing"),this.mode==="full")switch(n.headers.operation){case"insert":N(this,Fe).set(n.key,n.value);break;case"update":N(this,Fe).set(n.key,Be(Be({},N(this,Fe).get(n.key)),n.value));break;case"delete":N(this,Fe).delete(n.key);break}else switch(n.headers.operation){case"insert":N(this,Tt).add(n.key),N(this,Fe).set(n.key,n.value);break;case"update":N(this,Tt).has(n.key)&&N(this,Fe).set(n.key,Be(Be({},N(this,Fe).get(n.key)),n.value));break;case"delete":N(this,Tt).has(n.key)&&(N(this,Fe).delete(n.key),N(this,Tt).delete(n.key));break}if(po(n))switch(n.headers.control){case"up-to-date":t=z(this,Ue,hr).call(this,"up-to-date"),N(this,Rn)&&(q(this,Rn,!1),z(this,Ue,Do).call(this));break;case"must-refetch":N(this,Fe).clear(),N(this,Tt).clear(),q(this,It,!1),t=z(this,Ue,hr).call(this,"syncing"),q(this,Rn,!0);break}}),t&&z(this,Ue,ms).call(this)};Do=function(){return ne(this,null,function*(){yield z(this,Ue,ps).call(this),yield Promise.all(Array.from(N(this,Or)).map(e=>ne(this,null,function*(){try{const t=JSON.parse(e);yield this.stream.requestSnapshot(t)}catch{}})))})};ps=function(){return ne(this,null,function*(){this.stream.isUpToDate||(yield new Promise(e=>{const t=()=>{this.stream.isUpToDate&&(clearInterval(n),r(),e())},n=setInterval(t,10),r=this.stream.subscribe(()=>t(),()=>t());t()}))})};hr=function(e){const t=N(this,Hn)!==e;return q(this,Hn,e),t&&e==="up-to-date"};jo=function(e){e instanceof Ut&&(q(this,It,e),z(this,Ue,ms).call(this))};ms=function(){N(this,Nt).forEach(e=>{e({value:this.currentValue,rows:this.currentRows})})};var bn=new Map,xn=new Map;function Ri(e){return typeof e=="function"?Function.prototype.toString.call(e):typeof e!="object"||e===null?e:Array.isArray(e)?e.map(Ri):Object.keys(e).sort().reduce((t,n)=>(t[n]=Ri(e[n]),t),{})}function Fo(e){return JSON.stringify(Ri(e))}function bf(e){const t=Fo(e);if(bn.has(t)){const r=bn.get(t);if(!r.options.signal?.aborted)return r;bn.delete(t),xn.delete(r)}const n=new Io(e);return bn.set(t,n),n}function xf(e){if(xn.has(e)){if(!e.options.signal?.aborted)return xn.get(e);bn.delete(Fo(e.options)),xn.delete(e)}const t=new yf(e);return xn.set(e,t),t}function Qs(e){return{data:e.currentRows,isLoading:e.isLoading(),lastSyncedAt:e.lastSyncedAt(),isError:e.error!==!1,shape:e,stream:e.stream,error:e.error}}function _f(e,t){return!e||e.isLoading!==t.isLoading||e.lastSyncedAt!==t.lastSyncedAt||e.isError!==t.isError||e.error!==t.error||e.shape.lastOffset!==t.shape.lastOffset||e.shape.handle!==t.shape.handle}function kf(e){const t=bf(e),n=xf(t),[r,i]=j([]),[s,a]=j(!0),[o,l]=j(!1),[c,f]=j(null),[u,d]=j(void 0),p=Qs(n);i(p.data),a(p.isLoading),l(p.isError),f(p.error),d(p.lastSyncedAt);const _=n.subscribe(()=>{const b=Qs(n);_f(p,b)&&(i(b.data),a(b.isLoading),l(b.isError),f(b.error),d(b.lastSyncedAt))});return Oe(()=>_()),{data:r,isLoading:s,isError:o,error:c,lastSyncedAt:u,shape:n,stream:t}}const Sf="http://localhost:8000",pt="/api/v1";let De=Sf;De.endsWith("/api/v1")&&(De=De.replace("/api/v1",""));const it={SIGNUP:`${De}${pt}/auth/signup`,SIGNIN:`${De}${pt}/auth/signin`,SIGNOUT:`${De}${pt}/auth/signout`,REFRESH:`${De}${pt}/auth/refresh`,SEND_VERIFICATION:`${De}${pt}/auth/send-verification`,VERIFY_EMAIL:`${De}${pt}/auth/verify-email`,CURRENT_USER:`${De}${pt}/users/me`,ELECTRIC_SHAPE:`${De}${pt}/electric/shape`,HEALTH:`${De}/healthz`,HEALTH_DB:`${De}/healthz/db`};async function $f(e,t,n){const r=Intl.DateTimeFormat().resolvedOptions().timeZone,i=navigator.language,s=await fetch(it.SIGNUP,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t,name:n,timezone:r,locale:i})});if(!s.ok){const a=await s.text();throw console.error("Signup error:",a),new Error(a||"Signup failed")}}let zn=null;async function Ef(e,t){const n=Intl.DateTimeFormat().resolvedOptions().timeZone,r=navigator.language,i=await fetch(it.SIGNIN,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({email:e,password:t,timezone:n,locale:r})});if(!i.ok){const a=await i.text();throw console.error("Sign in failed:",a),new Error(a||"Sign in failed")}zn=(await i.json()).accessToken}async function hi(){const e=await Uo(it.CURRENT_USER);if(!e.ok){const t=await e.text();throw console.error("Failed to fetch user:",t),new Error(t||"Failed to fetch user")}return await e.json()}async function Uo(e,t={}){t.headers={...t.headers||{},Authorization:`Bearer ${zn}`},t.credentials="include";let n=await fetch(e,t);if(n.status===401||n.status===403)try{await Ni(),t.headers.Authorization=`Bearer ${zn}`,t.credentials="include",n=await fetch(e,t)}catch{throw await Bo(),new Error("Session expired. Please log in again.")}return n}async function Ni(){const e=await fetch(it.REFRESH,{method:"POST",credentials:"include"});if(!e.ok){const n=await e.text();throw console.error("Refresh failed:",n),new Error(n||"Refresh failed")}zn=(await e.json()).accessToken}async function Bo(){await fetch(it.SIGNOUT,{method:"POST",credentials:"include"}),zn=null}async function Cf(e){const t=await fetch(it.SEND_VERIFICATION,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e})});if(console.log("Send verification response:",await t.text()),!t.ok){const n=await t.text();throw console.error("Send verification error:",n),new Error(n||"Failed to send verification email")}}async function Af(e,t){const n=await fetch(it.VERIFY_EMAIL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,code:t})});if(!n.ok){const r=await n.text();throw console.error("Verify email error:",r),new Error(r||"Email verification failed")}}async function Pf(){const e=await fetch(it.HEALTH,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}async function Rf(){const e=await fetch(it.HEALTH_DB,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.status===200){const t=await e.json();console.log("Health DB check response data:",t)}if(!e.ok){const t=await e.text();throw console.error("Reset password error:",t),new Error(t||"Failed to reset password")}}const[Nf,Vo]=j(navigator.onLine);window.addEventListener("online",()=>{console.log("Went online"),Vo(!0)});window.addEventListener("offline",()=>{console.log("Went offline"),Vo(!1)});function Ho(){return Nf}const zo=Qr();function Tf(e){const[t,n]=j(!1),[r,i]=j(null),[s,a]=j(!0),o=Ho();let l=o();Gn(()=>{if(!o()){a(!1);return}c()}),we(()=>{o()&&!l&&!r()&&c(),l=o()});async function c(){a(!0);try{await Ni();const v=await hi();i(v)}catch{i(null),n(!1)}finally{a(!1)}}async function f(v,y,k){await $f(v,y,k),localStorage.setItem("pendingEmail",v)}async function u(){await Cf(localStorage.getItem("pendingEmail"))}async function d(v){await Af(localStorage.getItem("pendingEmail"),v),localStorage.removeItem("pendingEmail")}async function p(v,y){localStorage.setItem("pendingEmail",v),await Ef(v,y),localStorage.removeItem("pendingEmail"),n(!0),i(await hi())}async function _(){await Bo(),n(!1),i(null)}async function b(){const v=await hi();return i(v),v}async function C(){await Ni()}async function T(v,y={}){return await Uo(v,y)}function m(){return localStorage.getItem("pendingEmail")}return E(zo.Provider,{value:{isLoggedIn:t,user:r,signup:f,signin:p,signout:_,getCurrentUser:b,refreshAccessToken:C,authFetch:T,authLoading:s,sendEmailVerification:u,verifyEmail:d,getPendingEmail:m},get children(){return e.children}})}function gn(){return Xn(zo)}const Yo=Qr();function Mf(e){const[t,n]=iu({projects:[],currentProject:null,currentChecklist:null,dataLoading:!0,checklists:[]});Gn(async()=>{try{await r(),fu(r)}catch(m){console.error("Error loading data:",m)}finally{n("dataLoading",!1)}});async function r(){try{n("loading",!0);const m=await co();m.sort((y,k)=>(y.createdAt||0)-(k.createdAt||0)),n("projects",m);const v=await lo();n("checklists",v)}catch(m){throw console.error("Error loading IndexedDB data:",m),m}finally{n("loading",!1)}}async function i(m){try{return await hn(m),n("projects",v=>[...v,m]),m}catch(v){throw console.error("Error adding project:",v),v}}async function s(m){try{return await pu(m),n("projects",v=>v.filter(y=>y.id!==m)),t.currentProject?.id===m&&(n("currentProject",null),n("currentChecklist",null)),!0}catch(v){throw console.error("Error deleting project:",v),v}}function a(m){n("projects",m)}function o(m){let v=null;if(typeof m=="object"&&m!==null){if("project"in m&&m.project)v={...m.project};else if("id"in m)v=t.projects.find(y=>y.id===m.id);else if("name"in m){const y=t.projects.filter(k=>k.name===m.name);v=y[m.index??0]?{...y[m.index??0]}:null}}else typeof m=="string"&&(v=t.projects.find(y=>y.id===m),v||(v=t.projects.find(y=>y.name===m)),v=v?{...v}:null);n("currentProject",v)}function l(m){if(m==null)return n("currentChecklist",null),!1;const v=d(m);return n("currentChecklist",v||null),!!v}async function c(m,v,y){if(!m||!v)try{return await js(y),n("checklists",k=>[...k,y]),y}catch(k){throw console.error("Error adding checklist without project/review:",k),k}try{const k=await Fs(m,v,y),A=t.projects.findIndex($=>$.id===m);if(A!==-1){const $=(t.projects[A].reviews||[]).findIndex(h=>h.id===v);$!==-1&&n("projects",A,"reviews",$,k.reviews[$])}return y}catch(k){throw console.error("Error adding checklist:",k),k}}async function f(m){const v=_(m.id);if(!v)throw console.warn("Could not find checklist to update:",m.id),new Error(`Could not find checklist to update: ${m.id}`);try{const{projectIndex:y,reviewIndex:k,checklistIndex:A,review:$,project:h}=v;if(y>=0)await Fs(h.id,$.id,m),n("projects",y,"reviews",k,"checklists",A,{...m});else{const g=t.checklists.findIndex(w=>w.id===m.id);if(g>=0)await js(m),n("checklists",g,{...m});else throw console.warn("Could not find checklist:",m.id),new Error(`Could not find checklist: ${m.id}`)}return t.currentChecklist?.id===m.id&&n("currentChecklist",{...m}),m}catch(y){throw console.error("Error updating checklist:",y),y}}async function u(m,v,y){if(!m||!v)try{return await du(y),n("checklists",k=>k.filter(A=>A.id!==y)),t.currentChecklist?.id===y&&n("currentChecklist",null),!0}catch(k){return console.error("Error deleting checklist without project/review:",k),!1}try{await hu(m,v,y);const k=t.projects.findIndex(A=>A.id===m);if(k!==-1){const A=(t.projects[k].reviews||[]).findIndex($=>$.id===v);A!==-1&&n("projects",k,"reviews",A,"checklists",$=>$.filter(h=>h.id!==y))}return t.currentChecklist?.id===y&&n("currentChecklist",null),!0}catch(k){return console.error("Error deleting checklist:",k),!1}}function d(m){let v=_(m);return v?.checklist?{...v.checklist}:null}function p(m,v){let y=_(m);if(y&&typeof y.checklistIndex=="number")return y.checklistIndex;let k=-1;return m?k=t.checklists.findIndex(A=>A.id===m):v&&(k=t.checklists.findIndex(A=>A.name===v)),k}function _(m){if(typeof m=="object"&&m!==null){if("checklist"in m&&m.checklist)return _({id:m.checklist.id});if("id"in m)for(let v=0;v<t.projects.length;v++){const y=t.projects[v];for(let k=0;k<(y.reviews||[]).length;k++){const A=y.reviews[k],$=(A.checklists||[]).findIndex(h=>h.id===m.id);if($!==-1)return{project:y,projectIndex:v,review:A,reviewIndex:k,checklist:A.checklists[$],checklistIndex:$}}}else if("name"in m){let v=[];for(let y=0;y<t.projects.length;y++){const k=t.projects[y];for(let A=0;A<(k.reviews||[]).length;A++){const $=k.reviews[A];($.checklists||[]).forEach((h,g)=>{h.name===m.name&&v.push({project:k,projectIndex:y,review:$,reviewIndex:A,checklist:h,checklistIndex:g})})}}return v[m.index??0]||null}}else if(typeof m=="string"){for(let y=0;y<t.projects.length;y++){const k=t.projects[y];for(let A=0;A<(k.reviews||[]).length;A++){const $=k.reviews[A],h=($.checklists||[]).findIndex(g=>g.id===m);if(h!==-1)return{project:k,projectIndex:y,review:$,reviewIndex:A,checklist:$.checklists[h],checklistIndex:h}}}let v=[];for(let y=0;y<t.projects.length;y++){const k=t.projects[y];for(let A=0;A<(k.reviews||[]).length;A++){const $=k.reviews[A];($.checklists||[]).forEach((h,g)=>{h.name===m&&v.push({project:k,projectIndex:y,review:$,reviewIndex:A,checklist:h,checklistIndex:g})})}}return v[0]||null}return null}async function b(m,v){try{const y=t.projects.findIndex(A=>A.id===m);if(y===-1)throw new Error("Project not found");const k=await Us(m,v);return n("projects",y,k),v}catch(y){throw console.error("Error adding review:",y),y}}async function C(m,v){try{const y=t.projects.findIndex(A=>A.id===m);if(y===-1)throw new Error("Project not found");const k=await Us(m,v);return n("projects",y,k),v}catch(y){throw console.error("Error updating review:",y),y}}async function T(m,v){try{const y=t.projects.findIndex(A=>A.id===m);if(y===-1)throw new Error("Project not found");if(!await gu(m,v))throw new Error("Review not found or could not be deleted");return n("projects",y,A=>({...A,reviews:(A.reviews||[]).filter($=>$.id!==v)})),!0}catch(y){throw console.error("Error deleting review:",y),y}}return E(Yo.Provider,{value:{projects:()=>t.projects,currentProject:()=>t.currentProject,currentChecklist:()=>t.currentChecklist,dataLoading:()=>t.dataLoading,checklists:()=>t.checklists,loadData:r,setProjects:a,addProject:i,deleteProject:s,setCurrentProject:o,setCurrentChecklist:l,addChecklist:c,updateChecklist:f,deleteChecklist:u,getChecklist:d,getChecklistIndex:p,addReview:b,updateReview:C,deleteReview:T},get children(){return e.children}})}function zt(){return Xn(Yo)}var gr={exports:{}};/* @license
Papa Parse
v5.5.3
https://github.com/mholt/PapaParse
License: MIT
*/var Of=gr.exports,Ks;function If(){return Ks||(Ks=1,(function(e,t){((n,r)=>{e.exports=r()})(Of,function n(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,s=!r.document&&!!r.postMessage,a=r.IS_PAPA_WORKER||!1,o={},l=0,c={};function f(h){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(g){var w=k(g);w.chunkSize=parseInt(w.chunkSize),g.step||g.chunk||(w.chunkSize=null),this._handle=new b(w),(this._handle.streamer=this)._config=w}.call(this,h),this.parseChunk=function(g,w){var x=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<x){let R=this._config.newline;R||(S=this._config.quoteChar||'"',R=this._handle.guessLineEndings(g,S)),g=[...g.split(R).slice(x)].join(R)}this.isFirstChunk&&$(this._config.beforeFirstChunk)&&(S=this._config.beforeFirstChunk(g))!==void 0&&(g=S),this.isFirstChunk=!1,this._halted=!1;var x=this._partialLine+g,S=(this._partialLine="",this._handle.parse(x,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(g=S.meta.cursor,x=(this._finished||(this._partialLine=x.substring(g-this._baseIndex),this._baseIndex=g),S&&S.data&&(this._rowCount+=S.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),a)r.postMessage({results:S,workerId:c.WORKER_ID,finished:x});else if($(this._config.chunk)&&!w){if(this._config.chunk(S,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=S=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(S.data),this._completeResults.errors=this._completeResults.errors.concat(S.errors),this._completeResults.meta=S.meta),this._completed||!x||!$(this._config.complete)||S&&S.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),x||S&&S.meta.paused||this._nextChunk(),S}this._halted=!0},this._sendError=function(g){$(this._config.error)?this._config.error(g):a&&this._config.error&&r.postMessage({workerId:c.WORKER_ID,error:g,finished:!1})}}function u(h){var g;(h=h||{}).chunkSize||(h.chunkSize=c.RemoteChunkSize),f.call(this,h),this._nextChunk=s?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(w){this._input=w,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(g=new XMLHttpRequest,this._config.withCredentials&&(g.withCredentials=this._config.withCredentials),s||(g.onload=A(this._chunkLoaded,this),g.onerror=A(this._chunkError,this)),g.open(this._config.downloadRequestBody?"POST":"GET",this._input,!s),this._config.downloadRequestHeaders){var w,x=this._config.downloadRequestHeaders;for(w in x)g.setRequestHeader(w,x[w])}var S;this._config.chunkSize&&(S=this._start+this._config.chunkSize-1,g.setRequestHeader("Range","bytes="+this._start+"-"+S));try{g.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}s&&g.status===0&&this._chunkError()}},this._chunkLoaded=function(){g.readyState===4&&(g.status<200||400<=g.status?this._chunkError():(this._start+=this._config.chunkSize||g.responseText.length,this._finished=!this._config.chunkSize||this._start>=(w=>(w=w.getResponseHeader("Content-Range"))!==null?parseInt(w.substring(w.lastIndexOf("/")+1)):-1)(g),this.parseChunk(g.responseText)))},this._chunkError=function(w){w=g.statusText||w,this._sendError(new Error(w))}}function d(h){(h=h||{}).chunkSize||(h.chunkSize=c.LocalChunkSize),f.call(this,h);var g,w,x=typeof FileReader<"u";this.stream=function(S){this._input=S,w=S.slice||S.webkitSlice||S.mozSlice,x?((g=new FileReader).onload=A(this._chunkLoaded,this),g.onerror=A(this._chunkError,this)):g=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var S=this._input,R=(this._config.chunkSize&&(R=Math.min(this._start+this._config.chunkSize,this._input.size),S=w.call(S,this._start,R)),g.readAsText(S,this._config.encoding));x||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(S){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(S.target.result)},this._chunkError=function(){this._sendError(g.error)}}function p(h){var g;f.call(this,h=h||{}),this.stream=function(w){return g=w,this._nextChunk()},this._nextChunk=function(){var w,x;if(!this._finished)return w=this._config.chunkSize,g=w?(x=g.substring(0,w),g.substring(w)):(x=g,""),this._finished=!g,this.parseChunk(x)}}function _(h){f.call(this,h=h||{});var g=[],w=!0,x=!1;this.pause=function(){f.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){f.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(S){this._input=S,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){x&&g.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),g.length?this.parseChunk(g.shift()):w=!0},this._streamData=A(function(S){try{g.push(typeof S=="string"?S:S.toString(this._config.encoding)),w&&(w=!1,this._checkIsFinished(),this.parseChunk(g.shift()))}catch(R){this._streamError(R)}},this),this._streamError=A(function(S){this._streamCleanUp(),this._sendError(S)},this),this._streamEnd=A(function(){this._streamCleanUp(),x=!0,this._streamData("")},this),this._streamCleanUp=A(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function b(h){var g,w,x,S,R=Math.pow(2,53),I=-R,F=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,U=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,D=this,Y=0,L=0,ue=!1,B=!1,H=[],O={data:[],errors:[],meta:{}};function de(V){return h.skipEmptyLines==="greedy"?V.join("").trim()==="":V.length===1&&V[0].length===0}function he(){if(O&&x&&(Re("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+c.DefaultDelimiter+"'"),x=!1),h.skipEmptyLines&&(O.data=O.data.filter(function(oe){return!de(oe)})),ve()){let oe=function(pe,ce){$(h.transformHeader)&&(pe=h.transformHeader(pe,ce)),H.push(pe)};var K=oe;if(O)if(Array.isArray(O.data[0])){for(var V=0;ve()&&V<O.data.length;V++)O.data[V].forEach(oe);O.data.splice(0,1)}else O.data.forEach(oe)}function J(oe,pe){for(var ce=h.header?{}:[],re=0;re<oe.length;re++){var G=re,ye=oe[re],ye=((ee,ae)=>(ge=>(h.dynamicTypingFunction&&h.dynamicTyping[ge]===void 0&&(h.dynamicTyping[ge]=h.dynamicTypingFunction(ge)),(h.dynamicTyping[ge]||h.dynamicTyping)===!0))(ee)?ae==="true"||ae==="TRUE"||ae!=="false"&&ae!=="FALSE"&&((ge=>{if(F.test(ge)&&(ge=parseFloat(ge),I<ge&&ge<R))return 1})(ae)?parseFloat(ae):U.test(ae)?new Date(ae):ae===""?null:ae):ae)(G=h.header?re>=H.length?"__parsed_extra":H[re]:G,ye=h.transform?h.transform(ye,G):ye);G==="__parsed_extra"?(ce[G]=ce[G]||[],ce[G].push(ye)):ce[G]=ye}return h.header&&(re>H.length?Re("FieldMismatch","TooManyFields","Too many fields: expected "+H.length+" fields but parsed "+re,L+pe):re<H.length&&Re("FieldMismatch","TooFewFields","Too few fields: expected "+H.length+" fields but parsed "+re,L+pe)),ce}var fe;O&&(h.header||h.dynamicTyping||h.transform)&&(fe=1,!O.data.length||Array.isArray(O.data[0])?(O.data=O.data.map(J),fe=O.data.length):O.data=J(O.data,0),h.header&&O.meta&&(O.meta.fields=H),L+=fe)}function ve(){return h.header&&H.length===0}function Re(V,J,fe,K){V={type:V,code:J,message:fe},K!==void 0&&(V.row=K),O.errors.push(V)}$(h.step)&&(S=h.step,h.step=function(V){O=V,ve()?he():(he(),O.data.length!==0&&(Y+=V.data.length,h.preview&&Y>h.preview?w.abort():(O.data=O.data[0],S(O,D))))}),this.parse=function(V,J,fe){var K=h.quoteChar||'"',K=(h.newline||(h.newline=this.guessLineEndings(V,K)),x=!1,h.delimiter?$(h.delimiter)&&(h.delimiter=h.delimiter(V),O.meta.delimiter=h.delimiter):((K=((oe,pe,ce,re,G)=>{var ye,ee,ae,ge;G=G||[",","	","|",";",c.RECORD_SEP,c.UNIT_SEP];for(var Ce=0;Ce<G.length;Ce++){for(var Ne,gt=G[Ce],xe=0,Le=0,be=0,ke=(ae=void 0,new T({comments:re,delimiter:gt,newline:pe,preview:10}).parse(oe)),at=0;at<ke.data.length;at++)ce&&de(ke.data[at])?be++:(Ne=ke.data[at].length,Le+=Ne,ae===void 0?ae=Ne:0<Ne&&(xe+=Math.abs(Ne-ae),ae=Ne));0<ke.data.length&&(Le/=ke.data.length-be),(ee===void 0||xe<=ee)&&(ge===void 0||ge<Le)&&1.99<Le&&(ee=xe,ye=gt,ge=Le)}return{successful:!!(h.delimiter=ye),bestDelimiter:ye}})(V,h.newline,h.skipEmptyLines,h.comments,h.delimitersToGuess)).successful?h.delimiter=K.bestDelimiter:(x=!0,h.delimiter=c.DefaultDelimiter),O.meta.delimiter=h.delimiter),k(h));return h.preview&&h.header&&K.preview++,g=V,w=new T(K),O=w.parse(g,J,fe),he(),ue?{meta:{paused:!0}}:O||{meta:{paused:!1}}},this.paused=function(){return ue},this.pause=function(){ue=!0,w.abort(),g=$(h.chunk)?"":g.substring(w.getCharIndex())},this.resume=function(){D.streamer._halted?(ue=!1,D.streamer.parseChunk(g,!0)):setTimeout(D.resume,3)},this.aborted=function(){return B},this.abort=function(){B=!0,w.abort(),O.meta.aborted=!0,$(h.complete)&&h.complete(O),g=""},this.guessLineEndings=function(oe,K){oe=oe.substring(0,1048576);var K=new RegExp(C(K)+"([^]*?)"+C(K),"gm"),fe=(oe=oe.replace(K,"")).split("\r"),K=oe.split(`
`),oe=1<K.length&&K[0].length<fe[0].length;if(fe.length===1||oe)return`
`;for(var pe=0,ce=0;ce<fe.length;ce++)fe[ce][0]===`
`&&pe++;return pe>=fe.length/2?`\r
`:"\r"}}function C(h){return h.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T(h){var g=(h=h||{}).delimiter,w=h.newline,x=h.comments,S=h.step,R=h.preview,I=h.fastMode,F=null,U=!1,D=h.quoteChar==null?'"':h.quoteChar,Y=D;if(h.escapeChar!==void 0&&(Y=h.escapeChar),(typeof g!="string"||-1<c.BAD_DELIMITERS.indexOf(g))&&(g=","),x===g)throw new Error("Comment character same as delimiter");x===!0?x="#":(typeof x!="string"||-1<c.BAD_DELIMITERS.indexOf(x))&&(x=!1),w!==`
`&&w!=="\r"&&w!==`\r
`&&(w=`
`);var L=0,ue=!1;this.parse=function(B,H,O){if(typeof B!="string")throw new Error("Input must be a string");var de=B.length,he=g.length,ve=w.length,Re=x.length,V=$(S),J=[],fe=[],K=[],oe=L=0;if(!B)return xe();if(I||I!==!1&&B.indexOf(D)===-1){for(var pe=B.split(w),ce=0;ce<pe.length;ce++){if(K=pe[ce],L+=K.length,ce!==pe.length-1)L+=w.length;else if(O)return xe();if(!x||K.substring(0,Re)!==x){if(V){if(J=[],ge(K.split(g)),Le(),ue)return xe()}else ge(K.split(g));if(R&&R<=ce)return J=J.slice(0,R),xe(!0)}}return xe()}for(var re=B.indexOf(g,L),G=B.indexOf(w,L),ye=new RegExp(C(Y)+C(D),"g"),ee=B.indexOf(D,L);;)if(B[L]===D)for(ee=L,L++;;){if((ee=B.indexOf(D,ee+1))===-1)return O||fe.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:J.length,index:L}),Ne();if(ee===de-1)return Ne(B.substring(L,ee).replace(ye,D));if(D===Y&&B[ee+1]===Y)ee++;else if(D===Y||ee===0||B[ee-1]!==Y){re!==-1&&re<ee+1&&(re=B.indexOf(g,ee+1));var ae=Ce((G=G!==-1&&G<ee+1?B.indexOf(w,ee+1):G)===-1?re:Math.min(re,G));if(B.substr(ee+1+ae,he)===g){K.push(B.substring(L,ee).replace(ye,D)),B[L=ee+1+ae+he]!==D&&(ee=B.indexOf(D,L)),re=B.indexOf(g,L),G=B.indexOf(w,L);break}if(ae=Ce(G),B.substring(ee+1+ae,ee+1+ae+ve)===w){if(K.push(B.substring(L,ee).replace(ye,D)),gt(ee+1+ae+ve),re=B.indexOf(g,L),ee=B.indexOf(D,L),V&&(Le(),ue))return xe();if(R&&J.length>=R)return xe(!0);break}fe.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:J.length,index:L}),ee++}}else if(x&&K.length===0&&B.substring(L,L+Re)===x){if(G===-1)return xe();L=G+ve,G=B.indexOf(w,L),re=B.indexOf(g,L)}else if(re!==-1&&(re<G||G===-1))K.push(B.substring(L,re)),L=re+he,re=B.indexOf(g,L);else{if(G===-1)break;if(K.push(B.substring(L,G)),gt(G+ve),V&&(Le(),ue))return xe();if(R&&J.length>=R)return xe(!0)}return Ne();function ge(be){J.push(be),oe=L}function Ce(be){var ke=0;return ke=be!==-1&&(be=B.substring(ee+1,be))&&be.trim()===""?be.length:ke}function Ne(be){return O||(be===void 0&&(be=B.substring(L)),K.push(be),L=de,ge(K),V&&Le()),xe()}function gt(be){L=be,ge(K),K=[],G=B.indexOf(w,L)}function xe(be){if(h.header&&!H&&J.length&&!U){var ke=J[0],at=Object.create(null),li=new Set(ke);let Ns=!1;for(let Yt=0;Yt<ke.length;Yt++){let Ge=ke[Yt];if(at[Ge=$(h.transformHeader)?h.transformHeader(Ge,Yt):Ge]){let pn,Ts=at[Ge];for(;pn=Ge+"_"+Ts,Ts++,li.has(pn););li.add(pn),ke[Yt]=pn,at[Ge]++,Ns=!0,(F=F===null?{}:F)[pn]=Ge}else at[Ge]=1,ke[Yt]=Ge;li.add(Ge)}Ns&&console.warn("Duplicate headers found and renamed."),U=!0}return{data:J,errors:fe,meta:{delimiter:g,linebreak:w,aborted:ue,truncated:!!be,cursor:oe+(H||0),renamedHeaders:F}}}function Le(){S(xe()),J=[],fe=[]}},this.abort=function(){ue=!0},this.getCharIndex=function(){return L}}function m(h){var g=h.data,w=o[g.workerId],x=!1;if(g.error)w.userError(g.error,g.file);else if(g.results&&g.results.data){var S={abort:function(){x=!0,v(g.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:y,resume:y};if($(w.userStep)){for(var R=0;R<g.results.data.length&&(w.userStep({data:g.results.data[R],errors:g.results.errors,meta:g.results.meta},S),!x);R++);delete g.results}else $(w.userChunk)&&(w.userChunk(g.results,S,g.file),delete g.results)}g.finished&&!x&&v(g.workerId,g.results)}function v(h,g){var w=o[h];$(w.userComplete)&&w.userComplete(g),w.terminate(),delete o[h]}function y(){throw new Error("Not implemented.")}function k(h){if(typeof h!="object"||h===null)return h;var g,w=Array.isArray(h)?[]:{};for(g in h)w[g]=k(h[g]);return w}function A(h,g){return function(){h.apply(g,arguments)}}function $(h){return typeof h=="function"}return c.parse=function(h,g){var w=(g=g||{}).dynamicTyping||!1;if($(w)&&(g.dynamicTypingFunction=w,w={}),g.dynamicTyping=w,g.transform=!!$(g.transform)&&g.transform,!g.worker||!c.WORKERS_SUPPORTED)return w=null,c.NODE_STREAM_INPUT,typeof h=="string"?(h=(x=>x.charCodeAt(0)!==65279?x:x.slice(1))(h),w=new(g.download?u:p)(g)):h.readable===!0&&$(h.read)&&$(h.on)?w=new _(g):(r.File&&h instanceof File||h instanceof Object)&&(w=new d(g)),w.stream(h);(w=(()=>{var x;return!!c.WORKERS_SUPPORTED&&(x=(()=>{var S=r.URL||r.webkitURL||null,R=n.toString();return c.BLOB_URL||(c.BLOB_URL=S.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))})(),(x=new r.Worker(x)).onmessage=m,x.id=l++,o[x.id]=x)})()).userStep=g.step,w.userChunk=g.chunk,w.userComplete=g.complete,w.userError=g.error,g.step=$(g.step),g.chunk=$(g.chunk),g.complete=$(g.complete),g.error=$(g.error),delete g.worker,w.postMessage({input:h,config:g,workerId:w.id})},c.unparse=function(h,g){var w=!1,x=!0,S=",",R=`\r
`,I='"',F=I+I,U=!1,D=null,Y=!1,L=((()=>{if(typeof g=="object"){if(typeof g.delimiter!="string"||c.BAD_DELIMITERS.filter(function(H){return g.delimiter.indexOf(H)!==-1}).length||(S=g.delimiter),typeof g.quotes!="boolean"&&typeof g.quotes!="function"&&!Array.isArray(g.quotes)||(w=g.quotes),typeof g.skipEmptyLines!="boolean"&&typeof g.skipEmptyLines!="string"||(U=g.skipEmptyLines),typeof g.newline=="string"&&(R=g.newline),typeof g.quoteChar=="string"&&(I=g.quoteChar),typeof g.header=="boolean"&&(x=g.header),Array.isArray(g.columns)){if(g.columns.length===0)throw new Error("Option columns is empty");D=g.columns}g.escapeChar!==void 0&&(F=g.escapeChar+I),g.escapeFormulae instanceof RegExp?Y=g.escapeFormulae:typeof g.escapeFormulae=="boolean"&&g.escapeFormulae&&(Y=/^[=+\-@\t\r].*$/)}})(),new RegExp(C(I),"g"));if(typeof h=="string"&&(h=JSON.parse(h)),Array.isArray(h)){if(!h.length||Array.isArray(h[0]))return ue(null,h,U);if(typeof h[0]=="object")return ue(D||Object.keys(h[0]),h,U)}else if(typeof h=="object")return typeof h.data=="string"&&(h.data=JSON.parse(h.data)),Array.isArray(h.data)&&(h.fields||(h.fields=h.meta&&h.meta.fields||D),h.fields||(h.fields=Array.isArray(h.data[0])?h.fields:typeof h.data[0]=="object"?Object.keys(h.data[0]):[]),Array.isArray(h.data[0])||typeof h.data[0]=="object"||(h.data=[h.data])),ue(h.fields||[],h.data||[],U);throw new Error("Unable to serialize unrecognized input");function ue(H,O,de){var he="",ve=(typeof H=="string"&&(H=JSON.parse(H)),typeof O=="string"&&(O=JSON.parse(O)),Array.isArray(H)&&0<H.length),Re=!Array.isArray(O[0]);if(ve&&x){for(var V=0;V<H.length;V++)0<V&&(he+=S),he+=B(H[V],V);0<O.length&&(he+=R)}for(var J=0;J<O.length;J++){var fe=(ve?H:O[J]).length,K=!1,oe=ve?Object.keys(O[J]).length===0:O[J].length===0;if(de&&!ve&&(K=de==="greedy"?O[J].join("").trim()==="":O[J].length===1&&O[J][0].length===0),de==="greedy"&&ve){for(var pe=[],ce=0;ce<fe;ce++){var re=Re?H[ce]:ce;pe.push(O[J][re])}K=pe.join("").trim()===""}if(!K){for(var G=0;G<fe;G++){0<G&&!oe&&(he+=S);var ye=ve&&Re?H[G]:G;he+=B(O[J][ye],G)}J<O.length-1&&(!de||0<fe&&!oe)&&(he+=R)}}return he}function B(H,O){var de,he;return H==null?"":H.constructor===Date?JSON.stringify(H).slice(1,25):(he=!1,Y&&typeof H=="string"&&Y.test(H)&&(H="'"+H,he=!0),de=H.toString().replace(L,F),(he=he||w===!0||typeof w=="function"&&w(H,O)||Array.isArray(w)&&w[O]||((ve,Re)=>{for(var V=0;V<Re.length;V++)if(-1<ve.indexOf(Re[V]))return!0;return!1})(de,c.BAD_DELIMITERS)||-1<de.indexOf(S)||de.charAt(0)===" "||de.charAt(de.length-1)===" ")?I+de+I:de)}},c.RECORD_SEP="",c.UNIT_SEP="",c.BYTE_ORDER_MARK="\uFEFF",c.BAD_DELIMITERS=["\r",`
`,'"',c.BYTE_ORDER_MARK],c.WORKERS_SUPPORTED=!s&&!!r.Worker,c.NODE_STREAM_INPUT=1,c.LocalChunkSize=10485760,c.RemoteChunkSize=5242880,c.DefaultDelimiter=",",c.Parser=T,c.ParserHandle=b,c.NetworkStreamer=u,c.FileStreamer=d,c.StringStreamer=p,c.ReadableStreamStreamer=_,r.jQuery&&((i=r.jQuery).fn.parse=function(h){var g=h.config||{},w=[];return this.each(function(R){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var I=0;I<this.files.length;I++)w.push({file:this.files[I],inputElem:this,instanceConfig:i.extend({},g)})}),x(),this;function x(){if(w.length===0)$(h.complete)&&h.complete();else{var R,I,F,U,D=w[0];if($(h.before)){var Y=h.before(D.file,D.inputElem);if(typeof Y=="object"){if(Y.action==="abort")return R="AbortError",I=D.file,F=D.inputElem,U=Y.reason,void($(h.error)&&h.error({name:R},I,F,U));if(Y.action==="skip")return void S();typeof Y.config=="object"&&(D.instanceConfig=i.extend(D.instanceConfig,Y.config))}else if(Y==="skip")return void S()}var L=D.instanceConfig.complete;D.instanceConfig.complete=function(ue){$(L)&&L(ue,D.file,D.inputElem),S()},c.parse(D.file,D.instanceConfig)}}function S(){w.splice(0,1),x()}}),a&&(r.onmessage=function(h){h=h.data,c.WORKER_ID===void 0&&h&&(c.WORKER_ID=h.workerId),typeof h.input=="string"?r.postMessage({workerId:c.WORKER_ID,results:c.parse(h.input,h.config),finished:!0}):(r.File&&h.input instanceof File||h.input instanceof Object)&&(h=c.parse(h.input,h.config))&&r.postMessage({workerId:c.WORKER_ID,results:h,finished:!0})}),(u.prototype=Object.create(f.prototype)).constructor=u,(d.prototype=Object.create(f.prototype)).constructor=d,(p.prototype=Object.create(p.prototype)).constructor=p,(_.prototype=Object.create(f.prototype)).constructor=_,c})})(gr)),gr.exports}If();function ws({name:e=null,id:t=null,createdAt:n=Date.now(),reviewerName:r=""}){if(!t||typeof t!="string"||!t.trim())throw new Error("AMSTAR2Checklist requires a non-empty string id.");if(!e||typeof e!="string"||!e.trim())throw new Error("AMSTAR2Checklist requires a non-empty string name.");return{name:e,reviewerName:r||"",createdAt:n,id:t,q1:{answers:[[!1,!1,!1,!1],[!1],[!1,!0]],critical:!1},q2:{answers:[[!1,!1,!1,!1],[!1,!1,!1],[!1,!1,!0]],critical:!0},q3:{answers:[[!1,!1,!1],[!1,!0]],critical:!1},q4:{answers:[[!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!0]],critical:!0},q5:{answers:[[!1,!1],[!1,!0]],critical:!1},q6:{answers:[[!1,!1],[!1,!0]],critical:!1},q7:{answers:[[!1],[!1],[!1,!1,!0]],critical:!0},q8:{answers:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!0]],critical:!1},q9a:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q9b:{answers:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],critical:!0},q10:{answers:[[!1],[!1,!0]],critical:!1},q11a:{answers:[[!1,!1,!1],[!1,!0,!1]],critical:!0},q11b:{answers:[[!1,!1,!1,!1],[!1,!0,!1]],critical:!0},q12:{answers:[[!1,!1],[!1,!0,!1]],critical:!1},q13:{answers:[[!1,!1],[!1,!0]],critical:!0},q14:{answers:[[!1,!1],[!1,!0]],critical:!1},q15:{answers:[[!1],[!1,!0,!1]],critical:!0},q16:{answers:[[!1,!1],[!1,!0]],critical:!1}}}function Gs(e){if(!e||typeof e!="object")return"Error";let t=0,n=0;return Object.entries(e).forEach(([r,i])=>{if(!/^q\d+[a-z]*$/i.test(r)||!i||!Array.isArray(i.answers))return;const s=Wo(i.answers,r);(!s||s==="No")&&(i.critical?t++:n++)}),t>1?"Critically Low":t===1?"Low":n>1?"Moderate":"High"}function Wo(e,t){const n=["q11a","q11b","q12","q15"],r=["Yes","No","No MA"],i=["Yes","Partial Yes","No","No MA"];if(!Array.isArray(e)||e.length===0)return null;const s=e[e.length-1];if(!Array.isArray(s))return null;const a=s.findIndex(o=>o===!0);return a===-1?null:n.includes(t)?r[a]||null:s.length===2?a===0?"Yes":"No":s.length>=3&&i[a]||null}function Lf(e){if(!e||typeof e!="object")return null;const t={};return Object.entries(e).forEach(([n,r])=>{if(!/^q\d+[a-z]*$/i.test(n)||!r||!Array.isArray(r.answers))return;const i=Wo(r.answers,n);t[n]=i}),"q9a"in t&&"q9b"in t&&(t.q9a==="No"||t.q9b==="No"?t.q9="No":t.q9a==="No MA"&&t.q9b==="No MA"?t.q9="No MA":t.q9="Yes"),delete t.q9a,delete t.q9b,"q11a"in t&&"q11b"in t&&(t.q11a==="No"||t.q11b==="No"?t.q11="No":t.q11a==="No MA"&&t.q11b==="No MA"?t.q11="No MA":t.q11="Yes"),delete t.q11a,delete t.q11b,t}var qf=M('<div class="bg-white rounded-lg shadow-md p-8 text-sm"><div class=flex><h3 class="font-semibold text-gray-900"></h3></div><div class="font-semibold text-gray-900 h-4 mt-2 mb-1"></div><div class="font-semibold text-gray-900 h-4 mt-2">'),Df=M('<div class="bg-white rounded-lg shadow-md p-8 text-sm"><div class=flex><h3 class="font-semibold text-gray-900"></h3></div><div class="font-semibold text-gray-900 h-4 mt-2"></div><div class="font-semibold text-gray-900 h-4 mt-4">'),jf=M('<div class="bg-white rounded-lg shadow-md p-7"><div class=flex><h3 class="font-semibold text-sm text-gray-900 mb-1">'),Ff=M("<div class=ml-auto><button>"),Uf=M('<div class="flex flex-col gap-4 sm:flex-row sm:gap-6">'),Bf=M('<div><div class="font-semibold text-gray-800 text-xs break-words whitespace-normal min-w-0 w-full min-h-[2rem] flex items-center">'),Vf=M('<div class="flex flex-col gap-2 mt-1">'),Hf=M('<label class="flex items-center space-x-2 text-xs"><input type=radio class="w-3.5 h-3.5 text-blue-600 border-gray-300 focus:ring-blue-500 cursor-pointer"><span class="text-gray-700 break-words">'),zf=M('<div class="flex flex-col gap-2">'),Yf=M('<label class="flex items-center space-x-2 text-xs"><input type=checkbox class="w-3 h-3 shrink-0 text-blue-600 border-gray-300 focus:ring-blue-500"><span class="text-gray-700 break-words">'),Wf=M("<div class=space-y-6>"),Qf=M('<div class="min-h-screen bg-linear-to-br from-blue-50 to-indigo-100"><div class="container mx-auto px-4 py-6 max-w-5xl"><div class="bg-white rounded-lg shadow-lg p-6 mb-8"><h1 class="text-2xl font-bold text-gray-900 mb-4">AMSTAR 2 Checklist</h1><div class="grid md:grid-cols-3 gap-4 text-xs"><div><label class="block font-medium text-gray-700 mb-2">Review Title</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs"placeholder="Enter review title"></div><div><label class="block font-medium text-gray-700 mb-2">Reviewer Name</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs"placeholder="Enter your name"></div><div><label class="block font-medium text-gray-700 mb-2">Review Date</label><input type=date class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 text-xs">'),Kf=M("<div>Loading...");function Gf(e){const t=()=>e.checklistState().q1,n=Ee.q1;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0){const l=a[0].every(Boolean);a[2][0]=l,a[2][1]=!l}i===2&&(s===0&&a[2][0]&&(a[2][1]=!1),s===1&&a[2][1]&&(a[2][0]=!1));const o={...e.checklistState().q1,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function Xf(e){const t=()=>e.checklistState().q2,n=Ee.q2;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0||i===1){const l=a[0].every(Boolean),c=l&&a[1].every(Boolean);a[2][0]=c,a[2][1]=!c&&l,a[2][2]=!c&&!l}i===2&&(a[2]=a[2].map((l,c)=>c===s?!t().answers[2][s]:!1));const o={...e.checklistState().q2,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function Jf(e){const t=()=>e.checklistState().q3,n=Ee.q3;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0){const l=a[0].some(Boolean);a[1][0]=l,a[1][1]=!l}i===1&&(s===0&&a[1][0]&&(a[1][1]=!1),s===1&&a[1][1]&&(a[1][0]=!1));const o={...e.checklistState().q3,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function Zf(e){const t=()=>e.checklistState().q4,n=Ee.q4;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0||i===1){const l=a[0].every(Boolean),c=l&&a[1].every(Boolean);a[2][0]=c,a[2][1]=!c&&l,a[2][2]=!c&&!l}i===2&&(a[2]=a[2].map((l,c)=>c===s?!t().answers[2][s]:!1));const o={...e.checklistState().q4,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function ed(e){const t=()=>e.checklistState().q5,n=Ee.q5;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0){const l=a[0].some(Boolean);a[1][0]=l,a[1][1]=!l}i===1&&(s===0&&a[1][0]&&(a[1][1]=!1),s===1&&a[1][1]&&(a[1][0]=!1));const o={...e.checklistState().q5,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function td(e){const t=()=>e.checklistState().q6,n=Ee.q6;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0){const l=a[0].some(Boolean);a[1][0]=l,a[1][1]=!l}i===1&&(s===0&&a[1][0]&&(a[1][1]=!1),s===1&&a[1][1]&&(a[1][0]=!1));const o={...e.checklistState().q6,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function nd(e){const t=()=>e.checklistState().q7,n=Ee.q7;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0||i===1){const l=a[0].every(Boolean),c=l&&a[1].every(Boolean);a[2][0]=c,a[2][1]=!c&&l,a[2][2]=!c&&!l}i===2&&(a[2]=a[2].map((l,c)=>c===s?!t().answers[2][s]:!1));const o={...e.checklistState().q7,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function rd(e){const t=()=>e.checklistState().q8,n=Ee.q8;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0||i===1){const l=a[0].every(Boolean),c=l&&a[1].every(Boolean);a[2][0]=c,a[2][1]=!c&&l,a[2][2]=!c&&!l}i===2&&(a[2]=a[2].map((l,c)=>c===s?!t().answers[2][s]:!1));const o={...e.checklistState().q8,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function id(e){const t=()=>e.checklistState().q9a,n=()=>e.checklistState().q9b,r=Ee.q9;function i(o,l){const c=t().answers.map(u=>[...u]);if(c[o][l]=!t().answers[o][l],o===0||o===1){const u=c[0].every(Boolean),d=u&&c[1].every(Boolean);c[2][0]=d,c[2][1]=!d&&u,c[2][2]=!d&&!u,c[2][3]=!1}o===2&&(c[2]=c[2].map((u,d)=>d===l?!t().answers[2][l]:!1));const f={...e.checklistState().q9a,answers:c};e.onUpdatea(f)}function s(o,l){const c=n().answers.map(u=>[...u]);if(c[o][l]=!n().answers[o][l],o===0||o===1){const u=c[0].every(Boolean),d=u&&c[1].every(Boolean);c[2][0]=d,c[2][1]=!d&&u,c[2][2]=!d&&!u,c[2][3]=!1}o===2&&(c[2]=c[2].map((u,d)=>d===l?!n().answers[2][l]:!1));const f={...e.checklistState().q9b,answers:c};console.log("Updating q9b to",f),e.onUpdateb(f)}function a(o){const l=o.critical,c={...t(),critical:l},f={...n(),critical:l};e.onUpdatea(c),setTimeout(()=>{e.onUpdateb(f)},10)}return(()=>{var o=qf(),l=o.firstChild,c=l.firstChild,f=l.nextSibling,u=f.nextSibling;return P(c,()=>r.text),P(l,E(vs,{state:t,onUpdate:a}),null),P(f,()=>r.subtitle),P(o,E(Yn,{state:t,question:{text:"q9a"},get columns(){return r.columns},handleChange:i}),u),P(u,()=>r.subtitle2),P(o,E(Yn,{state:n,question:{text:"q9b"},get columns(){return r.columns2},handleChange:s}),null),o})()}function sd(e){const t=()=>e.checklistState().q10,n=Ee.q10;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0){const l=a[0].some(Boolean);a[1][0]=l,a[1][1]=!l}i===1&&(s===0&&a[1][0]&&(a[1][1]=!1),s===1&&a[1][1]&&(a[1][0]=!1));const o={...e.checklistState().q10,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function ad(e){const t=()=>e.checklistState().q11a,n=()=>e.checklistState().q11b,r=Ee.q11;function i(o,l){const c=t().answers.map(u=>[...u]);if(c[o][l]=!t().answers[o][l],o===0){const u=c[0].every(Boolean);c[1][0]=u,c[1][1]=!u,c[1][2]=!1}o===1&&(c[1]=c[1].map((u,d)=>d===l?!t().answers[1][l]:!1));const f={...e.checklistState().q11a,answers:c};e.onUpdatea(f)}function s(o,l){const c=n().answers.map(u=>[...u]);if(c[o][l]=!n().answers[o][l],o===0){const u=c[0].every(Boolean);c[1][0]=u,c[1][1]=!u,c[1][2]=!1}o===1&&(c[1]=c[1].map((u,d)=>d===l?!n().answers[1][l]:!1));const f={...e.checklistState().q11b,answers:c};e.onUpdateb(f)}function a(o){const l=o.critical,c={...t(),critical:l},f={...n(),critical:l};e.onUpdatea(c),setTimeout(()=>{e.onUpdateb(f)},10)}return(()=>{var o=Df(),l=o.firstChild,c=l.firstChild,f=l.nextSibling,u=f.nextSibling;return P(c,()=>r.text),P(l,E(vs,{state:t,onUpdate:a}),null),P(f,()=>r.subtitle),P(o,E(Yn,{state:t,question:{text:"q11a"},get columns(){return r.columns},handleChange:i,width:"w-48"}),u),P(u,()=>r.subtitle2),P(o,E(Yn,{state:n,question:{text:"q11b"},get columns(){return r.columns2},handleChange:s,width:"w-48"}),null),o})()}function od(e){const t=()=>e.checklistState().q12,n=Ee.q12;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0){const l=a[0].some(Boolean);a[1][0]=l,a[1][1]=!l,a[1][2]=!1}i===1&&(a[1]=a[1].map((l,c)=>c===s?!t().answers[1][s]:!1));const o={...e.checklistState().q12,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e,{width:"w-48"}))}function ld(e){const t=()=>e.checklistState().q13,n=Ee.q13;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0){const l=a[0].some(Boolean);a[1][0]=l,a[1][1]=!l}i===1&&(s===0&&a[1][0]&&(a[1][1]=!1),s===1&&a[1][1]&&(a[1][0]=!1));const o={...e.checklistState().q13,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function cd(e){const t=()=>e.checklistState().q14,n=Ee.q14;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0){const l=a[0].some(Boolean);a[1][0]=l,a[1][1]=!l}i===1&&(s===0&&a[1][0]&&(a[1][1]=!1),s===1&&a[1][1]&&(a[1][0]=!1));const o={...e.checklistState().q14,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function ud(e){const t=()=>e.checklistState().q15,n=Ee.q15;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0){const l=a[0].some(Boolean);a[1][0]=l,a[1][1]=!l,a[1][2]=!1}i===1&&(a[1]=a[1].map((l,c)=>c===s?!t().answers[1][s]:!1));const o={...e.checklistState().q15,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e,{width:"w-48"}))}function fd(e){const t=()=>e.checklistState().q16,n=Ee.q16;function r(i,s){const a=t().answers.map(l=>[...l]);if(a[i][s]=!t().answers[i][s],i===0){const l=a[0].some(Boolean);a[1][0]=l,a[1][1]=!l}i===1&&(s===0&&a[1][0]&&(a[1][1]=!1),s===1&&a[1][1]&&(a[1][0]=!1));const o={...e.checklistState().q16,answers:a};e.onUpdate(o)}return E(Ie,X({state:t,question:n,handleChange:r},e))}function Ie(e){return(()=>{var t=jf(),n=t.firstChild,r=n.firstChild;return P(r,()=>e.question.text),P(n,E(vs,{get state(){return e.state},get onUpdate(){return e.onUpdate}}),null),P(t,E(Yn,X({get columns(){return e.question.columns}},e)),null),t})()}function vs(e){function t(n){const r={...e.state(),critical:n};e.onUpdate(r)}return(()=>{var n=Ff(),r=n.firstChild;return r.$$click=()=>t(!e.state().critical),P(r,()=>e.state().critical?"Critical":"Not Critical"),Q(i=>{var s=`ml-2 px-3 h-6 rounded-full text-xs font-medium transition-colors text-nowrap
        ${e.state().critical?"bg-red-100 text-red-700 border border-red-300 hover:bg-red-200":"bg-gray-100 text-gray-700 border border-gray-300 hover:bg-gray-200"}`,a=e.state().critical;return s!==i.e&&_e(r,i.e=s),a!==i.t&&Se(r,"aria-pressed",i.t=a),i},{e:void 0,t:void 0}),n})()}function Yn(e){return(()=>{var t=Uf();return P(t,()=>e.columns.map((n,r)=>(()=>{var i=Bf(),s=i.firstChild;return Se(i,"key",r),P(s,()=>n.label),P(i,(()=>{var a=ft(()=>r===e.columns.length-1);return()=>a()?(()=>{var o=Vf();return P(o,()=>n.options.map((l,c)=>(()=>{var f=Hf(),u=f.firstChild,d=u.nextSibling;return Se(f,"key",c),u.addEventListener("change",()=>e.handleChange(r,c)),P(d,l),Q(()=>Se(u,"name",`col-${r}-${e.question?.text??""}`)),Q(()=>u.checked=e.state().answers[r][c]),f})())),o})():(()=>{var o=zf();return P(o,()=>n.options.map((l,c)=>(()=>{var f=Yf(),u=f.firstChild,d=u.nextSibling;return Se(f,"key",c),u.addEventListener("change",()=>e.handleChange(r,c)),P(d,l),Q(()=>u.checked=e.state().answers[r][c]),f})())),o})()})(),null),Q(()=>_e(i,r===e.columns.length-1?`${e.width??"w-32"} flex flex-col min-w-0`:"flex-1 flex flex-col min-w-0")),i})())),t})()}function Xs(){const[e,t]=j(""),[n,r]=j(""),[i,s]=j(""),{currentChecklist:a,setCurrentChecklist:o,updateChecklist:l,dataLoading:c,createChecklist:f}=zt(),u=Gr(),d=ht();we(async()=>{if(u.checklistSlug==="new"){const _=ws({name:"New AMSTAR 2 Checklist",id:await Dt(),createdAt:Date.now(),reviewerName:""});if(o(_),u.projectSlug&&u.reviewSlug){const b=nt(_.name)+"-"+_.id;d(`/projects/${u.projectSlug}/reviews/${u.reviewSlug}/checklists/${b}`,{replace:!0})}}else if(u.checklistSlug!==void 0){const _=u.checklistSlug.lastIndexOf("-");let b=_!==-1?u.checklistSlug.slice(_+1):u.checklistSlug;o({id:b})}else c()||(console.warn("AMSTAR2Checklist: No current checklist found for",u.checklistSlug),d("/dashboard"))}),we(()=>{a()&&(t(a().name||""),r(a().reviewerName||""),s(a().reviewDate||""))});const p=_=>{const b={...a(),..._};l(b)};return(()=>{var _=Qf(),b=_.firstChild,C=b.firstChild,T=C.firstChild,m=T.nextSibling,v=m.firstChild,y=v.firstChild,k=y.nextSibling,A=v.nextSibling,$=A.firstChild,h=$.nextSibling,g=A.nextSibling,w=g.firstChild,x=w.nextSibling;return k.addEventListener("change",S=>{if(t(S.target.value),p({name:S.target.value}),console.log("Review name changed to",S.target.value),u.projectSlug&&u.reviewSlug&&u.checklistSlug&&a()){const R=u.checklistSlug.lastIndexOf("-"),I=R!==-1?u.checklistSlug.slice(R+1):u.checklistSlug,F=nt(S.target.value)+"-"+I;d(`/projects/${u.projectSlug}/reviews/${u.reviewSlug}/checklists/${F}`,{replace:!0})}}),h.addEventListener("change",S=>{r(S.target.value),p({reviewerName:S.target.value})}),x.addEventListener("change",S=>{s(S.target.value),p({reviewDate:S.target.value})}),P(b,E(me,{get when(){return ft(()=>!c())()&&a()},get fallback(){return Kf()},get children(){var S=Wf();return P(S,E(Gf,{onUpdate:R=>p({q1:R}),checklistState:a}),null),P(S,E(Xf,{onUpdate:R=>p({q2:R}),checklistState:a}),null),P(S,E(Jf,{onUpdate:R=>p({q3:R}),checklistState:a}),null),P(S,E(Zf,{onUpdate:R=>p({q4:R}),checklistState:a}),null),P(S,E(ed,{onUpdate:R=>p({q5:R}),checklistState:a}),null),P(S,E(td,{onUpdate:R=>p({q6:R}),checklistState:a}),null),P(S,E(nd,{onUpdate:R=>p({q7:R}),checklistState:a}),null),P(S,E(rd,{onUpdate:R=>p({q8:R}),checklistState:a}),null),P(S,E(id,{onUpdatea:R=>p({q9a:R}),onUpdateb:R=>p({q9b:R}),checklistState:a}),null),P(S,E(sd,{onUpdate:R=>p({q10:R}),checklistState:a}),null),P(S,E(ad,{onUpdatea:R=>p({q11a:R}),onUpdateb:R=>p({q11b:R}),checklistState:a}),null),P(S,E(od,{onUpdate:R=>p({q12:R}),checklistState:a}),null),P(S,E(ld,{onUpdate:R=>p({q13:R}),checklistState:a}),null),P(S,E(cd,{onUpdate:R=>p({q14:R}),checklistState:a}),null),P(S,E(ud,{onUpdate:R=>p({q15:R}),checklistState:a}),null),P(S,E(fd,{onUpdate:R=>p({q16:R}),checklistState:a}),null),S}}),null),Q(()=>k.value=e()),Q(()=>h.value=n()),Q(()=>x.value=i()),_})()}Pe(["click"]);function pr(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function dd(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Qo(e){let t,n,r;e.length!==2?(t=pr,n=(o,l)=>pr(e(o),l),r=(o,l)=>e(o)-l):(t=e===pr||e===dd?e:hd,n=e,r=e);function i(o,l,c=0,f=o.length){if(c<f){if(t(l,l)!==0)return f;do{const u=c+f>>>1;n(o[u],l)<0?c=u+1:f=u}while(c<f)}return c}function s(o,l,c=0,f=o.length){if(c<f){if(t(l,l)!==0)return f;do{const u=c+f>>>1;n(o[u],l)<=0?c=u+1:f=u}while(c<f)}return c}function a(o,l,c=0,f=o.length){const u=i(o,l,c,f-1);return u>c&&r(o[u-1],l)>-r(o[u],l)?u-1:u}return{left:i,center:a,right:s}}function hd(){return 0}function gd(e){return e===null?NaN:+e}const pd=Qo(pr),md=pd.right;Qo(gd).center;class Js extends Map{constructor(t,n=yd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Zs(this,t))}has(t){return super.has(Zs(this,t))}set(t,n){return super.set(wd(this,t),n)}delete(t){return super.delete(vd(this,t))}}function Zs({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function wd({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function vd({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function yd(e){return e!==null&&typeof e=="object"?e.valueOf():e}const bd=Math.sqrt(50),xd=Math.sqrt(10),_d=Math.sqrt(2);function Ir(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=bd?10:s>=xd?5:s>=_d?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(e*c),l=Math.round(t*c),o/c<e&&++o,l/c>t&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(e/c),l=Math.round(t/c),o*c<e&&++o,l*c>t&&--l),l<o&&.5<=n&&n<2?Ir(e,t,n*2):[o,l,c]}function kd(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?Ir(t,e,n):Ir(e,t,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function Ti(e,t,n){return t=+t,e=+e,n=+n,Ir(e,t,n)[2]}function Sd(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ti(t,e,n):Ti(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Ko(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function $d(e){return e}var Ed=3,ea=1e-6;function Cd(e){return"translate("+e+",0)"}function Ad(e){return t=>+e(t)}function Pd(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Rd(){return!this.__axis}function Nd(e,t){var n=[],r=null,i=null,s=6,a=6,o=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,f="y",u=Cd;function d(p){var _=r??(t.ticks?t.ticks.apply(t,n):t.domain()),b=i??(t.tickFormat?t.tickFormat.apply(t,n):$d),C=Math.max(s,0)+o,T=t.range(),m=+T[0]+l,v=+T[T.length-1]+l,y=(t.bandwidth?Pd:Ad)(t.copy(),l),k=p.selection?p.selection():p,A=k.selectAll(".domain").data([null]),$=k.selectAll(".tick").data(_,t).order(),h=$.exit(),g=$.enter().append("g").attr("class","tick"),w=$.select("line"),x=$.select("text");A=A.merge(A.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),$=$.merge(g),w=w.merge(g.append("line").attr("stroke","currentColor").attr(f+"2",c*s)),x=x.merge(g.append("text").attr("fill","currentColor").attr(f,c*C).attr("dy","0.71em")),p!==k&&(A=A.transition(p),$=$.transition(p),w=w.transition(p),x=x.transition(p),h=h.transition(p).attr("opacity",ea).attr("transform",function(S){return isFinite(S=y(S))?u(S+l):this.getAttribute("transform")}),g.attr("opacity",ea).attr("transform",function(S){var R=this.parentNode.__axis;return u((R&&isFinite(R=R(S))?R:y(S))+l)})),h.remove(),A.attr("d",a?"M"+m+","+c*a+"V"+l+"H"+v+"V"+c*a:"M"+m+","+l+"H"+v),$.attr("opacity",1).attr("transform",function(S){return u(y(S)+l)}),w.attr(f+"2",c*s),x.attr(f,c*C).text(b),k.filter(Rd).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),k.each(function(){this.__axis=y})}return d.scale=function(p){return arguments.length?(t=p,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(p){return arguments.length?(n=p==null?[]:Array.from(p),d):n.slice()},d.tickValues=function(p){return arguments.length?(r=p==null?null:Array.from(p),d):r&&r.slice()},d.tickFormat=function(p){return arguments.length?(i=p,d):i},d.tickSize=function(p){return arguments.length?(s=a=+p,d):s},d.tickSizeInner=function(p){return arguments.length?(s=+p,d):s},d.tickSizeOuter=function(p){return arguments.length?(a=+p,d):a},d.tickPadding=function(p){return arguments.length?(o=+p,d):o},d.offset=function(p){return arguments.length?(l=+p,d):l},d}function Td(e){return Nd(Ed,e)}var Md={value:()=>{}};function Go(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mr(n)}function mr(e){this._=e}function Od(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mr.prototype=Go.prototype={constructor:mr,on:function(e,t){var n=this._,r=Od(e+"",n),i,s=-1,a=r.length;if(arguments.length<2){for(;++s<a;)if((i=(e=r[s]).type)&&(i=Id(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++s<a;)if(i=(e=r[s]).type)n[i]=ta(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ta(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new mr(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=this._[e],r=0,i=s.length;r<i;++r)s[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};function Id(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function ta(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Md,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var Mi="http://www.w3.org/1999/xhtml";const na={svg:"http://www.w3.org/2000/svg",xhtml:Mi,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ni(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),na.hasOwnProperty(t)?{space:na[t],local:e}:e}function Ld(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Mi&&t.documentElement.namespaceURI===Mi?t.createElement(e):t.createElementNS(n,e)}}function qd(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Xo(e){var t=ni(e);return(t.local?qd:Ld)(t)}function Dd(){}function ys(e){return e==null?Dd:function(){return this.querySelector(e)}}function jd(e){typeof e!="function"&&(e=ys(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=new Array(a),l,c,f=0;f<a;++f)(l=s[f])&&(c=e.call(l,l.__data__,f,s))&&("__data__"in l&&(c.__data__=l.__data__),o[f]=c);return new je(r,this._parents)}function Fd(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ud(){return[]}function Jo(e){return e==null?Ud:function(){return this.querySelectorAll(e)}}function Bd(e){return function(){return Fd(e.apply(this,arguments))}}function Vd(e){typeof e=="function"?e=Bd(e):e=Jo(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var a=t[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&(r.push(e.call(l,l.__data__,c,a)),i.push(l));return new je(r,i)}function Zo(e){return function(){return this.matches(e)}}function el(e){return function(t){return t.matches(e)}}var Hd=Array.prototype.find;function zd(e){return function(){return Hd.call(this.children,e)}}function Yd(){return this.firstElementChild}function Wd(e){return this.select(e==null?Yd:zd(typeof e=="function"?e:el(e)))}var Qd=Array.prototype.filter;function Kd(){return Array.from(this.children)}function Gd(e){return function(){return Qd.call(this.children,e)}}function Xd(e){return this.selectAll(e==null?Kd:Gd(typeof e=="function"?e:el(e)))}function Jd(e){typeof e!="function"&&(e=Zo(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],l,c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new je(r,this._parents)}function tl(e){return new Array(e.length)}function Zd(){return new je(this._enter||this._groups.map(tl),this._parents)}function Lr(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Lr.prototype={constructor:Lr,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function eh(e){return function(){return e}}function th(e,t,n,r,i,s){for(var a=0,o,l=t.length,c=s.length;a<c;++a)(o=t[a])?(o.__data__=s[a],r[a]=o):n[a]=new Lr(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function nh(e,t,n,r,i,s,a){var o,l,c=new Map,f=t.length,u=s.length,d=new Array(f),p;for(o=0;o<f;++o)(l=t[o])&&(d[o]=p=a.call(l,l.__data__,o,t)+"",c.has(p)?i[o]=l:c.set(p,l));for(o=0;o<u;++o)p=a.call(e,s[o],o,s)+"",(l=c.get(p))?(r[o]=l,l.__data__=s[o],c.delete(p)):n[o]=new Lr(e,s[o]);for(o=0;o<f;++o)(l=t[o])&&c.get(d[o])===l&&(i[o]=l)}function rh(e){return e.__data__}function ih(e,t){if(!arguments.length)return Array.from(this,rh);var n=t?nh:th,r=this._parents,i=this._groups;typeof e!="function"&&(e=eh(e));for(var s=i.length,a=new Array(s),o=new Array(s),l=new Array(s),c=0;c<s;++c){var f=r[c],u=i[c],d=u.length,p=sh(e.call(f,f&&f.__data__,c,r)),_=p.length,b=o[c]=new Array(_),C=a[c]=new Array(_),T=l[c]=new Array(d);n(f,u,b,C,T,p,t);for(var m=0,v=0,y,k;m<_;++m)if(y=b[m]){for(m>=v&&(v=m+1);!(k=C[v])&&++v<_;);y._next=k||null}}return a=new je(a,r),a._enter=o,a._exit=l,a}function sh(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function ah(){return new je(this._exit||this._groups.map(tl),this._parents)}function oh(e,t,n){var r=this.enter(),i=this,s=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function lh(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,a=Math.min(i,s),o=new Array(i),l=0;l<a;++l)for(var c=n[l],f=r[l],u=c.length,d=o[l]=new Array(u),p,_=0;_<u;++_)(p=c[_]||f[_])&&(d[_]=p);for(;l<i;++l)o[l]=n[l];return new je(o,this._parents)}function ch(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,s=r[i],a;--i>=0;)(a=r[i])&&(s&&a.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(a,s),s=a);return this}function uh(e){e||(e=fh);function t(u,d){return u&&d?e(u.__data__,d.__data__):!u-!d}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var a=n[s],o=a.length,l=i[s]=new Array(o),c,f=0;f<o;++f)(c=a[f])&&(l[f]=c);l.sort(t)}return new je(i,this._parents).order()}function fh(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function dh(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function hh(){return Array.from(this)}function gh(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var a=r[i];if(a)return a}return null}function ph(){let e=0;for(const t of this)++e;return e}function mh(){return!this.node()}function wh(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],s=0,a=i.length,o;s<a;++s)(o=i[s])&&e.call(o,o.__data__,s,i);return this}function vh(e){return function(){this.removeAttribute(e)}}function yh(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bh(e,t){return function(){this.setAttribute(e,t)}}function xh(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function _h(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function kh(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Sh(e,t){var n=ni(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?yh:vh:typeof t=="function"?n.local?kh:_h:n.local?xh:bh)(n,t))}function nl(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function $h(e){return function(){this.style.removeProperty(e)}}function Eh(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ch(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ah(e,t,n){return arguments.length>1?this.each((t==null?$h:typeof t=="function"?Ch:Eh)(e,t,n??"")):un(this.node(),e)}function un(e,t){return e.style.getPropertyValue(t)||nl(e).getComputedStyle(e,null).getPropertyValue(t)}function Ph(e){return function(){delete this[e]}}function Rh(e,t){return function(){this[e]=t}}function Nh(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Th(e,t){return arguments.length>1?this.each((t==null?Ph:typeof t=="function"?Nh:Rh)(e,t)):this.node()[e]}function rl(e){return e.trim().split(/^|\s+/)}function bs(e){return e.classList||new il(e)}function il(e){this._node=e,this._names=rl(e.getAttribute("class")||"")}il.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function sl(e,t){for(var n=bs(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function al(e,t){for(var n=bs(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Mh(e){return function(){sl(this,e)}}function Oh(e){return function(){al(this,e)}}function Ih(e,t){return function(){(t.apply(this,arguments)?sl:al)(this,e)}}function Lh(e,t){var n=rl(e+"");if(arguments.length<2){for(var r=bs(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Ih:t?Mh:Oh)(n,t))}function qh(){this.textContent=""}function Dh(e){return function(){this.textContent=e}}function jh(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Fh(e){return arguments.length?this.each(e==null?qh:(typeof e=="function"?jh:Dh)(e)):this.node().textContent}function Uh(){this.innerHTML=""}function Bh(e){return function(){this.innerHTML=e}}function Vh(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Hh(e){return arguments.length?this.each(e==null?Uh:(typeof e=="function"?Vh:Bh)(e)):this.node().innerHTML}function zh(){this.nextSibling&&this.parentNode.appendChild(this)}function Yh(){return this.each(zh)}function Wh(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Qh(){return this.each(Wh)}function Kh(e){var t=typeof e=="function"?e:Xo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Gh(){return null}function Xh(e,t){var n=typeof e=="function"?e:Xo(e),r=t==null?Gh:typeof t=="function"?t:ys(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Jh(){var e=this.parentNode;e&&e.removeChild(this)}function Zh(){return this.each(Jh)}function eg(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function tg(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ng(e){return this.select(e?tg:eg)}function rg(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ig(e){return function(t){e.call(this,t,this.__data__)}}function sg(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function ag(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,s;n<i;++n)s=t[n],(!e.type||s.type===e.type)&&s.name===e.name?this.removeEventListener(s.type,s.listener,s.options):t[++r]=s;++r?t.length=r:delete this.__on}}}function og(e,t,n){return function(){var r=this.__on,i,s=ig(t);if(r){for(var a=0,o=r.length;a<o;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=t;return}}this.addEventListener(e.type,s,n),i={type:e.type,name:e.name,value:t,listener:s,options:n},r?r.push(i):this.__on=[i]}}function lg(e,t,n){var r=sg(e+""),i,s=r.length,a;if(arguments.length<2){var o=this.node().__on;if(o){for(var l=0,c=o.length,f;l<c;++l)for(i=0,f=o[l];i<s;++i)if((a=r[i]).type===f.type&&a.name===f.name)return f.value}return}for(o=t?og:ag,i=0;i<s;++i)this.each(o(r[i],t,n));return this}function ol(e,t,n){var r=nl(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function cg(e,t){return function(){return ol(this,e,t)}}function ug(e,t){return function(){return ol(this,e,t.apply(this,arguments))}}function fg(e,t){return this.each((typeof t=="function"?ug:cg)(e,t))}function*dg(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length,a;i<s;++i)(a=r[i])&&(yield a)}var ll=[null];function je(e,t){this._groups=e,this._parents=t}function er(){return new je([[document.documentElement]],ll)}function hg(){return this}je.prototype=er.prototype={constructor:je,select:jd,selectAll:Vd,selectChild:Wd,selectChildren:Xd,filter:Jd,data:ih,enter:Zd,exit:ah,join:oh,merge:lh,selection:hg,order:ch,sort:uh,call:dh,nodes:hh,node:gh,size:ph,empty:mh,each:wh,attr:Sh,style:Ah,property:Th,classed:Lh,text:Fh,html:Hh,raise:Yh,lower:Qh,append:Kh,insert:Xh,remove:Zh,clone:ng,datum:rg,on:lg,dispatch:fg,[Symbol.iterator]:dg};function cl(e){return typeof e=="string"?new je([[document.querySelector(e)]],[document.documentElement]):new je([[e]],ll)}function xs(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function ul(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function tr(){}var Wn=.7,qr=1/Wn,sn="\\s*([+-]?\\d+)\\s*",Qn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gg=/^#([0-9a-f]{3,8})$/,pg=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),mg=new RegExp(`^rgb\\(${tt},${tt},${tt}\\)$`),wg=new RegExp(`^rgba\\(${sn},${sn},${sn},${Qn}\\)$`),vg=new RegExp(`^rgba\\(${tt},${tt},${tt},${Qn}\\)$`),yg=new RegExp(`^hsl\\(${Qn},${tt},${tt}\\)$`),bg=new RegExp(`^hsla\\(${Qn},${tt},${tt},${Qn}\\)$`),ra={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xs(tr,Bt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ia,formatHex:ia,formatHex8:xg,formatHsl:_g,formatRgb:sa,toString:sa});function ia(){return this.rgb().formatHex()}function xg(){return this.rgb().formatHex8()}function _g(){return fl(this).formatHsl()}function sa(){return this.rgb().formatRgb()}function Bt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=gg.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?aa(t):n===3?new Te(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ir(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ir(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pg.exec(e))?new Te(t[1],t[2],t[3],1):(t=mg.exec(e))?new Te(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=wg.exec(e))?ir(t[1],t[2],t[3],t[4]):(t=vg.exec(e))?ir(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=yg.exec(e))?ca(t[1],t[2]/100,t[3]/100,1):(t=bg.exec(e))?ca(t[1],t[2]/100,t[3]/100,t[4]):ra.hasOwnProperty(e)?aa(ra[e]):e==="transparent"?new Te(NaN,NaN,NaN,0):null}function aa(e){return new Te(e>>16&255,e>>8&255,e&255,1)}function ir(e,t,n,r){return r<=0&&(e=t=n=NaN),new Te(e,t,n,r)}function kg(e){return e instanceof tr||(e=Bt(e)),e?(e=e.rgb(),new Te(e.r,e.g,e.b,e.opacity)):new Te}function Oi(e,t,n,r){return arguments.length===1?kg(e):new Te(e,t,n,r??1)}function Te(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}xs(Te,Oi,ul(tr,{brighter(e){return e=e==null?qr:Math.pow(qr,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Wn:Math.pow(Wn,e),new Te(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Te(Ft(this.r),Ft(this.g),Ft(this.b),Dr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:oa,formatHex:oa,formatHex8:Sg,formatRgb:la,toString:la}));function oa(){return`#${Lt(this.r)}${Lt(this.g)}${Lt(this.b)}`}function Sg(){return`#${Lt(this.r)}${Lt(this.g)}${Lt(this.b)}${Lt((isNaN(this.opacity)?1:this.opacity)*255)}`}function la(){const e=Dr(this.opacity);return`${e===1?"rgb(":"rgba("}${Ft(this.r)}, ${Ft(this.g)}, ${Ft(this.b)}${e===1?")":`, ${e})`}`}function Dr(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ft(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Lt(e){return e=Ft(e),(e<16?"0":"")+e.toString(16)}function ca(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Ye(e,t,n,r)}function fl(e){if(e instanceof Ye)return new Ye(e.h,e.s,e.l,e.opacity);if(e instanceof tr||(e=Bt(e)),!e)return new Ye;if(e instanceof Ye)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Ye(a,o,l,e.opacity)}function $g(e,t,n,r){return arguments.length===1?fl(e):new Ye(e,t,n,r??1)}function Ye(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}xs(Ye,$g,ul(tr,{brighter(e){return e=e==null?qr:Math.pow(qr,e),new Ye(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Wn:Math.pow(Wn,e),new Ye(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Te(gi(e>=240?e-240:e+120,i,r),gi(e,i,r),gi(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Ye(ua(this.h),sr(this.s),sr(this.l),Dr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Dr(this.opacity);return`${e===1?"hsl(":"hsla("}${ua(this.h)}, ${sr(this.s)*100}%, ${sr(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ua(e){return e=(e||0)%360,e<0?e+360:e}function sr(e){return Math.max(0,Math.min(1,e||0))}function gi(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const _s=e=>()=>e;function Eg(e,t){return function(n){return e+n*t}}function Cg(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Ag(e){return(e=+e)==1?dl:function(t,n){return n-t?Cg(t,n,e):_s(isNaN(t)?n:t)}}function dl(e,t){var n=t-e;return n?Eg(e,n):_s(isNaN(e)?t:e)}const jr=(function e(t){var n=Ag(t);function r(i,s){var a=n((i=Oi(i)).r,(s=Oi(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=dl(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=l(f),i.opacity=c(f),i+""}}return r.gamma=e,r})(1);function Pg(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function Rg(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ng(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=ks(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function Tg(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function He(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Mg(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ks(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var Ii=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,pi=new RegExp(Ii.source,"g");function Og(e){return function(){return e}}function Ig(e){return function(t){return e(t)+""}}function hl(e,t){var n=Ii.lastIndex=pi.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(e=e+"",t=t+"";(r=Ii.exec(e))&&(i=pi.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:He(r,i)})),n=pi.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Ig(l[0].x):Og(t):(t=l.length,function(c){for(var f=0,u;f<t;++f)o[(u=l[f]).i]=u.x(c);return o.join("")})}function ks(e,t){var n=typeof t,r;return t==null||n==="boolean"?_s(t):(n==="number"?He:n==="string"?(r=Bt(t))?(t=r,jr):hl:t instanceof Bt?jr:t instanceof Date?Tg:Rg(t)?Pg:Array.isArray(t)?Ng:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Mg:He)(e,t)}function Lg(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var fa=180/Math.PI,Li={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gl(e,t,n,r,i,s){var a,o,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(o=Math.sqrt(n*n+r*r))&&(n/=o,r/=o,l/=o),e*r<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*fa,skewX:Math.atan(l)*fa,scaleX:a,scaleY:o}}var ar;function qg(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Li:gl(t.a,t.b,t.c,t.d,t.e,t.f)}function Dg(e){return e==null||(ar||(ar=document.createElementNS("http://www.w3.org/2000/svg","g")),ar.setAttribute("transform",e),!(e=ar.transform.baseVal.consolidate()))?Li:(e=e.matrix,gl(e.a,e.b,e.c,e.d,e.e,e.f))}function pl(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function s(c,f,u,d,p,_){if(c!==u||f!==d){var b=p.push("translate(",null,t,null,n);_.push({i:b-4,x:He(c,u)},{i:b-2,x:He(f,d)})}else(u||d)&&p.push("translate("+u+t+d+n)}function a(c,f,u,d){c!==f?(c-f>180?f+=360:f-c>180&&(c+=360),d.push({i:u.push(i(u)+"rotate(",null,r)-2,x:He(c,f)})):f&&u.push(i(u)+"rotate("+f+r)}function o(c,f,u,d){c!==f?d.push({i:u.push(i(u)+"skewX(",null,r)-2,x:He(c,f)}):f&&u.push(i(u)+"skewX("+f+r)}function l(c,f,u,d,p,_){if(c!==u||f!==d){var b=p.push(i(p)+"scale(",null,",",null,")");_.push({i:b-4,x:He(c,u)},{i:b-2,x:He(f,d)})}else(u!==1||d!==1)&&p.push(i(p)+"scale("+u+","+d+")")}return function(c,f){var u=[],d=[];return c=e(c),f=e(f),s(c.translateX,c.translateY,f.translateX,f.translateY,u,d),a(c.rotate,f.rotate,u,d),o(c.skewX,f.skewX,u,d),l(c.scaleX,c.scaleY,f.scaleX,f.scaleY,u,d),c=f=null,function(p){for(var _=-1,b=d.length,C;++_<b;)u[(C=d[_]).i]=C.x(p);return u.join("")}}}var jg=pl(qg,"px, ","px)","deg)"),Fg=pl(Dg,", ",")",")"),fn=0,_n=0,mn=0,ml=1e3,Fr,kn,Ur=0,Vt=0,ri=0,Kn=typeof performance=="object"&&performance.now?performance:Date,wl=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ss(){return Vt||(wl(Ug),Vt=Kn.now()+ri)}function Ug(){Vt=0}function Br(){this._call=this._time=this._next=null}Br.prototype=vl.prototype={constructor:Br,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ss():+n)+(t==null?0:+t),!this._next&&kn!==this&&(kn?kn._next=this:Fr=this,kn=this),this._call=e,this._time=n,qi()},stop:function(){this._call&&(this._call=null,this._time=1/0,qi())}};function vl(e,t,n){var r=new Br;return r.restart(e,t,n),r}function Bg(){Ss(),++fn;for(var e=Fr,t;e;)(t=Vt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fn}function da(){Vt=(Ur=Kn.now())+ri,fn=_n=0;try{Bg()}finally{fn=0,Hg(),Vt=0}}function Vg(){var e=Kn.now(),t=e-Ur;t>ml&&(ri-=t,Ur=e)}function Hg(){for(var e,t=Fr,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Fr=n);kn=e,qi(r)}function qi(e){if(!fn){_n&&(_n=clearTimeout(_n));var t=e-Vt;t>24?(e<1/0&&(_n=setTimeout(da,e-Kn.now()-ri)),mn&&(mn=clearInterval(mn))):(mn||(Ur=Kn.now(),mn=setInterval(Vg,ml)),fn=1,wl(da))}}function ha(e,t,n){var r=new Br;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var zg=Go("start","end","cancel","interrupt"),Yg=[],yl=0,ga=1,Di=2,wr=3,pa=4,ji=5,vr=6;function ii(e,t,n,r,i,s){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Wg(e,n,{name:t,index:r,group:i,on:zg,tween:Yg,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:yl})}function $s(e,t){var n=Ke(e,t);if(n.state>yl)throw new Error("too late; already scheduled");return n}function st(e,t){var n=Ke(e,t);if(n.state>wr)throw new Error("too late; already running");return n}function Ke(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Wg(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=vl(s,0,n.time);function s(c){n.state=ga,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var f,u,d,p;if(n.state!==ga)return l();for(f in r)if(p=r[f],p.name===n.name){if(p.state===wr)return ha(a);p.state===pa?(p.state=vr,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[f]):+f<t&&(p.state=vr,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[f])}if(ha(function(){n.state===wr&&(n.state=pa,n.timer.restart(o,n.delay,n.time),o(c))}),n.state=Di,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Di){for(n.state=wr,i=new Array(d=n.tween.length),f=0,u=-1;f<d;++f)(p=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=p);i.length=u+1}}function o(c){for(var f=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=ji,1),u=-1,d=i.length;++u<d;)i[u].call(e,f);n.state===ji&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=vr,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function Qg(e,t){var n=e.__transition,r,i,s=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){s=!1;continue}i=r.state>Di&&r.state<ji,r.state=vr,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}s&&delete e.__transition}}function Kg(e){return this.each(function(){Qg(this,e)})}function Gg(e,t){var n,r;return function(){var i=st(this,e),s=i.tween;if(s!==n){r=n=s;for(var a=0,o=r.length;a<o;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Xg(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=st(this,e),a=s.tween;if(a!==r){i=(r=a).slice();for(var o={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=o;break}l===c&&i.push(o)}s.tween=i}}function Jg(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=Ke(this.node(),n).tween,i=0,s=r.length,a;i<s;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Gg:Xg)(n,e,t))}function Es(e,t,n){var r=e._id;return e.each(function(){var i=st(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return Ke(i,r).value[t]}}function bl(e,t){var n;return(typeof t=="number"?He:t instanceof Bt?jr:(n=Bt(t))?(t=n,jr):hl)(e,t)}function Zg(e){return function(){this.removeAttribute(e)}}function ep(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tp(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttribute(e);return a===i?null:a===r?s:s=t(r=a,n)}}function np(e,t,n){var r,i=n+"",s;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?s:s=t(r=a,n)}}function rp(e,t,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o)))}}function ip(e,t,n){var r,i,s;return function(){var a,o=n(this),l;return o==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=o+"",a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o)))}}function sp(e,t){var n=ni(e),r=n==="transform"?Fg:bl;return this.attrTween(e,typeof t=="function"?(n.local?ip:rp)(n,r,Es(this,"attr."+e,t)):t==null?(n.local?ep:Zg)(n):(n.local?np:tp)(n,r,t))}function ap(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function op(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function lp(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&op(e,s)),n}return i._value=t,i}function cp(e,t){var n,r;function i(){var s=t.apply(this,arguments);return s!==r&&(n=(r=s)&&ap(e,s)),n}return i._value=t,i}function up(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ni(e);return this.tween(n,(r.local?lp:cp)(r,t))}function fp(e,t){return function(){$s(this,e).delay=+t.apply(this,arguments)}}function dp(e,t){return t=+t,function(){$s(this,e).delay=t}}function hp(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?fp:dp)(t,e)):Ke(this.node(),t).delay}function gp(e,t){return function(){st(this,e).duration=+t.apply(this,arguments)}}function pp(e,t){return t=+t,function(){st(this,e).duration=t}}function mp(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gp:pp)(t,e)):Ke(this.node(),t).duration}function wp(e,t){if(typeof t!="function")throw new Error;return function(){st(this,e).ease=t}}function vp(e){var t=this._id;return arguments.length?this.each(wp(t,e)):Ke(this.node(),t).ease}function yp(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;st(this,e).ease=n}}function bp(e){if(typeof e!="function")throw new Error;return this.each(yp(this._id,e))}function xp(e){typeof e!="function"&&(e=Zo(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s=t[i],a=s.length,o=r[i]=[],l,c=0;c<a;++c)(l=s[c])&&e.call(l,l.__data__,c,s)&&o.push(l);return new dt(r,this._parents,this._name,this._id)}function _p(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),a=new Array(r),o=0;o<s;++o)for(var l=t[o],c=n[o],f=l.length,u=a[o]=new Array(f),d,p=0;p<f;++p)(d=l[p]||c[p])&&(u[p]=d);for(;o<r;++o)a[o]=t[o];return new dt(a,this._parents,this._name,this._id)}function kp(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Sp(e,t,n){var r,i,s=kp(t)?$s:st;return function(){var a=s(this,e),o=a.on;o!==r&&(i=(r=o).copy()).on(t,n),a.on=i}}function $p(e,t){var n=this._id;return arguments.length<2?Ke(this.node(),n).on.on(e):this.each(Sp(n,e,t))}function Ep(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Cp(){return this.on("end.remove",Ep(this._id))}function Ap(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ys(e));for(var r=this._groups,i=r.length,s=new Array(i),a=0;a<i;++a)for(var o=r[a],l=o.length,c=s[a]=new Array(l),f,u,d=0;d<l;++d)(f=o[d])&&(u=e.call(f,f.__data__,d,o))&&("__data__"in f&&(u.__data__=f.__data__),c[d]=u,ii(c[d],t,n,d,c,Ke(f,n)));return new dt(s,this._parents,t,n)}function Pp(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Jo(e));for(var r=this._groups,i=r.length,s=[],a=[],o=0;o<i;++o)for(var l=r[o],c=l.length,f,u=0;u<c;++u)if(f=l[u]){for(var d=e.call(f,f.__data__,u,l),p,_=Ke(f,n),b=0,C=d.length;b<C;++b)(p=d[b])&&ii(p,t,n,b,d,_);s.push(d),a.push(f)}return new dt(s,a,t,n)}var Rp=er.prototype.constructor;function Np(){return new Rp(this._groups,this._parents)}function Tp(e,t){var n,r,i;return function(){var s=un(this,e),a=(this.style.removeProperty(e),un(this,e));return s===a?null:s===n&&a===r?i:i=t(n=s,r=a)}}function xl(e){return function(){this.style.removeProperty(e)}}function Mp(e,t,n){var r,i=n+"",s;return function(){var a=un(this,e);return a===i?null:a===r?s:s=t(r=a,n)}}function Op(e,t,n){var r,i,s;return function(){var a=un(this,e),o=n(this),l=o+"";return o==null&&(l=o=(this.style.removeProperty(e),un(this,e))),a===l?null:a===r&&l===i?s:(i=l,s=t(r=a,o))}}function Ip(e,t){var n,r,i,s="style."+t,a="end."+s,o;return function(){var l=st(this,e),c=l.on,f=l.value[s]==null?o||(o=xl(t)):void 0;(c!==n||i!==f)&&(r=(n=c).copy()).on(a,i=f),l.on=r}}function Lp(e,t,n){var r=(e+="")=="transform"?jg:bl;return t==null?this.styleTween(e,Tp(e,r)).on("end.style."+e,xl(e)):typeof t=="function"?this.styleTween(e,Op(e,r,Es(this,"style."+e,t))).each(Ip(this._id,e)):this.styleTween(e,Mp(e,r,t),n).on("end.style."+e,null)}function qp(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Dp(e,t,n){var r,i;function s(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&qp(e,a,n)),r}return s._value=t,s}function jp(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Dp(e,t,n??""))}function Fp(e){return function(){this.textContent=e}}function Up(e){return function(){var t=e(this);this.textContent=t??""}}function Bp(e){return this.tween("text",typeof e=="function"?Up(Es(this,"text",e)):Fp(e==null?"":e+""))}function Vp(e){return function(t){this.textContent=e.call(this,t)}}function Hp(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Vp(i)),t}return r._value=e,r}function zp(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Hp(e))}function Yp(){for(var e=this._name,t=this._id,n=_l(),r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,c=0;c<o;++c)if(l=a[c]){var f=Ke(l,t);ii(l,e,n,c,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new dt(r,this._parents,e,n)}function Wp(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,a){var o={value:a},l={value:function(){--i===0&&s()}};n.each(function(){var c=st(this,r),f=c.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(o),t._.interrupt.push(o),t._.end.push(l)),c.on=t}),i===0&&s()})}var Qp=0;function dt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function _l(){return++Qp}var ot=er.prototype;dt.prototype={constructor:dt,select:Ap,selectAll:Pp,selectChild:ot.selectChild,selectChildren:ot.selectChildren,filter:xp,merge:_p,selection:Np,transition:Yp,call:ot.call,nodes:ot.nodes,node:ot.node,size:ot.size,empty:ot.empty,each:ot.each,on:$p,attr:sp,attrTween:up,style:Lp,styleTween:jp,text:Bp,textTween:zp,remove:Cp,tween:Jg,delay:hp,duration:mp,ease:vp,easeVarying:bp,end:Wp,[Symbol.iterator]:ot[Symbol.iterator]};function Kp(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Gp={time:null,delay:0,duration:250,ease:Kp};function Xp(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Jp(e){var t,n;e instanceof dt?(t=e._id,e=e._name):(t=_l(),(n=Gp).time=Ss(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var a=r[s],o=a.length,l,c=0;c<o;++c)(l=a[c])&&ii(l,e,t,c,a,n||Xp(l,t));return new dt(r,this._parents,e,t)}er.prototype.interrupt=Kg;er.prototype.transition=Jp;function Zp(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Vr(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function dn(e){return e=Vr(Math.abs(e)),e?e[1]:NaN}function e0(e,t){return function(n,r){for(var i=n.length,s=[],a=0,o=e[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function t0(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var n0=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hr(e){if(!(t=n0.exec(e)))throw new Error("invalid format: "+e);var t;return new Cs({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Hr.prototype=Cs.prototype;function Cs(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Cs.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function r0(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var kl;function i0(e,t){var n=Vr(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(kl=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Vr(e,Math.max(0,t+s-1))[0]}function ma(e,t){var n=Vr(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const wa={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Zp,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>ma(e*100,t),r:ma,s:i0,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function va(e){return e}var ya=Array.prototype.map,ba=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function s0(e){var t=e.grouping===void 0||e.thousands===void 0?va:e0(ya.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?va:t0(ya.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function c(u){u=Hr(u);var d=u.fill,p=u.align,_=u.sign,b=u.symbol,C=u.zero,T=u.width,m=u.comma,v=u.precision,y=u.trim,k=u.type;k==="n"?(m=!0,k="g"):wa[k]||(v===void 0&&(v=12),y=!0,k="g"),(C||d==="0"&&p==="=")&&(C=!0,d="0",p="=");var A=b==="$"?n:b==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",$=b==="$"?r:/[%p]/.test(k)?a:"",h=wa[k],g=/[defgprs%]/.test(k);v=v===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function w(x){var S=A,R=$,I,F,U;if(k==="c")R=h(x)+R,x="";else{x=+x;var D=x<0||1/x<0;if(x=isNaN(x)?l:h(Math.abs(x),v),y&&(x=r0(x)),D&&+x==0&&_!=="+"&&(D=!1),S=(D?_==="("?_:o:_==="-"||_==="("?"":_)+S,R=(k==="s"?ba[8+kl/3]:"")+R+(D&&_==="("?")":""),g){for(I=-1,F=x.length;++I<F;)if(U=x.charCodeAt(I),48>U||U>57){R=(U===46?i+x.slice(I+1):x.slice(I))+R,x=x.slice(0,I);break}}}m&&!C&&(x=t(x,1/0));var Y=S.length+x.length+R.length,L=Y<T?new Array(T-Y+1).join(d):"";switch(m&&C&&(x=t(L+x,L.length?T-R.length:1/0),L=""),p){case"<":x=S+x+R+L;break;case"=":x=S+L+x+R;break;case"^":x=L.slice(0,Y=L.length>>1)+S+x+R+L.slice(Y);break;default:x=L+S+x+R;break}return s(x)}return w.toString=function(){return u+""},w}function f(u,d){var p=c((u=Hr(u),u.type="f",u)),_=Math.max(-8,Math.min(8,Math.floor(dn(d)/3)))*3,b=Math.pow(10,-_),C=ba[8+_/3];return function(T){return p(b*T)+C}}return{format:c,formatPrefix:f}}var or,Sl,$l;a0({thousands:",",grouping:[3],currency:["$",""]});function a0(e){return or=s0(e),Sl=or.format,$l=or.formatPrefix,or}function o0(e){return Math.max(0,-dn(Math.abs(e)))}function l0(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dn(t)/3)))*3-dn(Math.abs(e)))}function c0(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dn(t)-dn(e))+1}function As(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const xa=Symbol("implicit");function El(){var e=new Js,t=[],n=[],r=xa;function i(s){let a=e.get(s);if(a===void 0){if(r!==xa)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new Js;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return El(t,n).unknown(r)},As.apply(i,arguments),i}function Cl(){var e=El().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,o=!1,l=0,c=0,f=.5;delete e.unknown;function u(){var d=t().length,p=i<r,_=p?i:r,b=p?r:i;s=(b-_)/Math.max(1,d-l+c*2),o&&(s=Math.floor(s)),_+=(b-_-s*(d-l))*f,a=s*(1-l),o&&(_=Math.round(_),a=Math.round(a));var C=Ko(d).map(function(T){return _+s*T});return n(p?C.reverse():C)}return e.domain=function(d){return arguments.length?(t(d),u()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,u()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,u()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(d){return arguments.length?(o=!!d,u()):o},e.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),u()):l},e.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),u()):l},e.paddingOuter=function(d){return arguments.length?(c=+d,u()):c},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),u()):f},e.copy=function(){return Cl(t(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(f)},As.apply(u(),arguments)}function u0(e){return function(){return e}}function f0(e){return+e}var _a=[0,1];function Zt(e){return e}function Fi(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:u0(isNaN(t)?NaN:.5)}function d0(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function h0(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=Fi(i,r),s=n(a,s)):(r=Fi(r,i),s=n(s,a)),function(o){return s(r(o))}}function g0(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Fi(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var l=md(e,o,1,r)-1;return s[l](i[l](o))}}function p0(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function m0(){var e=_a,t=_a,n=ks,r,i,s,a=Zt,o,l,c;function f(){var d=Math.min(e.length,t.length);return a!==Zt&&(a=d0(e[0],e[d-1])),o=d>2?g0:h0,l=c=null,u}function u(d){return d==null||isNaN(d=+d)?s:(l||(l=o(e.map(r),t,n)))(r(a(d)))}return u.invert=function(d){return a(i((c||(c=o(t,e.map(r),He)))(d)))},u.domain=function(d){return arguments.length?(e=Array.from(d,f0),f()):e.slice()},u.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},u.rangeRound=function(d){return t=Array.from(d),n=Lg,f()},u.clamp=function(d){return arguments.length?(a=d?!0:Zt,f()):a!==Zt},u.interpolate=function(d){return arguments.length?(n=d,f()):n},u.unknown=function(d){return arguments.length?(s=d,u):s},function(d,p){return r=d,i=p,f()}}function w0(){return m0()(Zt,Zt)}function v0(e,t,n,r){var i=Sd(e,t,n),s;switch(r=Hr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=l0(i,a))&&(r.precision=s),$l(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=c0(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=o0(i))&&(r.precision=s-(r.type==="%")*2);break}}return Sl(r)}function y0(e){var t=e.domain;return e.ticks=function(n){var r=t();return kd(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return v0(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,f=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);f-- >0;){if(c=Ti(a,o,n),c===l)return r[i]=a,r[s]=o,t(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return e},e}function Al(){var e=w0();return e.copy=function(){return p0(e,Al())},As.apply(e,arguments),y0(e)}function Sn(e,t,n){this.k=e,this.x=t,this.y=n}Sn.prototype={constructor:Sn,scale:function(e){return e===1?this:new Sn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Sn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Sn.prototype;var b0=M('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function x0(e){let t;const[n,r]=j({width:800,height:500});we(()=>{function m(){if(t&&t.parentElement){const v=t.parentElement.getBoundingClientRect();r({width:Math.max(v.width,600),height:Math.max(v.height,400)})}}m(),window.addEventListener("resize",m),Oe(()=>window.removeEventListener("resize",m))});const i=()=>e.data??[],s=16,a=()=>e.width??n().width,o=()=>e.height??n().height,l=()=>e.title??"AMSTAR-2 Quality Assessment",c={top:60,right:170,bottom:60,left:120},f=()=>(a()-c.left-c.right)/s,u=()=>(o()-c.top-c.bottom)/i().length,d=()=>Math.min(f(),u()),p=()=>d()*s,_=()=>d()*i().length,b=()=>c.left+p()+c.right,C=()=>c.top+_()+c.bottom,T={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return we(()=>{const m=cl(t).attr("width",b()).attr("height",C()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');m.selectAll("*").remove(),m.append("g").attr("class","footer").selectAll("text").data(Ko(1,s+1)).enter().append("text").attr("x",(g,w)=>c.left+w*d()+d()/2).attr("y",c.top+_()+20).attr("text-anchor","middle").attr("font-size",Math.max(10,d()*.4)).attr("font-weight","600").attr("fill","#374151").text(g=>`Q${g}`),m.append("g").attr("class","rows").selectAll("text").data(i()).enter().append("text").attr("x",c.left-15).attr("y",(g,w)=>c.top+w*d()+d()/2).attr("text-anchor","end").attr("font-size",Math.max(10,d()*.45)).attr("font-weight","500").attr("fill","#374151").attr("dominant-baseline","middle").text(g=>g.label);const k=m.append("g").attr("class","cells");i().forEach((g,w)=>{for(let x=0;x<s;x++){const S=g.questions[x]?.toLowerCase?.()??"",R=T[S]??"#e5e7eb";k.append("rect").attr("x",c.left+x*d()+2).attr("y",c.top+w*d()+2).attr("width",d()-4).attr("height",d()-4).attr("fill",R).attr("stroke","#ffffff").attr("stroke-width",1).attr("rx",Math.max(2,d()*.12)).style("filter","drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))")}});const A=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],h=m.append("g").attr("class","legend").attr("transform",`translate(${b()-c.right+20}, ${c.top+20})`).selectAll(".legend-item").data(A).enter().append("g").attr("class","legend-item").attr("transform",(g,w)=>`translate(0, ${w*25})`);h.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",g=>T[g.key]).attr("stroke","#ffffff").attr("stroke-width",1),h.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(g=>g.label),m.append("text").attr("x",b()/2).attr("y",40).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(l()),Oe(()=>{m.selectAll("*").remove()})}),(()=>{var m=b0(),v=m.firstChild,y=t;return typeof y=="function"?On(y,v):t=v,Q(k=>Kr(v,`width: 100%; height: ${C()}px; max-width: 100%; display: block;`,k)),m})()}var _0=M('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function k0(e){let t,n;const r=()=>e.data??[],[i,s]=j({width:900,height:600});Gn(()=>{const _=()=>{if(n){const b=n.getBoundingClientRect();s({width:Math.max(b.width,400),height:Math.max(b.height,400)})}};_(),window.addEventListener("resize",_),Oe(()=>window.removeEventListener("resize",_))}),we(()=>{if(n){const _=n.getBoundingClientRect();s({width:Math.max(_.width,400),height:Math.max(_.height,400)})}});const a=()=>e.width??i().width,o=()=>e.height??i().width/1.5,l=()=>e.title??"Distribution of AMSTAR Ratings on Each Item Across Included Reviews",c={top:50,right:150,bottom:60,left:80},f=()=>a()-c.left-c.right,u=()=>o()-c.top-c.bottom,d=()=>Math.max(Math.round(a()/50),12)+1,p={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return we(()=>{if(!r().length)return;const _=cl(t).attr("width",a()).attr("height",o()).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');_.selectAll("*").remove();const b=[],C=Math.max(...r().map(g=>g.questions?.length||0)),T=r().length;for(let g=0;g<C;g++){const w={question:g+1,label:`Q${g+1}`,counts:{yes:0,"partial yes":0,no:0,"no ma":0}};r().forEach(x=>{const S=x.questions[g]?.toLowerCase?.()??"no ma";w.counts.hasOwnProperty(S)&&w.counts[S]++}),w.percentages={},Object.keys(w.counts).forEach(x=>{w.percentages[x]=w.counts[x]/T*100}),b.push(w)}const m=Cl().domain(b.map(g=>g.label)).range([0,u()]).padding(.1),v=Al().domain([0,100]).range([0,f()]),y=_.append("g").attr("transform",`translate(${c.left}, ${c.top})`);_.append("text").attr("x",a()/2).attr("y",30).attr("text-anchor","middle").attr("font-size",d()+"px").attr("font-weight","600").attr("fill","#111827").text(l()),b.forEach(g=>{let w=0;const x=m.bandwidth(),S=m(g.label);["yes","partial yes","no ma","no"].forEach(R=>{const I=g.percentages[R],F=v(I);I>0&&(y.append("rect").attr("x",v(w)).attr("y",S).attr("width",F).attr("height",x).attr("fill",p[R]).attr("stroke","#ffffff").attr("stroke-width",1),I>=5&&y.append("text").attr("x",v(w)+F/2).attr("y",S+x/2).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","12px").attr("font-weight","600").attr("fill",R==="partial yes"?"#000000":"#ffffff").text(`${I.toFixed(1)}`)),w+=I})}),y.selectAll(".y-label").data(b).enter().append("text").attr("class","y-label").attr("x",-10).attr("y",g=>m(g.label)+m.bandwidth()/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(g=>g.label);const k=Td(v).tickFormat(g=>`${g}`).ticks(5);y.append("g").attr("class","x-axis").attr("transform",`translate(0, ${u()})`).call(k).selectAll("text").attr("font-size","12px").attr("fill","#374151"),y.append("text").attr("x",f()/2).attr("y",u()+50).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text(`Percentage of SRs (%), N=${T}`),_.append("text").attr("transform","rotate(-90)").attr("x",-o()/2).attr("y",20).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text("Items of AMSTAR-2");const A=_.append("g").attr("class","legend").attr("transform",`translate(${a()-c.right+20}, ${c.top+20})`),$=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],h=A.selectAll(".legend-item").data($).enter().append("g").attr("class","legend-item").attr("transform",(g,w)=>`translate(0, ${w*25})`);h.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",g=>p[g.key]).attr("stroke","#ffffff").attr("stroke-width",1),h.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(g=>g.label),Oe(()=>{_.selectAll("*").remove()})}),(()=>{var _=_0(),b=_.firstChild,C=n;typeof C=="function"?On(C,_):n=_;var T=t;return typeof T=="function"?On(T,b):t=b,Q(m=>Kr(b,`width: 100%; height: ${o()}px; max-width: 100%; display: block;`,m)),_})()}function Pl({id:e,name:t,createdAt:n=Date.now(),checklists:r=[],pdfFileName:i=null}={}){if(!e)throw new Error("Review id is required");if(!t)throw new Error("Review name is required");return{id:e,name:t,createdAt:n,checklists:r,pdfFileName:i}}function S0(e){return new Promise((t,n)=>{const r=indexedDB.open("fileStorageDB",1);r.onupgradeneeded=i=>{const s=i.target.result;s.objectStoreNames.contains("files")||s.createObjectStore("files",{keyPath:"name"})},r.onsuccess=i=>{const a=i.target.result.transaction("files","readwrite");a.objectStore("files").put({name:e.name,blob:e}),a.oncomplete=()=>t(e.name),a.onerror=n},r.onerror=n})}function $0(e){return new Promise((t,n)=>{const r=indexedDB.open("fileStorageDB",1);r.onsuccess=i=>{const l=i.target.result.transaction("files","readonly").objectStore("files").get(e);l.onsuccess=()=>t(l.result?.blob||null),l.onerror=n},r.onerror=n})}async function E0(){let e;if(window.showOpenFilePicker){const[t]=await window.showOpenFilePicker();e=await t.getFile()}else console.warn("showOpenFilePicker not supported, falling back to manual file selection."),e=await new Promise(t=>{const n=document.createElement("input");n.type="file",n.onchange=()=>t(n.files[0]),n.click()});if(navigator.storage?.getDirectory){const r=await(await(await navigator.storage.getDirectory()).getFileHandle(e.name,{create:!0})).createWritable();return await r.write(await e.arrayBuffer()),await r.close(),e.name}else return console.warn("File System Access API getDirectory not supported, falling back to IndexedDB."),await S0(e),e.name}async function ka(e){return navigator.storage?.getDirectory?await(await(await navigator.storage.getDirectory()).getFileHandle(e)).getFile():(console.warn("File System Access API getDirectory not supported, falling back to IndexedDB."),await $0(e))}var C0=M('<div class="p-6 max-w-4xl mx-auto"><div class="flex flex-wrap items-center justify-between mb-4 gap-2"><h2 class="text-xl font-bold"> Dashboard</h2><button class="bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600 transition">Delete Project</button></div><div class="mb-2 text-xs text-gray-500">Created: </div><div class=mb-4><h3 class="text-base font-semibold mb-1">Add New Review</h3><div class="flex gap-2 items-center"><input type=text class="px-2 py-1 border rounded w-48 text-sm"placeholder="Review (study/article) name"><button class="px-3 py-1 bg-green-500 text-white rounded hover:bg-green-600 transition text-sm">+ Add Review</button></div></div><div class=mb-4><h3 class="text-base font-semibold mb-1">Reviews &amp; Checklists</h3><ul class="divide-y divide-gray-100 border rounded bg-white shadow-sm"></ul></div><div class="mb-4 flex gap-2"><button class="px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Export Checklists CSV</button><button class="px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Upload file</button><button class="px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Download File</button><button class="px-3 py-1 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Display File</button></div><div class=mb-6></div><div>'),A0=M("<div class=p-8>Project not found."),P0=M('<li class=p-3><div class="flex items-center justify-between"><div><span class=font-semibold></span><span class="ml-2 text-xs text-gray-400">Created: </span></div><button class="px-2 py-1 bg-red-400 text-white rounded hover:bg-red-500 text-xs">Delete Review</button></div><div class=mt-2><h4 class="text-sm font-medium mb-1">Checklists</h4><ul class=space-y-1></ul><div class="flex gap-2 mt-2"><input type=text class="px-2 py-1 border rounded w-40 text-xs"placeholder="Checklist name"><button class="px-2 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 text-xs">+ Checklist'),R0=M('<li class="flex items-center justify-between border rounded px-2 py-1 bg-white hover:bg-blue-50 cursor-pointer"><span><span class=font-semibold></span><span class="ml-2 text-xs text-gray-600">Reviewer: </span></span><button class="ml-2 px-2 py-0.5 bg-red-400 text-white rounded hover:bg-red-500 text-xs">Delete'),N0=M('<span class="italic text-gray-400">Unassigned'),T0=M('<li class="px-2 py-1 text-xs text-gray-400">No checklists yet.'),M0=M('<li class="px-4 py-2 text-xs text-gray-400">No reviews yet.');function O0(){const{currentProject:e,setCurrentProject:t,deleteProject:n,addReview:r,deleteReview:i,addChecklistToReview:s,deleteChecklistFromReview:a}=zt(),o=Gr(),l=ht(),[c,f]=j(""),[u,d]=j(""),[p,_]=j([]);function b($){if(!$)return null;const h=$.lastIndexOf("-");return h!==-1?$.slice(h+1):$}we(()=>{const $=b(o.projectSlug);$?t($):(console.warn("ProjectDashboard: No project found for",$),l("/dashboard"))});const C=async()=>{if(!c().trim())return;const $=Pl({id:await Dt(),name:c(),createdAt:Date.now(),checklists:[]});await r(e().id,$),f("")},T=async $=>{if(!u().trim())return;const h=ws({name:u(),id:await Dt(),createdAt:Date.now(),reviewerName:"Unassigned"});await s(e().id,$,h),d("")},m=$=>{const h=nt($.name),g=nt(e().name),w=(e().reviews||[]).find(S=>(S.checklists||[]).some(R=>R.id===$.id));if(!w){console.error("Review not found for checklist",$);return}const x=nt(w.name);l(`/projects/${g}-${e().id}/reviews/${x}-${w.id}/checklists/${h}-${$.id}`)},v=()=>{let $=exportChecklistsToCSV(e().checklists);console.log($)},y=["q1","q2","q3","q4","q5","q6","q7","q8","q9","q10","q11","q12","q13","q14","q15","q16"];we(()=>{const $=(e()?.reviews||[]).flatMap(h=>(h.checklists||[]).map(g=>{const w=Lf(g);return{label:g.name||g.title||g.id,reviewer:g.reviewerName||"",reviewName:h.name,questions:y.map(x=>w[x])}}));_($)});const k=async()=>{const $=prompt("Enter the name of the file to retrieve (including extension):");if($)try{const h=await ka($);if(!h){alert(`File "${$}" not found.`);return}const g=URL.createObjectURL(h),w=document.createElement("a");w.href=g,w.download=h.name||$,document.body.appendChild(w),w.click(),document.body.removeChild(w),URL.revokeObjectURL(g)}catch(h){console.error("Error retrieving file:",h),alert("Error retrieving file. See console for details.")}},A=async()=>{const $=prompt("Enter the name of the PDF file to display (including .pdf):");if($)try{const h=await ka($);if(!h){alert(`File "${$}" not found.`);return}if(h.type!=="application/pdf"&&!$.toLowerCase().endsWith(".pdf")){alert("Selected file is not a PDF.");return}const g=URL.createObjectURL(h);window.open(g,"_blank"),setTimeout(()=>URL.revokeObjectURL(g),6e4)}catch(h){console.error("Error displaying file:",h),alert("Error displaying file. See console for details.")}};return E(me,{get when(){return e()},get fallback(){return A0()},get children(){var $=C0(),h=$.firstChild,g=h.firstChild,w=g.firstChild,x=g.nextSibling,S=h.nextSibling;S.firstChild;var R=S.nextSibling,I=R.firstChild,F=I.nextSibling,U=F.firstChild,D=U.nextSibling,Y=R.nextSibling,L=Y.firstChild,ue=L.nextSibling,B=Y.nextSibling,H=B.firstChild,O=H.nextSibling,de=O.nextSibling,he=de.nextSibling,ve=B.nextSibling,Re=ve.nextSibling;return P(g,()=>e().name,w),x.$$click=()=>n(e().id),P(S,()=>new Date(e().createdAt).toLocaleDateString(),null),U.$$input=V=>f(V.target.value),D.$$click=C,P(ue,E(kt,{get each(){return e().reviews||[]},children:V=>(()=>{var J=P0(),fe=J.firstChild,K=fe.firstChild,oe=K.firstChild,pe=oe.nextSibling;pe.firstChild;var ce=K.nextSibling,re=fe.nextSibling,G=re.firstChild,ye=G.nextSibling,ee=ye.nextSibling,ae=ee.firstChild,ge=ae.nextSibling;return P(oe,()=>V.name),P(pe,()=>new Date(V.createdAt).toLocaleDateString(),null),ce.$$click=()=>i(e().id,V.id),P(ye,E(kt,{get each(){return V.checklists||[]},children:Ce=>(()=>{var Ne=R0(),gt=Ne.firstChild,xe=gt.firstChild,Le=xe.nextSibling;Le.firstChild;var be=gt.nextSibling;return Ne.$$click=()=>m(Ce),P(xe,()=>Ce.name),P(Le,()=>Ce.reviewerName||N0(),null),be.$$click=ke=>{ke.stopPropagation(),a(e().id,V.id,Ce.id)},Ne})()}),null),P(ye,(()=>{var Ce=ft(()=>!V.checklists||V.checklists.length===0);return()=>Ce()&&T0()})(),null),ae.$$input=Ce=>d(Ce.target.value),ge.$$click=()=>T(V.id),Q(()=>ge.disabled=!u().trim()),Q(()=>ae.value=u()),J})()}),null),P(ue,(()=>{var V=ft(()=>!e().reviews||e().reviews.length===0);return()=>V()&&M0()})(),null),H.$$click=v,Ze(O,"click",E0,!0),de.$$click=k,he.$$click=A,P(ve,E(x0,{get data(){return p()}})),P(Re,E(k0,{get data(){return p()}})),Q(()=>D.disabled=!c().trim()),Q(()=>U.value=c()),$}})}Pe(["click","input"]);function Rl({id:e,name:t,createdAt:n=Date.now(),reviews:r=[]}={}){if(t===null)throw new Error("Project name cannot be null");return{id:e,name:t,createdAt:n,reviews:r}}function I0(e,t){return Object.keys(e).forEach(n=>{/^q\d+[a-z]*$/i.test(n)&&e[n]?.answers&&e[n].answers.forEach((r,i)=>{r.fill(!1),t%2===0?r[0]=!0:r[r.length-1]=!0})}),e}async function L0(){const e=["Review 1","Review 2","Review 3"];let t=[];for(const[r,i]of e.entries()){const s=r%2===0?2:1;for(let a=0;a<s;a++){let o=ws({name:`Checklist ${a+1}`,id:await Dt(),createdAt:Date.now()});o=I0(o,r+a);const l=Pl({id:await Dt(),name:i,createdAt:Date.now(),checklists:[o]});t.push(l)}}const n=Rl({id:await Dt(),name:"Example Project",createdAt:Date.now(),reviews:t});await hn(n)}var q0=M("<ul class=space-y-1>"),D0=M('<div class=p-4><h2 class="text-xl font-bold mb-3">Your Projects</h2><div class="mt-4 flex items-center gap-2"><input type=text class="px-2 py-1 border rounded w-48 text-sm"placeholder="Project name"><button class="px-3 py-1.5 bg-green-500 text-white rounded hover:bg-green-600 transition text-sm">+ Add New Project</button></div><div class="mt-4 flex flex-wrap gap-2"><button class="px-3 py-1.5 bg-gray-500 text-white rounded hover:bg-gray-600 transition text-sm">Load Example Project</button><button class="px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition text-sm">Check Health</button><button class="px-3 py-1.5 bg-blue-500 text-white rounded hover:bg-blue-600 transition text-sm">Check Health DB'),j0=M('<div class="text-sm text-gray-500">No projects found.'),F0=M('<li><div><div class=font-medium></div><div class="text-xs text-gray-600"></div><div class="text-xs text-gray-400">Created: </div></div><button class="ml-0 sm:ml-4 mt-2 sm:mt-0 px-2 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition text-xs">Delete');function U0(){const{projects:e,currentProject:t,addProject:n,deleteProject:r}=zt(),i=ht(),[s,a]=j(""),o=f=>{const u=nt(f.name);i(`/projects/${u}-${f.id}`)},l=async()=>{if(!s().trim())return;const f=await n(Rl({id:await Dt(),name:s().trim(),createdAt:Date.now()}));a(""),o(f)},c=async f=>{window.confirm("Are you sure you want to delete this project?")&&await r(f)};return(()=>{var f=D0(),u=f.firstChild,d=u.nextSibling,p=d.firstChild,_=p.nextSibling,b=d.nextSibling,C=b.firstChild,T=C.nextSibling,m=T.nextSibling;return P(f,E(me,{get when(){return e().length!==0},get fallback(){return j0()},get children(){var v=q0();return P(v,E(kt,{get each(){return e()},children:y=>(()=>{var k=F0(),A=k.firstChild,$=A.firstChild,h=$.nextSibling,g=h.nextSibling;g.firstChild;var w=A.nextSibling;return k.$$click=()=>o(y),P($,()=>y.name),P(h,()=>y.description),P(g,()=>new Date(y.createdAt).toLocaleDateString(),null),w.$$click=x=>{x.stopPropagation(),c(y.id)},Q(x=>{var S=y.id,R=`p-2 border rounded cursor-pointer transition text-sm flex flex-col sm:flex-row sm:items-center sm:justify-between ${t()&&t().id===y.id?"bg-blue-50 border-blue-300":"hover:bg-gray-100"}`;return S!==x.e&&Se(k,"key",x.e=S),R!==x.t&&_e(k,x.t=R),x},{e:void 0,t:void 0}),k})()})),v}}),d),p.$$input=v=>a(v.target.value),_.$$click=l,C.$$click=async()=>{const v=await L0();console.log("Loaded example project:",v),window.location.reload()},Ze(T,"click",Pf,!0),Ze(m,"click",Rf,!0),Q(()=>_.disabled=!s().trim()),Q(()=>p.value=s()),f})()}Pe(["input","click"]);var B0=M("<div>");function Je(e){const[t,n]=j(!1),[r,i]=j(!1);let s,a;const o=()=>e.duration??300,l=()=>e.timingFunction??"ease-in-out",c=()=>e.when;return we(()=>{c()?(clearTimeout(a),i(!0),requestAnimationFrame(()=>{n(!0)})):(n(!1),clearTimeout(a),a=setTimeout(()=>{i(!1)},o()))}),Oe(()=>{clearTimeout(a)}),E(me,{get when(){return r()},get fallback(){return e.fallback},get children(){var f=B0(),u=s;return typeof u=="function"?On(u,f):s=f,P(f,()=>e.children),Q(d=>{var p=t()?1:0,_=`opacity ${o()}ms ${l()}`,b=e.ariaLive||"polite",C=e.role||"alert",T=e.class||"";return p!==d.e&&En(f,"opacity",d.e=p),_!==d.t&&En(f,"transition",d.t=_),b!==d.a&&Se(f,"aria-live",d.a=b),C!==d.o&&Se(f,"role",d.o=C),T!==d.i&&_e(f,d.i=T),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),f}})}var en=(e,t=[])=>({parts:(...n)=>{if(V0(t))return en(e,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>en(e,[...t,...n]),omit:(...n)=>en(e,t.filter(r=>!n.includes(r))),rename:n=>en(n,t),keys:()=>t,build:()=>[...new Set(t)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Qt(e)}"][data-part="${Qt(r)}"]`,`& [data-scope="${Qt(e)}"][data-part="${Qt(r)}"]`].join(", "),attrs:{"data-scope":Qt(e),"data-part":Qt(r)}}}),{})}),Qt=e=>e.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),V0=e=>e.length===0,si=e=>typeof e=="object"&&e!==null,ie=e=>e?"":void 0,Nl=e=>e?"true":void 0,H0=1,z0=9,Y0=11,Tl=e=>si(e)&&e.nodeType===H0&&typeof e.nodeName=="string",Ml=e=>si(e)&&e.nodeType===z0,W0=e=>si(e)&&e===e.window,Q0=e=>si(e)&&e.nodeType!==void 0,K0=e=>Q0(e)&&e.nodeType===Y0&&"host"in e;function G0(e){if(!e)return!1;const t=e.getRootNode();return Ol(t)===e}function X0(e){return Ml(e)?e:W0(e)?e.document:e?.ownerDocument??document}function Ps(e){return K0(e)?Ps(e.host):Ml(e)?e.defaultView??window:Tl(e)?e.ownerDocument?.defaultView??window:window}function Ol(e){let t=e.activeElement;for(;t?.shadowRoot;){const n=t.shadowRoot.activeElement;if(!n||n===t)break;t=n}return t}function J0(e){const{selectionStart:t,selectionEnd:n,value:r}=e.currentTarget,i=e.data;return r.slice(0,t)+(i??"")+r.slice(n)}function Z0(e){return Il(e).isComposing||e.keyCode===229}var em=e=>e.button===0,tm=e=>e.ctrlKey||e.altKey||e.metaKey,nm={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Sa={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function rm(e,t={}){const{dir:n="ltr",orientation:r="horizontal"}=t;let i=e.key;return i=nm[i]??i,n==="rtl"&&r==="horizontal"&&i in Sa&&(i=Sa[i]),i}function Il(e){return e.nativeEvent??e}function im(e,t){const{type:n="HTMLInputElement",property:r="value"}=t,i=Ps(e)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function sm(e){if(e.localName==="input")return"HTMLInputElement";if(e.localName==="textarea")return"HTMLTextAreaElement";if(e.localName==="select")return"HTMLSelectElement"}function am(e,t,n="value"){if(!e)return;const r=sm(e);r&&im(e,{type:r,property:n}).set?.call(e,t),e.setAttribute(n,t)}function om(e,t){const{value:n,bubbles:r=!0}=t;if(!e)return;const i=Ps(e);e instanceof i.HTMLInputElement&&(am(e,`${n}`),e.dispatchEvent(new i.Event("input",{bubbles:r})))}function lr(e){let t;const n=globalThis.requestAnimationFrame(()=>{t=e()});return()=>{globalThis.cancelAnimationFrame(n),t?.()}}function lm(e,t){return Array.from(e?.querySelectorAll(t)??[])}var cm={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"};function um(e){return e==null?[]:Array.isArray(e)?e:[e]}var $a=e=>e?.constructor.name==="Array",fm=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!ai(e[n],t[n]))return!1;return!0},ai=(e,t)=>{if(Object.is(e,t))return!0;if(e==null&&t!=null||e!=null&&t==null)return!1;if(typeof e?.isEqual=="function"&&typeof t?.isEqual=="function")return e.isEqual(t);if(typeof e=="function"&&typeof t=="function")return e.toString()===t.toString();if($a(e)&&$a(t))return fm(Array.from(e),Array.from(t));if(typeof e!="object"||typeof t!="object")return!1;const n=Object.keys(t??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(e,n[i]))return!1;for(let i=0;i<r;i++){const s=n[i];if(!ai(e[s],t[s]))return!1}return!0},dm=e=>Array.isArray(e),Ll=e=>e!=null&&typeof e=="object",hm=e=>Ll(e)&&!dm(e),gm=e=>typeof e=="number"&&!Number.isNaN(e),Rs=e=>typeof e=="string",bt=e=>typeof e=="function",pm=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),mm=e=>Object.prototype.toString.call(e),ql=Function.prototype.toString,wm=ql.call(Object),vm=e=>{if(!Ll(e)||mm(e)!="[object Object]"||xm(e))return!1;const t=Object.getPrototypeOf(e);if(t===null)return!0;const n=pm(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&ql.call(n)==wm},ym=e=>typeof e=="object"&&e!==null&&"$$typeof"in e&&"props"in e,bm=e=>typeof e=="object"&&e!==null&&"__v_isVNode"in e,xm=e=>ym(e)||bm(e),_m=(()=>{let e=0;return()=>(e++,e.toString(36))})(),mi=(e,t,n)=>e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)];function Dl(e){if(!vm(e)||e===void 0)return e;const t=Reflect.ownKeys(e).filter(r=>typeof r=="string"),n={};for(const r of t){const i=e[r];i!==void 0&&(n[r]=Dl(i))}return n}function Ea(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function km(...e){e.length===1?e[0]:e[1],e.length===2&&e[0]}function Sm(e,t){if(e==null)throw new Error(t())}function $m(){return{and:(...e)=>function(n){return e.every(r=>n.guard(r))},or:(...e)=>function(n){return e.some(r=>n.guard(r))},not:e=>function(n){return!n.guard(e)}}}function Em(){return{guards:$m(),createMachine:e=>e,choose:e=>function({choose:n}){return n(e)?.actions}}}var Xt=(e=>(e.NotStarted="Not Started",e.Started="Started",e.Stopped="Stopped",e))(Xt||{}),wi="__init__";function Cm(e){const t=()=>e.getRootNode?.()??document,n=()=>X0(t());return{...e,getRootNode:t,getDoc:n,getWin:()=>n().defaultView??window,getActiveElement:()=>Ol(t()),isActiveElement:G0,getById:a=>t().getElementById(a)}}function Am(e){return new Proxy({},{get(t,n){return n==="style"?r=>e({style:r}).style:e}})}var jl=()=>e=>Array.from(new Set(e)),Pm=en("password-input").parts("root","input","label","control","indicator","visibilityTrigger"),Kt=Pm.build(),yr=e=>e.ids?.input??`p-input-${e.id}-input`,Ui=e=>e.getById(yr(e));function Rm(e,t){const{scope:n,prop:r,context:i}=e,s=i.get("visible"),a=!!r("disabled"),o=!!r("invalid"),l=!!r("readOnly"),c=!!r("required"),f=!(l||a),u=r("translations");return{visible:s,disabled:a,invalid:o,focus(){Ui(n)?.focus()},setVisible(d){e.send({type:"VISIBILITY.SET",value:d})},toggleVisible(){e.send({type:"VISIBILITY.SET",value:!s})},getRootProps(){return t.element({...Kt.root.attrs,dir:r("dir"),"data-disabled":ie(a),"data-invalid":ie(o),"data-readonly":ie(l)})},getLabelProps(){return t.label({...Kt.label.attrs,htmlFor:yr(n),"data-disabled":ie(a),"data-invalid":ie(o),"data-readonly":ie(l),"data-required":ie(c)})},getInputProps(){return t.input({...Kt.input.attrs,id:yr(n),autoCapitalize:"off",name:r("name"),required:r("required"),autoComplete:r("autoComplete"),spellCheck:!1,readOnly:l,disabled:a,type:s?"text":"password","data-state":s?"visible":"hidden","aria-invalid":Nl(o),"data-disabled":ie(a),"data-invalid":ie(o),"data-readonly":ie(l),...r("ignorePasswordManagers")?Nm:{}})},getVisibilityTriggerProps(){return t.button({...Kt.visibilityTrigger.attrs,type:"button",tabIndex:-1,"aria-controls":yr(n),"aria-expanded":s,"data-readonly":ie(l),disabled:a,"data-disabled":ie(a),"data-state":s?"visible":"hidden","aria-label":u?.visibilityTrigger?.(s),onPointerDown(d){em(d)&&f&&(d.preventDefault(),e.send({type:"TRIGGER.CLICK"}))}})},getIndicatorProps(){return t.element({...Kt.indicator.attrs,"aria-hidden":!0,"data-state":s?"visible":"hidden","data-disabled":ie(a),"data-invalid":ie(o),"data-readonly":ie(l)})},getControlProps(){return t.element({...Kt.control.attrs,"data-disabled":ie(a),"data-invalid":ie(o),"data-readonly":ie(l)})}}}var Nm={"data-1p-ignore":"","data-lpignore":"true","data-bwignore":"true","data-form-type":"other","data-protonpass-ignore":"true"},Tm={props({props:e}){return{id:_m(),defaultVisible:!1,autoComplete:"current-password",ignorePasswordManagers:!1,...e,translations:{visibilityTrigger(t){return t?"Hide password":"Show password"},...e.translations}}},context({prop:e,bindable:t}){return{visible:t(()=>({value:e("visible"),defaultValue:e("defaultVisible"),onChange(n){e("onVisibilityChange")?.({visible:n})}}))}},initialState(){return"idle"},effects:["trackFormEvents"],states:{idle:{on:{"VISIBILITY.SET":{actions:["setVisibility"]},"TRIGGER.CLICK":{actions:["toggleVisibility","focusInputEl"]}}}},implementations:{actions:{setVisibility({context:e,event:t}){e.set("visible",t.value)},toggleVisibility({context:e}){e.set("visible",t=>!t)},focusInputEl({scope:e}){Ui(e)?.focus()}},effects:{trackFormEvents({scope:e,send:t}){const r=Ui(e)?.form;if(!r)return;const i=e.getWin(),s=new i.AbortController;return r.addEventListener("reset",a=>{a.defaultPrevented||t({type:"VISIBILITY.SET",value:!1})},{signal:s.signal}),r.addEventListener("submit",()=>{t({type:"VISIBILITY.SET",value:!1})},{signal:s.signal}),()=>s.abort()}}}};jl()(["defaultVisible","dir","id","onVisibilityChange","visible","ids","getRootNode","disabled","invalid","required","readOnly","translations","ignorePasswordManagers","autoComplete","name"]);function zr(e){const t=e().value??e().defaultValue,n=e().isEqual??Object.is,[r,i]=j(t),s=se(()=>e().value!=null),a={current:r()},o={current:void 0};we(()=>{const f=s()?e().value:r();o.current=f,a.current=f});const l=f=>{const u=o.current,d=bt(f)?f(a.current):f;e().debug&&console.log(`[bindable > ${e().debug}] setValue`,{next:d,prev:u}),s()||i(d),n(d,u)||e().onChange?.(d,u)};function c(){const f=s()?e().value:r;return bt(f)?f():f}return{initial:t,ref:a,get:c,set:l,invoke(f,u){e().onChange?.(f,u)},hash(f){return e().hash?.(f)??String(f)}}}zr.cleanup=e=>{Oe(()=>e())};zr.ref=e=>{let t=e;return{get:()=>t,set:n=>{t=n}}};function Mm(e){const t={current:e};return{get(n){return t.current[n]},set(n,r){t.current[n]=r}}}function vi(e){return bt(e)?e():e}var Om=(e,t)=>{let n=[],r=!0;we(()=>{if(r){n=e.map(s=>vi(s)),r=!1;return}let i=!1;for(let s=0;s<e.length;s++)if(!ai(n[s],vi(e[s]))){i=!0;break}i&&(n=e.map(s=>vi(s)),t())})};function Fl(e,t={}){const n=se(()=>{const{id:h,ids:g,getRootNode:w}=yi(t);return Cm({id:h,ids:g,getRootNode:w})}),r=(...h)=>{e.debug&&console.log(...h)},i=se(()=>e.props?.({props:Dl(yi(t)),scope:n()})??yi(t)),s=Im(i),a=e.context?.({prop:s,bindable:zr,get scope(){return n()},flush:Ca,getContext(){return o},getComputed(){return y},getRefs(){return _},getEvent(){return d()}}),o={get(h){return a?.[h].get()},set(h,g){a?.[h].set(g)},initial(h){return a?.[h].initial},hash(h){const g=a?.[h].get();return a?.[h].hash(g)}},l={current:new Map},c={current:null},f={current:null},u={current:{type:""}},d=()=>X(u.current,{current(){return u.current},previous(){return f.current}}),p=()=>X(k,{matches(...h){const g=k.get();return h.includes(g)},hasTag(h){const g=k.get();return!!e.states[g]?.tags?.includes(h)}}),_=Mm(e.refs?.({prop:s,context:o})??{}),b=()=>({state:p(),context:o,event:d(),prop:s,send:$,action:C,guard:T,track:Om,refs:_,computed:y,flush:Ca,get scope(){return n()},choose:v}),C=h=>{const g=bt(h)?h(b()):h;if(!g)return;const w=g.map(x=>{const S=e.implementations?.actions?.[x];return S||Ea(`[zag-js] No implementation found for action "${JSON.stringify(x)}"`),S});for(const x of w)x?.(b())},T=h=>bt(h)?h(b()):e.implementations?.guards?.[h](b()),m=h=>{const g=bt(h)?h(b()):h;if(!g)return;const w=g.map(S=>{const R=e.implementations?.effects?.[S];return R||Ea(`[zag-js] No implementation found for effect "${JSON.stringify(S)}"`),R}),x=[];for(const S of w){const R=S?.(b());R&&x.push(R)}return()=>x.forEach(S=>S?.())},v=h=>um(h).find(g=>{let w=!g.guard;return Rs(g.guard)?w=!!T(g.guard):bt(g.guard)&&(w=g.guard(b())),w}),y=h=>{Sm(e.computed,()=>"[zag-js] No computed object found on machine");const g=e.computed[h];return g({context:o,event:u.current,prop:s,refs:_,scope:n(),computed:y})},k=zr(()=>({defaultValue:e.initialState({prop:s}),onChange(h,g){g&&(l.current.get(g)?.(),l.current.delete(g)),g&&C(e.states[g]?.exit),C(c.current?.actions);const w=m(e.states[h]?.effects);if(w&&l.current.set(h,w),g===wi){C(e.entry);const x=m(e.effects);x&&l.current.set(wi,x)}C(e.states[h]?.entry)}}));let A=Xt.NotStarted;Gn(()=>{const h=A===Xt.Started;A=Xt.Started,r(h?"rehydrating...":"initializing..."),k.invoke(k.initial,wi)}),Oe(()=>{r("unmounting..."),A=Xt.Stopped,l.current.forEach(g=>g?.()),l.current=new Map,c.current=null,C(e.exit)});const $=h=>{queueMicrotask(()=>{if(A!==Xt.Started)return;f.current=u.current,u.current=h;let g=Me(()=>k.get());const w=e.states[g].on?.[h.type]??e.on?.[h.type],x=v(w);if(!x)return;c.current=x;const S=x.target??g;r("transition",h.type,x.target||g,`(${x.actions})`);const R=S!==g;R?k.set(S):x.reenter&&!R?k.invoke(g,g):C(x.actions)})};return e.watch?.(b()),{state:p(),send:$,context:o,prop:s,get scope(){return n()},refs:_,computed:y,event:d(),getStatus:()=>A}}function Ca(e){e()}function yi(e){return bt(e)?e():e}function Im(e){return function(n){return e()[n]}}var Aa={onFocus:"onFocusIn",onBlur:"onFocusOut",onDoubleClick:"onDblClick",onChange:"onInput",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",className:"class"},Lm=e=>e.startsWith("--")?e:Bm(e);function qm(e){return e in Aa?Aa[e]:e}var Ul=Am(e=>{const t={};for(const n in e){const r=e[n];if(!(n==="readOnly"&&r===!1)){if(n==="style"&&hm(r)){t.style=Dm(r);continue}if(n==="children"){Rs(r)&&(t.textContent=r);continue}t[qm(n)]=r}}return t});function Dm(e){let t={};for(const n in e){const r=e[n];!Rs(r)&&!gm(r)||(t[Lm(n)]=r)}return t}var jm=/[A-Z]/g,Fm=/^ms-/;function Um(e){return"-"+e.toLowerCase()}var bi={};function Bm(e){if(bi.hasOwnProperty(e))return bi[e];var t=e.replace(jm,Um);return bi[e]=Fm.test(t)?"-"+t:t}var Vm=M("<svg stroke-width=0>");function oi(e,t){const n=X(e.a,t),[r,i]=Ya(n,["src"]),[s,a]=j(""),o=se(()=>t.title?`${e.c}<title>${t.title}</title>`:e.c);return we(()=>a(o())),Oe(()=>{a("")}),(()=>{var l=Vm();return Ae(l,X({get stroke(){return e.a?.stroke},get color(){return t.color||"currentColor"},get fill(){return t.color||"currentColor"},get style(){return{...t.style,overflow:"visible"}}},i,{get height(){return t.size||"1em"},get width(){return t.size||"1em"},xmlns:"http://www.w3.org/2000/svg",get innerHTML(){return s()}}),!0,!0),P(l,()=>Qa),l})()}function Hm(e){return oi({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"/><path d="M1 1 23 23"/>'},e)}function zm(e){return oi({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"/><path d="M12 9A3 3 0 1 0 12 15 3 3 0 1 0 12 9z"/>'},e)}function Ym(e){return oi({a:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},c:'<path d="M3 12 21 12"/><path d="M3 6 21 6"/><path d="M3 18 21 18"/>'},e)}var Wm=M("<div><label>Password</label><div><input><button><span>");function Bl(e){const t=Fl(Tm,{id:Wa(),autoComplete:e.autoComplete||"new-password",value:e.password||"",required:e.required||!1}),n=se(()=>Rm(t,Ul)),r=e.inputClass||"w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder",i=e.iconSize||20;return(()=>{var s=Wm(),a=s.firstChild,o=a.nextSibling,l=o.firstChild,c=l.nextSibling,f=c.firstChild;return Ae(s,X(()=>n().getRootProps(),{get class(){return e.class}}),!1,!0),Ae(a,X(()=>n().getLabelProps(),{class:"block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"}),!1,!0),Ae(o,X(()=>n().getControlProps(),{class:"relative"}),!1,!0),Ae(l,X(()=>n().getInputProps(),{class:r,onInput:u=>e.onPasswordChange?.(u.target.value),placeholder:"••••••••"}),!1,!1),Ae(c,X(()=>n().getVisibilityTriggerProps(),{class:"absolute right-3 sm:right-4 top-1/2 -translate-y-1/2 text-gray-400"}),!1,!0),Ae(f,X(()=>n().getIndicatorProps()),!1,!0),P(f,E(me,{get when(){return n().visible},get fallback(){return E(Hm,{size:i-2})},get children(){return E(zm,{size:i})}})),s})()}function Nn(e){return oi({a:{viewBox:"0 0 1024 1024"},c:'<path d="M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 0 0-94.3-139.9 437.71 437.71 0 0 0-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"/>'},e)}var Qm=M('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-xs sm:text-sm">'),Km=M('<div class="flex items-center">Signing In...'),Gm=M('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-8 sm:py-12"><form aria-labelledby=signin-heading class="w-full max-w-md sm:max-w-xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-6 sm:p-12 space-y-4 border border-gray-100"autocomplete=off><div class="mb-2 sm:mb-4 text-center"><h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2"id=signin-heading>Welcome Back</h2><p class="text-gray-500 text-xs sm:text-sm">Sign in to your account.</p></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div><div></div><button type=submit class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-xs sm:text-sm text-gray-500 mt-2 sm:mt-4">Don&apos;t have an account? <a href=/signup class="text-indigo-600 hover:underline font-semibold">Sign Up');function Xm(){const[e,t]=j(""),[n,r]=j(""),[i,s]=j(""),[a,o]=j(!1),l=ht(),{signin:c}=gn();async function f(u){if(u.preventDefault(),s(""),!e()||!n()){s("Please enter email and password");return}o(!0);try{await c(e(),n()),await new Promise(d=>setTimeout(d,200)),l("/dashboard",{replace:!0}),o(!1)}catch(d){JSON.parse(d.message).detail.includes("Email not verified")?l("/verify-email",{replace:!0}):(o(!1),s("Incorrect email or password"))}}return(()=>{var u=Gm(),d=u.firstChild,p=d.firstChild,_=p.nextSibling,b=_.firstChild,C=b.nextSibling,T=_.nextSibling,m=T.nextSibling,v=m.nextSibling,y=v.firstChild,k=y.nextSibling;return d.addEventListener("submit",f),C.$$input=A=>t(A.target.value),P(T,E(Bl,{get password(){return n()},onPasswordChange:r,autoComplete:"current-password",required:!0}),null),P(T,E(Je,{get when(){return!!i()},get children(){var A=Qm();return P(A,i),A}}),null),P(m,E(Je,{get when(){return a()},fallback:"Sign In",get children(){var A=Km(),$=A.firstChild;return P(A,E(Nn,{class:"animate-spin mr-2",size:22}),$),A}})),k.$$click=A=>{A.preventDefault(),l("/signup")},Q(()=>m.disabled=a()),Q(()=>C.value=e()),u})()}Pe(["input","click"]);var Jm=M('<div class="w-full mt-2"><div class="text-xs text-gray-700"id=password-requirements aria-live=polite><ul class="pace-y-0.5 sm:space-y-1">'),Zm=M('<li class="flex items-center gap-2"><span aria-hidden=true></span><span>'),ew=M('<svg class="w-3 h-3"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M4 8l3 3 5-5">'),tw=M('<svg class="w-3 h-3"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 16 16"><path stroke-linecap=round stroke-linejoin=round d="M5 5l6 6M11 5l-6 6">');const $n=[{label:"At least 8 characters",test:e=>e.length>=8,error:"at least 8 characters"},{label:"Uppercase letter (A-Z)",test:e=>/[A-Z]/.test(e),error:"an uppercase letter"},{label:"Lowercase letter (a-z)",test:e=>/[a-z]/.test(e),error:"a lowercase letter"},{label:"Number (0-9)",test:e=>/\d/.test(e),error:"a number"},{label:"Special character (e.g. !?<>@#$%)",test:e=>/[^A-Za-z0-9]/.test(e),error:"a special character"}];function nw(e){if(!e)return{met:[],unmet:$n.map(i=>i.label)};const t=$n.filter(i=>i.test(e)).map(i=>i.label),n=$n.filter(i=>!i.test(e)).map(i=>i.label),r=$n.filter(i=>!i.test(e)).map(i=>i.error);return{met:t,unmet:n,errors:r}}function rw(e){const t=se(()=>nw(e.password||""));return we(()=>{e.onUnmet?.(t().errors)}),(()=>{var n=Jm(),r=n.firstChild,i=r.firstChild;return P(i,()=>$n.map(s=>{const a=t().met.includes(s.label);return(()=>{var o=Zm(),l=o.firstChild,c=l.nextSibling;return _e(l,`w-3.5 h-3.5 ml-1 rounded-full flex items-center justify-center ${a?"bg-white text-green-500 border-green-500 border-[1.5px]":"border-red-500 border-[1.5px] text-red-500"}`),P(l,a?ew():tw()),_e(c,a?"text-green-500":"text-red-500"),P(c,()=>s.label),o})()})),n})()}var iw=M('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-xs sm:text-sm">Password must include '),sw=M('<p class="pt-2 sm:pt-3 px-2 text-red-600 text-xs sm:text-sm">'),aw=M('<div class="flex items-center">Signing Up...'),ow=M('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-6 sm:py-12"><form aria-labelledby=signup-heading class="w-full max-w-md sm:max-w-xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-6 sm:p-12 space-y-4 border border-gray-100"autocomplete=off><div class="mb-2 text-center"><h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2"id=signup-heading>Get Started</h2><p class="text-gray-500 text-xs sm:text-sm">Create a new account.</p></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=name-input>Name</label><div class=relative><input type=text autocomplete=name autocapitalize=words spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=name-input placeholder="What should we call you?"></div></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=email-input>Email</label><div class=relative><input type=email autocomplete=email autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition"required id=email-input placeholder=you@example.com></div></div><div></div><div><label class="block text-xs sm:text-sm font-semibold text-gray-700 mb-1 sm:mb-2"for=confirm-password-input>Confirm Password</label><div class=relative><input type=password autocomplete=new-password autocapitalize=off spellcheck=false class="w-full pl-3 sm:pl-4 pr-3 sm:pr-4 py-2 text-xs sm:text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-indigo-400 transition big-placeholder"required id=confirm-password-input placeholder=••••••••></div></div><button type=submit class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"></button><div class="text-center text-xs sm:text-sm text-gray-500 mt-2 sm:mt-4">Already have an account? <a href=/signin class="text-indigo-600 hover:underline font-semibold">Sign In');function lw(){const[e,t]=j(""),[n,r]=j(""),[i,s]=j(""),[a,o]=j(""),[l,c]=j(""),[f,u]=j(!1),[d,p]=j([]),[_,b]=j(!1),C=ht(),{signup:T}=gn();async function m(v){if(v.preventDefault(),u(!0),c(""),!e()||!n()||!i()||!a()){c("Please fill out all fields");return}if(i()!==a()){c("Passwords do not match");return}if(!(d().length>0)){b(!0);try{await T(n(),i(),e()),await new Promise(y=>setTimeout(y,200)),C("/verify-email",{replace:!0}),b(!1)}catch(y){console.error("Signup error:",y),JSON.parse(y.message).detail.includes("Email not verified")?C("/verify-email",{replace:!0}):(b(!1),c("Sign up failed"))}}}return we(()=>{i()===a()&&c("")}),(()=>{var v=ow(),y=v.firstChild,k=y.firstChild,A=k.nextSibling,$=A.firstChild,h=$.nextSibling,g=h.firstChild,w=A.nextSibling,x=w.firstChild,S=x.nextSibling,R=S.firstChild,I=w.nextSibling,F=I.nextSibling,U=F.firstChild,D=U.nextSibling,Y=D.firstChild,L=F.nextSibling,ue=L.nextSibling,B=ue.firstChild,H=B.nextSibling;return y.addEventListener("submit",m),g.$$input=O=>t(O.target.value),R.$$input=O=>r(O.target.value),P(I,E(Bl,{get password(){return i()},onPasswordChange:s,autoComplete:"new-password",required:!0}),null),P(I,E(Je,{get when(){return ft(()=>!!f())()&&d().length>0},get children(){var O=iw();return O.firstChild,P(O,()=>d()?.[0],null),O}}),null),P(I,E(rw,{get password(){return i()},onUnmet:p}),null),Y.$$input=O=>o(O.target.value),P(F,E(Je,{get when(){return!!l()},get children(){var O=sw();return P(O,l),O}}),null),P(L,E(Je,{get when(){return _()},fallback:"Sign Up",get children(){var O=aw(),de=O.firstChild;return P(O,E(Nn,{class:"animate-spin mr-2",size:22}),de),O}})),H.$$click=O=>{O.preventDefault(),C("/signin")},Q(()=>L.disabled=_()),Q(()=>g.value=e()),Q(()=>R.value=n()),Q(()=>Y.value=a()),v})()}Pe(["input","click"]);var cw=en("pinInput").parts("root","label","input","control"),cr=cw.build(),Tn=e=>e.ids?.root??`pin-input:${e.id}`,uw=(e,t)=>e.ids?.input?.(t)??`pin-input:${e.id}:${t}`,Bi=e=>e.ids?.hiddenInput??`pin-input:${e.id}:hidden`,fw=e=>e.ids?.label??`pin-input:${e.id}:label`,dw=e=>e.ids?.control??`pin-input:${e.id}:control`,hw=e=>e.getById(Tn(e)),Yr=e=>{const n=`input[data-ownedby=${CSS.escape(Tn(e))}]`;return lm(hw(e),n)},wn=(e,t)=>Yr(e)[t],gw=e=>Yr(e)[0],Pa=e=>e.getById(Bi(e)),xi=(e,t)=>{e.value=t,e.setAttribute("value",t)},pw={numeric:/^[0-9]+$/,alphabetic:/^[A-Za-z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/i};function mw(e,t){return e?!!pw[e]?.test(t):!0}function ww(e,t,n){return n?new RegExp(n,"g").test(e):mw(t,e)}function vw(e,t){const{send:n,context:r,computed:i,prop:s,scope:a}=e,o=i("isValueComplete"),l=!!s("disabled"),c=!!s("readOnly"),f=!!s("invalid"),u=!!s("required"),d=s("translations"),p=r.get("focusedIndex");function _(){gw(a)?.focus()}return{focus:_,count:r.get("count"),items:Array.from({length:r.get("count")}).map((b,C)=>C),value:r.get("value"),valueAsString:i("valueAsString"),complete:o,setValue(b){Array.isArray(b)||km("[pin-input/setValue] value must be an array"),n({type:"VALUE.SET",value:b})},clearValue(){n({type:"VALUE.CLEAR"})},setValueAtIndex(b,C){n({type:"VALUE.SET",value:C,index:b})},getRootProps(){return t.element({dir:s("dir"),...cr.root.attrs,id:Tn(a),"data-invalid":ie(f),"data-disabled":ie(l),"data-complete":ie(o),"data-readonly":ie(c)})},getLabelProps(){return t.label({...cr.label.attrs,dir:s("dir"),htmlFor:Bi(a),id:fw(a),"data-invalid":ie(f),"data-disabled":ie(l),"data-complete":ie(o),"data-required":ie(u),"data-readonly":ie(c),onClick(b){b.preventDefault(),_()}})},getHiddenInputProps(){return t.input({"aria-hidden":!0,type:"text",tabIndex:-1,id:Bi(a),readOnly:c,disabled:l,required:u,name:s("name"),form:s("form"),style:cm,maxLength:i("valueLength"),defaultValue:i("valueAsString")})},getControlProps(){return t.element({...cr.control.attrs,dir:s("dir"),id:dw(a)})},getInputProps(b){const{index:C}=b,T=s("type")==="numeric"?"tel":"text";return t.input({...cr.input.attrs,dir:s("dir"),disabled:l,"data-disabled":ie(l),"data-complete":ie(o),id:uw(a,C.toString()),"data-index":C,"data-ownedby":Tn(a),"aria-label":d?.inputLabel?.(C,i("valueLength")),inputMode:s("otp")||s("type")==="numeric"?"numeric":"text","aria-invalid":Nl(f),"data-invalid":ie(f),type:s("mask")?"password":T,defaultValue:r.get("value")[C]||"",readOnly:c,autoCapitalize:"none",autoComplete:s("otp")?"one-time-code":"off",placeholder:p===C?"":s("placeholder"),onBeforeInput(m){try{const v=J0(m);ww(v,s("type"),s("pattern"))||(n({type:"VALUE.INVALID",value:v}),m.preventDefault()),v.length>2&&m.currentTarget.setSelectionRange(0,1,"forward")}catch{}},onChange(m){const v=Il(m),{value:y}=m.currentTarget;if(v.inputType==="insertFromPaste"||y.length>2){n({type:"INPUT.PASTE",value:y}),m.currentTarget.value=y[0],m.preventDefault();return}if(v.inputType==="deleteContentBackward"){n({type:"INPUT.BACKSPACE"});return}n({type:"INPUT.CHANGE",value:y,index:C})},onKeyDown(m){if(m.defaultPrevented||Z0(m)||tm(m))return;const y={Backspace(){n({type:"INPUT.BACKSPACE"})},Delete(){n({type:"INPUT.DELETE"})},ArrowLeft(){n({type:"INPUT.ARROW_LEFT"})},ArrowRight(){n({type:"INPUT.ARROW_RIGHT"})},Enter(){n({type:"INPUT.ENTER"})}}[rm(m,{dir:s("dir"),orientation:"horizontal"})];y&&(y(m),m.preventDefault())},onFocus(){n({type:"INPUT.FOCUS",index:C})},onBlur(m){const v=m.relatedTarget;Tl(v)&&v.dataset.ownedby===Tn(a)||n({type:"INPUT.BLUR",index:C})}})}}}var{choose:yw,createMachine:bw}=Em(),xw=bw({props({props:e}){return{placeholder:"○",otp:!1,type:"numeric",defaultValue:e.count?ur([],e.count):[],...e,translations:{inputLabel:(t,n)=>`pin code ${t+1} of ${n}`,...e.translations}}},initialState(){return"idle"},context({prop:e,bindable:t}){return{value:t(()=>({value:e("value"),defaultValue:e("defaultValue"),isEqual:ai,onChange(n){e("onValueChange")?.({value:n,valueAsString:n.join("")})}})),focusedIndex:t(()=>({sync:!0,defaultValue:-1})),count:t(()=>({defaultValue:e("count")}))}},computed:{_value:({context:e})=>ur(e.get("value"),e.get("count")),valueLength:({computed:e})=>e("_value").length,filledValueLength:({computed:e})=>e("_value").filter(t=>t?.trim()!=="").length,isValueComplete:({computed:e})=>e("valueLength")===e("filledValueLength"),valueAsString:({computed:e})=>e("_value").join(""),focusedValue:({computed:e,context:t})=>e("_value")[t.get("focusedIndex")]||""},entry:yw([{guard:"autoFocus",actions:["setInputCount","setFocusIndexToFirst"]},{actions:["setInputCount"]}]),watch({action:e,track:t,context:n,computed:r}){t([()=>n.get("focusedIndex")],()=>{e(["focusInput","selectInputIfNeeded"])}),t([()=>n.get("value").join(",")],()=>{e(["syncInputElements","dispatchInputEvent"])}),t([()=>r("isValueComplete")],()=>{e(["invokeOnComplete","blurFocusedInputIfNeeded"])})},on:{"VALUE.SET":[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],"VALUE.CLEAR":{actions:["clearValue","setFocusIndexToFirst"]}},states:{idle:{on:{"INPUT.FOCUS":{target:"focused",actions:["setFocusedIndex"]}}},focused:{on:{"INPUT.CHANGE":{actions:["setFocusedValue","syncInputValue","setNextFocusedIndex"]},"INPUT.PASTE":{actions:["setPastedValue","setLastValueFocusIndex"]},"INPUT.FOCUS":{actions:["setFocusedIndex"]},"INPUT.BLUR":{target:"idle",actions:["clearFocusedIndex"]},"INPUT.DELETE":{guard:"hasValue",actions:["clearFocusedValue"]},"INPUT.ARROW_LEFT":{actions:["setPrevFocusedIndex"]},"INPUT.ARROW_RIGHT":{actions:["setNextFocusedIndex"]},"INPUT.BACKSPACE":[{guard:"hasValue",actions:["clearFocusedValue"]},{actions:["setPrevFocusedIndex","clearFocusedValue"]}],"INPUT.ENTER":{guard:"isValueComplete",actions:["requestFormSubmit"]},"VALUE.INVALID":{actions:["invokeOnInvalid"]}}}},implementations:{guards:{autoFocus:({prop:e})=>!!e("autoFocus"),hasValue:({context:e})=>e.get("value")[e.get("focusedIndex")]!=="",isValueComplete:({computed:e})=>e("isValueComplete"),hasIndex:({event:e})=>e.index!==void 0},actions:{dispatchInputEvent({computed:e,scope:t}){const n=Pa(t);om(n,{value:e("valueAsString")})},setInputCount({scope:e,context:t,prop:n}){if(n("count"))return;const r=Yr(e);t.set("count",r.length)},focusInput({context:e,scope:t}){const n=e.get("focusedIndex");n!==-1&&wn(t,n)?.focus({preventScroll:!0})},selectInputIfNeeded({context:e,prop:t,scope:n}){const r=e.get("focusedIndex");!t("selectOnFocus")||r===-1||lr(()=>{wn(n,r)?.select()})},invokeOnComplete({computed:e,prop:t}){e("isValueComplete")&&t("onValueComplete")?.({value:e("_value"),valueAsString:e("valueAsString")})},invokeOnInvalid({context:e,event:t,prop:n}){n("onValueInvalid")?.({value:t.value,index:e.get("focusedIndex")})},clearFocusedIndex({context:e}){e.set("focusedIndex",-1)},setFocusedIndex({context:e,event:t}){e.set("focusedIndex",t.index)},setValue({context:e,event:t}){const n=ur(t.value,e.get("count"));e.set("value",n)},setFocusedValue({context:e,event:t,computed:n,flush:r}){const i=n("focusedValue"),s=e.get("focusedIndex"),a=Ra(i,t.value);r(()=>{e.set("value",mi(n("_value"),s,a))})},revertInputValue({context:e,computed:t,scope:n}){const r=wn(n,e.get("focusedIndex"));xi(r,t("focusedValue"))},syncInputValue({context:e,event:t,scope:n}){const r=e.get("value"),i=wn(n,t.index);xi(i,r[t.index])},syncInputElements({context:e,scope:t}){const n=Yr(t),r=e.get("value");n.forEach((i,s)=>{xi(i,r[s])})},setPastedValue({context:e,event:t,computed:n,flush:r}){lr(()=>{const i=n("valueAsString"),s=e.get("focusedIndex"),a=n("valueLength"),o=n("filledValueLength"),l=Math.min(s,o),c=l>0?i.substring(0,s):"",f=t.value.substring(0,a-l),u=ur(`${c}${f}`.split(""),a);r(()=>{e.set("value",u)})})},setValueAtIndex({context:e,event:t,computed:n}){const r=Ra(n("focusedValue"),t.value);e.set("value",mi(n("_value"),t.index,r))},clearValue({context:e}){const t=Array.from({length:e.get("count")}).fill("");queueMicrotask(()=>{e.set("value",t)})},clearFocusedValue({context:e,computed:t}){const n=e.get("focusedIndex");n!==-1&&e.set("value",mi(t("_value"),n,""))},setFocusIndexToFirst({context:e}){e.set("focusedIndex",0)},setNextFocusedIndex({context:e,computed:t}){e.set("focusedIndex",Math.min(e.get("focusedIndex")+1,t("valueLength")-1))},setPrevFocusedIndex({context:e}){e.set("focusedIndex",Math.max(e.get("focusedIndex")-1,0))},setLastValueFocusIndex({context:e,computed:t}){lr(()=>{e.set("focusedIndex",Math.min(t("filledValueLength"),t("valueLength")-1))})},blurFocusedInputIfNeeded({context:e,prop:t,scope:n}){t("blurOnComplete")&&lr(()=>{wn(n,e.get("focusedIndex"))?.blur()})},requestFormSubmit({computed:e,prop:t,scope:n}){if(!t("name")||!e("isValueComplete"))return;Pa(n)?.form?.requestSubmit()}}}});function Ra(e,t){let n=t;e[0]===t[0]?n=t[1]:e[0]===t[1]&&(n=t[0]);const r=n.split("");return n=r[r.length-1],n??""}function ur(e,t){return Array.from({length:t}).fill("").map((n,r)=>e[r]||n)}jl()(["autoFocus","blurOnComplete","count","defaultValue","dir","disabled","form","getRootNode","id","ids","invalid","mask","name","onValueChange","onValueComplete","onValueInvalid","otp","pattern","placeholder","readOnly","required","selectOnFocus","translations","type","value"]);var _w=M('<div class="flex flex-col items-center"><div><input><input><input><input><input><input>');function kw(e){const t=Fl(xw,{id:Wa(),required:e.required||!0,autoComplete:e.autoComplete||"one-time-code",otp:e.otp||!0,onValueChange(i){e.onInput&&e.onInput(i.valueAsString)},onValueComplete(i){e.onComplete&&e.onComplete(i.valueAsString)}}),n=se(()=>vw(t,Ul)),r=()=>"w-10 h-12 sm:w-14 sm:h-14 rounded-lg border-2 "+(e.isError?"border-red-500 focus:border-red-600 focus:ring-red-400":"border-gray-300 focus:border-blue-500 focus:ring-blue-400")+" bg-gray-50 text-center text-xl font-semibold outline-none";return(()=>{var i=_w(),s=i.firstChild,a=s.firstChild,o=a.nextSibling,l=o.nextSibling,c=l.nextSibling,f=c.nextSibling,u=f.nextSibling;return Ae(s,X(()=>n().getRootProps(),{class:"flex justify-center gap-1 sm:gap-3 my-6"}),!1,!0),Ae(a,X({get required(){return e.required??!0}},()=>n().getInputProps({index:0}),{get class(){return r()}}),!1,!1),Ae(o,X({get required(){return e.required??!0}},()=>n().getInputProps({index:1}),{get class(){return r()}}),!1,!1),Ae(l,X({get required(){return e.required??!0}},()=>n().getInputProps({index:2}),{get class(){return r()}}),!1,!1),Ae(c,X({get required(){return e.required??!0}},()=>n().getInputProps({index:3}),{get class(){return r()}}),!1,!1),Ae(f,X({get required(){return e.required??!0}},()=>n().getInputProps({index:4}),{get class(){return r()}}),!1,!1),Ae(u,X({get required(){return e.required??!0}},()=>n().getInputProps({index:5}),{get class(){return r()}}),!1,!1),i})()}var Sw=M('<div class=text-center><p class="text-gray-500 text-sm sm:text-base">Enter the verification code sent to your email.'),$w=M('<div class="flex items-center">Verifying...'),Ew=M('<button type=submit class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center">'),Na=M('<div class="flex items-center">Sending...'),Cw=M(`<div class="text-center text-xs sm:text-sm text-gray-500 mt-2 sm:mt-4">Didn't get a code? <button type=button class="text-indigo-600 hover:underline font-semibold bg-transparent border-none p-0 m-0 cursor-pointer inline-flex items-center">`),Aw=M('<p class=" text-red-600 text-xs sm:text-sm">'),Pw=M('<p class="pt-2 sm:pt-3 px-2 text-green-600 text-xs sm:text-sm">Email verified! Ready to sign in...'),Rw=M('<div class="h-full bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center px-4 py-12"><form aria-labelledby=verifyemail-heading class="w-full max-w-md sm:max-w-xl bg-white rounded-xl sm:rounded-3xl shadow-2xl p-4 sm:p-12 space-y-2 border border-gray-100 relative"autocomplete=off><div class=text-center><h2 class="text-xl sm:text-2xl font-bold text-gray-900 mb-1 sm:mb-2"id=verifyemail-heading>Verify Your Email'),Nw=M('<div class="mb-6 sm:mb-8 text-center"><p class="text-gray-500 text-xs sm:text-sm">Send a code to verify your email.'),Tw=M('<button class="w-full py-2 sm:py-3 text-sm sm:text-base bg-indigo-600 hover:bg-indigo-700 text-white font-bold rounded-lg sm:rounded-xl shadow transition disabled:opacity-50 flex items-center justify-center"type=button>');function Mw(){const[e,t]=j(""),[n,r]=j(!1),[i,s]=j(""),[a,o]=j(!1),[l,c]=j(!1),[f,u]=j(!1),d=ht(),[p,_]=Lc(),{verifyEmail:b,sendEmailVerification:C,getPendingEmail:T}=gn();Gn(()=>{T()||d("/signin",{replace:!0})});async function m(y,k){y?.preventDefault&&y.preventDefault(),value&&t(value),s(""),o(!0);try{const A=k??e();await b(A),await new Promise($=>setTimeout($,200)),c(!0),d("/signin",{replace:!0}),o(!1)}catch(A){console.error("Verify email error:",A),o(!1),s("Invalid code. Please try again.")}}async function v({resend:y=!1}){s(""),y?u(!0):o(!0);try{await C(),await new Promise(k=>setTimeout(k,y?1e3:200)),o(!1),u(!1),_({codeSent:"true"}),r(!0)}catch{o(!1),u(!1),s("Error sending code. Please try again later.")}}return we(async()=>{if(p.codeSent==="true"&&(r(!0),p.code))try{await b(p.code),c(!0),d("/signin",{replace:!0}),o(!1)}catch{o(!1),s("Invalid or expired link.")}}),we(()=>{e()&&s("")}),(()=>{var y=Rw(),k=y.firstChild;return k.firstChild,k.addEventListener("submit",m),P(k,E(me,{get when(){return n()},get fallback(){return[Nw(),(()=>{var A=Tw();return A.$$click=v,P(A,E(Je,{get when(){return a()},fallback:"Send Code",get children(){var $=Na(),h=$.firstChild;return P($,E(Nn,{class:"animate-spin mr-2",size:22}),h),$}})),Q(()=>A.disabled=a()),A})()]},get children(){return[Sw(),E(kw,{otp:!0,required:!0,autocomplete:!0,onInput:t,get isError(){return!!i()},onComplete:A=>m(void 0,A)}),(()=>{var A=Ew();return P(A,E(Je,{get when(){return a()},fallback:"Verify Email",get children(){var $=$w(),h=$.firstChild;return P($,E(Nn,{class:"animate-spin mr-2",size:22}),h),$}})),Q(()=>A.disabled=a()),A})(),(()=>{var A=Cw(),$=A.firstChild,h=$.nextSibling;return h.$$click=()=>v({resend:!0}),P(h,E(me,{get when(){return f()},fallback:"Resend",get children(){var g=Na();return g.firstChild,P(g,E(Nn,{class:"animate-spin mr-1",size:16}),null),g}})),Q(g=>{var w=f(),x=f();return w!==g.e&&(h.disabled=g.e=w),x!==g.t&&Se(h,"aria-disabled",g.t=x),g},{e:void 0,t:void 0}),A})()]}}),null),P(k,E(Je,{get when(){return!!i()},class:"absolute left-10 right-0 bottom-2 sm:bottom-6",get children(){var A=Aw();return P(A,i),A}}),null),P(k,E(Je,{get when(){return l()},class:"absolute left-10 right-0 bottom-2 sm:bottom-6",get children(){return Pw()}}),null),y})()}Pe(["click"]);var Ow=M("<div>Reset Password Page");function Iw(){return Ow()}var Lw=M('<div tabindex=0 role=button><span class=truncate></span><button class="flex items-center justify-center w-6 h-6 rounded hover:bg-gray-200 transition-colors"tabindex=0 type=button><svg fill=none stroke=currentColor stroke-width=2.2 viewBox="0 0 20 20"><polyline points="6 8 10 12 14 8"fill=none stroke-linecap=round stroke-linejoin=round>'),qw=M("<div class=overflow-y-scroll>");function Dw(e){const[t,n]=j({}),{projects:r,currentProject:i}=zt(),s=()=>r().find(l=>l.id===e.projectId),a=()=>s()&&t()[s().id],o=l=>{l.stopPropagation(),n(c=>({...c,[s().id]:!c[s().id]}))};return[(()=>{var l=Lw(),c=l.firstChild,f=c.nextSibling,u=f.firstChild;return l.$$click=()=>e.onSelect?.({project:s()}),P(c,()=>s().name||s().id),f.$$click=o,Q(d=>{var p=`
          flex items-center justify-between cursor-pointer select-none rounded-md transition-colors
          px-2 py-1 font-medium text-xs text-gray-800 hover:bg-gray-100 ${i()?.id===s()?.id?"bg-gray-200":"bg-white"}
        `,_=a()?"Collapse project":"Expand project",b=`transition-transform duration-200 w-5 h-5 text-gray-500 ${a()?"rotate-90":""}`;return p!==d.e&&_e(l,d.e=p),_!==d.t&&Se(f,"aria-label",d.t=_),b!==d.a&&Se(u,"class",d.a=b),d},{e:void 0,t:void 0,a:void 0}),l})(),E(me,{get when(){return(s().reviews||[]).some(l=>(l.checklists||[]).length>0)},get children(){var l=qw();return En(l,"transition","max-height 0.25s ease-in-out, opacity 0.25s ease-in-out"),P(l,E(kt,{get each(){return s().reviews||[]},children:c=>E(kt,{get each(){return c.checklists||[]},children:f=>e.children(f,c)})})),Q(c=>{var f=a()?"600px":"0",u=a()?1:0;return f!==c.e&&En(l,"max-height",c.e=f),u!==c.t&&En(l,"opacity",c.t=u),c},{e:void 0,t:void 0}),l}})]}Pe(["click"]);var jw=M('<ul class="list-disc space-y-1 text-xs">'),Fw=M('<div style=max-width:100vw><div><div class="flex-1 overflow-y-auto sidebar-scrollbar space-y-6"><div class="mb-2 px-2 pt-4"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Projects</h3></div><div class="p-2 pb-0 space-y-1 border-t border-gray-100"></div><div class="mb-2 px-2"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Checklists</h3></div><div class="border-t border-gray-100 pt-1 mx-2"></div><div class="mb-2 px-2"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Actions</h3></div><div class="border-t border-gray-100 pt-1 space-y-1 mx-2"><button class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Export CSV</button><label class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>Import CSV<input type=file accept=.csv,text/csv class=hidden></label><button class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF URL</button><label class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-blue-700 hover:bg-blue-50 flex items-center gap-2 text-xs cursor-pointer"><svg class="w-4 h-4 text-blue-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 10l4.553-2.276A2 2 0 0020 6.382V5a2 2 0 00-2-2H6a2 2 0 00-2 2v1.382a2 2 0 00.447 1.342L9 10m6 0v10m-6-10v10"></path></svg>Set PDF File<input type=file accept=application/pdf class=hidden></label></div><div class="mb-2 px-2"><h3 class="text-xs font-semibold text-gray-500 uppercase tracking-wider px-1">Settings</h3></div><div class="border-t border-gray-100 pt-1 space-y-1 mx-2"><button class="w-full px-2 py-1.5 rounded text-left transition-colors duration-150 text-red-600 hover:bg-red-50 flex items-center gap-2 text-xs"><svg class="w-4 h-4 text-red-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear all data</button><div class=mt-10>'),Uw=M('<div class="text-center py-2 px-2"><div class="w-8 h-8 bg-gray-100 rounded-lg mx-auto mb-2 flex items-center justify-center"><svg class="w-4 h-4 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-xs text-gray-500 font-medium">No projects yet'),Bw=M('<div class="text-center py-2 px-2"><div class="w-8 h-8 bg-gray-100 rounded-lg mx-auto mb-2 flex items-center justify-center"><svg class="w-4 h-4 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-xs text-gray-500 font-medium">No checklists yet'),Vw=M('<div style=flex:1><button class="flex-1 flex items-center gap-2 px-2 py-1.5 text-left focus:outline-none"tabindex=0><svg class="w-4 h-4 text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><div class="flex-1 min-w-0"><div class="flex gap-2 items-center"><div class="text-xs font-medium truncate"></div><span></span></div><div class="text-2xs text-gray-500 mt-0.5"></div></div></button><button aria-label="Delete checklist"tabindex=-1><svg class="w-4 h-4"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Hw=M('<span class="inline-block w-2 h-2 rounded-full"style=background:currentColor>');function zw(e){const{projects:t,checklists:n,getChecklist:r}=zt(),[i,s]=j(null),a=ht(),o=Gr();we(()=>{if(o.name&&o.index!==void 0){const f=decodeURIComponent(o.name),u=Number(o.index);s(r({name:f,index:u}))}});function l(){const f=window.prompt("Enter PDF URL:");f&&e.setPdfUrl(f)}function c(f){const u=f.target.files[0];if(u&&u.type==="application/pdf"){const d=URL.createObjectURL(u);e.setPdfUrl(d)}else alert("Please select a valid PDF file.")}return(()=>{var f=Fw(),u=f.firstChild,d=u.firstChild,p=d.firstChild,_=p.nextSibling,b=_.nextSibling,C=b.nextSibling,T=C.nextSibling,m=T.nextSibling,v=m.firstChild,y=v.nextSibling,k=y.firstChild,A=k.nextSibling,$=A.nextSibling,h=y.nextSibling,g=h.nextSibling,w=g.firstChild,x=w.nextSibling,S=x.nextSibling,R=m.nextSibling,I=R.nextSibling,F=I.firstChild;return P(_,E(me,{get when(){return t()?.length>0},get fallback(){return Uw()},get children(){return E(kt,{get each(){return t()},children:U=>E(Dw,{get projectId(){return U.id},onSelect:()=>{a(`/projects/${nt(U.name)}-${U.id}`)},children:(D,Y)=>E(Ta,{project:U,get isSelected(){return i()?.id===D.id},checklist:D,onDelete:()=>e.onDeleteChecklist(U.id,Y.id,D.id)})})})}})),P(C,E(me,{get when(){return n()?.length>0},get fallback(){return Bw()},get children(){var U=jw();return P(U,E(kt,{get each(){return n()},children:D=>E(Ta,{project:null,checklist:D,onDelete:()=>e.onDeleteChecklist(null,D.id)})})),U}})),Ze(v,"click",e.onExportCSV,!0),Ze($,"change",e.onImportCSV),h.$$click=l,S.addEventListener("change",c),Ze(F,"click",e.onDeleteAll,!0),Q(U=>{var D=`
        transition-all duration-200 ease-in-out
        bg-white border-r border-gray-200 h-screen overflow-x-hidden
        ${e.open?"w-64":"w-0"}
        md:relative
        ${e.open?"":"md:w-0"}
        fixed top-0 left-0 z-30 md:static md:z-auto
        ${e.open?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,Y=`
          flex flex-col h-full
          transition-opacity duration-100
          ${e.open?"duration-500 opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
        `;return D!==U.e&&_e(f,U.e=D),Y!==U.t&&_e(u,U.t=Y),U},{e:void 0,t:void 0}),f})()}function Ta(e){const t=ht();function n(){const r=nt(e.checklist.name);if(!e.project){t(`/checklist/${r}-${e.checklist.id}`);return}const i=nt(e.project.name),s=(e.project.reviews||[]).find(o=>(o.checklists||[]).some(l=>l.id===e.checklist.id));if(!s){console.error("Review not found for checklist",e.checklist);return}const a=nt(s.name);t(`/projects/${i}-${e.project.id}/reviews/${a}-${s.id}/checklists/${r}-${e.checklist.id}`)}return(()=>{var r=Vw(),i=r.firstChild,s=i.firstChild,a=s.nextSibling,o=a.firstChild,l=o.firstChild,c=l.nextSibling,f=o.nextSibling,u=i.nextSibling;return i.$$click=()=>n(),P(l,()=>e.checklist.name),P(c,()=>{if(!e.checklist)return"Unknown";const d=Gs(e.checklist);return d.length+(e.checklist.name?.length||0)<30?d:Hw()}),P(f,()=>new Date(e.checklist.createdAt).toLocaleDateString()),u.$$click=d=>{d.stopPropagation(),e.onDelete(null,e.checklist.id)},Q(d=>{var p=`
            flex items-center group rounded transition-colors
            ${e.isSelected?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}
          `,_=`
                    text-3xs font-medium px-1.5 py-0.5 rounded
                    ${(()=>{const C=Gs(e.checklist);return C==="High"?"bg-green-100 text-green-800":C==="Moderate"?"bg-yellow-100 text-yellow-800":C==="Low"?"bg-orange-100 text-orange-800":C==="Critically Low"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"})()}
                  `,b=`p-1.5 mr-1 rounded transition-colors text-gray-400 hover:text-red-600 hover:bg-red-50
                  ${e.isSelected?"opacity-0 group-hover:opacity-100":""}
                `;return p!==d.e&&_e(r,d.e=p),_!==d.t&&_e(c,d.t=_),b!==d.a&&_e(u,d.a=b),d},{e:void 0,t:void 0,a:void 0}),r})()}Pe(["click"]);var Yw=M('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 mx-2 animate-fade-in"><div class=mb-4><h2 class="text-lg font-semibold text-gray-900"></h2></div><div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"autofocus>Cancel</button><button class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors">'),Ww=M('<p class="mt-2 text-gray-600">');function Ma(e){return E(me,{get when(){return e.open},get children(){return E(_c,{get children(){var t=Yw(),n=t.firstChild,r=n.firstChild,i=r.firstChild,s=r.nextSibling,a=s.firstChild,o=a.nextSibling;return P(i,()=>e.title||"Are you sure?"),P(r,(()=>{var l=ft(()=>!!e.description);return()=>l()&&(()=>{var c=Ww();return P(c,()=>e.description),c})()})(),null),Ze(a,"click",e.onCancel,!0),Ze(o,"click",e.onConfirm,!0),P(o,()=>e.confirmText||"Delete"),t}})}})}Pe(["click"]);var Qw=M('<div><div class="w-full h-full overflow-auto"></div><div role=separator tabindex=0 style=touch-action:none>');function Kw(e){const t=e.direction||"horizontal",n=t==="horizontal"?"right":"bottom",r=e.position||n,i=e.min??200,s=e.max??800,a=e.initial??400,[o,l]=j(a);let c=!1,f=0,u=0,d=null;const p=T=>{c=!0,d=T.pointerId,f=t==="horizontal"?T.clientX:T.clientY,u=o(),document.body.style.userSelect="none",T.target.setPointerCapture(d),window.addEventListener("pointermove",_),window.addEventListener("pointerup",b)},_=T=>{if(!c)return;let m=t==="horizontal"?T.clientX-f:T.clientY-f;(r==="left"||r==="top")&&(m=-m);let v=u+m;v=Math.max(i,Math.min(s,v)),l(v)},b=T=>{if(c=!1,document.body.style.userSelect="",T.target.releasePointerCapture&&d!==null)try{T.target.releasePointerCapture(d)}catch{}window.removeEventListener("pointermove",_),window.removeEventListener("pointerup",b),d=null};let C="";return t==="horizontal"?C=r==="right"?"top-0 right-0 h-full w-2 cursor-col-resize":"top-0 left-0 h-full w-2 cursor-col-resize":C=r==="bottom"?"left-0 bottom-0 w-full h-2 cursor-row-resize":"left-0 top-0 w-full h-2 cursor-row-resize",(()=>{var T=Qw(),m=T.firstChild,v=m.nextSibling;return _e(T,`relative ${t==="horizontal"?"h-full":"w-full"}`),P(m,()=>e.children),v.$$pointerdown=p,_e(v,`absolute ${C} bg-gray-200 hover:bg-gray-300 transition-colors z-10`),Se(v,"aria-orientation",t),Q(y=>Kr(T,t==="horizontal"?`width: ${o()}px; min-width:0;`:`height: ${o()}px; min-height:0;`,y)),T})()}Pe(["pointerdown"]);var Gw=M('<button class="ml-[-6px] bg-white/80 text-blue-700 p-1.5 rounded-full shadow hover:bg-white transition-all duration-200 border border-blue-200 focus:outline-none focus:ring-2 focus:ring-blue-400"aria-label="Toggle sidebar open or closed">'),Oa=M("<span class=font-medium>Hello, "),Ia=M('<button class="hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium">Sign Out'),Xw=M('<nav class="flex items-center justify-between bg-gradient-to-r from-blue-700 to-blue-500 text-white px-4 py-2 shadow-lg"><div class="flex items-center space-x-3"></div><div class="flex space-x-4 items-center text-2xs sm:text-xs">'),Jw=M('<svg fill=none stroke=currentColor class="w-4 h-4"viewBox="0 0 20 20"><path d="M3.5 3C3.77614 3 4 3.22386 4 3.5V16.5L3.99023 16.6006C3.94371 16.8286 3.74171 17 3.5 17C3.25829 17 3.05629 16.8286 3.00977 16.6006L3 16.5V3.5C3 3.22386 3.22386 3 3.5 3ZM11.2471 5.06836C11.4476 4.95058 11.7104 4.98547 11.8721 5.16504C12.0338 5.34471 12.0407 5.60979 11.9023 5.79688L11.835 5.87207L7.80371 9.5H16.5C16.7761 9.5 17 9.72386 17 10C17 10.2761 16.7761 10.5 16.5 10.5H7.80371L11.835 14.1279C12.0402 14.3127 12.0568 14.6297 11.8721 14.835C11.6873 15.0402 11.3703 15.0568 11.165 14.8721L6.16504 10.3721L6.09473 10.2939C6.03333 10.2093 6 10.1063 6 10C6 9.85828 6.05972 9.72275 6.16504 9.62793L11.165 5.12793L11.2471 5.06836Z">');function La(e){return e.endsWith("/")?e.slice(0,-1):e}function Zw(e){const{user:t,signout:n,authLoading:r}=gn(),i=Xi(),s=()=>La(i.pathname)===La(Vl),a=localStorage.getItem("userName"),o=!!a;return we(()=>{t()?localStorage.setItem("userName",t().name):localStorage.removeItem("userName")}),(()=>{var l=Xw(),c=l.firstChild,f=c.nextSibling;return P(c,E(me,{get when(){return!s()},get children(){var u=Gw();return Ze(u,"click",e.toggleSidebar,!0),P(u,E(me,{get when(){return!e.open},get fallback(){return Jw()},get children(){return E(Ym,{})}})),u}}),null),P(c,E(Jt,{href:"/",class:"font-extrabold text-base sm:text-lg tracking-tight drop-shadow",children:"CoRATES"}),null),P(f,E(Jt,{href:"/dashboard",class:"hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium",children:"Dashboard"}),null),P(f,E(me,{get when(){return t()},get fallback(){return ft(()=>!!(o&&r()))()?[(()=>{var u=Oa();return u.firstChild,P(u,a,null),u})(),Ia()]:[E(Jt,{href:"/signin",class:"hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium",children:"Sign In"}),E(Jt,{href:"/signup",class:"hover:bg-blue-600 px-2 py-1.5 rounded transition font-medium",children:"Sign Up"})]},get children(){return[(()=>{var u=Oa();return u.firstChild,P(u,()=>t().name,null),u})(),(()=>{var u=Ia();return u.$$click=async()=>{await n()},u})()]}}),null),l})()}Pe(["click"]);var ev=M('<div class="flex-1 min-h-0 overflow-y-auto">'),tv=M('<div class="sm:hidden fixed inset-0 bg-black/50 z-20 transition-opacity duration-300">'),nv=M('<div class="h-full border-l border-gray-200 bg-white flex flex-col"><iframe class="w-full h-full"title="PDF Viewer"style=min-width:300px>'),rv=M('<div class="flex flex-col h-screen overflow-y-hidden"><div class="flex flex-1 min-h-0">');function iv(e){const[t,n]=j(!1),[r,i]=j(!1),[s,a]=j(!1),[o,l]=j(null),[c,f]=j(null),[u,d]=j(null),{authLoading:p}=gn(),{dataLoading:_,deleteChecklist:b,setCurrentChecklist:C,getChecklist:T}=zt(),m=async()=>{try{C(null),alert("All checklists deleted!")}catch(h){console.error("Error removing all checklists:",h),alert("Error deleting checklists!")}finally{i(!1)}},v=()=>{let h="this checklist";const g=o();let w=T(g.checklistId);return w&&(h=w.name||w.title||"Untitled Checklist"),`Are you sure you want to delete ${h}? This action cannot be undone.`},y=()=>i(!1),k=(h,g)=>{console.log("Request to delete checklist id:",g,"from project:",h),l({projectId:h,checklistId:g}),a(!0)},A=async()=>{const h=o();if(!(!h||!h.checklistId))try{console.log("Deleting checklist id:",h.checklistId,"from project:",h.projectId),await b(h.projectId,h.checklistId)}catch(g){console.error("Error deleting checklist:",g),alert("Error deleting checklist!")}finally{a(!1),l(null)}},$=()=>{a(!1),l(null)};return(()=>{var h=rv(),g=h.firstChild;return P(h,E(Zw,{toggleSidebar:()=>n(w=>!w),get open(){return t()}}),g),P(g,E(zw,{get open(){return t()},onClose:()=>n(!1),setPdfUrl:f,onDeleteChecklist:k}),null),P(g,E(Je,{class:"flex flex-1",get when(){return ft(()=>!_())()&&!p()},get children(){var w=ev();return P(w,()=>e.children),w}}),null),P(g,E(me,{get when(){return t()},get children(){var w=tv();return w.$$click=()=>n(!1),w}}),null),P(g,E(me,{get when(){return c()},get children(){return E(Kw,{direction:"horizontal",min:250,max:1600,initial:500,position:"left",get children(){var w=nv(),x=w.firstChild;return Q(()=>Se(x,"src",c())),w}})}}),null),P(h,E(Ma,{get open(){return s()},title:"Delete checklist?",get description(){return v()},confirmText:"Delete",onCancel:$,onConfirm:A}),null),P(h,E(Ma,{get open(){return r()},title:"Delete all checklists?",description:"Are you sure you want to delete all saved checklists? This action cannot be undone.",confirmText:"Delete all",onCancel:y,onConfirm:m}),null),h})()}Pe(["click"]);var sv=M("<h1>404 - Not Found");function av(){return sv()}var ov=M("<h1>You are offline, you must be online to access this page.");function lv(){return ov()}var cv=M('<div class="max-w-5xl mx-auto p-6"><h2 class="text-xl font-bold mb-4">Merge AMSTAR2 Checklists</h2><div class="grid grid-cols-3 gap-4 font-mono text-xs"><div class="font-bold text-center">Checklist A</div><div class="font-bold text-center">Checklist B</div><div class="font-bold text-center">Merged Result</div></div><button class="mt-6 px-4 py-2 bg-blue-600 text-white rounded">Save Merged Checklist'),qa=M('<button class="mt-1 text-blue-600 underline">Use this'),uv=M('<div class=contents><div><pre></pre></div><div><pre></pre></div><div class="p-2 border bg-green-50"><pre>');function fv(e){const t=Gr(),{getChecklist:n}=zt();console.log("Route params:",decodeURIComponent(t.nameA),t.indexA,decodeURIComponent(t.nameB),t.indexB);const r=n(decodeURIComponent(t.nameA),t.indexA),i=n(decodeURIComponent(t.nameB),t.indexB);console.log("Merging checklists:",r,i);const[s,a]=j({...r}),o=["q1","q2","q3","q4","q5","q6","q7","q8","q9a","q9b","q10","q11a","q11b","q12","q13","q14","q15","q16"];function l(u){const d=r[u]?.answers,p=i[u]?.answers;return JSON.stringify(d)!==JSON.stringify(p)}function c(u,d){a(p=>({...p,[d]:u==="A"?{...r[d]}:{...i[d]}}))}function f(){alert("not implemented")}return(()=>{var u=cv(),d=u.firstChild,p=d.nextSibling,_=p.firstChild,b=_.nextSibling;b.nextSibling;var C=p.nextSibling;return P(p,E(kt,{each:o,children:T=>(()=>{var m=uv(),v=m.firstChild,y=v.firstChild,k=v.nextSibling,A=k.firstChild,$=k.nextSibling,h=$.firstChild;return P(y,()=>JSON.stringify(r[T]?.answers,null,1)),P(v,E(me,{get when(){return l(T)},get children(){var g=qa();return g.$$click=()=>c("A",T),g}}),null),P(A,()=>JSON.stringify(i[T]?.answers,null,1)),P(k,E(me,{get when(){return l(T)},get children(){var g=qa();return g.$$click=()=>c("B",T),g}}),null),P(h,()=>JSON.stringify(s()[T]?.answers,null,1)),Q(g=>{var w=`p-2 border ${l(T)?"bg-yellow-100":""}`,x=`p-2 border ${l(T)?"bg-yellow-100":""}`;return w!==g.e&&_e(v,g.e=w),x!==g.t&&_e(k,g.t=x),g},{e:void 0,t:void 0}),m})()}),null),C.$$click=f,u})()}Pe(["click"]);var dv=M("<div>Database access requires an authenticated user."),hv=M("<pre>");function gv(){const{authFetch:e,user:t}=gn();if(!t())return dv();const{data:n}=kf({url:it.ELECTRIC_SHAPE,params:{table:"users"},fetchClient:e});return(()=>{var r=hv();return P(r,()=>JSON.stringify(n(),null,2)),r})()}const Vl="/amstar2-checklist-scoring-app";function nt(e){return e.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}function pv(){return E(Jc,{base:Vl,get children(){return E(qe,{path:"/",component:iv,get children(){return[E(qe,{path:"/",component:lu}),E(qe,{path:"/dashboard",component:U0}),E(qe,{path:"/electric",component:gv}),E(qe,{path:"/projects/:projectSlug",component:O0}),E(qe,{path:"/projects/:projectSlug/reviews/:reviewSlug/checklists/:checklistSlug",component:Xs}),E(qe,{path:"/checklist/:checklistSlug",component:Xs}),E(qe,{path:"/merge/:checklistSlugA/:checklistSlugB",component:fv}),E(qe,{path:"/signin",component:()=>E(fr,{get children(){return E(Xm,{})}})}),E(qe,{path:"/signup",component:()=>E(fr,{get children(){return E(lw,{})}})}),E(qe,{path:"/verify-email",component:()=>E(fr,{get children(){return E(Mw,{})}})}),E(qe,{path:"/reset-password",component:()=>E(fr,{get children(){return E(Iw,{})}})}),E(qe,{path:"*",component:av})]}})}})}function fr(e){const t=Ho();return E(me,{get when(){return t()},get fallback(){return E(lv,{})},get children(){return e.children}})}function mv(){return E(Mf,{get children(){return E(Tf,{get children(){return E(pv,{})}})}})}hc(()=>E(mv,{}),document.getElementById("root"));
