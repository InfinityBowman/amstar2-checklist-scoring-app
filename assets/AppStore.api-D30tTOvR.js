const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-C_PjkHu6.js","assets/index-DeNUH7qY.css","assets/reviewService-DlHrA_fl.js","assets/checklistService-B7rCCqZT.js","assets/userService-n9FYtoVC.js"])))=>i.map(i=>d[i]);
import{_ as o}from"./index-C_PjkHu6.js";let c=navigator.onLine;window.addEventListener("online",()=>{c=!0,u()});window.addEventListener("offline",()=>{c=!1});const s=[];async function u(){if(!(!c||s.length===0)){console.log(`Attempting to sync ${s.length} pending changes`);for(let r=0;r<s.length;r++){const{operation:a,data:e}=s[r];try{switch(a){case"createProject":const{createProject:n}=await o(async()=>{const{createProject:t}=await import("./index-C_PjkHu6.js").then(i=>i.p);return{createProject:t}},__vite__mapDeps([0,1]));await n(e.name);break;case"addUserToProject":const{addUserToProject:d}=await o(async()=>{const{addUserToProject:t}=await import("./index-C_PjkHu6.js").then(i=>i.p);return{addUserToProject:t}},__vite__mapDeps([0,1]));await d(e.projectId,e.userId);break;case"addUserToProjectByEmail":const{addUserToProjectByEmail:l}=await o(async()=>{const{addUserToProjectByEmail:t}=await import("./index-C_PjkHu6.js").then(i=>i.p);return{addUserToProjectByEmail:t}},__vite__mapDeps([0,1]));await l(e.projectId,e.email);break;case"createReview":const{createReview:w}=await o(async()=>{const{createReview:t}=await import("./reviewService-DlHrA_fl.js");return{createReview:t}},__vite__mapDeps([2,0,1]));await w(e.name,e.projectId);break;case"assignReviewer":const{assignReviewer:p}=await o(async()=>{const{assignReviewer:t}=await import("./reviewService-DlHrA_fl.js");return{assignReviewer:t}},__vite__mapDeps([2,0,1]));await p(e.reviewId,e.userId);break;case"createChecklist":const{createChecklist:y}=await o(async()=>{const{createChecklist:t}=await import("./checklistService-B7rCCqZT.js");return{createChecklist:t}},__vite__mapDeps([3,0,1]));await y(e.reviewId,e.reviewerId);break;case"completeChecklist":const{completeChecklist:h}=await o(async()=>{const{completeChecklist:t}=await import("./checklistService-B7rCCqZT.js");return{completeChecklist:t}},__vite__mapDeps([3,0,1]));await h(e.checklistId);break;case"saveChecklistAnswer":const{saveChecklistAnswer:E}=await o(async()=>{const{saveChecklistAnswer:t}=await import("./checklistService-B7rCCqZT.js");return{saveChecklistAnswer:t}},__vite__mapDeps([3,0,1]));await E(e.checklistId,e.questionKey,e.answers,e.isCritical);break;default:console.warn(`Unknown operation type: ${a}`);continue}s.splice(r,1),r--}catch(n){console.error(`Failed to sync operation ${a}:`,n)}}localStorage.setItem("syncQueue",JSON.stringify(s)),console.log(`Sync complete. ${s.length} operations remaining.`)}}function m(){const r=localStorage.getItem("syncQueue");if(r)try{const a=JSON.parse(r);s.push(...a)}catch(a){console.error("Failed to parse stored sync queue:",a)}c&&u()}function _(){return c}m();async function P(r,a=10){try{if(!_())return[];const{searchUsers:e}=await o(async()=>{const{searchUsers:n}=await import("./userService-n9FYtoVC.js");return{searchUsers:n}},__vite__mapDeps([4,0,1]));return await e(r,a)}catch(e){return console.error("Error searching users:",e),[]}}async function g(r,a){try{if(_())try{const{addUserToProjectByEmail:e}=await o(async()=>{const{addUserToProjectByEmail:d}=await import("./index-C_PjkHu6.js").then(l=>l.p);return{addUserToProjectByEmail:d}},__vite__mapDeps([0,1]));return await e(r,a)}catch(e){console.warn("Failed to add user to project via API:",e)}return!0}catch(e){throw console.error("Error adding user to project by email:",e),e}}export{g as addUserToProjectByEmail,P as searchUsers};
