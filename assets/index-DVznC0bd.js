(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&f(i)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function f(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();const Ye=!1,ke=(e,t)=>e===t,I={equals:ke};let ve=Ne;const J=1,ee=2,_e={owned:null,cleanups:null,context:null,owner:null};var k=null;let ae=null,De=null,Y=null,O=null,Q=null,ie=0;function Oe(e,t){const n=Y,f=k,o=e.length===0,s=t===void 0?f:t,i=o?_e:{owned:null,cleanups:null,context:s?s.context:null,owner:s},r=o?e:()=>e(()=>H(()=>K(i)));k=i,Y=null;try{return Z(r,!0)}finally{Y=n,k=f}}function F(e,t){t=t?Object.assign({},I,t):I;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},f=o=>(typeof o=="function"&&(o=o(n.value)),Se(n,o));return[pe.bind(n),f]}function _(e,t,n){const f=me(e,t,!1,J);X(f)}function ce(e,t,n){ve=je;const f=me(e,t,!1,J);f.user=!0,Q?Q.push(f):X(f)}function U(e,t,n){n=n?Object.assign({},I,n):I;const f=me(e,t,!0,0);return f.observers=null,f.observerSlots=null,f.comparator=n.equals||void 0,X(f),pe.bind(f)}function H(e){if(Y===null)return e();const t=Y;Y=null;try{return e()}finally{Y=t}}function Le(e){ce(()=>H(e))}function Ce(e){return k===null||(k.cleanups===null?k.cleanups=[e]:k.cleanups.push(e)),e}function pe(){if(this.sources&&this.state)if(this.state===J)X(this);else{const e=O;O=null,Z(()=>se(this),!1),O=e}if(Y){const e=this.observers?this.observers.length:0;Y.sources?(Y.sources.push(this),Y.sourceSlots.push(e)):(Y.sources=[this],Y.sourceSlots=[e]),this.observers?(this.observers.push(Y),this.observerSlots.push(Y.sources.length-1)):(this.observers=[Y],this.observerSlots=[Y.sources.length-1])}return this.value}function Se(e,t,n){let f=e.value;return(!e.comparator||!e.comparator(f,t))&&(e.value=t,e.observers&&e.observers.length&&Z(()=>{for(let o=0;o<e.observers.length;o+=1){const s=e.observers[o],i=ae&&ae.running;i&&ae.disposed.has(s),(i?!s.tState:!s.state)&&(s.pure?O.push(s):Q.push(s),s.observers&&Re(s)),i||(s.state=J)}if(O.length>1e6)throw O=[],new Error},!1)),t}function X(e){if(!e.fn)return;K(e);const t=ie;Be(e,e.value,t)}function Be(e,t,n){let f;const o=k,s=Y;Y=k=e;try{f=e.fn(t)}catch(i){return e.pure&&(e.state=J,e.owned&&e.owned.forEach(K),e.owned=null),e.updatedAt=n+1,Te(i)}finally{Y=s,k=o}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Se(e,f):e.value=f,e.updatedAt=n)}function me(e,t,n,f=J,o){const s={fn:e,state:f,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:k,context:k?k.context:null,pure:n};return k===null||k!==_e&&(k.owned?k.owned.push(s):k.owned=[s]),s}function te(e){if(e.state===0)return;if(e.state===ee)return se(e);if(e.suspense&&H(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<ie);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===J)X(e);else if(e.state===ee){const f=O;O=null,Z(()=>se(e,t[0]),!1),O=f}}function Z(e,t){if(O)return e();let n=!1;t||(O=[]),Q?n=!0:Q=[],ie++;try{const f=e();return Pe(n),f}catch(f){n||(Q=null),O=null,Te(f)}}function Pe(e){if(O&&(Ne(O),O=null),e)return;const t=Q;Q=null,t.length&&Z(()=>ve(t),!1)}function Ne(e){for(let t=0;t<e.length;t++)te(e[t])}function je(e){let t,n=0;for(t=0;t<e.length;t++){const f=e[t];f.user?e[n++]=f:te(f)}for(t=0;t<n;t++)te(e[t])}function se(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const f=e.sources[n];if(f.sources){const o=f.state;o===J?f!==t&&(!f.updatedAt||f.updatedAt<ie)&&te(f):o===ee&&se(f,t)}}}function Re(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=ee,n.pure?O.push(n):Q.push(n),n.observers&&Re(n))}}function K(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),f=e.sourceSlots.pop(),o=n.observers;if(o&&o.length){const s=o.pop(),i=n.observerSlots.pop();f<o.length&&(s.sourceSlots[i]=f,o[f]=s,n.observerSlots[f]=i)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)K(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)K(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Fe(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Te(e,t=k){throw Fe(e)}function E(e,t){return H(()=>e(t||{}))}const Me=e=>`Stale read from <${e}>.`;function ne(e){const t=e.keyed,n=U(()=>e.when,void 0,void 0),f=t?n:U(n,void 0,{equals:(o,s)=>!o==!s});return U(()=>{const o=f();if(o){const s=e.children;return typeof s=="function"&&s.length>0?H(()=>s(t?o:()=>{if(!H(f))throw Me("Show");return n()})):s}return e.fallback},void 0,void 0)}const ye=e=>U(()=>e());function We(e,t,n){let f=n.length,o=t.length,s=f,i=0,r=0,h=t[o-1].nextSibling,l=null;for(;i<o||r<s;){if(t[i]===n[r]){i++,r++;continue}for(;t[o-1]===n[s-1];)o--,s--;if(o===i){const a=s<f?r?n[r-1].nextSibling:n[s-r]:h;for(;r<s;)e.insertBefore(n[r++],a)}else if(s===r)for(;i<o;)(!l||!l.has(t[i]))&&t[i].remove(),i++;else if(t[i]===n[s-1]&&n[r]===t[o-1]){const a=t[--o].nextSibling;e.insertBefore(n[r++],t[i++].nextSibling),e.insertBefore(n[--s],a),t[o]=n[s]}else{if(!l){l=new Map;let c=r;for(;c<s;)l.set(n[c],c++)}const a=l.get(t[i]);if(a!=null)if(r<a&&a<s){let c=i,y=1,w;for(;++c<o&&c<s&&!((w=l.get(t[c]))==null||w!==a+y);)y++;if(y>a-r){const m=t[i];for(;r<a;)e.insertBefore(n[r++],m)}else e.replaceChild(n[r++],t[i++])}else i++;else t[i++].remove()}}}const we="_$DX_DELEGATE";function Qe(e,t,n,f={}){let o;return Oe(s=>{o=s,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},f.owner),()=>{o(),t.textContent=""}}function B(e,t,n,f){let o;const s=()=>{const r=document.createElement("template");return r.innerHTML=e,r.content.firstChild},i=()=>(o||(o=s())).cloneNode(!0);return i.cloneNode=i,i}function qe(e,t=window.document){const n=t[we]||(t[we]=new Set);for(let f=0,o=e.length;f<o;f++){const s=e[f];n.has(s)||(n.add(s),t.addEventListener(s,Ve))}}function R(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function Je(e,t){t==null?e.removeAttribute("class"):e.className=t}function he(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function g(e,t,n,f){if(n!==void 0&&!f&&(f=[]),typeof t!="function")return le(e,t,f,n);_(o=>le(e,t(),o,n),f)}function Ve(e){let t=e.target;const n=`$$${e.type}`,f=e.target,o=e.currentTarget,s=h=>Object.defineProperty(e,"target",{configurable:!0,value:h}),i=()=>{const h=t[n];if(h&&!t.disabled){const l=t[`${n}Data`];if(l!==void 0?h.call(t,l,e):h.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&s(t.host),!0},r=()=>{for(;i()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const h=e.composedPath();s(h[0]);for(let l=0;l<h.length-2&&(t=h[l],!!i());l++){if(t._$host){t=t._$host,r();break}if(t.parentNode===o)break}}else r();s(f)}function le(e,t,n,f,o){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,i=f!==void 0;if(e=i&&n[0]&&n[0].parentNode||e,s==="string"||s==="number"){if(s==="number"&&(t=t.toString(),t===n))return n;if(i){let r=n[0];r&&r.nodeType===3?r.data!==t&&(r.data=t):r=document.createTextNode(t),n=G(e,n,f,r)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||s==="boolean")n=G(e,n,f);else{if(s==="function")return _(()=>{let r=t();for(;typeof r=="function";)r=r();n=le(e,r,n,f)}),()=>n;if(Array.isArray(t)){const r=[],h=n&&Array.isArray(n);if(ge(r,t,n,o))return _(()=>n=le(e,r,n,f,!0)),()=>n;if(r.length===0){if(n=G(e,n,f),i)return n}else h?n.length===0?$e(e,r,f):We(e,n,r):(n&&G(e),$e(e,r));n=r}else if(t.nodeType){if(Array.isArray(n)){if(i)return n=G(e,n,f,t);G(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ge(e,t,n,f){let o=!1;for(let s=0,i=t.length;s<i;s++){let r=t[s],h=n&&n[e.length],l;if(!(r==null||r===!0||r===!1))if((l=typeof r)=="object"&&r.nodeType)e.push(r);else if(Array.isArray(r))o=ge(e,r,h)||o;else if(l==="function")if(f){for(;typeof r=="function";)r=r();o=ge(e,Array.isArray(r)?r:[r],Array.isArray(h)?h:[h])||o}else e.push(r),o=!0;else{const a=String(r);h&&h.nodeType===3&&h.data===a?e.push(h):e.push(document.createTextNode(a))}}return o}function $e(e,t,n=null){for(let f=0,o=t.length;f<o;f++)e.insertBefore(t[f],n)}function G(e,t,n,f){if(n===void 0)return e.textContent="";const o=f||document.createTextNode("");if(t.length){let s=!1;for(let i=t.length-1;i>=0;i--){const r=t[i];if(o!==r){const h=r.parentNode===e;!s&&!i?h?e.replaceChild(o,r):e.insertBefore(o,n):h&&r.remove()}else s=!0}}else e.insertBefore(o,n);return[o]}var Ge=B('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"> </h3><div class="flex gap-6">'),He=B('<div><div class="font-medium text-gray-800 mb-2 h-6"></div><div class="flex flex-col gap-2">'),D=B('<label class="flex items-center space-x-2"><input type=checkbox class="w-4 h-4 flex-shrink-0 text-blue-600 border-gray-300 focus:ring-blue-500"><span class=text-gray-700>'),P=B('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="flex gap-6">'),Ke=B('<div><div class="font-medium text-gray-800 h-6"></div><div class="font-light text-gray-800 mb-4 h-12"></div><div class="flex flex-col gap-2">'),L=B('<div><div class="font-medium text-gray-800 h-8"></div><div class="flex flex-col gap-2">'),Ae=B('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6"></div><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6">'),Xe=B('<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100"><div class="container mx-auto px-4 py-8 max-w-7xl"><div class="bg-white rounded-lg shadow-lg p-8 mb-8"><h1 class="text-3xl font-bold text-gray-900 mb-2">AMSTAR 2 Checklist</h1><p class="text-gray-600 mb-6">App description here</p><div class="grid md:grid-cols-3 gap-4 mb-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Title</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter review title"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Reviewer Name</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter your name"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Date</label><input type=date class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></div></div></div><div class=space-y-6>');function Ze({onUpdate:e,state:t}){const n={text:"1. Did the research questions and inclusion criteria for the review include the components of PICO?",columns:[{label:"For Yes:",options:["Population","Intervention","Comparator group","Outcome"]},{label:"Optional (recommended):",options:["Timeframe for follow-up"]},{label:"",options:["Yes","No"]}]};function f(s,i,r){e(s,i,r),t[0].every((l,a)=>s===0&&a===i?r:l)?(t[2][0]||e(2,0,!0),t[2][1]&&e(2,1,!1)):(t[2][0]&&e(2,0,!1),t[2][1]||e(2,1,!0))}function o(s,i,r){i===0&&r?(e(s,0,!0),t[s][1]&&e(s,1,!1)):i===1&&r?(e(s,1,!0),t[s][0]&&e(s,0,!1)):e(s,i,r)}return(()=>{var s=Ge(),i=s.firstChild,r=i.firstChild,h=i.nextSibling;return g(i,()=>n.text,r),g(h,()=>n.columns.map((l,a)=>(()=>{var c=He(),y=c.firstChild,w=y.nextSibling;return R(c,"key",a),g(y,()=>l.label),g(w,()=>l.options.map((m,d)=>(()=>{var u=D(),b=u.firstChild,$=b.nextSibling;return R(u,"key",d),b.addEventListener("change",()=>a===0?f(a,d,!t[a][d]):a===2?o(a,d,!t[a][d]):e(a,d,!t[a][d])),g($,m),_(()=>b.checked=t[a][d]),u})())),_(()=>c.className=a===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),c})())),s})()}function ze({onUpdate:e,state:t}){const n={text:"2. Did the report of the review contain an explicit statement that the review methods were established prior to the conduct of the review and did the report justify any significant deviations from the protocol?",columns:[{label:"For Partial Yes:",description:"The authors state that they had a written protocol or guide that included ALL the following:",options:["review question(s)","a search strategy","inclusion/exclusion criteria","risk of bias assessment"]},{label:"For Yes:",description:"As for Partial Yes, plus the protocol should be registered and should also have specified:",options:["a meta-analysis/synthesis plan, if appropriate, and","a plan for investigating causes of heterogeneity","a plan for investigating causes of heterogeneity"]},{label:"",description:"",options:["Yes","Partial Yes","No"]}]};function f(s,i,r){const h=t[0].every((a,c)=>s===0&&c===i?r:a),l=h&&t[1].every((a,c)=>s===1&&c===i?r:a);e(s,i,r),l?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):h?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function o(s,i,r){r?(e(s,0,i===0),e(s,1,i===1),e(s,2,i===2)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=Ke(),c=a.firstChild,y=c.nextSibling,w=y.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.description),g(w,()=>h.options.map((m,d)=>(()=>{var u=D(),b=u.firstChild,$=b.nextSibling;return R(u,"key",d),b.addEventListener("change",()=>l===0||l===1?f(l,d,!t[l][d]):o(l,d,!t[l][d])),g($,m),_(()=>b.checked=t[l][d]),u})())),_(()=>a.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function xe({onUpdate:e,state:t}){const n={text:"3. Did the review authors explain their selection of the study designs for inclusion in the review?",columns:[{label:"For Yes, the review should satisfy ONE of the following:",options:["Explanation for including only RCTs ","OR Explanation for including only NRSI","OR Explanation for including both RCTs and NRSI"]},{label:"",options:["Yes","No"]}]};function f(s,i,r){const l=(s===0?t[0].map((a,c)=>c===i?r:a):t[0]).some(Boolean);e(s,i,r),l?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function o(s,i,r){i===0&&r?(e(s,0,!0),t[s][1]&&e(s,1,!1)):i===1&&r?(e(s,1,!0),t[s][0]&&e(s,0,!1)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function Ue({onUpdate:e,state:t}){const n={text:"4. Did the review authors use a comprehensive literature search strategy? ",columns:[{label:"For Partial Yes (all the following):",options:["searched at least 2 databases (relevant to research question)","provided key word and/or search strategy","justified publication restrictions (e.g. language)"]},{label:"For Yes, should also have (all the following):",options:["searched the reference lists / bibliographies of included studies","searched trial/study registries","included/consulted content experts in the field","where relevant, searched for grey literature","conducted search within 24 months of completion of the review"]},{label:"",options:["Yes","Partial Yes","No"]}]};function f(s,i,r){const h=s===0?t[0].map((y,w)=>w===i?r:y):t[0],l=s===1?t[1].map((y,w)=>w===i?r:y):t[1],a=h.every(Boolean),c=a&&l.every(Boolean);e(s,i,r),c?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):a?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function o(s,i,r){r?(e(s,0,i===0),e(s,1,i===1),e(s,2,i===2)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0||l===1?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function Ie({onUpdate:e,state:t}){const n={text:"5. Did the review authors perform study selection in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]};function f(s,i,r){const l=(s===0?t[0].map((a,c)=>c===i?r:a):t[0]).some(Boolean);e(s,i,r),l?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function o(s,i,r){i===0&&r?(e(s,0,!0),t[s][1]&&e(s,1,!1)):i===1&&r?(e(s,1,!0),t[s][0]&&e(s,0,!1)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function et({onUpdate:e,state:t}){const n={text:"6. Did the review authors perform data extraction in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]};function f(s,i,r){const l=(s===0?t[0].map((a,c)=>c===i?r:a):t[0]).some(Boolean);e(s,i,r),l?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function o(s,i,r){i===0&&r?(e(s,0,!0),t[s][1]&&e(s,1,!1)):i===1&&r?(e(s,1,!0),t[s][0]&&e(s,0,!1)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function tt({onUpdate:e,state:t}){const n={text:"7. Did the review authors provide a list of excluded studies and justify the exclusions?",columns:[{label:"For Partial Yes:",options:["provided a list of all potentially relevant studies that were read in full-text form but excluded from the review"]},{label:"For Yes, must also have:",options:["Justified the exclusion from the review of each potentially relevant study"]},{label:"",options:["Yes","Partial Yes","No"]}]};function f(s,i,r){const h=s===0?t[0].map((y,w)=>w===i?r:y):t[0],l=s===1?t[1].map((y,w)=>w===i?r:y):t[1],a=h.every(Boolean),c=a&&l.every(Boolean);e(s,i,r),c?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):a?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function o(s,i,r){r?(e(s,0,i===0),e(s,1,i===1),e(s,2,i===2)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0||l===1?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function st({onUpdate:e,state:t}){const n={text:"8. Did the review authors describe the included studies in adequate detail?",columns:[{label:"For Partial Yes (ALL the following):",options:["described populations","described interventions","described comparators","described outcomes","described research designs"]},{label:"For Yes, should also have ALL the following:",options:["described population in detail","described comparator in detail (including doses where relevant)","described study’s setting in detail","timeframe for follow-up"]},{label:"",options:["Yes","Partial Yes","No"]}]};function f(s,i,r){const h=s===0?t[0].map((y,w)=>w===i?r:y):t[0],l=s===1?t[1].map((y,w)=>w===i?r:y):t[1],a=h.every(Boolean),c=a&&l.every(Boolean);e(s,i,r),c?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):a?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function o(s,i,r){r?(e(s,0,i===0),e(s,1,i===1),e(s,2,i===2)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0||l===1?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function nt({onUpdatea:e,statea:t,onUpdateb:n,stateb:f}){const o={text:"9. Did the review authors use a satisfactory technique for assessing the risk of bias (RoB) in individual studies that were included in the review?",subtitle:"RCTs",columns:[{label:"For Partial Yes, must have assessed RoB from",options:["unconcealed allocation, and","lack of blinding of patients and assessors when assessing outcomes (unnecessary for objective outcomes such as all-cause mortality)"]},{label:"For Yes, must also have assessed RoB from:",options:["allocation sequence that was not truly random, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",description:"",options:["Yes","Partial Yes","No"," Includes only NRSI"]}],subtitle2:"NRSI",columns2:[{label:"For Partial Yes, must have assessed RoB:",options:["from confounding, and","from selection bias"]},{label:"For Yes, must also have assessed RoB:",options:["methods used to ascertain exposures and outcomes, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",options:["Yes","Partial Yes","No","Includes only RCTs"]}]};function s(l,a,c){const y=l===0?t[0].map((u,b)=>b===a?c:u):t[0],w=l===1?t[1].map((u,b)=>b===a?c:u):t[1],m=y.every(Boolean),d=m&&w.every(Boolean);e(l,a,c),d?(e(2,0,!0),e(2,1,!1),e(2,2,!1),e(2,3,!1)):m?(e(2,0,!1),e(2,1,!0),e(2,2,!1),e(2,3,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0),e(2,3,!1))}function i(l,a,c){c?(e(l,0,a===0),e(l,1,a===1),e(l,2,a===2),e(l,3,a===3)):e(l,a,c)}function r(l,a,c){const y=l===0?f[0].map((u,b)=>b===a?c:u):f[0],w=l===1?f[1].map((u,b)=>b===a?c:u):f[1],m=y.every(Boolean),d=m&&w.every(Boolean);n(l,a,c),d?(n(2,0,!0),n(2,1,!1),n(2,2,!1),n(2,3,!1)):m?(n(2,0,!1),n(2,1,!0),n(2,2,!1),n(2,3,!1)):(n(2,0,!1),n(2,1,!1),n(2,2,!0),n(2,3,!1))}function h(l,a,c){c?(n(l,0,a===0),n(l,1,a===1),n(l,2,a===2),n(l,3,a===3)):n(l,a,c)}return(()=>{var l=Ae(),a=l.firstChild,c=a.nextSibling,y=c.nextSibling,w=y.nextSibling,m=w.nextSibling;return g(a,()=>o.text),g(c,()=>o.subtitle),g(y,()=>o.columns.map((d,u)=>(()=>{var b=L(),$=b.firstChild,C=$.nextSibling;return R(b,"key",u),g($,()=>d.label),g(C,()=>d.options.map((A,p)=>(()=>{var q=D(),T=q.firstChild,v=T.nextSibling;return R(q,"key",p),T.addEventListener("change",()=>u===0||u===1?s(u,p,!t[u][p]):i(u,p,!t[u][p])),g(v,A),_(()=>T.checked=t[u][p]),q})())),_(()=>b.className=u===o.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),b})())),g(w,()=>o.subtitle2),g(m,()=>o.columns2.map((d,u)=>(()=>{var b=L(),$=b.firstChild,C=$.nextSibling;return R(b,"key",u),g($,()=>d.label),g(C,()=>d.options.map((A,p)=>(()=>{var q=D(),T=q.firstChild,v=T.nextSibling;return R(q,"key",p),T.addEventListener("change",()=>u===0||u===1?r(u,p,!f[u][p]):h(u,p,!f[u][p])),g(v,A),_(()=>T.checked=f[u][p]),q})())),_(()=>b.className=u===o.columns2.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),b})())),l})()}function lt({onUpdate:e,state:t}){const n={text:"10. Did the review authors report on the sources of funding for the studies included in the review?",columns:[{label:"For Yes:",options:["Must have reported on the sources of funding for individual studies included in the review. Note: Reporting that the reviewers looked for this information but it was not reported by study authors also qualifies"]},{label:"",options:["Yes","No"]}]};function f(s,i,r){const l=(s===0?t[0].map((a,c)=>c===i?r:a):t[0]).some(Boolean);e(s,i,r),l?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function o(s,i,r){i===0&&r?(e(s,0,!0),t[s][1]&&e(s,1,!1)):i===1&&r?(e(s,1,!0),t[s][0]&&e(s,0,!1)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function it({onUpdatea:e,statea:t,onUpdateb:n,stateb:f}){const o={text:"11. If meta-analysis was performed did the review authors use appropriate methods for statistical combination of results?",subtitle:"RCTs",columns:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results and adjusted for heterogeneity if present.","AND investigated the causes of any heterogeneity"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}],subtitle2:"NRSI",columns2:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results, adjusting for heterogeneity if present","AND they statistically combined effect estimates from NRSI that were adjusted for confounding, rather than combining raw data, or justified combining raw data when adjusted effect estimates were not available","AND they reported separate summary estimates for RCTs and NRSI separately when both were included in the review"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]};function s(l,a,c){const w=(l===0?t[0].map((m,d)=>d===a?c:m):t[0]).every(Boolean);e(l,a,c),w?(e(1,0,!0),e(1,1,!1),e(1,2,!1)):(e(1,0,!1),e(1,1,!0),e(1,2,!1))}function i(l,a,c){c?(e(l,0,a===0),e(l,1,a===1),e(l,2,a===2)):e(l,a,c)}function r(l,a,c){const w=(l===0?f[0].map((m,d)=>d===a?c:m):f[0]).every(Boolean);n(l,a,c),w?(n(1,0,!0),n(1,1,!1),n(1,2,!1)):(n(1,0,!1),n(1,1,!0),n(1,2,!1))}function h(l,a,c){c?(n(l,0,a===0),n(l,1,a===1),n(l,2,a===2)):n(l,a,c)}return(()=>{var l=Ae(),a=l.firstChild,c=a.nextSibling,y=c.nextSibling,w=y.nextSibling,m=w.nextSibling;return g(a,()=>o.text),g(c,()=>o.subtitle),g(y,()=>o.columns.map((d,u)=>(()=>{var b=L(),$=b.firstChild,C=$.nextSibling;return R(b,"key",u),g($,()=>d.label),g(C,()=>d.options.map((A,p)=>(()=>{var q=D(),T=q.firstChild,v=T.nextSibling;return R(q,"key",p),T.addEventListener("change",()=>u===0?s(u,p,!t[u][p]):i(u,p,!t[u][p])),g(v,A),_(()=>T.checked=t[u][p]),q})())),_(()=>b.className=u===o.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),b})())),g(w,()=>o.subtitle2),g(m,()=>o.columns2.map((d,u)=>(()=>{var b=L(),$=b.firstChild,C=$.nextSibling;return R(b,"key",u),g($,()=>d.label),g(C,()=>d.options.map((A,p)=>(()=>{var q=D(),T=q.firstChild,v=T.nextSibling;return R(q,"key",p),T.addEventListener("change",()=>u===0?r(u,p,!f[u][p]):h(u,p,!f[u][p])),g(v,A),_(()=>T.checked=f[u][p]),q})())),_(()=>b.className=u===o.columns2.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),b})())),l})()}function rt({onUpdate:e,state:t}){const n={text:"12. If meta-analysis was performed, did the review authors assess the potential impact of RoB in individual studies on the results of the meta-analysis or other evidence synthesis?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if the pooled estimate was based on RCTs and/or NRSI at variable RoB, the authors performed analyses to investigate possible impact of RoB on summary estimates of effect."]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]};function f(s,i,r){const l=(s===0?t[0].map((a,c)=>c===i?r:a):t[0]).some(Boolean);e(s,i,r),l?(e(1,0,!0),e(1,1,!1),e(1,2,!1)):(e(1,0,!1),e(1,1,!0),e(1,2,!1))}function o(s,i,r){r?(e(s,0,i===0),e(s,1,i===1),e(s,2,i===2)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function at({onUpdate:e,state:t}){const n={text:"13. Did the review authors account for RoB in individual studies when interpreting/ discussing the results of the review?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if RCTs with moderate or high RoB, or NRSI were included the review provided a discussion of the likely impact of RoB on the results"]},{label:"",options:["Yes","No"]}]};function f(s,i,r){const l=(s===0?t[0].map((a,c)=>c===i?r:a):t[0]).some(Boolean);e(s,i,r),l?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function o(s,i,r){i===0&&r?(e(s,0,!0),t[s][1]&&e(s,1,!1)):i===1&&r?(e(s,1,!0),t[s][0]&&e(s,0,!1)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function ot({onUpdate:e,state:t}){const n={text:"14. Did the review authors provide a satisfactory explanation for, and discussion of, any heterogeneity observed in the results of the review?",columns:[{label:"For Yes:",options:["There was no significant heterogeneity in the results","OR if heterogeneity was present the authors performed an investigation of sources of any heterogeneity in the results and discussed the impact of this on the results of the review"]},{label:"",options:["Yes","No"]}]};function f(s,i,r){const l=(s===0?t[0].map((a,c)=>c===i?r:a):t[0]).some(Boolean);e(s,i,r),l?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function o(s,i,r){i===0&&r?(e(s,0,!0),t[s][1]&&e(s,1,!1)):i===1&&r?(e(s,1,!0),t[s][0]&&e(s,0,!1)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function ft({onUpdate:e,state:t}){const n={text:"15. If they performed quantitative synthesis did the review authors carry out an adequate investigation of publication bias (small study bias) and discuss its likely impact on the results of the review?",columns:[{label:"For Yes:",options:["performed graphical or statistical tests for publication bias and discussed the likelihood and magnitude of impact of publication bias"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]};function f(s,i,r){const l=(s===0?t[0].map((a,c)=>c===i?r:a):t[0]).some(Boolean);e(s,i,r),l?(e(1,0,!0),e(1,1,!1),e(1,2,!1)):(e(1,0,!1),e(1,1,!0),e(1,2,!1))}function o(s,i,r){r?(e(s,0,i===0),e(s,1,i===1),e(s,2,i===2)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function ut({onUpdate:e,state:t}){const n={text:"16. Did the review authors report any potential sources of conflict of interest, including any funding they received for conducting the review?",columns:[{label:"For Yes:",options:["The authors reported no competing interests OR","The authors described their funding sources and how they managed potential conflicts of interest"]},{label:"",options:["Yes","No"]}]};function f(s,i,r){const l=(s===0?t[0].map((a,c)=>c===i?r:a):t[0]).some(Boolean);e(s,i,r),l?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function o(s,i,r){i===0&&r?(e(s,0,!0),t[s][1]&&e(s,1,!1)):i===1&&r?(e(s,1,!0),t[s][0]&&e(s,0,!1)):e(s,i,r)}return(()=>{var s=P(),i=s.firstChild,r=i.nextSibling;return g(i,()=>n.text),g(r,()=>n.columns.map((h,l)=>(()=>{var a=L(),c=a.firstChild,y=c.nextSibling;return R(a,"key",l),g(c,()=>h.label),g(y,()=>h.options.map((w,m)=>(()=>{var d=D(),u=d.firstChild,b=u.nextSibling;return R(d,"key",m),u.addEventListener("change",()=>l===0?f(l,m,!t[l][m]):o(l,m,!t[l][m])),g(b,w),_(()=>u.checked=t[l][m]),d})())),_(()=>a.className=l===n.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),a})())),s})()}function ct({checklistState:e,onChecklistChange:t}){const[n,f]=F(""),[o,s]=F(""),[i,r]=F("");return(()=>{var h=Xe(),l=h.firstChild,a=l.firstChild,c=a.firstChild,y=c.nextSibling,w=y.nextSibling,m=w.firstChild,d=m.firstChild,u=d.nextSibling,b=m.nextSibling,$=b.firstChild,C=$.nextSibling,A=b.nextSibling,p=A.firstChild,q=p.nextSibling,T=a.nextSibling;return u.addEventListener("change",v=>{f(v.target.value),e.state.title=v.target.value,t({...e.state})}),C.addEventListener("change",v=>{s(v.target.value),e.state.reviewerName=v.target.value,t({...e.state})}),q.addEventListener("change",v=>{r(v.target.value),e.state.reviewDate=v.target.value,t({...e.state})}),g(T,E(Ze,{onUpdate:(v,S,N)=>{e.state.q1[v][S]=N,t({...e.state})},get state(){return e.state.q1}}),null),g(T,E(ze,{onUpdate:(v,S,N)=>{e.state.q2[v][S]=N,t({...e.state})},get state(){return e.state.q2}}),null),g(T,E(xe,{onUpdate:(v,S,N)=>{e.state.q3[v][S]=N,t({...e.state})},get state(){return e.state.q3}}),null),g(T,E(Ue,{onUpdate:(v,S,N)=>{e.state.q4[v][S]=N,t({...e.state})},get state(){return e.state.q4}}),null),g(T,E(Ie,{onUpdate:(v,S,N)=>{e.state.q5[v][S]=N,t({...e.state})},get state(){return e.state.q5}}),null),g(T,E(et,{onUpdate:(v,S,N)=>{e.state.q6[v][S]=N,t({...e.state})},get state(){return e.state.q6}}),null),g(T,E(tt,{onUpdate:(v,S,N)=>{e.state.q7[v][S]=N,t({...e.state})},get state(){return e.state.q7}}),null),g(T,E(st,{onUpdate:(v,S,N)=>{e.state.q8[v][S]=N,t({...e.state})},get state(){return e.state.q8}}),null),g(T,E(nt,{onUpdatea:(v,S,N)=>{e.state.q9a[v][S]=N,t({...e.state})},get statea(){return e.state.q9a},onUpdateb:(v,S,N)=>{e.state.q9b[v][S]=N,t({...e.state})},get stateb(){return e.state.q9b}}),null),g(T,E(lt,{onUpdate:(v,S,N)=>{e.state.q10[v][S]=N,t({...e.state})},get state(){return e.state.q10}}),null),g(T,E(it,{onUpdatea:(v,S,N)=>{e.state.q11a[v][S]=N,t({...e.state})},get statea(){return e.state.q11a},onUpdateb:(v,S,N)=>{e.state.q11b[v][S]=N,t({...e.state})},get stateb(){return e.state.q11b}}),null),g(T,E(rt,{onUpdate:(v,S,N)=>{e.state.q12[v][S]=N,t({...e.state})},get state(){return e.state.q12}}),null),g(T,E(at,{onUpdate:(v,S,N)=>{e.state.q13[v][S]=N,t({...e.state})},get state(){return e.state.q13}}),null),g(T,E(ot,{onUpdate:(v,S,N)=>{e.state.q14[v][S]=N,t({...e.state})},get state(){return e.state.q14}}),null),g(T,E(ft,{onUpdate:(v,S,N)=>{e.state.q15[v][S]=N,t({...e.state})},get state(){return e.state.q15}}),null),g(T,E(ut,{onUpdate:(v,S,N)=>{e.state.q16[v][S]=N,t({...e.state})},get state(){return e.state.q16}}),null),_(()=>u.value=n()),_(()=>C.value=o()),_(()=>q.value=i()),h})()}const ht="amstar2-checklists",M="checklists",gt=1;function re(){return new Promise((e,t)=>{const n=indexedDB.open(ht,gt);n.onupgradeneeded=()=>{const f=n.result;f.objectStoreNames.contains(M)||f.createObjectStore(M,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function oe(e){const t=await re();return new Promise((n,f)=>{const o=t.transaction(M,"readwrite");o.objectStore(M).put(e),o.oncomplete=()=>n(),o.onerror=()=>f(o.error)})}async function fe(){const e=await re();return new Promise((t,n)=>{const s=e.transaction(M,"readonly").objectStore(M).getAll();s.onsuccess=()=>t(s.result),s.onerror=()=>n(s.error)})}async function mt(e){const t=await re();return new Promise((n,f)=>{const o=t.transaction(M,"readwrite");o.objectStore(M).delete(e),o.oncomplete=()=>n(),o.onerror=()=>f(o.error)})}async function bt(){const e=await re();return new Promise((t,n)=>{const s=e.transaction(M,"readwrite").objectStore(M).clear();s.onsuccess=()=>t(),s.onerror=()=>n(s.error)})}function ue(){return crypto.randomUUID()}class x{constructor(t=null){this.state=t||this.getDefaultState()}getDefaultState(){return{q1:[[!1,!1,!1,!1],[!1],[!1,!1]],q2:[[!1,!1,!1,!1],[!1,!1,!1],[!1,!1]],q3:[[!1,!1,!1],[!1,!1]],q4:[[!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!1]],q5:[[!1,!1],[!1,!1]],q6:[[!1,!1],[!1,!1]],q7:[[!1],[!1],[!1,!1,!1]],q8:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!1]],q9a:[[!1,!1],[!1,!1],[!1,!1,!1,!1]],q9b:[[!1,!1],[!1,!1],[!1,!1,!1,!1]],q10:[[!1],[!1,!1]],q11a:[[!1,!1,!1],[!1,!1,!1]],q11b:[[!1,!1,!1,!1],[!1,!1,!1]],q12:[[!1,!1],[!1,!1,!1]],q13:[[!1,!1],[!1,!1]],q14:[[!1,!1],[!1,!1]],q15:[[!1],[!1,!1,!1]],q16:[[!1,!1],[!1,!1]]}}updateAnswer(t,n,f,o){this.state[t]&&this.state[t][n]&&(this.state[t][n][f]=o)}exportState(){return JSON.stringify(this.state,null,2)}importState(t){try{return this.state=JSON.parse(t),!0}catch(n){return console.error("Invalid JSON format:",n),!1}}exportFlat(){const t={};return this.state.title&&(t.title=this.state.title),Object.entries(this.state).forEach(([n,f])=>{if(/^q\d+[a-z]*$/i.test(n)&&Array.isArray(f)){const o=f.flat().map(s=>s?"1":"0");t[n]=o}}),t}importFlat(t){const n=this.getDefaultState();Object.entries(t).forEach(([f,o])=>{if(!n[f])return;const s=n[f],i=s.map(h=>h.length);let r=0;for(let h=0;h<s.length;h++)for(let l=0;l<i[h];l++)s[h][l]=o[r]==="1",r++}),this.state=n}scoreChecklist(){const t=["q2","q4","q7","q9a","q9b","q11a","q11b","q13","q15"];let n=0,f=0;const o=s=>{if(!Array.isArray(s)||s.length===0)return null;const i=s[s.length-1];if(!Array.isArray(i))return null;const r=i.findIndex(h=>h===!0);return r===-1?null:i.length===2?r===0?"Yes":"No":i.length===3?["Yes","Partial Yes","No"][r]||null:i.length===4&&["Yes","Partial Yes","No","Other"][r]||null};return Object.entries(this.state).forEach(([s,i])=>{if(!/^q\d+[a-z]*$/i.test(s))return;const r=o(i);r&&r!=="Yes"&&(t.includes(s)?n++:f++)}),n>1?"Critically Low":n===1?"Low":f>1?"Moderate":"High"}}function dt(e){const t=typeof e.exportFlat=="function"?e.exportFlat():e;let n=[];t.title&&(n=[["Title",`${String(t.title).replace(/"/g,'""')}`]],delete t.title);const f=Math.max(...Object.values(t).map(c=>Array.isArray(c)?c.length:0)),o=["Question"];for(let c=1;c<=f;c++)o.push(`A${c}`);const s=[o];Object.entries(t).forEach(([c,y])=>{const w=Array.isArray(y)?[...y,...Array(f-y.length).fill("")]:[];s.push([c,...w])});const r=(n.length?[...n,[],...s]:s).map(c=>c.map(y=>`"${String(y).replace(/"/g,'""')}"`).join(",")).join(`\r
`),h=new Blob([r],{type:"text/csv"}),l=URL.createObjectURL(h),a=document.createElement("a");a.href=l,a.download="checklist.csv",document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l)}function yt(e){const t=e.split(/\r?\n/).filter(o=>o.trim()!=="");let n={},f=null;for(let o=0;o<t.length;o++){const s=t[o].split(",").map(i=>i.replace(/^"|"$/g,"").replace(/""/g,'"'));s[0]==="Title"?f=s[1]:s[0]==="Question"||/^q\d+[a-z]*$/i.test(s[0])&&(n[s[0]]=s.slice(1).filter(i=>i!=="").map(i=>i==="1"?"1":"0"))}return f&&(n.title=f),n}var wt=B('<div><input type=text placeholder="Room name"class="m-1 bg-blue-100 rounded-md p-1"><button class="m-2 bg-green-200 p-2 rounded-md">Create Room</button><button class="m-2 bg-blue-200 p-2 rounded-md">Join Room'),$t=B("<div><div class=m-1>Room: <b></b></div><label><input type=checkbox>Check me!</label><div class=m-1>Open this page in two tabs/windows and join the same room to test real-time sync."),vt=B("<div>");const _t="wss://amstar2-checklist-scoring-app-server.onrender.com";function Ct(){const[e,t]=F(!1),[n,f]=F(""),[o,s]=F(""),[i,r]=F(!1);let h,l,a;function c(u){l=new RTCPeerConnection,console.log(`[WebRTC] PeerConnection created. isOfferer: ${u}`),u?(a=l.createDataChannel("checkbox"),console.log("[WebRTC] DataChannel created by offerer"),a.onopen=()=>console.log("[WebRTC] DataChannel open"),a.onmessage=b=>{console.log(`[WebRTC] DataChannel message received: ${b.data}`),t(b.data==="true")},a.onerror=b=>console.error("[WebRTC] DataChannel error:",b),a.onclose=()=>console.log("[WebRTC] DataChannel closed")):l.ondatachannel=b=>{a=b.channel,console.log("[WebRTC] DataChannel received by answerer"),a.onopen=()=>console.log("[WebRTC] DataChannel open"),a.onmessage=$=>{console.log(`[WebRTC] DataChannel message received: ${$.data}`),t($.data==="true")},a.onerror=$=>console.error("[WebRTC] DataChannel error:",$),a.onclose=()=>console.log("[WebRTC] DataChannel closed")},l.onicecandidate=b=>{b.candidate&&(console.log("[WebRTC] ICE candidate generated:",b.candidate),h.send(JSON.stringify({type:"candidate",candidate:b.candidate,room:o()})))},l.onconnectionstatechange=()=>{console.log("[WebRTC] Connection state:",l.connectionState)}}function y(u){h=new WebSocket(_t),h.onopen=()=>{console.log("[WS] Connected to signaling server"),h.send(JSON.stringify({type:"join",room:u}))},h.onmessage=async b=>{let $;if(typeof b.data=="string")$=JSON.parse(b.data);else if(b.data instanceof Blob){const C=await b.data.text();$=JSON.parse(C)}else{console.warn("[WS] Unknown message type:",b.data);return}if(console.log("[WS] Message received:",$),$.type==="join"){if(!l){c(!0);const C=await l.createOffer();await l.setLocalDescription(C),console.log("[WebRTC] Sending offer"),h.send(JSON.stringify({type:"offer",offer:C,room:u}))}}else if($.type==="offer"){c(!1),await l.setRemoteDescription(new RTCSessionDescription($.offer));const C=await l.createAnswer();await l.setLocalDescription(C),console.log("[WebRTC] Received offer, sending answer"),h.send(JSON.stringify({type:"answer",answer:C,room:u}))}else if($.type==="answer")await l.setRemoteDescription(new RTCSessionDescription($.answer)),console.log("[WebRTC] Received answer, set as remote description");else if($.type==="candidate"&&$.candidate)try{await l.addIceCandidate(new RTCIceCandidate($.candidate)),console.log("[WebRTC] Added ICE candidate")}catch(C){console.warn("[WebRTC] Error adding ICE candidate:",C)}},h.onerror=b=>{console.error("[WS] WebSocket error:",b)},h.onclose=()=>{console.log("[WS] WebSocket closed")},Ce(()=>{h&&h.close(),l&&l.close(),console.log("[Cleanup] Closed WebSocket and PeerConnection")})}const w=u=>{t(u.target.checked),a&&a.readyState==="open"?(console.log(`[WebRTC] Sending checkbox state: ${u.target.checked}`),a.send(u.target.checked?"true":"false")):console.warn("[WebRTC] DataChannel not open, cannot send checkbox state")},m=()=>{n().trim()&&(s(n().trim()),r(!0),y(n().trim()))},d=()=>{n().trim()&&(s(n().trim()),r(!0),y(n().trim()))};return(()=>{var u=vt();return he(u,"padding","2rem"),he(u,"textAlign","center"),g(u,E(ne,{get when(){return!i()},get children(){var b=wt(),$=b.firstChild,C=$.nextSibling,A=C.nextSibling;return $.$$input=p=>f(p.target.value),C.$$click=m,A.$$click=d,_(()=>$.value=n()),b}}),null),g(u,E(ne,{get when(){return i()},get children(){var b=$t(),$=b.firstChild,C=$.firstChild,A=C.nextSibling,p=$.nextSibling,q=p.firstChild;return g(A,o),q.$$input=w,_(()=>q.checked=e()),b}}),null),u})()}qe(["input","click"]);var pt=B('<div><div class="flex flex-wrap gap-2 justify-center my-4"><button class="bg-green-600 text-white px-4 py-2 rounded shadow hover:bg-green-700 transition">+ New Checklist</button><button class="bg-red-600 text-white px-4 py-2 rounded shadow hover:bg-red-700 transition">Clear All Data</button><button class="bg-yellow-600 text-white px-4 py-2 rounded shadow hover:bg-yellow-700 transition disabled:opacity-50">Delete This Checklist</button><button class="bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 transition disabled:opacity-50">Export as CSV</button><button class="bg-blue-600 text-white px-4 py-2 rounded shadow hover:bg-blue-700 transition">Toggle Shared</button><label class="bg-blue-100 text-blue-800 px-4 py-2 rounded shadow hover:bg-blue-200 transition cursor-pointer">Import CSV<input type=file accept=.csv,text/csv></label></div><div class="flex flex-wrap gap-2 justify-center mb-6">'),St=B("<button> "),Nt=B('<div class="p-8 text-center text-gray-600">No checklist selected.');function Rt(){const[e,t]=F([]),[n,f]=F(null),[o,s]=F(null),[i,r]=F(!1);let h=null;Le(async()=>{try{const u=await fe();u.sort((b,$)=>(b.createdAt||0)-($.createdAt||0)),t(u),f(u.length>0?u[0].id:null)}catch(u){console.error("Error loading checklists:",u)}}),ce(()=>{const u=e().find(b=>b.id===n());s(u?new x(u):null)}),ce(()=>{o()&&(h&&(clearTimeout(h),h=null),h=setTimeout(async()=>{try{const u={id:o().state.id||ue(),createdAt:o().state.createdAt||Date.now(),...o().state};await oe(u),t(b=>{const $=b.findIndex(C=>C.id===u.id);if($===-1){const C=[...b,u];return C.sort((A,p)=>(A.createdAt||0)-(p.createdAt||0)),C}else if(JSON.stringify(b[$])!==JSON.stringify(u)){const C=[...b];return C[$]=u,C}return b}),f(b=>b||u.id)}catch(u){console.error("Error saving checklist:",u)}h=null},400))}),Ce(()=>{h&&clearTimeout(h)});const l=async()=>{if(window.confirm("Are you sure you want to delete all saved checklists?"))try{await bt(),t([]),f(null),s(null),alert("All checklists deleted!")}catch(u){console.error("Error removing all checklists:",u),alert("Error deleting checklists!")}},a=async()=>{try{const u={id:ue(),createdAt:Date.now(),...new x().state};await oe(u);const b=await fe();b.sort(($,C)=>($.createdAt||0)-(C.createdAt||0)),t(b),f(u.id)}catch(u){console.error("Error adding new checklist:",u)}},c=u=>{console.log("handleselectchecklist"),f(u)},y=u=>{console.log("handlecheckchange"),s(new x(u))},w=async()=>{if(n()&&window.confirm("Are you sure you want to delete this checklist?"))try{await mt(n());const u=e().filter(b=>b.id!==n());t(u),u.length>0?f(u[0].id):(f(null),s(null))}catch(u){console.error("Error deleting checklist:",u),alert("Error deleting checklist!")}},m=()=>{if(o())try{dt(o())}catch(u){console.error("Error exporting checklist:",u),alert("Error exporting checklist!")}},d=async u=>{const b=u.target.files[0];if(b)try{const $=await b.text(),C=yt($),A=new x;A.importFlat(C),C.title&&(A.state.title=C.title);const p={id:ue(),createdAt:Date.now(),...A.state};await oe(p);const q=await fe();q.sort((T,v)=>(T.createdAt||0)-(v.createdAt||0)),t(q),f(p.id)}catch($){console.error("Error importing checklist:",$),alert("Error importing checklist!")}finally{u.target.value=""}};return(()=>{var u=pt(),b=u.firstChild,$=b.firstChild,C=$.nextSibling,A=C.nextSibling,p=A.nextSibling,q=p.nextSibling,T=q.nextSibling,v=T.firstChild,S=v.nextSibling,N=b.nextSibling;return $.$$click=a,C.$$click=l,A.$$click=w,p.$$click=m,q.$$click=()=>r(!i()),S.addEventListener("change",d),he(S,"display","none"),g(N,()=>e().map((j,z)=>(()=>{var W=St(),Ee=W.firstChild;return W.$$click=()=>c(j.id),g(W,(()=>{var V=ye(()=>!!(j.title&&j.title.trim()!==""));return()=>V()?j.title:`Review ${z+1}`})(),Ee),_(V=>{var be=`px-3 py-1 rounded border ${j.id===n()?"bg-blue-600 text-white border-blue-700":"bg-white text-blue-700 border-blue-300 hover:bg-blue-50"}`,de=new Date(j.createdAt).toLocaleString();return be!==V.e&&Je(W,V.e=be),de!==V.t&&R(W,"title",V.t=de),V},{e:void 0,t:void 0}),W})())),g(u,E(ne,{get when(){return i()},get children(){return E(Ct,{})}}),null),g(u,E(ne,{get when(){return ye(()=>!!o())()&&!i()},get fallback(){return Nt()},get children(){return E(ct,{get checklistState(){return o()},onChecklistChange:y})}}),null),_(j=>{var z=!n(),W=!o();return z!==j.e&&(A.disabled=j.e=z),W!==j.t&&(p.disabled=j.t=W),j},{e:void 0,t:void 0}),u})()}qe(["click"]);Qe(()=>E(Rt,{}),document.getElementById("root"));
