(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const pr=!1,wr=(e,t)=>e===t,vr=Symbol("solid-track"),We={equals:wr};let $n=Nn;const ue=1,Ze=2,kn={owned:null,cleanups:null,context:null,owner:null};var z=null;let wt=null,br=null,B=null,j=null,le=null,gt=0;function Qe(e,t){const n=B,r=z,i=e.length===0,a=t===void 0?r:t,s=i?kn:{owned:null,cleanups:null,context:a?a.context:null,owner:a},l=i?e:()=>e(()=>fe(()=>Ee(s)));z=s,B=null;try{return Ye(l,!0)}finally{B=n,z=r}}function H(e,t){t=t?Object.assign({},We,t):We;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},r=i=>(typeof i=="function"&&(i=i(n.value)),Cn(n,i));return[An.bind(n),r]}function E(e,t,n){const r=Pt(e,t,!1,ue);De(r)}function Ue(e,t,n){$n=$r;const r=Pt(e,t,!1,ue);r.user=!0,le?le.push(r):De(r)}function qe(e,t,n){n=n?Object.assign({},We,n):We;const r=Pt(e,t,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=n.equals||void 0,De(r),An.bind(r)}function fe(e){if(B===null)return e();const t=B;B=null;try{return e()}finally{B=t}}function Tt(e){Ue(()=>fe(e))}function dt(e){return z===null||(z.cleanups===null?z.cleanups=[e]:z.cleanups.push(e)),e}function An(){if(this.sources&&this.state)if(this.state===ue)De(this);else{const e=j;j=null,Ye(()=>et(this),!1),j=e}if(B){const e=this.observers?this.observers.length:0;B.sources?(B.sources.push(this),B.sourceSlots.push(e)):(B.sources=[this],B.sourceSlots=[e]),this.observers?(this.observers.push(B),this.observerSlots.push(B.sources.length-1)):(this.observers=[B],this.observerSlots=[B.sources.length-1])}return this.value}function Cn(e,t,n){let r=e.value;return(!e.comparator||!e.comparator(r,t))&&(e.value=t,e.observers&&e.observers.length&&Ye(()=>{for(let i=0;i<e.observers.length;i+=1){const a=e.observers[i],s=wt&&wt.running;s&&wt.disposed.has(a),(s?!a.tState:!a.state)&&(a.pure?j.push(a):le.push(a),a.observers&&Sn(a)),s||(a.state=ue)}if(j.length>1e6)throw j=[],new Error},!1)),t}function De(e){if(!e.fn)return;Ee(e);const t=gt;_r(e,e.value,t)}function _r(e,t,n){let r;const i=z,a=B;B=z=e;try{r=e.fn(t)}catch(s){return e.pure&&(e.state=ue,e.owned&&e.owned.forEach(Ee),e.owned=null),e.updatedAt=n+1,Mn(s)}finally{B=a,z=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?Cn(e,r):e.value=r,e.updatedAt=n)}function Pt(e,t,n,r=ue,i){const a={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:z,context:z?z.context:null,pure:n};return z===null||z!==kn&&(z.owned?z.owned.push(a):z.owned=[a]),a}function Ie(e){if(e.state===0)return;if(e.state===Ze)return et(e);if(e.suspense&&fe(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<gt);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===ue)De(e);else if(e.state===Ze){const r=j;j=null,Ye(()=>et(e,t[0]),!1),j=r}}function Ye(e,t){if(j)return e();let n=!1;t||(j=[]),le?n=!0:le=[],gt++;try{const r=e();return xr(n),r}catch(r){n||(le=null),j=null,Mn(r)}}function xr(e){if(j&&(Nn(j),j=null),e)return;const t=le;le=null,t.length&&Ye(()=>$n(t),!1)}function Nn(e){for(let t=0;t<e.length;t++)Ie(e[t])}function $r(e){let t,n=0;for(t=0;t<e.length;t++){const r=e[t];r.user?e[n++]=r:Ie(r)}for(t=0;t<n;t++)Ie(e[t])}function et(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const r=e.sources[n];if(r.sources){const i=r.state;i===ue?r!==t&&(!r.updatedAt||r.updatedAt<gt)&&Ie(r):i===Ze&&et(r,t)}}}function Sn(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=Ze,n.pure?j.push(n):le.push(n),n.observers&&Sn(n))}}function Ee(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),r=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const a=i.pop(),s=n.observerSlots.pop();r<i.length&&(a.sourceSlots[s]=r,i[r]=a,n.observerSlots[r]=s)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)Ee(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Ee(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function kr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Mn(e,t=z){throw kr(e)}const Ar=Symbol("fallback");function Xt(e){for(let t=0;t<e.length;t++)e[t]()}function Cr(e,t,n={}){let r=[],i=[],a=[],s=0,l=t.length>1?[]:null;return dt(()=>Xt(a)),()=>{let f=e()||[],c=f.length,o,u;return f[vr],fe(()=>{let g,w,m,p,d,_,A,R,T;if(c===0)s!==0&&(Xt(a),a=[],r=[],i=[],s=0,l&&(l=[])),n.fallback&&(r=[Ar],i[0]=Qe($=>(a[0]=$,n.fallback())),s=1);else if(s===0){for(i=new Array(c),u=0;u<c;u++)r[u]=f[u],i[u]=Qe(h);s=c}else{for(m=new Array(c),p=new Array(c),l&&(d=new Array(c)),_=0,A=Math.min(s,c);_<A&&r[_]===f[_];_++);for(A=s-1,R=c-1;A>=_&&R>=_&&r[A]===f[R];A--,R--)m[R]=i[A],p[R]=a[A],l&&(d[R]=l[A]);for(g=new Map,w=new Array(R+1),u=R;u>=_;u--)T=f[u],o=g.get(T),w[u]=o===void 0?-1:o,g.set(T,u);for(o=_;o<=A;o++)T=r[o],u=g.get(T),u!==void 0&&u!==-1?(m[u]=i[o],p[u]=a[o],l&&(d[u]=l[o]),u=w[u],g.set(T,u)):a[o]();for(u=_;u<c;u++)u in m?(i[u]=m[u],a[u]=p[u],l&&(l[u]=d[u],l[u](u))):i[u]=Qe(h);i=i.slice(0,s=c),r=f.slice(0)}return i});function h(g){if(a[u]=g,l){const[w,m]=H(u);return l[u]=m,t(f[u],w)}return t(f[u])}}}function D(e,t){return fe(()=>e(t||{}))}const Nr=e=>`Stale read from <${e}>.`;function qn(e){const t="fallback"in e&&{fallback:()=>e.fallback};return qe(Cr(()=>e.each,e.children,t||void 0))}function se(e){const t=e.keyed,n=qe(()=>e.when,void 0,void 0),r=t?n:qe(n,void 0,{equals:(i,a)=>!i==!a});return qe(()=>{const i=r();if(i){const a=e.children;return typeof a=="function"&&a.length>0?fe(()=>a(t?i:()=>{if(!fe(r))throw Nr("Show");return n()})):a}return e.fallback},void 0,void 0)}const En=e=>qe(()=>e());function Sr(e,t,n){let r=n.length,i=t.length,a=r,s=0,l=0,f=t[i-1].nextSibling,c=null;for(;s<i||l<a;){if(t[s]===n[l]){s++,l++;continue}for(;t[i-1]===n[a-1];)i--,a--;if(i===s){const o=a<r?l?n[l-1].nextSibling:n[a-l]:f;for(;l<a;)e.insertBefore(n[l++],o)}else if(a===l)for(;s<i;)(!c||!c.has(t[s]))&&t[s].remove(),s++;else if(t[s]===n[a-1]&&n[l]===t[i-1]){const o=t[--i].nextSibling;e.insertBefore(n[l++],t[s++].nextSibling),e.insertBefore(n[--a],o),t[i]=n[a]}else{if(!c){c=new Map;let u=l;for(;u<a;)c.set(n[u],u++)}const o=c.get(t[s]);if(o!=null)if(l<o&&o<a){let u=s,h=1,g;for(;++u<i&&u<a&&!((g=c.get(t[u]))==null||g!==o+h);)h++;if(h>o-l){const w=t[s];for(;l<o;)e.insertBefore(n[l++],w)}else e.replaceChild(n[l++],t[s++])}else s++;else t[s++].remove()}}}const Gt="_$DX_DELEGATE";function Mr(e,t,n,r={}){let i;return Qe(a=>{i=a,t===document?e():y(t,e(),t.firstChild?null:void 0,n)},r.owner),()=>{i(),t.textContent=""}}function Y(e,t,n,r){let i;const a=()=>{const l=document.createElement("template");return l.innerHTML=e,l.content.firstChild},s=()=>(i||(i=a())).cloneNode(!0);return s.cloneNode=s,s}function Le(e,t=window.document){const n=t[Gt]||(t[Gt]=new Set);for(let r=0,i=e.length;r<i;r++){const a=e[r];n.has(a)||(n.add(a),t.addEventListener(a,qr))}}function P(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function ge(e,t){t==null?e.removeAttribute("class"):e.className=t}function de(e,t,n,r){if(r)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const i=n[0];e.addEventListener(t,n[0]=a=>i.call(e,n[1],a))}else e.addEventListener(t,n,typeof n!="function"&&n)}function Dt(e,t,n){if(!t)return n?P(e,"style"):t;const r=e.style;if(typeof t=="string")return r.cssText=t;typeof n=="string"&&(r.cssText=n=void 0),n||(n={}),t||(t={});let i,a;for(a in n)t[a]==null&&r.removeProperty(a),delete n[a];for(a in t)i=t[a],i!==n[a]&&(r.setProperty(a,i),n[a]=i);return n}function Rn(e,t,n){return fe(()=>e(t,n))}function y(e,t,n,r){if(n!==void 0&&!r&&(r=[]),typeof t!="function")return tt(e,t,r,n);E(i=>tt(e,t(),i,n),r)}function qr(e){let t=e.target;const n=`$$${e.type}`,r=e.target,i=e.currentTarget,a=f=>Object.defineProperty(e,"target",{configurable:!0,value:f}),s=()=>{const f=t[n];if(f&&!t.disabled){const c=t[`${n}Data`];if(c!==void 0?f.call(t,c,e):f.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&a(t.host),!0},l=()=>{for(;s()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const f=e.composedPath();a(f[0]);for(let c=0;c<f.length-2&&(t=f[c],!!s());c++){if(t._$host){t=t._$host,l();break}if(t.parentNode===i)break}}else l();a(r)}function tt(e,t,n,r,i){for(;typeof n=="function";)n=n();if(t===n)return n;const a=typeof t,s=r!==void 0;if(e=s&&n[0]&&n[0].parentNode||e,a==="string"||a==="number"){if(a==="number"&&(t=t.toString(),t===n))return n;if(s){let l=n[0];l&&l.nodeType===3?l.data!==t&&(l.data=t):l=document.createTextNode(t),n=ve(e,n,r,l)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||a==="boolean")n=ve(e,n,r);else{if(a==="function")return E(()=>{let l=t();for(;typeof l=="function";)l=l();n=tt(e,l,n,r)}),()=>n;if(Array.isArray(t)){const l=[],f=n&&Array.isArray(n);if($t(l,t,n,i))return E(()=>n=tt(e,l,n,r,!0)),()=>n;if(l.length===0){if(n=ve(e,n,r),s)return n}else f?n.length===0?Jt(e,l,r):Sr(e,n,l):(n&&ve(e),Jt(e,l));n=l}else if(t.nodeType){if(Array.isArray(n)){if(s)return n=ve(e,n,r,t);ve(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function $t(e,t,n,r){let i=!1;for(let a=0,s=t.length;a<s;a++){let l=t[a],f=n&&n[e.length],c;if(!(l==null||l===!0||l===!1))if((c=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))i=$t(e,l,f)||i;else if(c==="function")if(r){for(;typeof l=="function";)l=l();i=$t(e,Array.isArray(l)?l:[l],Array.isArray(f)?f:[f])||i}else e.push(l),i=!0;else{const o=String(l);f&&f.nodeType===3&&f.data===o?e.push(f):e.push(document.createTextNode(o))}}return i}function Jt(e,t,n=null){for(let r=0,i=t.length;r<i;r++)e.insertBefore(t[r],n)}function ve(e,t,n,r){if(n===void 0)return e.textContent="";const i=r||document.createTextNode("");if(t.length){let a=!1;for(let s=t.length-1;s>=0;s--){const l=t[s];if(i!==l){const f=l.parentNode===e;!a&&!s?f?e.replaceChild(i,l):e.insertBefore(i,n):f&&l.remove()}else a=!0}}else e.insertBefore(i,n);return[i]}const X={q1:{text:"1. Did the research questions and inclusion criteria for the review include the components of PICO?",columns:[{label:"For Yes:",options:["Population","Intervention","Comparator group","Outcome"]},{label:"Optional (recommended):",options:["Timeframe for follow-up"]},{label:"",options:["Yes","No"]}]},q2:{text:"2. Did the report of the review contain an explicit statement that the review methods were established prior to the conduct of the review and did the report justify any significant deviations from the protocol?",columns:[{label:"For Partial Yes:",description:"The authors state that they had a written protocol or guide that included ALL the following:",options:["review question(s)","a search strategy","inclusion/exclusion criteria","risk of bias assessment"]},{label:"For Yes:",description:"As for Partial Yes, plus the protocol should be registered and should also have specified:",options:["a meta-analysis/synthesis plan, if appropriate, and","a plan for investigating causes of heterogeneity","a plan for investigating causes of heterogeneity"]},{label:"",description:"",options:["Yes","Partial Yes","No"]}]},q3:{text:"3. Did the review authors explain their selection of the study designs for inclusion in the review?",columns:[{label:"For Yes, the review should satisfy ONE of the following:",options:["Explanation for including only RCTs ","OR Explanation for including only NRSI","OR Explanation for including both RCTs and NRSI"]},{label:"",options:["Yes","No"]}]},q4:{text:"4. Did the review authors use a comprehensive literature search strategy? ",columns:[{label:"For Partial Yes (all the following):",options:["searched at least 2 databases (relevant to research question)","provided key word and/or search strategy","justified publication restrictions (e.g. language)"]},{label:"For Yes, should also have (all the following):",options:["searched the reference lists / bibliographies of included studies","searched trial/study registries","included/consulted content experts in the field","where relevant, searched for grey literature","conducted search within 24 months of completion of the review"]},{label:"",options:["Yes","Partial Yes","No"]}]},q5:{text:"5. Did the review authors perform study selection in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q6:{text:"6. Did the review authors perform data extraction in duplicate?",columns:[{label:"For Yes, either ONE of the following:",options:["at least two reviewers achieved consensus on which data to extract from included studies","OR two reviewers extracted data from a sample of eligible studies and achieved good agreement (at least 80 percent), with the remainder extracted by one reviewer."]},{label:"",options:["Yes","No"]}]},q7:{text:"7. Did the review authors provide a list of excluded studies and justify the exclusions?",columns:[{label:"For Partial Yes:",options:["provided a list of all potentially relevant studies that were read in full-text form but excluded from the review"]},{label:"For Yes, must also have:",options:["Justified the exclusion from the review of each potentially relevant study"]},{label:"",options:["Yes","Partial Yes","No"]}]},q8:{text:"8. Did the review authors describe the included studies in adequate detail?",columns:[{label:"For Partial Yes (ALL the following):",options:["described populations","described interventions","described comparators","described outcomes","described research designs"]},{label:"For Yes, should also have ALL the following:",options:["described population in detail","described comparator in detail (including doses where relevant)","described study’s setting in detail","timeframe for follow-up"]},{label:"",options:["Yes","Partial Yes","No"]}]},q9:{text:"9. Did the review authors use a satisfactory technique for assessing the risk of bias (RoB) in individual studies that were included in the review?",subtitle:"RCTs",columns:[{label:"For Partial Yes, must have assessed RoB from",options:["unconcealed allocation, and","lack of blinding of patients and assessors when assessing outcomes (unnecessary for objective outcomes such as all-cause mortality)"]},{label:"For Yes, must also have assessed RoB from:",options:["allocation sequence that was not truly random, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",description:"",options:["Yes","Partial Yes","No"," Includes only NRSI"]}],subtitle2:"NRSI",columns2:[{label:"For Partial Yes, must have assessed RoB:",options:["from confounding, and","from selection bias"]},{label:"For Yes, must also have assessed RoB:",options:["methods used to ascertain exposures and outcomes, and","selection of the reported result from among multiple measurements or analyses of a specified outcome"]},{label:"",options:["Yes","Partial Yes","No","Includes only RCTs"]}]},q10:{text:"10. Did the review authors report on the sources of funding for the studies included in the review?",columns:[{label:"For Yes:",options:["Must have reported on the sources of funding for individual studies included in the review. Note: Reporting that the reviewers looked for this information but it was not reported by study authors also qualifies"]},{label:"",options:["Yes","No"]}]},q11:{text:"11. If meta-analysis was performed did the review authors use appropriate methods for statistical combination of results?",subtitle:"RCTs",columns:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results and adjusted for heterogeneity if present.","AND investigated the causes of any heterogeneity"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}],subtitle2:"NRSI",columns2:[{label:"For Yes:",options:["The authors justified combining the data in a meta-analysis","AND they used an appropriate weighted technique to combine study results, adjusting for heterogeneity if present","AND they statistically combined effect estimates from NRSI that were adjusted for confounding, rather than combining raw data, or justified combining raw data when adjusted effect estimates were not available","AND they reported separate summary estimates for RCTs and NRSI separately when both were included in the review"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q12:{text:"12. If meta-analysis was performed, did the review authors assess the potential impact of RoB in individual studies on the results of the meta-analysis or other evidence synthesis?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if the pooled estimate was based on RCTs and/or NRSI at variable RoB, the authors performed analyses to investigate possible impact of RoB on summary estimates of effect."]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q13:{text:"13. Did the review authors account for RoB in individual studies when interpreting/ discussing the results of the review?",columns:[{label:"For Yes:",options:["included only low risk of bias RCTs","OR, if RCTs with moderate or high RoB, or NRSI were included the review provided a discussion of the likely impact of RoB on the results"]},{label:"",options:["Yes","No"]}]},q14:{text:"14. Did the review authors provide a satisfactory explanation for, and discussion of, any heterogeneity observed in the results of the review?",columns:[{label:"For Yes:",options:["There was no significant heterogeneity in the results","OR if heterogeneity was present the authors performed an investigation of sources of any heterogeneity in the results and discussed the impact of this on the results of the review"]},{label:"",options:["Yes","No"]}]},q15:{text:"15. If they performed quantitative synthesis did the review authors carry out an adequate investigation of publication bias (small study bias) and discuss its likely impact on the results of the review?",columns:[{label:"For Yes:",options:["performed graphical or statistical tests for publication bias and discussed the likelihood and magnitude of impact of publication bias"]},{label:"",options:["Yes","No","No meta-analysis conducted"]}]},q16:{text:"16. Did the review authors report any potential sources of conflict of interest, including any funding they received for conducting the review?",columns:[{label:"For Yes:",options:["The authors reported no competing interests OR","The authors described their funding sources and how they managed potential conflicts of interest"]},{label:"",options:["Yes","No"]}]}};var Er=Y('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"> </h3><div class="flex gap-6">'),Rr=Y('<div><div class="font-medium text-gray-800 mb-2 h-6"></div><div class="flex flex-col gap-2">'),V=Y('<label class="flex items-center space-x-2"><input type=checkbox class="w-4 h-4 flex-shrink-0 text-blue-600 border-gray-300 focus:ring-blue-500"><span class=text-gray-700>'),K=Y('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="flex gap-6">'),Tr=Y('<div><div class="font-medium text-gray-800 h-6"></div><div class="font-light text-gray-800 mb-4 h-12"></div><div class="flex flex-col gap-2">'),Q=Y('<div><div class="font-medium text-gray-800 h-8"></div><div class="flex flex-col gap-2">'),Tn=Y('<div class="bg-white rounded-lg shadow-md p-8"><h3 class="text-lg font-semibold text-gray-900 mb-4"></h3><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6"></div><div class="font-semibold text-gray-900 h-6 my-2"></div><div class="flex gap-6">'),Pr=Y('<div class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100"><div class="container mx-auto px-4 py-8 max-w-7xl"><div class="bg-white rounded-lg shadow-lg p-8 mb-8"><h1 class="text-3xl font-bold text-gray-900 mb-2">AMSTAR 2 Checklist</h1><p class="text-gray-600 mb-6">App description here</p><div class="grid md:grid-cols-3 gap-4 mb-6"><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Title</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter review title"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Reviewer Name</label><input type=text class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"placeholder="Enter your name"></div><div><label class="block text-sm font-medium text-gray-700 mb-2">Review Date</label><input type=date class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"></div></div></div><div class=space-y-6>');function Dr({onUpdate:e,checklistState:t}){const n=()=>t().state.q1,r=X.q1;function i(s,l,f){e(s,l,f),n()[0].every((o,u)=>s===0&&u===l?f:o)?(n()[2][0]||e(2,0,!0),n()[2][1]&&e(2,1,!1)):(n()[2][0]&&e(2,0,!1),n()[2][1]||e(2,1,!0))}function a(s,l,f){l===0&&f?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&f?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,f)}return(()=>{var s=Er(),l=s.firstChild,f=l.firstChild,c=l.nextSibling;return y(l,()=>r.text,f),y(c,()=>r.columns.map((o,u)=>(()=>{var h=Rr(),g=h.firstChild,w=g.nextSibling;return P(h,"key",u),y(g,()=>o.label),y(w,()=>o.options.map((m,p)=>(()=>{var d=V(),_=d.firstChild,A=_.nextSibling;return P(d,"key",p),_.addEventListener("change",()=>u===0?i(u,p,!n()[u][p]):u===2?a(u,p,!n()[u][p]):e(u,p,!n()[u][p])),y(A,m),E(()=>_.checked=n()[u][p]),d})())),E(()=>h.className=u===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),h})())),s})()}function Yr({onUpdate:e,checklistState:t}){const n=()=>t().state.q2,r=X.q2;function i(s,l,f){const c=n()[0].every((u,h)=>s===0&&h===l?f:u),o=c&&n()[1].every((u,h)=>s===1&&h===l?f:u);e(s,l,f),o?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):c?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function a(s,l,f){f?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Tr(),h=u.firstChild,g=h.nextSibling,w=g.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.description),y(w,()=>c.options.map((m,p)=>(()=>{var d=V(),_=d.firstChild,A=_.nextSibling;return P(d,"key",p),_.addEventListener("change",()=>o===0||o===1?i(o,p,!n()[o][p]):a(o,p,!n()[o][p])),y(A,m),E(()=>_.checked=n()[o][p]),d})())),E(()=>u.className=o===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Lr({onUpdate:e,checklistState:t}){const n=()=>t().state.q3,r=X.q3;function i(s,l,f){const o=(s===0?n()[0].map((u,h)=>h===l?f:u):n()[0]).some(Boolean);e(s,l,f),o?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,f){l===0&&f?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&f?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Or({onUpdate:e,checklistState:t}){const n=()=>t().state.q4,r=X.q4;function i(s,l,f){const c=s===0?n()[0].map((g,w)=>w===l?f:g):n()[0],o=s===1?n()[1].map((g,w)=>w===l?f:g):n()[1],u=c.every(Boolean),h=u&&o.every(Boolean);e(s,l,f),h?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):u?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function a(s,l,f){f?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0||o===1?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Fr({onUpdate:e,checklistState:t}){const n=()=>t().state.q5,r=X.q5;function i(s,l,f){const o=(s===0?n()[0].map((u,h)=>h===l?f:u):n()[0]).some(Boolean);e(s,l,f),o?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,f){l===0&&f?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&f?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Br({onUpdate:e,checklistState:t}){const n=()=>t().state.q6,r=X.q6;function i(s,l,f){const o=(s===0?n()[0].map((u,h)=>h===l?f:u):n()[0]).some(Boolean);e(s,l,f),o?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,f){l===0&&f?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&f?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function zr({onUpdate:e,checklistState:t}){const n=()=>t().state.q7,r=X.q7;function i(s,l,f){const c=s===0?n()[0].map((g,w)=>w===l?f:g):n()[0],o=s===1?n()[1].map((g,w)=>w===l?f:g):n()[1],u=c.every(Boolean),h=u&&o.every(Boolean);e(s,l,f),h?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):u?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function a(s,l,f){f?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0||o===1?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Vr({onUpdate:e,checklistState:t}){const n=()=>t().state.q8,r=X.q8;function i(s,l,f){const c=s===0?n()[0].map((g,w)=>w===l?f:g):n()[0],o=s===1?n()[1].map((g,w)=>w===l?f:g):n()[1],u=c.every(Boolean),h=u&&o.every(Boolean);e(s,l,f),h?(e(2,0,!0),e(2,1,!1),e(2,2,!1)):u?(e(2,0,!1),e(2,1,!0),e(2,2,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0))}function a(s,l,f){f?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0||o===1?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-32 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Hr({onUpdatea:e,onUpdateb:t,checklistState:n}){const r=()=>n().state.q9a,i=()=>n().state.q9b,a=X.q9;function s(o,u,h){const g=o===0?r()[0].map((d,_)=>_===u?h:d):r()[0],w=o===1?r()[1].map((d,_)=>_===u?h:d):r()[1],m=g.every(Boolean),p=m&&w.every(Boolean);e(o,u,h),p?(e(2,0,!0),e(2,1,!1),e(2,2,!1),e(2,3,!1)):m?(e(2,0,!1),e(2,1,!0),e(2,2,!1),e(2,3,!1)):(e(2,0,!1),e(2,1,!1),e(2,2,!0),e(2,3,!1))}function l(o,u,h){h?(e(o,0,u===0),e(o,1,u===1),e(o,2,u===2),e(o,3,u===3)):e(o,u,h)}function f(o,u,h){const g=o===0?i()[0].map((d,_)=>_===u?h:d):i()[0],w=o===1?i()[1].map((d,_)=>_===u?h:d):i()[1],m=g.every(Boolean),p=m&&w.every(Boolean);t(o,u,h),p?(t(2,0,!0),t(2,1,!1),t(2,2,!1),t(2,3,!1)):m?(t(2,0,!1),t(2,1,!0),t(2,2,!1),t(2,3,!1)):(t(2,0,!1),t(2,1,!1),t(2,2,!0),t(2,3,!1))}function c(o,u,h){h?(t(o,0,u===0),t(o,1,u===1),t(o,2,u===2),t(o,3,u===3)):t(o,u,h)}return(()=>{var o=Tn(),u=o.firstChild,h=u.nextSibling,g=h.nextSibling,w=g.nextSibling,m=w.nextSibling;return y(u,()=>a.text),y(h,()=>a.subtitle),y(g,()=>a.columns.map((p,d)=>(()=>{var _=Q(),A=_.firstChild,R=A.nextSibling;return P(_,"key",d),y(A,()=>p.label),y(R,()=>p.options.map((T,$)=>(()=>{var x=V(),v=x.firstChild,k=v.nextSibling;return P(x,"key",$),v.addEventListener("change",()=>d===0||d===1?s(d,$,!r()[d][$]):l(d,$,!r()[d][$])),y(k,T),E(()=>v.checked=r()[d][$]),x})())),E(()=>_.className=d===a.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),_})())),y(w,()=>a.subtitle2),y(m,()=>a.columns2.map((p,d)=>(()=>{var _=Q(),A=_.firstChild,R=A.nextSibling;return P(_,"key",d),y(A,()=>p.label),y(R,()=>p.options.map((T,$)=>(()=>{var x=V(),v=x.firstChild,k=v.nextSibling;return P(x,"key",$),v.addEventListener("change",()=>d===0||d===1?f(d,$,!i()[d][$]):c(d,$,!i()[d][$])),y(k,T),E(()=>v.checked=i()[d][$]),x})())),E(()=>_.className=d===a.columns2.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),_})())),o})()}function jr({onUpdate:e,checklistState:t}){const n=()=>t().state.q10,r=X.q10;function i(s,l,f){const o=(s===0?n()[0].map((u,h)=>h===l?f:u):n()[0]).some(Boolean);e(s,l,f),o?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,f){l===0&&f?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&f?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Qr({onUpdatea:e,onUpdateb:t,checklistState:n}){const r=()=>n().state.q11a,i=()=>n().state.q11b,a=X.q11;function s(o,u,h){const w=(o===0?r()[0].map((m,p)=>p===u?h:m):r()[0]).every(Boolean);e(o,u,h),w?(e(1,0,!0),e(1,1,!1),e(1,2,!1)):(e(1,0,!1),e(1,1,!0),e(1,2,!1))}function l(o,u,h){h?(e(o,0,u===0),e(o,1,u===1),e(o,2,u===2)):e(o,u,h)}function f(o,u,h){const w=(o===0?i()[0].map((m,p)=>p===u?h:m):i()[0]).every(Boolean);t(o,u,h),w?(t(1,0,!0),t(1,1,!1),t(1,2,!1)):(t(1,0,!1),t(1,1,!0),t(1,2,!1))}function c(o,u,h){h?(t(o,0,u===0),t(o,1,u===1),t(o,2,u===2)):t(o,u,h)}return(()=>{var o=Tn(),u=o.firstChild,h=u.nextSibling,g=h.nextSibling,w=g.nextSibling,m=w.nextSibling;return y(u,()=>a.text),y(h,()=>a.subtitle),y(g,()=>a.columns.map((p,d)=>(()=>{var _=Q(),A=_.firstChild,R=A.nextSibling;return P(_,"key",d),y(A,()=>p.label),y(R,()=>p.options.map((T,$)=>(()=>{var x=V(),v=x.firstChild,k=v.nextSibling;return P(x,"key",$),v.addEventListener("change",()=>d===0?s(d,$,!r()[d][$]):l(d,$,!r()[d][$])),y(k,T),E(()=>v.checked=r()[d][$]),x})())),E(()=>_.className=d===a.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),_})())),y(w,()=>a.subtitle2),y(m,()=>a.columns2.map((p,d)=>(()=>{var _=Q(),A=_.firstChild,R=A.nextSibling;return P(_,"key",d),y(A,()=>p.label),y(R,()=>p.options.map((T,$)=>(()=>{var x=V(),v=x.firstChild,k=v.nextSibling;return P(x,"key",$),v.addEventListener("change",()=>d===0?f(d,$,!i()[d][$]):c(d,$,!i()[d][$])),y(k,T),E(()=>v.checked=i()[d][$]),x})())),E(()=>_.className=d===a.columns2.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),_})())),o})()}function Xr({onUpdate:e,checklistState:t}){const n=()=>t().state.q12,r=X.q12;function i(s,l,f){const o=(s===0?n()[0].map((u,h)=>h===l?f:u):n()[0]).some(Boolean);e(s,l,f),o?(e(1,0,!0),e(1,1,!1),e(1,2,!1)):(e(1,0,!1),e(1,1,!0),e(1,2,!1))}function a(s,l,f){f?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Gr({onUpdate:e,checklistState:t}){const n=()=>t().state.q13,r=X.q13;function i(s,l,f){const o=(s===0?n()[0].map((u,h)=>h===l?f:u):n()[0]).some(Boolean);e(s,l,f),o?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,f){l===0&&f?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&f?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Jr({onUpdate:e,checklistState:t}){const n=()=>t().state.q14,r=X.q14;function i(s,l,f){const o=(s===0?n()[0].map((u,h)=>h===l?f:u):n()[0]).some(Boolean);e(s,l,f),o?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,f){l===0&&f?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&f?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Kr({onUpdate:e,checklistState:t}){const n=()=>t().state.q15,r=X.q15;function i(s,l,f){const o=(s===0?n()[0].map((u,h)=>h===l?f:u):n()[0]).some(Boolean);e(s,l,f),o?(e(1,0,!0),e(1,1,!1),e(1,2,!1)):(e(1,0,!1),e(1,1,!0),e(1,2,!1))}function a(s,l,f){f?(e(s,0,l===0),e(s,1,l===1),e(s,2,l===2)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-60 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Wr({onUpdate:e,checklistState:t}){const n=()=>t().state.q16,r=X.q16;function i(s,l,f){const o=(s===0?n()[0].map((u,h)=>h===l?f:u):n()[0]).some(Boolean);e(s,l,f),o?(e(1,0,!0),e(1,1,!1)):(e(1,0,!1),e(1,1,!0))}function a(s,l,f){l===0&&f?(e(s,0,!0),n()[s][1]&&e(s,1,!1)):l===1&&f?(e(s,1,!0),n()[s][0]&&e(s,0,!1)):e(s,l,f)}return(()=>{var s=K(),l=s.firstChild,f=l.nextSibling;return y(l,()=>r.text),y(f,()=>r.columns.map((c,o)=>(()=>{var u=Q(),h=u.firstChild,g=h.nextSibling;return P(u,"key",o),y(h,()=>c.label),y(g,()=>c.options.map((w,m)=>(()=>{var p=V(),d=p.firstChild,_=d.nextSibling;return P(p,"key",m),d.addEventListener("change",()=>o===0?i(o,m,!n()[o][m]):a(o,m,!n()[o][m])),y(_,w),E(()=>d.checked=n()[o][m]),p})())),E(()=>u.className=o===r.columns.length-1?"w-42 flex flex-col":"flex-1 flex flex-col"),u})())),s})()}function Zr({checklistState:e,onChecklistChange:t}){const[n,r]=H(""),[i,a]=H(""),[s,l]=H("");return Ue(()=>{const f=e().state;r(f.title||""),a(f.reviewerName||""),l(f.reviewDate||"")}),(()=>{var f=Pr(),c=f.firstChild,o=c.firstChild,u=o.firstChild,h=u.nextSibling,g=h.nextSibling,w=g.firstChild,m=w.firstChild,p=m.nextSibling,d=w.nextSibling,_=d.firstChild,A=_.nextSibling,R=d.nextSibling,T=R.firstChild,$=T.nextSibling,x=o.nextSibling;return p.addEventListener("change",v=>{r(v.target.value),e().state.title=v.target.value,t({...e().state})}),A.addEventListener("change",v=>{a(v.target.value),e().state.reviewerName=v.target.value,t({...e().state})}),$.addEventListener("change",v=>{l(v.target.value),e().state.reviewDate=v.target.value,t({...e().state})}),y(x,D(Dr,{onUpdate:(v,k,C)=>{const b=e().state.q1.map(N=>[...N]);b[v][k]=C,t({...e().state,q1:b})},checklistState:e}),null),y(x,D(Yr,{onUpdate:(v,k,C)=>{const b=e().state.q2.map(N=>[...N]);b[v][k]=C,t({...e().state,q2:b})},checklistState:e}),null),y(x,D(Lr,{onUpdate:(v,k,C)=>{const b=e().state.q3.map(N=>[...N]);b[v][k]=C,t({...e().state,q3:b})},checklistState:e}),null),y(x,D(Or,{onUpdate:(v,k,C)=>{const b=e().state.q4.map(N=>[...N]);b[v][k]=C,t({...e().state,q4:b})},checklistState:e}),null),y(x,D(Fr,{onUpdate:(v,k,C)=>{const b=e().state.q5.map(N=>[...N]);b[v][k]=C,t({...e().state,q5:b})},checklistState:e}),null),y(x,D(Br,{onUpdate:(v,k,C)=>{const b=e().state.q6.map(N=>[...N]);b[v][k]=C,t({...e().state,q6:b})},checklistState:e}),null),y(x,D(zr,{onUpdate:(v,k,C)=>{const b=e().state.q7.map(N=>[...N]);b[v][k]=C,t({...e().state,q7:b})},checklistState:e}),null),y(x,D(Vr,{onUpdate:(v,k,C)=>{const b=e().state.q8.map(N=>[...N]);b[v][k]=C,t({...e().state,q8:b})},checklistState:e}),null),y(x,D(Hr,{onUpdatea:(v,k,C)=>{const b=e().state.q9a.map(N=>[...N]);b[v][k]=C,t({...e().state,q9a:b})},onUpdateb:(v,k,C)=>{const b=e().state.q9b.map(N=>[...N]);b[v][k]=C,t({...e().state,q9b:b})},checklistState:e}),null),y(x,D(jr,{onUpdate:(v,k,C)=>{const b=e().state.q10.map(N=>[...N]);b[v][k]=C,t({...e().state,q10:b})},checklistState:e}),null),y(x,D(Qr,{onUpdatea:(v,k,C)=>{const b=e().state.q11a.map(N=>[...N]);b[v][k]=C,t({...e().state,q11a:b})},onUpdateb:(v,k,C)=>{const b=e().state.q11b.map(N=>[...N]);b[v][k]=C,t({...e().state,q11b:b})},checklistState:e}),null),y(x,D(Xr,{onUpdate:(v,k,C)=>{const b=e().state.q12.map(N=>[...N]);b[v][k]=C,t({...e().state,q12:b})},checklistState:e}),null),y(x,D(Gr,{onUpdate:(v,k,C)=>{const b=e().state.q13.map(N=>[...N]);b[v][k]=C,t({...e().state,q13:b})},checklistState:e}),null),y(x,D(Jr,{onUpdate:(v,k,C)=>{const b=e().state.q14.map(N=>[...N]);b[v][k]=C,t({...e().state,q14:b})},checklistState:e}),null),y(x,D(Kr,{onUpdate:(v,k,C)=>{const b=e().state.q15.map(N=>[...N]);b[v][k]=C,t({...e().state,q15:b})},checklistState:e}),null),y(x,D(Wr,{onUpdate:(v,k,C)=>{const b=e().state.q16.map(N=>[...N]);b[v][k]=C,t({...e().state,q16:b})},checklistState:e}),null),E(()=>p.value=n()),E(()=>A.value=i()),E(()=>$.value=s()),f})()}const Ur="amstar2-checklists",ne="checklists",nt="projects",Ir=2;function Oe(){return new Promise((e,t)=>{const n=indexedDB.open(Ur,Ir);n.onupgradeneeded=()=>{const r=n.result;r.objectStoreNames.contains(ne)||r.createObjectStore(ne,{keyPath:"id"}),r.objectStoreNames.contains(nt)||r.createObjectStore(nt,{keyPath:"id"})},n.onsuccess=()=>e(n.result),n.onerror=()=>t(n.error)})}async function vt(e){const t=await Oe();return new Promise((n,r)=>{const i=t.transaction(ne,"readwrite");i.objectStore(ne).put(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function bt(){const e=await Oe();return new Promise((t,n)=>{const a=e.transaction(ne,"readonly").objectStore(ne).getAll();a.onsuccess=()=>t(a.result),a.onerror=()=>n(a.error)})}async function ei(e){const t=await Oe();return new Promise((n,r)=>{const i=t.transaction(ne,"readwrite");i.objectStore(ne).delete(e),i.oncomplete=()=>n(),i.onerror=()=>r(i.error)})}async function ti(){const e=await Oe();return new Promise((t,n)=>{const a=e.transaction(ne,"readwrite").objectStore(ne).clear();a.onsuccess=()=>t(),a.onerror=()=>n(a.error)})}async function ni(){const e=await Oe();return new Promise((t,n)=>{const a=e.transaction(nt,"readonly").objectStore(nt).getAll();a.onsuccess=()=>t(a.result),a.onerror=()=>n(a.error)})}function Kt(){return crypto.randomUUID()}class be{constructor(t=null,{title:n=null,id:r=null,createdAt:i=Date.now(),reviewerName:a=null}={}){this.state=t||this.getDefaultState(),this.title=n,this.id=r,this.createdAt=i,this.reviewerName=a}getDefaultState(){return{title:this.title,id:this.id,createdAt:this.createdAt,reviewerName:this.reviewerName,q1:[[!1,!1,!1,!1],[!1],[!1,!0]],q2:[[!1,!1,!1,!1],[!1,!1,!1],[!1,!1,!0]],q3:[[!1,!1,!1],[!1,!0]],q4:[[!1,!1,!1],[!1,!1,!1,!1,!1],[!1,!1,!0]],q5:[[!1,!1],[!1,!0]],q6:[[!1,!1],[!1,!0]],q7:[[!1],[!1],[!1,!1,!0]],q8:[[!1,!1,!1,!1,!1],[!1,!1,!1,!1],[!1,!1,!0]],q9a:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],q9b:[[!1,!1],[!1,!1],[!1,!1,!0,!1]],q10:[[!1],[!1,!0]],q11a:[[!1,!1,!1],[!1,!0,!1]],q11b:[[!1,!1,!1,!1],[!1,!0,!1]],q12:[[!1,!1],[!1,!0,!1]],q13:[[!1,!1],[!1,!0]],q14:[[!1,!1],[!1,!0]],q15:[[!1],[!1,!0,!1]],q16:[[!1,!1],[!1,!0]]}}updateAnswer(t,n,r,i){this.state[t]&&this.state[t][n]&&(this.state[t][n][r]=i)}exportState(){return JSON.stringify(this.state,null,2)}importState(t){try{return this.state=JSON.parse(t),!0}catch(n){return console.error("Invalid JSON format:",n),!1}}exportFlat(){const t={};return this.state.title&&(t.title=this.state.title),Object.entries(this.state).forEach(([n,r])=>{if(/^q\d+[a-z]*$/i.test(n)&&Array.isArray(r)){const i=r.flat().map(a=>a?"1":"0");t[n]=i}}),t}importFlat(t){const n=this.getDefaultState();Object.entries(t).forEach(([r,i])=>{if(!n[r])return;const a=n[r],s=a.map(f=>f.length);let l=0;for(let f=0;f<a.length;f++)for(let c=0;c<s[f];c++)a[f][c]=i[l]==="1",l++}),this.state=n}static scoreChecklist(t){if(!t||typeof t!="object")return"Error";const n=["q2","q4","q7","q9a","q9b","q11a","q11b","q13","q15"];let r=0,i=0;const a=s=>{if(!Array.isArray(s)||s.length===0)return null;const l=s[s.length-1];if(!Array.isArray(l))return null;const f=l.findIndex(c=>c===!0);return f===-1?null:l.length===2?f===0?"Yes":"No":l.length===3?["Yes","Partial Yes","No"][f]||null:l.length===4&&["Yes","Partial Yes","No","Other"][f]||null};return Object.entries(t).forEach(([s,l])=>{if(!/^q\d+[a-z]*$/i.test(s))return;const f=a(l);f&&f!=="Yes"&&(n.includes(s)?r++:i++)}),r>1?"Critically Low":r===1?"Low":i>1?"Moderate":"High"}}function ri(e){const t=typeof e.exportFlat=="function"?e.exportFlat():e;let n=[];t.title&&(n=[["Title",`${String(t.title).replace(/"/g,'""')}`]],delete t.title);const r=Math.max(...Object.values(t).map(u=>Array.isArray(u)?u.length:0)),i=["Question"];for(let u=1;u<=r;u++)i.push(`A${u}`);const a=[i];Object.entries(t).forEach(([u,h])=>{const g=Array.isArray(h)?[...h,...Array(r-h.length).fill("")]:[];a.push([u,...g])});const l=(n.length?[...n,[],...a]:a).map(u=>u.map(h=>`"${String(h).replace(/"/g,'""')}"`).join(",")).join(`\r
`),f=new Blob([l],{type:"text/csv"}),c=URL.createObjectURL(f),o=document.createElement("a");o.href=c,o.download="checklist.csv",document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(c)}function ii(e){const t=e.split(/\r?\n/).filter(i=>i.trim()!=="");let n={},r=null;for(let i=0;i<t.length;i++){const a=t[i].split(",").map(s=>s.replace(/^"|"$/g,"").replace(/""/g,'"'));a[0]==="Title"?r=a[1]:a[0]==="Question"||/^q\d+[a-z]*$/i.test(a[0])&&(n[a[0]]=a.slice(1).filter(s=>s!=="").map(s=>s==="1"?"1":"0"))}return r&&(n.title=r),n}var si=Y('<div class="ml-1 border-l border-gray-100 pl-2 mt-1 space-y-1">'),li=Y('<div class=mb-2><div class="flex items-center justify-between cursor-pointer select-none rounded-lg transition-colors px-2 py-2 font-semibold text-gray-800 hover:bg-gray-100"tabindex=0 role=button><span class=truncate></span><button class="ml-2 flex items-center justify-center w-8 h-8 rounded hover:bg-gray-200 transition-colors"tabindex=0 type=button><svg fill=none stroke=currentColor stroke-width=2.2 viewBox="0 0 20 20"><polyline points="6 8 10 12 14 8"fill=none stroke-linecap=round stroke-linejoin=round>'),ai=Y('<div class="flex items-center px-2 py-2 rounded-lg cursor-pointer text-gray-700 hover:bg-gray-50 transition-colors">');function oi(e){const[t,n]=H(!1),r=e.data[0];return r?(()=>{var i=li(),a=i.firstChild,s=a.firstChild,l=s.nextSibling,f=l.firstChild;return a.$$click=()=>e.onSelect?.(r),y(s,()=>r.label),l.$$click=c=>{c.stopPropagation(),n(o=>!o)},y(i,D(se,{get when(){return t()},get children(){var c=si();return y(c,D(qn,{get each(){return r.children},children:o=>e.children?e.children(o):(()=>{var u=ai();return u.$$click=()=>e.onSelect?.(o),y(u,()=>o.label),u})()})),c}}),null),E(c=>{var o=t()?"Collapse project":"Expand project",u=`transition-transform duration-200 w-5 h-5 text-gray-500 ${t()?"rotate-90":""}`;return o!==c.e&&P(l,"aria-label",c.e=o),u!==c.t&&P(f,"class",c.t=u),c},{e:void 0,t:void 0}),i})():null}Le(["click"]);var fi=Y('<div style=max-width:100vw><div><div class="flex items-center justify-between px-4 py-3 border-b border-gray-100"><span class="font-semibold text-xl text-gray-900">Sidebar</span><button class="w-10 h-10 rounded-lg text-gray-400 hover:text-gray-600 hover:bg-gray-100 flex items-center justify-center transition-colors"aria-label="Close sidebar"><svg fill=none stroke=currentColor class="w-6 h-6"viewBox="0 0 20 20"><path d="M3.5 3C3.77614 3 4 3.22386 4 3.5V16.5L3.99023 16.6006C3.94371 16.8286 3.74171 17 3.5 17C3.25829 17 3.05629 16.8286 3.00977 16.6006L3 16.5V3.5C3 3.22386 3.22386 3 3.5 3ZM11.2471 5.06836C11.4476 4.95058 11.7104 4.98547 11.8721 5.16504C12.0338 5.34471 12.0407 5.60979 11.9023 5.79688L11.835 5.87207L7.80371 9.5H16.5C16.7761 9.5 17 9.72386 17 10C17 10.2761 16.7761 10.5 16.5 10.5H7.80371L11.835 14.1279C12.0402 14.3127 12.0568 14.6297 11.8721 14.835C11.6873 15.0402 11.3703 15.0568 11.165 14.8721L6.16504 10.3721L6.09473 10.2939C6.03333 10.2093 6 10.1063 6 10C6 9.85828 6.05972 9.72275 6.16504 9.62793L11.165 5.12793L11.2471 5.06836Z"></path></svg></button></div><div class="flex-1 overflow-y-auto sidebar-scrollbar"><div class=p-4><div class=mb-4><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Projects</h3></div><div class=space-y-2><button class="w-full bg-gray-900 hover:bg-gray-800 text-white px-4 py-3 rounded-lg transition-colors duration-200 flex items-center gap-3 text-base font-medium"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2.5 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>Project</button></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Actions</h3></div><div class=space-y-1><button class="w-full px-4 py-2.5 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg>Export CSV</button><label class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-gray-700 hover:bg-gray-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg>Import CSV<input type=file accept=.csv,text/csv class=hidden></label></div></div><div class="border-t border-gray-100 p-4"><div class=mb-2><h3 class="text-sm font-semibold text-gray-500 uppercase tracking-wider px-1">Settings</h3></div><div class=space-y-1><button class="w-full px-4 py-3 rounded-lg text-left transition-colors duration-150 text-red-600 hover:bg-red-50 flex items-center gap-3 text-base"><svg class="w-5 h-5 text-red-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>Clear all data</button><div class=mt-20>'),ui=Y('<div class="text-center py-12 px-4"><div class="w-12 h-12 bg-gray-100 rounded-lg mx-auto mb-4 flex items-center justify-center"><svg class="w-6 h-6 text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></div><p class="text-base text-gray-500 font-medium">No checklists yet'),ci=Y('<div style=flex:1><button class="flex-1 flex items-center gap-3 px-3 py-2.5 text-left focus:outline-none"tabindex=0><svg class="w-5 h-5 text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg><div class="flex-1 min-w-0"><div class="flex gap-3 items-center"><div class="text-base font-medium truncate"></div><span></span></div><div class="text-sm text-gray-500 mt-1"></div></div></button><button aria-label="Delete checklist"tabindex=-1><svg class="w-5 h-5"fill=none stroke=currentColor stroke-width=2 viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),hi=Y('<span class="inline-block w-2 h-2 rounded-full"style=background:currentColor>');function gi(e){return(()=>{var t=fi(),n=t.firstChild,r=n.firstChild,i=r.firstChild,a=i.nextSibling,s=r.nextSibling,l=s.firstChild,f=l.firstChild,c=f.nextSibling,o=c.firstChild,u=l.nextSibling,h=u.firstChild,g=h.nextSibling,w=g.firstChild,m=w.nextSibling,p=m.firstChild,d=p.nextSibling,_=d.nextSibling,A=u.nextSibling,R=A.firstChild,T=R.nextSibling,$=T.firstChild;return de(a,"click",e.onClose,!0),de(o,"click",e.onCreateProject,!0),y(c,D(se,{get when(){return e.projects?.length>0},get fallback(){return ui()},get children(){return D(qn,{get each(){return e.projects},children:x=>D(oi,{get data(){return[{id:x.id,label:x.name||x.id,children:(x.checklists||[]).map(v=>({id:v.id,label:v.title||v.name||v.id,checklist:v,projectId:x.id})),project:x}]},onSelect:v=>{v.project&&e.onSelectProject?.(v.project)},children:v=>(()=>{var k=ci(),C=k.firstChild,b=C.firstChild,N=b.nextSibling,O=N.firstChild,W=O.firstChild,ce=W.nextSibling,oe=O.nextSibling,S=C.nextSibling;return C.$$click=M=>{M.stopPropagation(),e.onSelectChecklist(v.id,v.projectId)},y(W,()=>v.label),y(ce,()=>{const M=be.scoreChecklist(v.checklist);return M.length+v.label.length<30?M:hi()}),y(oe,()=>new Date(v.checklist.createdAt).toLocaleDateString()),S.$$click=M=>{M.stopPropagation(),e.onDeleteChecklist(v.checklist.id)},E(M=>{var q=`
            flex items-center group rounded-lg transition-colors
            ${v.id===e.currentId?"bg-gray-100 text-gray-900":"text-gray-700 hover:bg-gray-50"}
          `,L=`
                                text-xs font-semibold px-2 py-0.5 rounded
                                ${(()=>{const Z=be.scoreChecklist(v.checklist);return Z==="High"?"bg-green-100 text-green-800":Z==="Moderate"?"bg-yellow-100 text-yellow-800":Z==="Low"?"bg-orange-100 text-orange-800":Z==="Critically Low"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-600"})()}
                              `,F=`
                          p-2 mr-2 rounded transition-colors text-gray-400 hover:text-red-600 hover:bg-red-50
                          ${v.id!==e.currentId?"opacity-0 group-hover:opacity-100":""}
                        `;return q!==M.e&&ge(k,M.e=q),L!==M.t&&ge(ce,M.t=L),F!==M.a&&ge(S,M.a=F),M},{e:void 0,t:void 0,a:void 0}),k})()})})}}),null),de(w,"click",e.onExportCSV,!0),de(_,"change",e.onImportCSV),de($,"click",e.onDeleteAll,!0),E(x=>{var v=`
        transition-all duration-200 ease-in-out
        bg-white border-r border-gray-200 h-screen overflow-x-hidden
        ${e.open?"w-90":"w-0"}
        ∆
        /* Mobile: Fixed overlay */
        md:relative
        ${e.open?"":"md:w-0"}
        
        /* Mobile overlay behavior */
        fixed top-0 left-0 z-30 md:static md:z-auto
        ${e.open?"translate-x-0":"-translate-x-full md:translate-x-0"}
      `,k=`
          flex flex-col h-full
          transition-opacity duration-100
          ${e.open?"duration-500 opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}
        `,C=!e.currentChecklistState;return v!==x.e&&ge(t,x.e=v),k!==x.t&&ge(n,x.t=k),C!==x.a&&(w.disabled=x.a=C),x},{e:void 0,t:void 0,a:void 0}),t})()}Le(["click"]);var di=Y('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black/40"><div class="bg-white rounded-xl shadow-2xl max-w-sm w-full p-6 mx-2 animate-fade-in"><div class=mb-4><h2 class="text-lg font-semibold text-gray-900"></h2></div><div class="flex justify-end gap-2 mt-6"><button class="px-4 py-2 rounded-lg text-gray-700 hover:bg-gray-100 transition-colors"autofocus>Cancel</button><button class="px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700 transition-colors">'),mi=Y('<p class="mt-2 text-gray-600">');function Wt(e){return D(se,{get when(){return e.open},get children(){var t=di(),n=t.firstChild,r=n.firstChild,i=r.firstChild,a=r.nextSibling,s=a.firstChild,l=s.nextSibling;return y(i,()=>e.title||"Are you sure?"),y(r,(()=>{var f=En(()=>!!e.description);return()=>f()&&(()=>{var c=mi();return y(c,()=>e.description),c})()})(),null),de(s,"click",e.onCancel,!0),de(l,"click",e.onConfirm,!0),y(l,()=>e.confirmText||"Delete"),t}})}Le(["click"]);var yi=Y('<div><div class="w-full h-full overflow-auto"></div><div role=separator tabindex=0 style=touch-action:none>');function pi(e){const t=e.direction||"horizontal",n=t==="horizontal"?"right":"bottom",r=e.position||n,i=e.min??200,a=e.max??800,s=e.initial??400,[l,f]=H(s);let c=!1,o=0,u=0,h=null;const g=d=>{c=!0,h=d.pointerId,o=t==="horizontal"?d.clientX:d.clientY,u=l(),document.body.style.userSelect="none",d.target.setPointerCapture(h),window.addEventListener("pointermove",w),window.addEventListener("pointerup",m)},w=d=>{if(!c)return;let _=t==="horizontal"?d.clientX-o:d.clientY-o;(r==="left"||r==="top")&&(_=-_);let A=u+_;A=Math.max(i,Math.min(a,A)),f(A)},m=d=>{if(c=!1,document.body.style.userSelect="",d.target.releasePointerCapture&&h!==null)try{d.target.releasePointerCapture(h)}catch{}window.removeEventListener("pointermove",w),window.removeEventListener("pointerup",m),h=null};let p="";return t==="horizontal"?p=r==="right"?"top-0 right-0 h-full w-2 cursor-col-resize":"top-0 left-0 h-full w-2 cursor-col-resize":p=r==="bottom"?"left-0 bottom-0 w-full h-2 cursor-row-resize":"left-0 top-0 w-full h-2 cursor-row-resize",(()=>{var d=yi(),_=d.firstChild,A=_.nextSibling;return ge(d,`relative ${t==="horizontal"?"h-full":"w-full"}`),y(_,()=>e.children),A.$$pointerdown=g,ge(A,`absolute ${p} bg-gray-200 hover:bg-gray-300 transition-colors z-10`),P(A,"aria-orientation",t),E(R=>Dt(d,t==="horizontal"?`width: ${l()}px; min-width:0;`:`height: ${l()}px; min-height:0;`,R)),d})()}Le(["pointerdown"]);function Xe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Pn(e){let t,n,r;e.length!==2?(t=Xe,n=(l,f)=>Xe(e(l),f),r=(l,f)=>e(l)-f):(t=e===Xe||e===wi?e:vi,n=e,r=e);function i(l,f,c=0,o=l.length){if(c<o){if(t(f,f)!==0)return o;do{const u=c+o>>>1;n(l[u],f)<0?c=u+1:o=u}while(c<o)}return c}function a(l,f,c=0,o=l.length){if(c<o){if(t(f,f)!==0)return o;do{const u=c+o>>>1;n(l[u],f)<=0?c=u+1:o=u}while(c<o)}return c}function s(l,f,c=0,o=l.length){const u=i(l,f,c,o-1);return u>c&&r(l[u-1],f)>-r(l[u],f)?u-1:u}return{left:i,center:s,right:a}}function vi(){return 0}function bi(e){return e===null?NaN:+e}const _i=Pn(Xe),xi=_i.right;Pn(bi).center;class Zt extends Map{constructor(t,n=Ai){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Ut(this,t))}has(t){return super.has(Ut(this,t))}set(t,n){return super.set($i(this,t),n)}delete(t){return super.delete(ki(this,t))}}function Ut({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function $i({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ki({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ai(e){return e!==null&&typeof e=="object"?e.valueOf():e}const Ci=Math.sqrt(50),Ni=Math.sqrt(10),Si=Math.sqrt(2);function rt(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=Ci?10:a>=Ni?5:a>=Si?2:1;let l,f,c;return i<0?(c=Math.pow(10,-i)/s,l=Math.round(e*c),f=Math.round(t*c),l/c<e&&++l,f/c>t&&--f,c=-c):(c=Math.pow(10,i)*s,l=Math.round(e/c),f=Math.round(t/c),l*c<e&&++l,f*c>t&&--f),f<l&&.5<=n&&n<2?rt(e,t,n*2):[l,f,c]}function Mi(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?rt(t,e,n):rt(e,t,n);if(!(a>=i))return[];const l=a-i+1,f=new Array(l);if(r)if(s<0)for(let c=0;c<l;++c)f[c]=(a-c)/-s;else for(let c=0;c<l;++c)f[c]=(a-c)*s;else if(s<0)for(let c=0;c<l;++c)f[c]=(i+c)/-s;else for(let c=0;c<l;++c)f[c]=(i+c)*s;return f}function kt(e,t,n){return t=+t,e=+e,n=+n,rt(e,t,n)[2]}function qi(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?kt(t,e,n):kt(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function Dn(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ei(e){return e}var Ri=3,It=1e-6;function Ti(e){return"translate("+e+",0)"}function Pi(e){return t=>+e(t)}function Di(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Yi(){return!this.__axis}function Li(e,t){var n=[],r=null,i=null,a=6,s=6,l=3,f=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,o="y",u=Ti;function h(g){var w=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):Ei),p=Math.max(a,0)+l,d=t.range(),_=+d[0]+f,A=+d[d.length-1]+f,R=(t.bandwidth?Di:Pi)(t.copy(),f),T=g.selection?g.selection():g,$=T.selectAll(".domain").data([null]),x=T.selectAll(".tick").data(w,t).order(),v=x.exit(),k=x.enter().append("g").attr("class","tick"),C=x.select("line"),b=x.select("text");$=$.merge($.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(k),C=C.merge(k.append("line").attr("stroke","currentColor").attr(o+"2",c*a)),b=b.merge(k.append("text").attr("fill","currentColor").attr(o,c*p).attr("dy","0.71em")),g!==T&&($=$.transition(g),x=x.transition(g),C=C.transition(g),b=b.transition(g),v=v.transition(g).attr("opacity",It).attr("transform",function(N){return isFinite(N=R(N))?u(N+f):this.getAttribute("transform")}),k.attr("opacity",It).attr("transform",function(N){var O=this.parentNode.__axis;return u((O&&isFinite(O=O(N))?O:R(N))+f)})),v.remove(),$.attr("d",s?"M"+_+","+c*s+"V"+f+"H"+A+"V"+c*s:"M"+_+","+f+"H"+A),x.attr("opacity",1).attr("transform",function(N){return u(R(N)+f)}),C.attr(o+"2",c*a),b.attr(o,c*p).text(m),T.filter(Yi).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),T.each(function(){this.__axis=R})}return h.scale=function(g){return arguments.length?(t=g,h):t},h.ticks=function(){return n=Array.from(arguments),h},h.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),h):n.slice()},h.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),h):r&&r.slice()},h.tickFormat=function(g){return arguments.length?(i=g,h):i},h.tickSize=function(g){return arguments.length?(a=s=+g,h):a},h.tickSizeInner=function(g){return arguments.length?(a=+g,h):a},h.tickSizeOuter=function(g){return arguments.length?(s=+g,h):s},h.tickPadding=function(g){return arguments.length?(l=+g,h):l},h.offset=function(g){return arguments.length?(f=+g,h):f},h}function Oi(e){return Li(Ri,e)}var Fi={value:()=>{}};function Yn(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ge(n)}function Ge(e){this._=e}function Bi(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ge.prototype=Yn.prototype={constructor:Ge,on:function(e,t){var n=this._,r=Bi(e+"",n),i,a=-1,s=r.length;if(arguments.length<2){for(;++a<s;)if((i=(e=r[a]).type)&&(i=zi(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<s;)if(i=(e=r[a]).type)n[i]=en(n[i],e.name,t);else if(t==null)for(i in n)n[i]=en(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Ge(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function zi(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function en(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Fi,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var At="http://www.w3.org/1999/xhtml";const tn={svg:"http://www.w3.org/2000/svg",xhtml:At,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function mt(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),tn.hasOwnProperty(t)?{space:tn[t],local:e}:e}function Vi(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===At&&t.documentElement.namespaceURI===At?t.createElement(e):t.createElementNS(n,e)}}function Hi(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Ln(e){var t=mt(e);return(t.local?Hi:Vi)(t)}function ji(){}function Yt(e){return e==null?ji:function(){return this.querySelector(e)}}function Qi(e){typeof e!="function"&&(e=Yt(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,l=r[i]=new Array(s),f,c,o=0;o<s;++o)(f=a[o])&&(c=e.call(f,f.__data__,o,a))&&("__data__"in f&&(c.__data__=f.__data__),l[o]=c);return new J(r,this._parents)}function Xi(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Gi(){return[]}function On(e){return e==null?Gi:function(){return this.querySelectorAll(e)}}function Ji(e){return function(){return Xi(e.apply(this,arguments))}}function Ki(e){typeof e=="function"?e=Ji(e):e=On(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var s=t[a],l=s.length,f,c=0;c<l;++c)(f=s[c])&&(r.push(e.call(f,f.__data__,c,s)),i.push(f));return new J(r,i)}function Fn(e){return function(){return this.matches(e)}}function Bn(e){return function(t){return t.matches(e)}}var Wi=Array.prototype.find;function Zi(e){return function(){return Wi.call(this.children,e)}}function Ui(){return this.firstElementChild}function Ii(e){return this.select(e==null?Ui:Zi(typeof e=="function"?e:Bn(e)))}var es=Array.prototype.filter;function ts(){return Array.from(this.children)}function ns(e){return function(){return es.call(this.children,e)}}function rs(e){return this.selectAll(e==null?ts:ns(typeof e=="function"?e:Bn(e)))}function is(e){typeof e!="function"&&(e=Fn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,l=r[i]=[],f,c=0;c<s;++c)(f=a[c])&&e.call(f,f.__data__,c,a)&&l.push(f);return new J(r,this._parents)}function zn(e){return new Array(e.length)}function ss(){return new J(this._enter||this._groups.map(zn),this._parents)}function it(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}it.prototype={constructor:it,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ls(e){return function(){return e}}function as(e,t,n,r,i,a){for(var s=0,l,f=t.length,c=a.length;s<c;++s)(l=t[s])?(l.__data__=a[s],r[s]=l):n[s]=new it(e,a[s]);for(;s<f;++s)(l=t[s])&&(i[s]=l)}function os(e,t,n,r,i,a,s){var l,f,c=new Map,o=t.length,u=a.length,h=new Array(o),g;for(l=0;l<o;++l)(f=t[l])&&(h[l]=g=s.call(f,f.__data__,l,t)+"",c.has(g)?i[l]=f:c.set(g,f));for(l=0;l<u;++l)g=s.call(e,a[l],l,a)+"",(f=c.get(g))?(r[l]=f,f.__data__=a[l],c.delete(g)):n[l]=new it(e,a[l]);for(l=0;l<o;++l)(f=t[l])&&c.get(h[l])===f&&(i[l]=f)}function fs(e){return e.__data__}function us(e,t){if(!arguments.length)return Array.from(this,fs);var n=t?os:as,r=this._parents,i=this._groups;typeof e!="function"&&(e=ls(e));for(var a=i.length,s=new Array(a),l=new Array(a),f=new Array(a),c=0;c<a;++c){var o=r[c],u=i[c],h=u.length,g=cs(e.call(o,o&&o.__data__,c,r)),w=g.length,m=l[c]=new Array(w),p=s[c]=new Array(w),d=f[c]=new Array(h);n(o,u,m,p,d,g,t);for(var _=0,A=0,R,T;_<w;++_)if(R=m[_]){for(_>=A&&(A=_+1);!(T=p[A])&&++A<w;);R._next=T||null}}return s=new J(s,r),s._enter=l,s._exit=f,s}function cs(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function hs(){return new J(this._exit||this._groups.map(zn),this._parents)}function gs(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function ds(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,s=Math.min(i,a),l=new Array(i),f=0;f<s;++f)for(var c=n[f],o=r[f],u=c.length,h=l[f]=new Array(u),g,w=0;w<u;++w)(g=c[w]||o[w])&&(h[w]=g);for(;f<i;++f)l[f]=n[f];return new J(l,this._parents)}function ms(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],s;--i>=0;)(s=r[i])&&(a&&s.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(s,a),a=s);return this}function ys(e){e||(e=ps);function t(u,h){return u&&h?e(u.__data__,h.__data__):!u-!h}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var s=n[a],l=s.length,f=i[a]=new Array(l),c,o=0;o<l;++o)(c=s[o])&&(f[o]=c);f.sort(t)}return new J(i,this._parents).order()}function ps(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function ws(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function vs(){return Array.from(this)}function bs(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var s=r[i];if(s)return s}return null}function _s(){let e=0;for(const t of this)++e;return e}function xs(){return!this.node()}function $s(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,s=i.length,l;a<s;++a)(l=i[a])&&e.call(l,l.__data__,a,i);return this}function ks(e){return function(){this.removeAttribute(e)}}function As(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Cs(e,t){return function(){this.setAttribute(e,t)}}function Ns(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ss(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Ms(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function qs(e,t){var n=mt(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?As:ks:typeof t=="function"?n.local?Ms:Ss:n.local?Ns:Cs)(n,t))}function Vn(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Es(e){return function(){this.style.removeProperty(e)}}function Rs(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Ts(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Ps(e,t,n){return arguments.length>1?this.each((t==null?Es:typeof t=="function"?Ts:Rs)(e,t,n??"")):$e(this.node(),e)}function $e(e,t){return e.style.getPropertyValue(t)||Vn(e).getComputedStyle(e,null).getPropertyValue(t)}function Ds(e){return function(){delete this[e]}}function Ys(e,t){return function(){this[e]=t}}function Ls(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Os(e,t){return arguments.length>1?this.each((t==null?Ds:typeof t=="function"?Ls:Ys)(e,t)):this.node()[e]}function Hn(e){return e.trim().split(/^|\s+/)}function Lt(e){return e.classList||new jn(e)}function jn(e){this._node=e,this._names=Hn(e.getAttribute("class")||"")}jn.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Qn(e,t){for(var n=Lt(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Xn(e,t){for(var n=Lt(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Fs(e){return function(){Qn(this,e)}}function Bs(e){return function(){Xn(this,e)}}function zs(e,t){return function(){(t.apply(this,arguments)?Qn:Xn)(this,e)}}function Vs(e,t){var n=Hn(e+"");if(arguments.length<2){for(var r=Lt(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?zs:t?Fs:Bs)(n,t))}function Hs(){this.textContent=""}function js(e){return function(){this.textContent=e}}function Qs(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Xs(e){return arguments.length?this.each(e==null?Hs:(typeof e=="function"?Qs:js)(e)):this.node().textContent}function Gs(){this.innerHTML=""}function Js(e){return function(){this.innerHTML=e}}function Ks(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ws(e){return arguments.length?this.each(e==null?Gs:(typeof e=="function"?Ks:Js)(e)):this.node().innerHTML}function Zs(){this.nextSibling&&this.parentNode.appendChild(this)}function Us(){return this.each(Zs)}function Is(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function el(){return this.each(Is)}function tl(e){var t=typeof e=="function"?e:Ln(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function nl(){return null}function rl(e,t){var n=typeof e=="function"?e:Ln(e),r=t==null?nl:typeof t=="function"?t:Yt(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function il(){var e=this.parentNode;e&&e.removeChild(this)}function sl(){return this.each(il)}function ll(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function al(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function ol(e){return this.select(e?al:ll)}function fl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ul(e){return function(t){e.call(this,t,this.__data__)}}function cl(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function hl(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function gl(e,t,n){return function(){var r=this.__on,i,a=ul(t);if(r){for(var s=0,l=r.length;s<l;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function dl(e,t,n){var r=cl(e+""),i,a=r.length,s;if(arguments.length<2){var l=this.node().__on;if(l){for(var f=0,c=l.length,o;f<c;++f)for(i=0,o=l[f];i<a;++i)if((s=r[i]).type===o.type&&s.name===o.name)return o.value}return}for(l=t?gl:hl,i=0;i<a;++i)this.each(l(r[i],t,n));return this}function Gn(e,t,n){var r=Vn(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function ml(e,t){return function(){return Gn(this,e,t)}}function yl(e,t){return function(){return Gn(this,e,t.apply(this,arguments))}}function pl(e,t){return this.each((typeof t=="function"?yl:ml)(e,t))}function*wl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,s;i<a;++i)(s=r[i])&&(yield s)}var Jn=[null];function J(e,t){this._groups=e,this._parents=t}function Fe(){return new J([[document.documentElement]],Jn)}function vl(){return this}J.prototype=Fe.prototype={constructor:J,select:Qi,selectAll:Ki,selectChild:Ii,selectChildren:rs,filter:is,data:us,enter:ss,exit:hs,join:gs,merge:ds,selection:vl,order:ms,sort:ys,call:ws,nodes:vs,node:bs,size:_s,empty:xs,each:$s,attr:qs,style:Ps,property:Os,classed:Vs,text:Xs,html:Ws,raise:Us,lower:el,append:tl,insert:rl,remove:sl,clone:ol,datum:fl,on:dl,dispatch:pl,[Symbol.iterator]:wl};function Kn(e){return typeof e=="string"?new J([[document.querySelector(e)]],[document.documentElement]):new J([[e]],Jn)}function Ot(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Wn(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Be(){}var Re=.7,st=1/Re,xe="\\s*([+-]?\\d+)\\s*",Te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",te="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bl=/^#([0-9a-f]{3,8})$/,_l=new RegExp(`^rgb\\(${xe},${xe},${xe}\\)$`),xl=new RegExp(`^rgb\\(${te},${te},${te}\\)$`),$l=new RegExp(`^rgba\\(${xe},${xe},${xe},${Te}\\)$`),kl=new RegExp(`^rgba\\(${te},${te},${te},${Te}\\)$`),Al=new RegExp(`^hsl\\(${Te},${te},${te}\\)$`),Cl=new RegExp(`^hsla\\(${Te},${te},${te},${Te}\\)$`),nn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Ot(Be,pe,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:rn,formatHex:rn,formatHex8:Nl,formatHsl:Sl,formatRgb:sn,toString:sn});function rn(){return this.rgb().formatHex()}function Nl(){return this.rgb().formatHex8()}function Sl(){return Zn(this).formatHsl()}function sn(){return this.rgb().formatRgb()}function pe(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=bl.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ln(t):n===3?new G(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ze(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ze(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=_l.exec(e))?new G(t[1],t[2],t[3],1):(t=xl.exec(e))?new G(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=$l.exec(e))?ze(t[1],t[2],t[3],t[4]):(t=kl.exec(e))?ze(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Al.exec(e))?fn(t[1],t[2]/100,t[3]/100,1):(t=Cl.exec(e))?fn(t[1],t[2]/100,t[3]/100,t[4]):nn.hasOwnProperty(e)?ln(nn[e]):e==="transparent"?new G(NaN,NaN,NaN,0):null}function ln(e){return new G(e>>16&255,e>>8&255,e&255,1)}function ze(e,t,n,r){return r<=0&&(e=t=n=NaN),new G(e,t,n,r)}function Ml(e){return e instanceof Be||(e=pe(e)),e?(e=e.rgb(),new G(e.r,e.g,e.b,e.opacity)):new G}function Ct(e,t,n,r){return arguments.length===1?Ml(e):new G(e,t,n,r??1)}function G(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Ot(G,Ct,Wn(Be,{brighter(e){return e=e==null?st:Math.pow(st,e),new G(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Re:Math.pow(Re,e),new G(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new G(ye(this.r),ye(this.g),ye(this.b),lt(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:an,formatHex:an,formatHex8:ql,formatRgb:on,toString:on}));function an(){return`#${me(this.r)}${me(this.g)}${me(this.b)}`}function ql(){return`#${me(this.r)}${me(this.g)}${me(this.b)}${me((isNaN(this.opacity)?1:this.opacity)*255)}`}function on(){const e=lt(this.opacity);return`${e===1?"rgb(":"rgba("}${ye(this.r)}, ${ye(this.g)}, ${ye(this.b)}${e===1?")":`, ${e})`}`}function lt(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ye(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function me(e){return e=ye(e),(e<16?"0":"")+e.toString(16)}function fn(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new I(e,t,n,r)}function Zn(e){if(e instanceof I)return new I(e.h,e.s,e.l,e.opacity);if(e instanceof Be||(e=pe(e)),!e)return new I;if(e instanceof I)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,l=a-i,f=(a+i)/2;return l?(t===a?s=(n-r)/l+(n<r)*6:n===a?s=(r-t)/l+2:s=(t-n)/l+4,l/=f<.5?a+i:2-a-i,s*=60):l=f>0&&f<1?0:s,new I(s,l,f,e.opacity)}function El(e,t,n,r){return arguments.length===1?Zn(e):new I(e,t,n,r??1)}function I(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Ot(I,El,Wn(Be,{brighter(e){return e=e==null?st:Math.pow(st,e),new I(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Re:Math.pow(Re,e),new I(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new G(_t(e>=240?e-240:e+120,i,r),_t(e,i,r),_t(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new I(un(this.h),Ve(this.s),Ve(this.l),lt(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lt(this.opacity);return`${e===1?"hsl(":"hsla("}${un(this.h)}, ${Ve(this.s)*100}%, ${Ve(this.l)*100}%${e===1?")":`, ${e})`}`}}));function un(e){return e=(e||0)%360,e<0?e+360:e}function Ve(e){return Math.max(0,Math.min(1,e||0))}function _t(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ft=e=>()=>e;function Rl(e,t){return function(n){return e+n*t}}function Tl(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Pl(e){return(e=+e)==1?Un:function(t,n){return n-t?Tl(t,n,e):Ft(isNaN(t)?n:t)}}function Un(e,t){var n=t-e;return n?Rl(e,n):Ft(isNaN(e)?t:e)}const at=function e(t){var n=Pl(t);function r(i,a){var s=n((i=Ct(i)).r,(a=Ct(a)).r),l=n(i.g,a.g),f=n(i.b,a.b),c=Un(i.opacity,a.opacity);return function(o){return i.r=s(o),i.g=l(o),i.b=f(o),i.opacity=c(o),i+""}}return r.gamma=e,r}(1);function Dl(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function Yl(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Ll(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Bt(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(l){for(s=0;s<r;++s)a[s]=i[s](l);return a}}function Ol(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function U(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Fl(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Bt(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Nt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xt=new RegExp(Nt.source,"g");function Bl(e){return function(){return e}}function zl(e){return function(t){return e(t)+""}}function In(e,t){var n=Nt.lastIndex=xt.lastIndex=0,r,i,a,s=-1,l=[],f=[];for(e=e+"",t=t+"";(r=Nt.exec(e))&&(i=xt.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),l[s]?l[s]+=a:l[++s]=a),(r=r[0])===(i=i[0])?l[s]?l[s]+=i:l[++s]=i:(l[++s]=null,f.push({i:s,x:U(r,i)})),n=xt.lastIndex;return n<t.length&&(a=t.slice(n),l[s]?l[s]+=a:l[++s]=a),l.length<2?f[0]?zl(f[0].x):Bl(t):(t=f.length,function(c){for(var o=0,u;o<t;++o)l[(u=f[o]).i]=u.x(c);return l.join("")})}function Bt(e,t){var n=typeof t,r;return t==null||n==="boolean"?Ft(t):(n==="number"?U:n==="string"?(r=pe(t))?(t=r,at):In:t instanceof pe?at:t instanceof Date?Ol:Yl(t)?Dl:Array.isArray(t)?Ll:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Fl:U)(e,t)}function Vl(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var cn=180/Math.PI,St={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function er(e,t,n,r,i,a){var s,l,f;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(f=e*n+t*r)&&(n-=e*f,r-=t*f),(l=Math.sqrt(n*n+r*r))&&(n/=l,r/=l,f/=l),e*r<t*n&&(e=-e,t=-t,f=-f,s=-s),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*cn,skewX:Math.atan(f)*cn,scaleX:s,scaleY:l}}var He;function Hl(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?St:er(t.a,t.b,t.c,t.d,t.e,t.f)}function jl(e){return e==null||(He||(He=document.createElementNS("http://www.w3.org/2000/svg","g")),He.setAttribute("transform",e),!(e=He.transform.baseVal.consolidate()))?St:(e=e.matrix,er(e.a,e.b,e.c,e.d,e.e,e.f))}function tr(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function a(c,o,u,h,g,w){if(c!==u||o!==h){var m=g.push("translate(",null,t,null,n);w.push({i:m-4,x:U(c,u)},{i:m-2,x:U(o,h)})}else(u||h)&&g.push("translate("+u+t+h+n)}function s(c,o,u,h){c!==o?(c-o>180?o+=360:o-c>180&&(c+=360),h.push({i:u.push(i(u)+"rotate(",null,r)-2,x:U(c,o)})):o&&u.push(i(u)+"rotate("+o+r)}function l(c,o,u,h){c!==o?h.push({i:u.push(i(u)+"skewX(",null,r)-2,x:U(c,o)}):o&&u.push(i(u)+"skewX("+o+r)}function f(c,o,u,h,g,w){if(c!==u||o!==h){var m=g.push(i(g)+"scale(",null,",",null,")");w.push({i:m-4,x:U(c,u)},{i:m-2,x:U(o,h)})}else(u!==1||h!==1)&&g.push(i(g)+"scale("+u+","+h+")")}return function(c,o){var u=[],h=[];return c=e(c),o=e(o),a(c.translateX,c.translateY,o.translateX,o.translateY,u,h),s(c.rotate,o.rotate,u,h),l(c.skewX,o.skewX,u,h),f(c.scaleX,c.scaleY,o.scaleX,o.scaleY,u,h),c=o=null,function(g){for(var w=-1,m=h.length,p;++w<m;)u[(p=h[w]).i]=p.x(g);return u.join("")}}}var Ql=tr(Hl,"px, ","px)","deg)"),Xl=tr(jl,", ",")",")"),ke=0,Ne=0,Ce=0,nr=1e3,ot,Se,ft=0,we=0,yt=0,Pe=typeof performance=="object"&&performance.now?performance:Date,rr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function zt(){return we||(rr(Gl),we=Pe.now()+yt)}function Gl(){we=0}function ut(){this._call=this._time=this._next=null}ut.prototype=ir.prototype={constructor:ut,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?zt():+n)+(t==null?0:+t),!this._next&&Se!==this&&(Se?Se._next=this:ot=this,Se=this),this._call=e,this._time=n,Mt()},stop:function(){this._call&&(this._call=null,this._time=1/0,Mt())}};function ir(e,t,n){var r=new ut;return r.restart(e,t,n),r}function Jl(){zt(),++ke;for(var e=ot,t;e;)(t=we-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ke}function hn(){we=(ft=Pe.now())+yt,ke=Ne=0;try{Jl()}finally{ke=0,Wl(),we=0}}function Kl(){var e=Pe.now(),t=e-ft;t>nr&&(yt-=t,ft=e)}function Wl(){for(var e,t=ot,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ot=n);Se=e,Mt(r)}function Mt(e){if(!ke){Ne&&(Ne=clearTimeout(Ne));var t=e-we;t>24?(e<1/0&&(Ne=setTimeout(hn,e-Pe.now()-yt)),Ce&&(Ce=clearInterval(Ce))):(Ce||(ft=Pe.now(),Ce=setInterval(Kl,nr)),ke=1,rr(hn))}}function gn(e,t,n){var r=new ut;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Zl=Yn("start","end","cancel","interrupt"),Ul=[],sr=0,dn=1,qt=2,Je=3,mn=4,Et=5,Ke=6;function pt(e,t,n,r,i,a){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;Il(e,n,{name:t,index:r,group:i,on:Zl,tween:Ul,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:sr})}function Vt(e,t){var n=ee(e,t);if(n.state>sr)throw new Error("too late; already scheduled");return n}function re(e,t){var n=ee(e,t);if(n.state>Je)throw new Error("too late; already running");return n}function ee(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Il(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=ir(a,0,n.time);function a(c){n.state=dn,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var o,u,h,g;if(n.state!==dn)return f();for(o in r)if(g=r[o],g.name===n.name){if(g.state===Je)return gn(s);g.state===mn?(g.state=Ke,g.timer.stop(),g.on.call("interrupt",e,e.__data__,g.index,g.group),delete r[o]):+o<t&&(g.state=Ke,g.timer.stop(),g.on.call("cancel",e,e.__data__,g.index,g.group),delete r[o])}if(gn(function(){n.state===Je&&(n.state=mn,n.timer.restart(l,n.delay,n.time),l(c))}),n.state=qt,n.on.call("start",e,e.__data__,n.index,n.group),n.state===qt){for(n.state=Je,i=new Array(h=n.tween.length),o=0,u=-1;o<h;++o)(g=n.tween[o].value.call(e,e.__data__,n.index,n.group))&&(i[++u]=g);i.length=u+1}}function l(c){for(var o=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(f),n.state=Et,1),u=-1,h=i.length;++u<h;)i[u].call(e,o);n.state===Et&&(n.on.call("end",e,e.__data__,n.index,n.group),f())}function f(){n.state=Ke,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function ea(e,t){var n=e.__transition,r,i,a=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){a=!1;continue}i=r.state>qt&&r.state<Et,r.state=Ke,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}a&&delete e.__transition}}function ta(e){return this.each(function(){ea(this,e)})}function na(e,t){var n,r;return function(){var i=re(this,e),a=i.tween;if(a!==n){r=n=a;for(var s=0,l=r.length;s<l;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function ra(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=re(this,e),s=a.tween;if(s!==r){i=(r=s).slice();for(var l={name:t,value:n},f=0,c=i.length;f<c;++f)if(i[f].name===t){i[f]=l;break}f===c&&i.push(l)}a.tween=i}}function ia(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ee(this.node(),n).tween,i=0,a=r.length,s;i<a;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?na:ra)(n,e,t))}function Ht(e,t,n){var r=e._id;return e.each(function(){var i=re(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ee(i,r).value[t]}}function lr(e,t){var n;return(typeof t=="number"?U:t instanceof pe?at:(n=pe(t))?(t=n,at):In)(e,t)}function sa(e){return function(){this.removeAttribute(e)}}function la(e){return function(){this.removeAttributeNS(e.space,e.local)}}function aa(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttribute(e);return s===i?null:s===r?a:a=t(r=s,n)}}function oa(e,t,n){var r,i=n+"",a;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?a:a=t(r=s,n)}}function fa(e,t,n){var r,i,a;return function(){var s,l=n(this),f;return l==null?void this.removeAttribute(e):(s=this.getAttribute(e),f=l+"",s===f?null:s===r&&f===i?a:(i=f,a=t(r=s,l)))}}function ua(e,t,n){var r,i,a;return function(){var s,l=n(this),f;return l==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),f=l+"",s===f?null:s===r&&f===i?a:(i=f,a=t(r=s,l)))}}function ca(e,t){var n=mt(e),r=n==="transform"?Xl:lr;return this.attrTween(e,typeof t=="function"?(n.local?ua:fa)(n,r,Ht(this,"attr."+e,t)):t==null?(n.local?la:sa)(n):(n.local?oa:aa)(n,r,t))}function ha(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function ga(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function da(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&ga(e,a)),n}return i._value=t,i}function ma(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&ha(e,a)),n}return i._value=t,i}function ya(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=mt(e);return this.tween(n,(r.local?da:ma)(r,t))}function pa(e,t){return function(){Vt(this,e).delay=+t.apply(this,arguments)}}function wa(e,t){return t=+t,function(){Vt(this,e).delay=t}}function va(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?pa:wa)(t,e)):ee(this.node(),t).delay}function ba(e,t){return function(){re(this,e).duration=+t.apply(this,arguments)}}function _a(e,t){return t=+t,function(){re(this,e).duration=t}}function xa(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?ba:_a)(t,e)):ee(this.node(),t).duration}function $a(e,t){if(typeof t!="function")throw new Error;return function(){re(this,e).ease=t}}function ka(e){var t=this._id;return arguments.length?this.each($a(t,e)):ee(this.node(),t).ease}function Aa(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;re(this,e).ease=n}}function Ca(e){if(typeof e!="function")throw new Error;return this.each(Aa(this._id,e))}function Na(e){typeof e!="function"&&(e=Fn(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],s=a.length,l=r[i]=[],f,c=0;c<s;++c)(f=a[c])&&e.call(f,f.__data__,c,a)&&l.push(f);return new ae(r,this._parents,this._name,this._id)}function Sa(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),s=new Array(r),l=0;l<a;++l)for(var f=t[l],c=n[l],o=f.length,u=s[l]=new Array(o),h,g=0;g<o;++g)(h=f[g]||c[g])&&(u[g]=h);for(;l<r;++l)s[l]=t[l];return new ae(s,this._parents,this._name,this._id)}function Ma(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qa(e,t,n){var r,i,a=Ma(t)?Vt:re;return function(){var s=a(this,e),l=s.on;l!==r&&(i=(r=l).copy()).on(t,n),s.on=i}}function Ea(e,t){var n=this._id;return arguments.length<2?ee(this.node(),n).on.on(e):this.each(qa(n,e,t))}function Ra(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Ta(){return this.on("end.remove",Ra(this._id))}function Pa(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Yt(e));for(var r=this._groups,i=r.length,a=new Array(i),s=0;s<i;++s)for(var l=r[s],f=l.length,c=a[s]=new Array(f),o,u,h=0;h<f;++h)(o=l[h])&&(u=e.call(o,o.__data__,h,l))&&("__data__"in o&&(u.__data__=o.__data__),c[h]=u,pt(c[h],t,n,h,c,ee(o,n)));return new ae(a,this._parents,t,n)}function Da(e){var t=this._name,n=this._id;typeof e!="function"&&(e=On(e));for(var r=this._groups,i=r.length,a=[],s=[],l=0;l<i;++l)for(var f=r[l],c=f.length,o,u=0;u<c;++u)if(o=f[u]){for(var h=e.call(o,o.__data__,u,f),g,w=ee(o,n),m=0,p=h.length;m<p;++m)(g=h[m])&&pt(g,t,n,m,h,w);a.push(h),s.push(o)}return new ae(a,s,t,n)}var Ya=Fe.prototype.constructor;function La(){return new Ya(this._groups,this._parents)}function Oa(e,t){var n,r,i;return function(){var a=$e(this,e),s=(this.style.removeProperty(e),$e(this,e));return a===s?null:a===n&&s===r?i:i=t(n=a,r=s)}}function ar(e){return function(){this.style.removeProperty(e)}}function Fa(e,t,n){var r,i=n+"",a;return function(){var s=$e(this,e);return s===i?null:s===r?a:a=t(r=s,n)}}function Ba(e,t,n){var r,i,a;return function(){var s=$e(this,e),l=n(this),f=l+"";return l==null&&(f=l=(this.style.removeProperty(e),$e(this,e))),s===f?null:s===r&&f===i?a:(i=f,a=t(r=s,l))}}function za(e,t){var n,r,i,a="style."+t,s="end."+a,l;return function(){var f=re(this,e),c=f.on,o=f.value[a]==null?l||(l=ar(t)):void 0;(c!==n||i!==o)&&(r=(n=c).copy()).on(s,i=o),f.on=r}}function Va(e,t,n){var r=(e+="")=="transform"?Ql:lr;return t==null?this.styleTween(e,Oa(e,r)).on("end.style."+e,ar(e)):typeof t=="function"?this.styleTween(e,Ba(e,r,Ht(this,"style."+e,t))).each(za(this._id,e)):this.styleTween(e,Fa(e,r,t),n).on("end.style."+e,null)}function Ha(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function ja(e,t,n){var r,i;function a(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&Ha(e,s,n)),r}return a._value=t,a}function Qa(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,ja(e,t,n??""))}function Xa(e){return function(){this.textContent=e}}function Ga(e){return function(){var t=e(this);this.textContent=t??""}}function Ja(e){return this.tween("text",typeof e=="function"?Ga(Ht(this,"text",e)):Xa(e==null?"":e+""))}function Ka(e){return function(t){this.textContent=e.call(this,t)}}function Wa(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Ka(i)),t}return r._value=e,r}function Za(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Wa(e))}function Ua(){for(var e=this._name,t=this._id,n=or(),r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],l=s.length,f,c=0;c<l;++c)if(f=s[c]){var o=ee(f,t);pt(f,e,n,c,s,{time:o.time+o.delay+o.duration,delay:0,duration:o.duration,ease:o.ease})}return new ae(r,this._parents,e,n)}function Ia(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,s){var l={value:s},f={value:function(){--i===0&&a()}};n.each(function(){var c=re(this,r),o=c.on;o!==e&&(t=(e=o).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(f)),c.on=t}),i===0&&a()})}var eo=0;function ae(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function or(){return++eo}var ie=Fe.prototype;ae.prototype={constructor:ae,select:Pa,selectAll:Da,selectChild:ie.selectChild,selectChildren:ie.selectChildren,filter:Na,merge:Sa,selection:La,transition:Ua,call:ie.call,nodes:ie.nodes,node:ie.node,size:ie.size,empty:ie.empty,each:ie.each,on:Ea,attr:ca,attrTween:ya,style:Va,styleTween:Qa,text:Ja,textTween:Za,remove:Ta,tween:ia,delay:va,duration:xa,ease:ka,easeVarying:Ca,end:Ia,[Symbol.iterator]:ie[Symbol.iterator]};function to(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var no={time:null,delay:0,duration:250,ease:to};function ro(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function io(e){var t,n;e instanceof ae?(t=e._id,e=e._name):(t=or(),(n=no).time=zt(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var s=r[a],l=s.length,f,c=0;c<l;++c)(f=s[c])&&pt(f,e,t,c,s,n||ro(f,t));return new ae(r,this._parents,e,t)}Fe.prototype.interrupt=ta;Fe.prototype.transition=io;function so(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ct(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Ae(e){return e=ct(Math.abs(e)),e?e[1]:NaN}function lo(e,t){return function(n,r){for(var i=n.length,a=[],s=0,l=e[0],f=0;i>0&&l>0&&(f+l+1>r&&(l=Math.max(1,r-f)),a.push(n.substring(i-=l,i+l)),!((f+=l+1)>r));)l=e[s=(s+1)%e.length];return a.reverse().join(t)}}function ao(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var oo=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ht(e){if(!(t=oo.exec(e)))throw new Error("invalid format: "+e);var t;return new jt({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ht.prototype=jt.prototype;function jt(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}jt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fo(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var fr;function uo(e,t){var n=ct(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(fr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ct(e,Math.max(0,t+a-1))[0]}function yn(e,t){var n=ct(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const pn={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:so,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>yn(e*100,t),r:yn,s:uo,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function wn(e){return e}var vn=Array.prototype.map,bn=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function co(e){var t=e.grouping===void 0||e.thousands===void 0?wn:lo(vn.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?wn:ao(vn.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function c(u){u=ht(u);var h=u.fill,g=u.align,w=u.sign,m=u.symbol,p=u.zero,d=u.width,_=u.comma,A=u.precision,R=u.trim,T=u.type;T==="n"?(_=!0,T="g"):pn[T]||(A===void 0&&(A=12),R=!0,T="g"),(p||h==="0"&&g==="=")&&(p=!0,h="0",g="=");var $=m==="$"?n:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",x=m==="$"?r:/[%p]/.test(T)?s:"",v=pn[T],k=/[defgprs%]/.test(T);A=A===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function C(b){var N=$,O=x,W,ce,oe;if(T==="c")O=v(b)+O,b="";else{b=+b;var S=b<0||1/b<0;if(b=isNaN(b)?f:v(Math.abs(b),A),R&&(b=fo(b)),S&&+b==0&&w!=="+"&&(S=!1),N=(S?w==="("?w:l:w==="-"||w==="("?"":w)+N,O=(T==="s"?bn[8+fr/3]:"")+O+(S&&w==="("?")":""),k){for(W=-1,ce=b.length;++W<ce;)if(oe=b.charCodeAt(W),48>oe||oe>57){O=(oe===46?i+b.slice(W+1):b.slice(W))+O,b=b.slice(0,W);break}}}_&&!p&&(b=t(b,1/0));var M=N.length+b.length+O.length,q=M<d?new Array(d-M+1).join(h):"";switch(_&&p&&(b=t(q+b,q.length?d-O.length:1/0),q=""),g){case"<":b=N+b+O+q;break;case"=":b=N+q+b+O;break;case"^":b=q.slice(0,M=q.length>>1)+N+b+O+q.slice(M);break;default:b=q+N+b+O;break}return a(b)}return C.toString=function(){return u+""},C}function o(u,h){var g=c((u=ht(u),u.type="f",u)),w=Math.max(-8,Math.min(8,Math.floor(Ae(h)/3)))*3,m=Math.pow(10,-w),p=bn[8+w/3];return function(d){return g(m*d)+p}}return{format:c,formatPrefix:o}}var je,ur,cr;ho({thousands:",",grouping:[3],currency:["$",""]});function ho(e){return je=co(e),ur=je.format,cr=je.formatPrefix,je}function go(e){return Math.max(0,-Ae(Math.abs(e)))}function mo(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ae(t)/3)))*3-Ae(Math.abs(e)))}function yo(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ae(t)-Ae(e))+1}function Qt(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const _n=Symbol("implicit");function hr(){var e=new Zt,t=[],n=[],r=_n;function i(a){let s=e.get(a);if(s===void 0){if(r!==_n)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Zt;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return hr(t,n).unknown(r)},Qt.apply(i,arguments),i}function gr(){var e=hr().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,l=!1,f=0,c=0,o=.5;delete e.unknown;function u(){var h=t().length,g=i<r,w=g?i:r,m=g?r:i;a=(m-w)/Math.max(1,h-f+c*2),l&&(a=Math.floor(a)),w+=(m-w-a*(h-f))*o,s=a*(1-f),l&&(w=Math.round(w),s=Math.round(s));var p=Dn(h).map(function(d){return w+a*d});return n(g?p.reverse():p)}return e.domain=function(h){return arguments.length?(t(h),u()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,u()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,l=!0,u()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(l=!!h,u()):l},e.padding=function(h){return arguments.length?(f=Math.min(1,c=+h),u()):f},e.paddingInner=function(h){return arguments.length?(f=Math.min(1,h),u()):f},e.paddingOuter=function(h){return arguments.length?(c=+h,u()):c},e.align=function(h){return arguments.length?(o=Math.max(0,Math.min(1,h)),u()):o},e.copy=function(){return gr(t(),[r,i]).round(l).paddingInner(f).paddingOuter(c).align(o)},Qt.apply(u(),arguments)}function po(e){return function(){return e}}function wo(e){return+e}var xn=[0,1];function _e(e){return e}function Rt(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:po(isNaN(t)?NaN:.5)}function vo(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function bo(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=Rt(i,r),a=n(s,a)):(r=Rt(r,i),a=n(a,s)),function(l){return a(r(l))}}function _o(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=Rt(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(l){var f=xi(e,l,1,r)-1;return a[f](i[f](l))}}function xo(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function $o(){var e=xn,t=xn,n=Bt,r,i,a,s=_e,l,f,c;function o(){var h=Math.min(e.length,t.length);return s!==_e&&(s=vo(e[0],e[h-1])),l=h>2?_o:bo,f=c=null,u}function u(h){return h==null||isNaN(h=+h)?a:(f||(f=l(e.map(r),t,n)))(r(s(h)))}return u.invert=function(h){return s(i((c||(c=l(t,e.map(r),U)))(h)))},u.domain=function(h){return arguments.length?(e=Array.from(h,wo),o()):e.slice()},u.range=function(h){return arguments.length?(t=Array.from(h),o()):t.slice()},u.rangeRound=function(h){return t=Array.from(h),n=Vl,o()},u.clamp=function(h){return arguments.length?(s=h?!0:_e,o()):s!==_e},u.interpolate=function(h){return arguments.length?(n=h,o()):n},u.unknown=function(h){return arguments.length?(a=h,u):a},function(h,g){return r=h,i=g,o()}}function ko(){return $o()(_e,_e)}function Ao(e,t,n,r){var i=qi(e,t,n),a;switch(r=ht(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=mo(i,s))&&(r.precision=a),cr(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=yo(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=go(i))&&(r.precision=a-(r.type==="%")*2);break}}return ur(r)}function Co(e){var t=e.domain;return e.ticks=function(n){var r=t();return Mi(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Ao(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],l=r[a],f,c,o=10;for(l<s&&(c=s,s=l,l=c,c=i,i=a,a=c);o-- >0;){if(c=kt(s,l,n),c===f)return r[i]=s,r[a]=l,t(r);if(c>0)s=Math.floor(s/c)*c,l=Math.ceil(l/c)*c;else if(c<0)s=Math.ceil(s*c)/c,l=Math.floor(l*c)/c;else break;f=c}return e},e}function dr(){var e=ko();return e.copy=function(){return xo(e,dr())},Qt.apply(e,arguments),Co(e)}function Me(e,t,n){this.k=e,this.x=t,this.y=n}Me.prototype={constructor:Me,scale:function(e){return e===1?this:new Me(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Me(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Me.prototype;var No=Y('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function So(e){let t;const n=e.data??[],r=16,i=e.width??900,a=e.height??600,s=e.title??"AMSTAR-2 Quality Assessment",l={top:60,right:170,bottom:60,left:100},f=(i-l.left-l.right)/r,c=(a-l.top-l.bottom)/n.length,o=Math.min(f,c),u=o*r,h=o*n.length,g=l.left+u+l.right,w=l.top+h+l.bottom,m={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return Tt(()=>{const p=Kn(t).attr("width",g).attr("height",w).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');p.selectAll("*").remove(),p.append("g").attr("class","grid"),p.append("g").attr("class","footer").selectAll("text").data(Dn(1,r+1)).enter().append("text").attr("x",(x,v)=>l.left+v*o+o/2).attr("y",l.top+h+20).attr("text-anchor","middle").attr("font-size",Math.max(10,o*.4)).attr("font-weight","600").attr("fill","#374151").text(x=>`Q${x}`),p.append("g").attr("class","rows").selectAll("text").data(n).enter().append("text").attr("x",l.left-15).attr("y",(x,v)=>l.top+v*o+o/2).attr("text-anchor","end").attr("font-size",Math.max(10,o*.45)).attr("font-weight","500").attr("fill","#374151").attr("dominant-baseline","middle").text(x=>x.label);const A=p.append("g").attr("class","cells");n.forEach((x,v)=>{for(let k=0;k<r;k++){const C=x.questions[k]?.toLowerCase?.()??"",b=m[C]??"#e5e7eb";A.append("rect").attr("x",l.left+k*o+2).attr("y",l.top+v*o+2).attr("width",o-4).attr("height",o-4).attr("fill",b).attr("stroke","#ffffff").attr("stroke-width",1).attr("rx",Math.max(2,o*.12)).style("filter","drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.1))")}});const R=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],$=p.append("g").attr("class","legend").attr("transform",`translate(${g-l.right+20}, ${l.top+20})`).selectAll(".legend-item").data(R).enter().append("g").attr("class","legend-item").attr("transform",(x,v)=>`translate(0, ${v*25})`);$.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",x=>m[x.key]).attr("stroke","#ffffff").attr("stroke-width",1),$.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text(x=>x.label),p.append("text").attr("x",g/2).attr("y",40).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(s),dt(()=>{p.selectAll("*").remove()})}),(()=>{var p=No(),d=p.firstChild,_=t;return typeof _=="function"?Rn(_,d):t=d,E(A=>Dt(d,`width: 100%; height: ${w}px; max-width: 100%; display: block;`,A)),p})()}var Mo=Y('<div style="background:#ffffff;border-radius:8px;box-shadow:0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);padding:16px;margin:16px 0"><svg>');function qo(e){let t;const n=e.data??[],r=e.width??900,i=e.height??600,a=e.title??"Distribution of AMSTAR Ratings on Each Item Across Included Reviews",s={top:50,right:10,bottom:10,left:80},l=r-s.left-s.right,f=i-s.top-s.bottom,c=s.top+i+s.bottom,o={yes:"#10b981","partial yes":"#facc15",no:"#ef4444","no ma":"#9ca3af"};return Tt(()=>{if(!n.length)return;const u=Kn(t).attr("width",r).attr("height",i).style("background","#ffffff").style("font-family",'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif');u.selectAll("*").remove();const h=[],g=Math.max(...n.map($=>$.questions?.length||0)),w=n.length;for(let $=0;$<g;$++){const x={question:$+1,label:`Q${$+1}`,counts:{yes:0,"partial yes":0,no:0,"no ma":0}};n.forEach(v=>{const k=v.questions[$]?.toLowerCase?.()??"no ma";x.counts.hasOwnProperty(k)&&x.counts[k]++}),x.percentages={},Object.keys(x.counts).forEach(v=>{x.percentages[v]=x.counts[v]/w*100}),h.push(x)}const m=gr().domain(h.map($=>$.label)).range([0,f]).padding(.1),p=dr().domain([0,100]).range([0,l]),d=u.append("g").attr("transform",`translate(${s.left}, ${s.top})`);u.append("text").attr("x",r/2).attr("y",30).attr("text-anchor","middle").attr("font-size","18px").attr("font-weight","600").attr("fill","#111827").text(a),h.forEach($=>{let x=0;const v=m.bandwidth(),k=m($.label);["yes","partial yes","no ma","no"].forEach(C=>{const b=$.percentages[C],N=p(b);b>0&&(d.append("rect").attr("x",p(x)).attr("y",k).attr("width",N).attr("height",v).attr("fill",o[C]).attr("stroke","#ffffff").attr("stroke-width",1),b>=5&&d.append("text").attr("x",p(x)+N/2).attr("y",k+v/2).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","12px").attr("font-weight","600").attr("fill",C==="partial yes"?"#000000":"#ffffff").text(`${b.toFixed(1)}`)),x+=b})}),d.selectAll(".y-label").data(h).enter().append("text").attr("class","y-label").attr("x",-10).attr("y",$=>m($.label)+m.bandwidth()/2).attr("text-anchor","end").attr("dominant-baseline","middle").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label);const _=Oi(p).tickFormat($=>`${$}`).ticks(5);d.append("g").attr("class","x-axis").attr("transform",`translate(0, ${f})`).call(_).selectAll("text").attr("font-size","12px").attr("fill","#374151"),d.append("text").attr("x",l/2).attr("y",f+50).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text(`Percentage of SRs (%), N=${w}`),u.append("text").attr("transform","rotate(-90)").attr("x",-i/2).attr("y",20).attr("text-anchor","middle").attr("font-size","14px").attr("font-weight","500").attr("fill","#374151").text("Items of AMSTAR-2");const A=u.append("g").attr("class","legend").attr("transform",`translate(${r-s.right+20}, ${s.top+20})`),R=[{key:"yes",label:"Yes"},{key:"partial yes",label:"Partial Yes"},{key:"no",label:"No"},{key:"no ma",label:"No MA"}],T=A.selectAll(".legend-item").data(R).enter().append("g").attr("class","legend-item").attr("transform",($,x)=>`translate(0, ${x*25})`);T.append("rect").attr("x",0).attr("y",-8).attr("width",16).attr("height",16).attr("rx",2).attr("fill",$=>o[$.key]).attr("stroke","#ffffff").attr("stroke-width",1),T.append("text").attr("x",24).attr("y",0).attr("dy","0.35em").attr("font-size","13px").attr("font-weight","500").attr("fill","#374151").text($=>$.label),dt(()=>{u.selectAll("*").remove()})}),(()=>{var u=Mo(),h=u.firstChild,g=t;return typeof g=="function"?Rn(g,h):t=h,E(w=>Dt(h,`width: 100%; height: ${c}px; max-width: 100%; display: block;`,w)),u})()}var Eo=Y("<div class=p-8>No project selected."),Ro=Y('<div class=p-8><h2 class="text-2xl font-bold mb-4"> Dashboard</h2><div class="mb-4 text-gray-600">Created: </div><div class=mb-6><strong>Total Checklists:</strong> </div><div><h3 class="text-xl font-semibold mb-2">Checklists</h3><ul class="list-disc pl-6">'),To=Y("<li>");function Po({project:e}){if(!e)return Eo();let t=[{label:"Review 1",questions:["yes","partial yes","no","no ma","yes","yes","partial yes","no","yes","partial yes","no","no ma","yes","partial yes","no","invalid"]},{label:"Review 2",questions:["partial yes","partial yes","yes","no","yes","no","partial yes","yes","no","partial yes","yes","no","yes","partial yes","no","yes"]},{label:"Review 3",questions:["yes","yes","partial yes","no","no ma","yes","partial yes","no","yes","partial yes","no","no ma","yes","partial yes","no","yes"]},{label:"Review 4",questions:["no","no","no ma","partial yes","yes","yes","partial yes","no","yes","partial yes","no","no ma","yes","partial yes","no","yes"]},{label:"Review 5",questions:["partial yes","yes","yes","yes","partial yes","no","no ma","yes","partial yes","no","yes","partial yes","no","no ma","yes","yes"]},{label:"Review 6",questions:["no ma","no","partial yes","yes","yes","partial yes","no","yes","partial yes","no","yes","partial yes","no","no ma","yes","yes"]}];return(()=>{var n=Ro(),r=n.firstChild,i=r.firstChild,a=r.nextSibling;a.firstChild;var s=a.nextSibling,l=s.firstChild;l.nextSibling;var f=s.nextSibling,c=f.firstChild,o=c.nextSibling;return y(r,()=>e.name,i),y(a,()=>new Date(e.createdAt).toLocaleDateString(),null),y(s,()=>e.checklists?.length||0,null),y(o,()=>(e.checklists||[]).map(u=>(()=>{var h=To();return y(h,()=>u.title||u.name||u.id),E(()=>P(h,"key",u.id)),h})())),y(n,D(So,{data:t,width:900,height:600}),null),y(n,D(qo,{data:t,width:900,height:600}),null),n})()}var Do=Y('<button class="fixed top-4 left-4 z-40 bg-white/90 backdrop-blur-sm text-slate-700 p-3 rounded-xl shadow-lg border border-slate-200 hover:bg-white hover:shadow-xl transition-all duration-200 group"aria-label="Open menu"><svg class="w-5 h-5 transition-transform group-hover:scale-110"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h16">'),Yo=Y('<div class="sm:hidden fixed inset-0 bg-black/50 z-20 transition-opacity duration-300">'),Lo=Y('<div class="flex-1 h-screen overflow-y-auto">'),Oo=Y('<div class="flex-1 h-screen overflow-y-auto"><div class="p-4 border-b border-gray-100"><input type=file accept=application/pdf>'),Fo=Y('<div class="h-full border-l border-gray-200 bg-white flex flex-col"><iframe class="w-full h-full"title="PDF Viewer"style=min-width:300px>'),Bo=Y('<div class="flex h-screen"><div>'),zo=Y('<div class="p-8 text-center text-gray-600">No checklist selected.');function Vo(){const[e,t]=H([]),[n,r]=H(null),[i,a]=H(null),[s,l]=H(!1),[f,c]=H(!1),[o,u]=H(!1),[h,g]=H(null),[w,m]=H(null),[p,d]=H(null),[_,A]=H([]);let R=null;Tt(async()=>{try{const S=await bt();S.sort((q,L)=>(q.createdAt||0)-(L.createdAt||0)),t(S),r(S.length>0?S[0].id:null);const M=await ni();console.log("All Projects:",M),M.sort((q,L)=>(q.createdAt||0)-(L.createdAt||0)),A(M)}catch(S){console.error("Error loading checklists:",S)}}),Ue(()=>{const S=e().find(M=>M.id===n());console.log(S),a(S?new be(S):null)}),Ue(()=>{const S=i();!S||!S.state||(R&&(clearTimeout(R),R=null),R=setTimeout(async()=>{try{const M=S.state;await vt(JSON.parse(JSON.stringify(M))),t(q=>{const L=q.findIndex(F=>F.id===M.id);if(L===-1){const F=[...q,M];return F.sort((Z,he)=>(Z.createdAt||0)-(he.createdAt||0)),F}else if(JSON.stringify(q[L])!==JSON.stringify(M)){const F=[...q];return F[L]=M,F}return q}),r(q=>q||M.id)}catch(M){console.error("Error saving checklist:",M)}R=null},400))}),dt(()=>{R&&clearTimeout(R)});const T=()=>{c(!0)},$=async()=>{try{await ti(),t([]),r(null),a(null),alert("All checklists deleted!")}catch(S){console.error("Error removing all checklists:",S),alert("Error deleting checklists!")}finally{c(!1)}},x=()=>c(!1),v=async()=>{try{const S={...new be({id:Kt(),createdAt:Date.now()}).state};await vt(S);const M=await bt();M.sort((q,L)=>(q.createdAt||0)-(L.createdAt||0)),t(M),r(S.id)}catch(S){console.error("Error adding new checklist:",S)}},k=S=>{r(S),d(null)},C=S=>{const M=new be(S);a(M),t(q=>{const L=q.findIndex(F=>F.id===M.state.id);if(L!==-1){const F=[...q];return F[L]={...F[L],...M.state},F}return q})},b=S=>{g(S),u(!0)},N=async()=>{const S=h();if(S)try{await ei(S);const M=e().filter(q=>q.id!==S);t(M),n()===S&&(M.length>0?r(M[0].id):(r(null),a(null)))}catch(M){console.error("Error deleting checklist:",M),alert("Error deleting checklist!")}finally{u(!1),g(null)}},O=()=>{u(!1),g(null)},W=S=>{d(S)},ce=()=>{const S=i();if(!(!S||!S.state))try{ri(S)}catch(M){console.error("Error exporting checklist:",M),alert("Error exporting checklist!")}},oe=async S=>{const M=S.target.files[0];if(M)try{const q=await M.text(),L=ii(q),F=new be;F.importFlat(L),L.title&&(F.state.title=L.title);const Z={id:Kt(),createdAt:Date.now(),...F.state};await vt(Z);const he=await bt();he.sort((mr,yr)=>(mr.createdAt||0)-(yr.createdAt||0)),t(he),r(Z.id)}catch(q){console.error("Error importing checklist:",q),alert("Error importing checklist!")}finally{S.target.value=""}};return(()=>{var S=Bo(),M=S.firstChild;return y(M,D(gi,{get open(){return s()},onClose:()=>l(!1),onAddChecklist:v,onDeleteAll:T,onDeleteChecklist:b,onExportCSV:ce,onImportCSV:oe,get checklists(){return e()},get projects(){return _()},get currentId(){return n()},get currentChecklistState(){return i()},onSelectChecklist:k,onSelectProject:W})),y(S,D(se,{get when(){return!s()},get children(){var q=Do();return q.$$click=()=>l(!0),q}}),null),y(S,D(se,{get when(){return s()},get children(){var q=Yo();return q.$$click=()=>l(!1),q}}),null),y(S,D(se,{get when(){return p()},get children(){var q=Lo();return y(q,D(Po,{get project(){return p()}})),q}}),null),y(S,D(se,{get when(){return!p()},get children(){return D(se,{get when(){return En(()=>!!i())()&&i().state},get fallback(){return zo()},get children(){var q=Oo(),L=q.firstChild,F=L.firstChild;return F.addEventListener("change",Z=>{const he=Z.target.files[0];he&&m(URL.createObjectURL(he))}),y(q,D(Zr,{checklistState:i,onChecklistChange:C}),null),q}})}}),null),y(S,D(se,{get when(){return w()},get children(){return D(pi,{direction:"horizontal",min:250,max:1600,initial:500,position:"left",get children(){var q=Fo(),L=q.firstChild;return E(()=>P(L,"src",w())),q}})}}),null),y(S,D(Wt,{get open(){return o()},title:"Delete checklist?",get description(){return`Are you sure you want to delete ${e().find(q=>q.id===h()).title}? This action cannot be undone.`},confirmText:"Delete",onCancel:O,onConfirm:N}),null),y(S,D(Wt,{get open(){return f()},title:"Delete all checklists?",description:"Are you sure you want to delete all saved checklists? This action cannot be undone.",confirmText:"Delete all",onCancel:x,onConfirm:$}),null),S})()}Le(["click"]);Mr(()=>D(Vo,{}),document.getElementById("root"));
